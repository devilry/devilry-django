!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([/*!**********************!*\
  !*** ./app/entry.js ***!
  \**********************/
function(e,t,i){i(/*! ../../../../devilry_extjsextras/extjs_sources/ext-all.js */3),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/RouteNotFound.js */27),i(/*! ./utils/UrlLookup.js */124),i(/*! ../../../../devilry_header/static/devilry_header/app/Breadcrumbs.js */38),i(/*! ../../../../devilry_authenticateduserinfo/static/devilry_authenticateduserinfo/UserInfoModel.js */2),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/MarkupMoreInfoBox.js */19),i(/*! ./utils/BasenodeBreadcrumbMixin.js */119),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/DatetimeHelpers.js */11),i(/*! ./utils/LoadAssignmentMixin.js */123),i(/*! ./utils/AutoGenShortname.js */117),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/form/ErrorUtils.js */34),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/EvenRandomSelection.js */14),i(/*! ./controller/guides/Base.js */59),i(/*! ./view/guides/QualifiedForFinalExams.js */171),i(/*! ./view/guides/CreateNewAssignment.js */170),i(/*! ./view/guidesystem/Pointer.js */174),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/ProxyErrorHandler.js */25),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/PrimaryButton.js */24),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/form/Help.js */35),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/CancelButton.js */7),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/DeleteButton.js */12),i(/*! ./view/allwhereisadmin/AllWhereIsAdminList.js */136),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/OkButton.js */22),i(/*! ./store/GroupByExaminerGrouper.js */101),i(/*! ./utils/Array.js */116),i(/*! ./view/managestudents/DynamicLoadMenu.js */180),i(/*! ./view/managestudents/SortByButton.js */204),i(/*! ./view/managestudents/DeliveryPanel.js */179),i(/*! ./view/managestudents/SelectedGroupsMenu.js */200),i(/*! ../../../../devilry_usersearch/static/devilry_usersearch/UserSearchModel.js */228),i(/*! ../../../../devilry_header/static/devilry_header/app/Header2.js */39),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/Router.js */28),i(/*! ./utils/Breadcrumbs.js */120),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/AlertMessage.js */4),i(/*! ../../../../devilry_authenticateduserinfo/static/devilry_authenticateduserinfo/UserInfo.js */1),i(/*! ./controller/guides/QualifiedForFinalExams.js */61),i(/*! ./controller/guides/CreateNewAssignment.js */60),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/AlertMessageList.js */5),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/FloatingAlertmessageList.js */15),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/RestfulApiProxyErrorHandler.js */26),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/NextButton.js */21),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/DjangoRestframeworkProxyErrorHandler.js */13),i(/*! ./utils/DjangoRestframeworkLoadFailureMixin.js */121),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/ConfirmDeleteDialog.js */8),i(/*! ./view/allwhereisadmin/AllWhereIsAdminPanel.js */137),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/HtmlErrorDialog.js */18),i(/*! ./utils/DjangoRestframeworkProxyErrorMixin.js */122),i(/*! ./utils/managestudents/MergeDataIntoGroup.js */125),i(/*! ./controller/RelatedUsersBase.js */53),i(/*! ./model/AllWhereIsAdmin.js */74),i(/*! ./store/AllWhereIsAdmin.js */97),i(/*! ./controller/AllWhereIsAdmin.js */42),i(/*! ./store/LoadStoreWithAutomaticErrorHandlingMixin.js */103),i(/*! ./view/managestudents/DeadlinePanel.js */177),i(/*! ./view/managestudents/DeadlinesContainer.js */178),i(/*! ./view/managestudents/SelectedGroupsButton.js */199),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/form/DateField.js */32),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/GridBigButtonCheckboxModel.js */16),i(/*! ./view/examinerstats/SingleExaminerStatBox.js */169),i(/*! ../../../../devilry_usersearch/static/devilry_usersearch/UserSearchStore.js */229),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/form/TimeFieldPicker.js */37),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/form/TimeField.js */36),i(/*! ../../../../devilry_usersearch/static/devilry_usersearch/AutocompleteUserWidget.js */226),i(/*! ./view/managestudents/AutocompleteGroupWidget.js */175),i(/*! ./view/managestudents/SelectGroupsBySearchWidget.js */198),i(/*! ./view/managestudents/GridOfGroupsBase.js */183),i(/*! ./view/managestudents/ListOfGroups.js */186),i(/*! ./view/managestudents/NoGroupSelectedView.js */196),i(/*! ./view/guidesystem/GuideView.js */173),i(/*! ./view/subject/ListAll.js */221),i(/*! ./view/guidesystem/GuideList.js */172),i(/*! ./model/Period.js */85),i(/*! ./view/period/ListOfAssignments.js */214),i(/*! ./model/Subject.js */92),i(/*! ./model/Assignment.js */75),i(/*! ./store/Assignments.js */98),i(/*! ./view/subject/ListOfPeriods.js */222),i(/*! ./store/Periods.js */105),i(/*! ./view/DeleteDjangoRestframeworkRecordDialog.js */128),i(/*! ./model/CreateNewAssignment.js */77),i(/*! ./view/createnewassignment/CreateNewAssignment.js */154),i(/*! ./view/addgroups/Overview.js */135),i(/*! ./view/addgroups/AllowDuplicatesCheckbox.js */134),i(/*! ./model/DetailedPeriodOverview.js */79),i(/*! ./model/MergeIntoGroup.js */83),i(/*! ./view/managestudents/SelectedGroupsSummaryGrid.js */201),i(/*! ./model/Candidate.js */76),i(/*! ./model/Examiner.js */80),i(/*! ./model/Tag.js */93),i(/*! ./model/AggregatedGroupInfo.js */71),i(/*! ./model/PopFromGroup.js */86),i(/*! ./store/SingleGroupCandidates.js */112),i(/*! ./model/Group.js */82),i(/*! ./store/SingleGroupExaminers.js */113),i(/*! ./store/SingleGroupTags.js */114),i(/*! ./model/AllActiveWhereIsAdmin.js */73),i(/*! ./store/AbstractRelatedUsers.js */94),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/SingleActionBox.js */30),i(/*! ./view/managestudents/ExaminersHelp.js */181),i(/*! ./view/managestudents/HelpPanel.js */185),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/SaveButton.js */29),i(/*! ./utils/BaseNodeHelp.js */118),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/OkCancelPanel.js */23),i(/*! ./view/dashboard/AllActiveWhereIsAdminList.js */158),i(/*! ./model/AggregatedRelatedStudentInfo.js */72),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/ContainerWithEditTitle.js */9),i(/*! ./model/PassedPreviousPeriodItem.js */84),i(/*! ./model/DeadlineBulk.js */78),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/form/DateTimeField.js */33),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/GridMultiSelectModel.js */17),i(/*! ./view/managestudents/TagsHelp.js */206),i(/*! ./view/bulkmanagedeadlines/GroupsInDeadlineGrid.js */152),i(/*! ./view/managestudents/GroupHelp.js */184),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/CreateButton.js */10),i(/*! ./view/createnewassignment/SelectSingleAssignment.js */156),i(/*! ./view/relatedstudents/SelectUserPanel.js */220),i(/*! ./view/relatedexaminers/Grid.js */216),i(/*! ../../../../devilry_usersearch/static/devilry_usersearch/ManageUsersGridModel.js */227),i(/*! ./view/managestudents/ChooseTagsPanel.js */176),i(/*! ./model/ExaminerStat.js */81),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/MoreInfoBox.js */20),i(/*! ./view/managestudents/SingleMetaInfo.js */203),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/UnfocusedContainer.js */31),i(/*! ../../../../devilry_extjsextras/static/devilry_extjsextras/AutoSizedWindow.js */6),i(/*! ./view/detailedperiodoverview/ExportPeriodOverviewMenu.js */161),i(/*! ./view/bulkmanagedeadlines/GroupsInDeadlineSelectGrid.js */153),i(/*! ./view/passedpreviousperiod/GridBase.js */209),i(/*! ./view/managestudents/TagsInGroupGrid.js */207),i(/*! ./view/managestudents/ExaminersInGroupGrid.js */182),i(/*! ../../../../devilry_theme/static/devilry_theme/Icons.js */224),i(/*! ./view/bulkmanagedeadlines/AllGroupsInAssignmentGrid.js */146),i(/*! ./view/detailedperiodoverview/PeriodOverviewIgnoredMenu.js */164),i(/*! ../../../../devilry_usersearch/static/devilry_usersearch/AbstractManageUsersPanel.js */225),i(/*! ./controller/managestudents/NoGroupSelectedViewPlugin.js */64),i(/*! ./controller/GuideSystem.js */49),i(/*! ./store/Groups.js */102),i(/*! ./controller/managestudents/Select.js */65),i(/*! ./store/Subjects.js */115),i(/*! ./controller/subject/ListAll.js */69),i(/*! ./store/SearchForGroups.js */110),i(/*! ./store/AllActivesWhereIsAdmin.js */96),i(/*! ./view/period/EditDurationPanel.js */212),i(/*! ./view/RenameBasenodeWindow.js */131),i(/*! ./view/period/EditDurationWidget.js */213),i(/*! ./controller/period/EditDuration.js */67),i(/*! ./view/dashboard/Dashboard.js */159),i(/*! ./controller/Dashboard.js */46),i(/*! ./view/assignment/EditPublishingTimePanel.js */143),i(/*! ./view/assignment/EditPublishingTimeWidget.js */144),i(/*! ./controller/assignment/EditPublishingTime.js */58),i(/*! ./view/assignment/EditAnonymousPanel.js */139),i(/*! ./view/createnewperiod/CreateNewPeriod.js */157),i(/*! ./controller/CreateNewPeriod.js */45),i(/*! ./view/assignment/EditDeadlineHandlingPanel.js */141),i(/*! ./view/assignment/EditDeadlineHandlingWidget.js */142),i(/*! ./controller/assignment/EditDeadlineHandling.js */56),i(/*! ./view/assignment/EditAnonymousWidget.js */140),i(/*! ./controller/assignment/EditAnonymous.js */55),i(/*! ./store/AggregatedRelatedStudentInfos.js */95),i(/*! ./view/addgroups/AllIgnoredHelp.js */133),i(/*! ./store/DeadlinesBulk.js */99),i(/*! ./store/PassedPreviousPeriodItems.js */104),i(/*! ./view/addgroups/AddGroups.js */132),i(/*! ./store/SelectedGroups.js */111),i(/*! ./view/relatedexaminers/Overview.js */217),i(/*! ./view/managestudents/SelectExaminersGrid.js */197),i(/*! ./store/ExaminerStats.js */100),i(/*! ./view/assignment/GradeEditorSelectWidget.js */145),i(/*! ./controller/assignment/EditGradeEditor.js */57),i(/*! ./view/EditSidebarContainer.js */129),i(/*! ./view/DangerousActions.js */127),i(/*! ./view/managestudents/MultiDangerousActions.js */194),i(/*! ./view/managestudents/ManageTagsOnMultiple.js */191),i(/*! ./view/managestudents/MergeGroups.js */193),i(/*! ./view/passedpreviousperiod/SelectGroupsGrid.js */211),i(/*! ./view/managestudents/ManageExaminersOnMultiple.js */187),i(/*! ./view/managestudents/MultipleGroupsSelectedView.js */195),i(/*! ./controller/managestudents/MultipleGroupsSelectedViewPlugin.js */63),i(/*! ./view/managestudents/ManageTagsOnSingle.js */192),i(/*! ./view/managestudents/ManageExaminersOnSingle.js */188),i(/*! ./view/ManageAdminsPanel.js */130),i(/*! ./view/AdminsBox.js */126),i(/*! ./view/subject/SubjectOverview.js */223),i(/*! ./controller/subject/SubjectController.js */70),i(/*! ./view/period/PeriodOverview.js */215),i(/*! ./view/assignment/AssignmentOverview.js */138),i(/*! ./controller/assignment/AssignmentController.js */54),i(/*! ./view/managestudents/StudentsInGroupGrid.js */205),i(/*! ./view/managestudents/ManageStudentsOnSingle.js */189),i(/*! ./view/managestudents/SingleGroupSelectedView.js */202),i(/*! ./controller/managestudents/SingleGroupSelectedViewPlugin.js */66),i(/*! ./view/managestudents/ManageStudentsOverview.js */190),i(/*! ./view/detailedperiodoverview/PeriodOverviewGridBase.js */163),i(/*! ./view/detailedperiodoverview/PeriodOverviewGrid.js */162),i(/*! ./view/detailedperiodoverview/DetailedPeriodOverview.js */160),i(/*! ./controller/DetailedPeriodOverviewController.js */47),i(/*! ./view/createnewassignment/Form.js */155),i(/*! ./controller/CreateNewAssignment.js */44),i(/*! ./view/bulkmanagedeadlines/BaseDeadlineForm.js */147),i(/*! ./view/bulkmanagedeadlines/CreateDeadlineForm.js */149);i(/*! ./view/bulkmanagedeadlines/BulkManageDeadlinesPanel.js */148);i(/*! ./view/bulkmanagedeadlines/EditDeadlineForm.js */151),i(/*! ./view/bulkmanagedeadlines/DeadlinePanel.js */150),i(/*! ./controller/BulkManageDeadlines.js */43),i(/*! ./view/passedpreviousperiod/ConfirmGroupsGrid.js */208),i(/*! ./view/passedpreviousperiod/PassedPreviousPeriodOverview.js */210),i(/*! ./controller/PassedPreviousPeriodController.js */50),i(/*! ./view/relatedstudents/Grid.js */218),i(/*! ./view/relatedstudents/Overview.js */219),i(/*! ./view/examinerstats/AveragePointsChart.js */165),i(/*! ./view/examinerstats/AverageWordsChart.js */166),i(/*! ./view/examinerstats/PassedGroupsChart.js */168),i(/*! ./view/examinerstats/ExaminerStatsOverview.js */167),i(/*! ./controller/ExaminerStatsController.js */48),i(/*! ./model/RelatedUserBase.js */91),i(/*! ./model/RelatedExaminer.js */87),i(/*! ./store/RelatedExaminers.js */106),i(/*! ./controller/RelatedExaminers.js */51),i(/*! ./model/RelatedExaminerRo.js */88),i(/*! ./store/RelatedExaminersRo.js */107),i(/*! ./model/RelatedStudent.js */89),i(/*! ./store/RelatedStudents.js */108),i(/*! ./controller/period/PeriodController.js */68),i(/*! ./controller/RelatedStudents.js */52),i(/*! ./model/RelatedStudentRo.js */90),i(/*! ./store/RelatedStudentsRo.js */109),i(/*! ./controller/managestudents/ManageStudentsController.js */62),i(/*! ./controller/AddGroups.js */41),i(/*! ../app.js */40)},/*!************************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_authenticateduserinfo/static/devilry_authenticateduserinfo/UserInfo.js ***!
  \************************************************************************************************************************************/
function(e,t){Ext.define("devilry_authenticateduserinfo.UserInfo",{singleton:!0,requires:["devilry_authenticateduserinfo.UserInfoModel"],waitingForLoad:[],userInfoRecord:null,load:function(e,t){if(this.userInfoRecord)Ext.callback(e,t,[this.userInfoRecord]);else{if(e&&this.waitingForLoad.push({fn:e,scope:t}),this.loading)return;this.loading=!0,devilry_authenticateduserinfo.UserInfoModel.load(null,{scope:this,success:function(e){this.userInfoRecord=e,this.loading=!1,this._handleWaiting()},failure:this._onFailure})}},_handleWaiting:function(){Ext.Array.each(this.waitingForLoad,function(e){Ext.callback(e.fn,e.scope,[this.userInfoRecord])},this),this.waitingForLoad=[]},_onFailure:function(e,t){this.loading=!1,Ext.MessageBox.show({title:gettext("Error"),msg:gettext("Failed to load infomation about the authenticated user. Try to reload the page."),icon:Ext.MessageBox.ERROR})}})},/*!*****************************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_authenticateduserinfo/static/devilry_authenticateduserinfo/UserInfoModel.js ***!
  \*****************************************************************************************************************************************/
function(e,t){Ext.define("devilry_authenticateduserinfo.UserInfoModel",{extend:"Ext.data.Model",idProperty:"id",fields:[{name:"id",type:"int"},{name:"username",type:"string"},{name:"full_name",type:"string"},{name:"email",type:"string"},{name:"languagecode",type:"string"},{name:"is_superuser",type:"bool"},{name:"is_nodeadmin",type:"bool"},{name:"is_subjectadmin",type:"bool"},{name:"is_periodadmin",type:"bool"},{name:"is_assignmentadmin",type:"bool"},{name:"is_student",type:"bool"},{name:"is_examiner",type:"bool"}],proxy:{type:"ajax",url:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_authenticateduserinfo/userinfo",extraParams:{format:"json"},reader:{type:"json"}},hasAnyRoles:function(){return this.get("is_superuser")||this.get("is_nodeadmin")||this.get("is_subjectadmin")||this.get("is_periodadmin")||this.get("is_assignmentadmin")||this.get("is_student")||this.get("is_examiner")},isAdmin:function(){return this.get("is_superuser")||this.get("is_nodeadmin")||this.isSubjectPeriodOrAssignmentAdmin()},isSubjectPeriodOrAssignmentAdmin:function(){return this.get("is_subjectadmin")||this.get("is_periodadmin")||this.get("is_assignmentadmin")},getDisplayName:function(){return this.get("full_name")||this.get("username")}})},/*!**************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/extjs_sources/ext-all.js ***!
  \**************************************************************************************************/
function(module,exports){var Ext=Ext||{};Ext._startTime=(new Date).getTime(),function(){var e,t=this,i=Object.prototype,n=i.toString,r=!0,o={toString:1},a=function(){},s=function(){var e=s.caller.caller;return e.$owner.prototype[e.$name].apply(this,arguments)};Ext.global=t;for(e in o)r=null;r&&(r=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]),Ext.enumerables=r,Ext.apply=function(e,t,i){if(i&&Ext.apply(e,i),e&&t&&"object"==typeof t){var n,o,a;for(n in t)e[n]=t[n];if(r)for(o=r.length;o--;)a=r[o],t.hasOwnProperty(a)&&(e[a]=t[a])}return e},Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-",scopeResetCSS:!1},Ext.buildSettings||{}),Ext.apply(Ext,{name:Ext.sandboxName||"Ext",emptyFn:a,emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(e,t){var i;if(e)for(i in t)void 0===e[i]&&(e[i]=t[i]);return e},iterate:function(e,t,i){Ext.isEmpty(e)||(void 0===i&&(i=e),Ext.isIterable(e)?Ext.Array.each.call(Ext.Array,e,t,i):Ext.Object.each.call(Ext.Object,e,t,i))}}),Ext.apply(Ext,{extend:function(){var e=i.constructor,t=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])};return function(i,n,r){Ext.isObject(n)&&(r=n,n=i,i=r.constructor!==e?r.constructor:function(){n.apply(this,arguments)});var o,a=function(){},s=n.prototype;return a.prototype=s,o=i.prototype=new a,o.constructor=i,i.superclass=s,s.constructor===e&&(s.constructor=n),i.override=function(e){Ext.override(i,e)},o.override=t,o.proto=o,i.override(r),i.extend=function(e){return Ext.extend(i,e)},i}}(),override:function(e,t){if(e.$isClass)e.override(t);else if("function"==typeof e)Ext.apply(e.prototype,t);else{var i,n,r=e.self;if(r&&r.$isClass)for(i in t)t.hasOwnProperty(i)&&(n=t[i],"function"==typeof n&&(n.$name=i,n.$owner=r,n.$previous=e.hasOwnProperty(i)?e[i]:s),e[i]=n);else Ext.apply(e,t)}return e}}),Ext.apply(Ext,{valueFrom:function(e,t,i){return Ext.isEmpty(e,i)?t:e},typeOf:function(e){var t,i;if(null===e)return"null";if(t=typeof e,"undefined"===t||"string"===t||"number"===t||"boolean"===t)return t;switch(i=n.call(e)){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object RegExp]":return"regexp"}return"function"===t?"function":"object"===t?void 0!==e.nodeType?3===e.nodeType?/\S/.test(e.nodeValue)?"textnode":"whitespace":"element":"object":void 0},isEmpty:function(e,t){return null===e||void 0===e||!t&&""===e||Ext.isArray(e)&&0===e.length},isArray:"isArray"in Array?Array.isArray:function(e){return"[object Array]"===n.call(e)},isDate:function(e){return"[object Date]"===n.call(e)},isObject:"[object Object]"===n.call(null)?function(e){return null!==e&&void 0!==e&&"[object Object]"===n.call(e)&&void 0===e.ownerDocument}:function(e){return"[object Object]"===n.call(e)},isSimpleObject:function(e){return e instanceof Object&&e.constructor===Object},isPrimitive:function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},isFunction:"undefined"!=typeof document&&"function"==typeof document.getElementsByTagName("body")?function(e){return"[object Function]"===n.call(e)}:function(e){return"function"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isString:function(e){return"string"==typeof e},isBoolean:function(e){return"boolean"==typeof e},isElement:function(e){return!!e&&1===e.nodeType},isTextNode:function(e){return!!e&&"#text"===e.nodeName},isDefined:function(e){return"undefined"!=typeof e},isIterable:function(e){var t=typeof e,i=!1;return e&&"string"!=t&&("function"==t?Ext.isSafari&&(i=e instanceof NodeList||e instanceof HTMLCollection):i=!0),!!i&&void 0!==e.length}}),Ext.apply(Ext,{clone:function(e){var t,i,o,a,s,l;if(null===e||void 0===e)return e;if(e.nodeType&&e.cloneNode)return e.cloneNode(!0);if(t=n.call(e),"[object Date]"===t)return new Date(e.getTime());if("[object Array]"===t)for(i=e.length,s=[];i--;)s[i]=Ext.clone(e[i]);else if("[object Object]"===t&&e.constructor===Object){s={};for(l in e)s[l]=Ext.clone(e[l]);if(r)for(o=r.length;o--;)a=r[o],s[a]=e[a]}return s||e},getUniqueGlobalNamespace:function(){var e,t=this.uniqueGlobalNamespace;if(void 0===t){e=0;do t="ExtBox"+ ++e;while(void 0!==Ext.global[t]);Ext.global[t]=Ext,this.uniqueGlobalNamespace=t}return t},functionFactoryCache:{},cacheableFunctionFactory:function(){var e,t,i,n=this,r=Array.prototype.slice.call(arguments),o=n.functionFactoryCache;return Ext.isSandboxed&&(i=r.length,i>0&&(i--,r[i]="var Ext=window."+Ext.name+";"+r[i])),e=r.join(""),t=o[e],t||(t=Function.prototype.constructor.apply(Function.prototype,r),o[e]=t),t},functionFactory:function(){var e,t=Array.prototype.slice.call(arguments);return Ext.isSandboxed&&(e=t.length,e>0&&(e--,t[e]="var Ext=window."+Ext.name+";"+t[e])),Function.prototype.constructor.apply(Function.prototype,t)},Logger:{verbose:a,log:a,info:a,warn:a,error:function(e){throw new Error(e)},deprecate:a}}),Ext.type=Ext.typeOf}(),Ext.globalEval=Ext.global.execScript?function(e){execScript(e)}:function($$code){!function(){eval($$code)}()},function(){var e,t="4.1.1";Ext.Version=e=Ext.extend(Object,{constructor:function(t){var i,n;return t instanceof e?t:(this.version=this.shortVersion=String(t).toLowerCase().replace(/_/g,".").replace(/[\-+]/g,""),n=this.version.search(/([^\d\.])/),n!==-1&&(this.release=this.version.substr(n,t.length),this.shortVersion=this.version.substr(0,n)),this.shortVersion=this.shortVersion.replace(/[^\d]/g,""),i=this.version.split("."),this.major=parseInt(i.shift()||0,10),this.minor=parseInt(i.shift()||0,10),this.patch=parseInt(i.shift()||0,10),this.build=parseInt(i.shift()||0,10),this)},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major||0},getMinor:function(){return this.minor||0},getPatch:function(){return this.patch||0},getBuild:function(){return this.build||0},getRelease:function(){return this.release||""},isGreaterThan:function(t){return 1===e.compare(this.version,t)},isGreaterThanOrEqual:function(t){return e.compare(this.version,t)>=0},isLessThan:function(t){return e.compare(this.version,t)===-1},isLessThanOrEqual:function(t){return e.compare(this.version,t)<=0},equals:function(t){return 0===e.compare(this.version,t)},match:function(e){return e=String(e),this.version.substr(0,e.length)===e},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(){return this.isGreaterThan.apply(this,arguments)},lt:function(){return this.isLessThan.apply(this,arguments)},gtEq:function(){return this.isGreaterThanOrEqual.apply(this,arguments)},ltEq:function(){return this.isLessThanOrEqual.apply(this,arguments)}}),Ext.apply(e,{releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(e){return e?isNaN(e)?this.releaseValueMap[e]||e:parseInt(e,10):0},compare:function(t,i){var n,r,o;for(t=new e(t).toArray(),i=new e(i).toArray(),o=0;o<Math.max(t.length,i.length);o++){if(n=this.getComponentValue(t[o]),r=this.getComponentValue(i[o]),n<r)return-1;if(n>r)return 1}return 0}}),Ext.apply(Ext,{versions:{},lastRegisteredVersion:null,setVersion:function(t,i){return Ext.versions[t]=new e(i),Ext.lastRegisteredVersion=Ext.versions[t],this},getVersion:function(e){return void 0===e?Ext.lastRegisteredVersion:Ext.versions[e]},deprecate:function(t,i,n,r){e.compare(Ext.getVersion(t),i)<1&&n.call(r)}}),Ext.setVersion("core",t)}(),Ext.String=function(){var e,t,i,n,r=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,o=/('|\\)/g,a=/\{(\d+)\}/g,s=/([-.*+?\^${}()|\[\]\/\\])/g,l=/^\s+|\s+$/g,d=/\s+/,u=/(^[^a-z]*|[^\w])/gi,c=function(t,i){return e[i]},h=function(e,i){return i in t?t[i]:String.fromCharCode(parseInt(i.substr(2),10))};return{createVarName:function(e){return e.replace(u,"")},htmlEncode:function(e){return e?String(e).replace(i,c):e},htmlDecode:function(e){return e?String(e).replace(n,h):e},addCharacterEntities:function(r){var o,a,s=[],l=[];for(o in r)a=r[o],t[o]=a,e[a]=o,s.push(a),l.push(o);i=new RegExp("("+s.join("|")+")","g"),n=new RegExp("("+l.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){e={},t={},this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(e,t){return Ext.isEmpty(t)?e:e+(e.indexOf("?")===-1?"?":"&")+t},trim:function(e){return e.replace(r,"")},capitalize:function(e){return e.charAt(0).toUpperCase()+e.substr(1)},uncapitalize:function(e){return e.charAt(0).toLowerCase()+e.substr(1)},ellipsis:function(e,t,i){if(e&&e.length>t){if(i){var n=e.substr(0,t-2),r=Math.max(n.lastIndexOf(" "),n.lastIndexOf("."),n.lastIndexOf("!"),n.lastIndexOf("?"));if(r!==-1&&r>=t-15)return n.substr(0,r)+"..."}return e.substr(0,t-3)+"..."}return e},escapeRegex:function(e){return e.replace(s,"\\$1")},escape:function(e){return e.replace(o,"\\$1")},toggle:function(e,t,i){return e===t?i:t},leftPad:function(e,t,i){var n=String(e);for(i=i||" ";n.length<t;)n=i+n;return n},format:function(e){var t=Ext.Array.toArray(arguments,1);return e.replace(a,function(e,i){return t[i]})},repeat:function(e,t,i){for(var n=[],r=t;r--;)n.push(e);return n.join(i||"")},splitWords:function(e){return e&&"string"==typeof e?e.replace(l,"").split(d):e||[]}}}(),Ext.String.resetCharacterEntities(),Ext.htmlEncode=Ext.String.htmlEncode,Ext.htmlDecode=Ext.String.htmlDecode,Ext.urlAppend=Ext.String.urlAppend,Ext.Number=new function(){var e=this,t="1"!==.9.toFixed(),i=Math;Ext.apply(this,{constrain:function(e,t,i){var n=parseFloat(e);return n<t?t:n>i?i:n},snap:function(t,i,n,r){var o;return void 0===t||t<n?n||0:(i&&(o=t%i,0!==o&&(t-=o,2*o>=i?t+=i:2*o<-i&&(t-=i))),e.constrain(t,n,r))},snapInRange:function(t,i,n,r){var o;return n=n||0,void 0===t||t<n?n:(i&&(o=(t-n)%i)&&(t-=o,o*=2,o>=i&&(t+=i)),void 0!==r&&t>(r=e.snapInRange(r,i,n))&&(t=r),t)},toFixed:t?function(e,t){t=t||0;var n=i.pow(10,t);return(i.round(e*n)/n).toFixed(t)}:function(e,t){return e.toFixed(t)},from:function(e,t){return isFinite(e)&&(e=parseFloat(e)),isNaN(e)?t:e},randomInt:function(e,t){return i.floor(i.random()*(t-e+1)+e)}}),Ext.num=function(){return e.from.apply(this,arguments)}},function(){function e(e,t){return t<0?Math.max(0,e.length+t):Math.min(e.length,t)}function t(t,i,n,r){var o,a,s,l,d,u,c=r?r.length:0,h=t.length,g=e(t,i);if(g===h)c&&t.push.apply(t,r);else{if(o=Math.min(n,h-g),a=g+o,s=a+c-o,l=h-a,d=h-o,s<a)for(u=0;u<l;++u)t[s+u]=t[a+u];else if(s>a)for(u=l;u--;)t[s+u]=t[a+u];if(c&&g===d)t.length=d,t.push.apply(t,r);else for(t.length=d+c,u=0;u<c;++u)t[g+u]=r[u]}return t}function i(e,t,i,n){return n&&n.length?t<e.length?e.splice.apply(e,[t,i].concat(n)):e.push.apply(e,n):e.splice(t,i),e}function n(e,i,n){return t(e,i,n)}function r(e,t,i){return e.splice(t,i),e}function o(i,n,r){var o=e(i,n),a=i.slice(n,e(i,o+r));return arguments.length<4?t(i,o,r):t(i,o,r,h.call(arguments,3)),a}function a(e){return e.splice.apply(e,h.call(arguments,1))}var s,l,d,u,c=Array.prototype,h=c.slice,g=function(){var e,t=[],i=20;if(!t.splice)return!1;for(;i--;)t.push("A");return t.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F"),e=t.length,t.splice(13,0,"XXX"),e+1==t.length}(),p="forEach"in c,f="map"in c,m="indexOf"in c,x="every"in c,y="some"in c,v="filter"in c,E=function(){var e=[1,2,3,4,5].sort(function(){return 0});return 1===e[0]&&2===e[1]&&3===e[2]&&4===e[3]&&5===e[4]}(),b=!0;try{"undefined"!=typeof document&&h.call(document.getElementsByTagName("body"))}catch(e){b=!1}l=g?r:n,d=g?i:t,u=g?a:o,s=Ext.Array={each:function(e,t,i,n){e=s.from(e);var r,o=e.length;if(n!==!0){for(r=0;r<o;r++)if(t.call(i||e[r],e[r],r,e)===!1)return r}else for(r=o-1;r>-1;r--)if(t.call(i||e[r],e[r],r,e)===!1)return r;return!0},forEach:p?function(e,t,i){return e.forEach(t,i)}:function(e,t,i){for(var n=0,r=e.length;n<r;n++)t.call(i,e[n],n,e)},indexOf:m?function(e,t,i){return e.indexOf(t,i)}:function(e,t,i){var n,r=e.length;for(n=i<0?Math.max(0,r+i):i||0;n<r;n++)if(e[n]===t)return n;return-1},contains:m?function(e,t){return e.indexOf(t)!==-1}:function(e,t){var i,n;for(i=0,n=e.length;i<n;i++)if(e[i]===t)return!0;return!1},toArray:function(e,t,i){if(!e||!e.length)return[];if("string"==typeof e&&(e=e.split("")),b)return h.call(e,t||0,i||e.length);var n,r=[];for(t=t||0,i=i?i<0?e.length+i:i:e.length,n=t;n<i;n++)r.push(e[n]);return r},pluck:function(e,t){var i,n,r,o=[];for(i=0,n=e.length;i<n;i++)r=e[i],o.push(r[t]);return o},map:f?function(e,t,i){return e.map(t,i)}:function(e,t,i){for(var n=[],r=0,o=e.length;r<o;r++)n[r]=t.call(i,e[r],r,e);return n},every:x?function(e,t,i){return e.every(t,i)}:function(e,t,i){for(var n=0,r=e.length;n<r;++n)if(!t.call(i,e[n],n,e))return!1;return!0},some:y?function(e,t,i){return e.some(t,i)}:function(e,t,i){for(var n=0,r=e.length;n<r;++n)if(t.call(i,e[n],n,e))return!0;return!1},clean:function(e){for(var t,i=[],n=0,r=e.length;n<r;n++)t=e[n],Ext.isEmpty(t)||i.push(t);return i},unique:function(e){for(var t,i=[],n=0,r=e.length;n<r;n++)t=e[n],s.indexOf(i,t)===-1&&i.push(t);return i},filter:v?function(e,t,i){return e.filter(t,i)}:function(e,t,i){for(var n=[],r=0,o=e.length;r<o;r++)t.call(i,e[r],r,e)&&n.push(e[r]);return n},from:function(e,t){if(void 0===e||null===e)return[];if(Ext.isArray(e))return t?h.call(e):e;var i=typeof e;return!e||void 0===e.length||"string"===i||"function"===i&&e.apply?[e]:s.toArray(e)},remove:function(e,t){var i=s.indexOf(e,t);return i!==-1&&l(e,i,1),e},include:function(e,t){s.contains(e,t)||e.push(t)},clone:function(e){return h.call(e)},merge:function(){var e,t,i=h.call(arguments),n=[];for(e=0,t=i.length;e<t;e++)n=n.concat(i[e]);return s.unique(n)},intersect:function(){var e,t,i,n,r,o,a,d,u,c,g,p,f,m=[],x=h.call(arguments);if(!x.length)return m;for(e=x.length,g=r=0;g<e;g++)o=x[g],(!n||o.length<n.length)&&(n=o,r=g);for(n=s.unique(n),l(x,r,1),a=n.length,e=x.length,g=0;g<a;g++){for(d=n[g],c=0,p=0;p<e;p++)for(t=x[p],i=t.length,f=0;f<i;f++)if(u=t[f],d===u){c++;break}c===e&&m.push(d)}return m},difference:function(e,t){var i,n,r,o=h.call(e),a=o.length;for(i=0,r=t.length;i<r;i++)for(n=0;n<a;n++)o[n]===t[i]&&(l(o,n,1),n--,a--);return o},slice:[1,2].slice(1,void 0).length?function(e,t,i){return h.call(e,t,i)}:function(e,t,i){return"undefined"==typeof t?h.call(e):"undefined"==typeof i?h.call(e,t):h.call(e,t,i)},sort:E?function(e,t){return t?e.sort(t):e.sort()}:function(e,t){for(var i,n,r,o,a=e.length,s=0;s<a;s++){for(r=s,n=s+1;n<a;n++)t?(i=t(e[n],e[r]),i<0&&(r=n)):e[n]<e[r]&&(r=n);r!==s&&(o=e[s],e[s]=e[r],e[r]=o)}return e},flatten:function(e){function t(e){var n,r,o;for(n=0,r=e.length;n<r;n++)o=e[n],Ext.isArray(o)?t(o):i.push(o);return i}var i=[];return t(e)},min:function(e,t){var i,n,r,o=e[0];for(i=0,n=e.length;i<n;i++)r=e[i],t?1===t(o,r)&&(o=r):r<o&&(o=r);return o},max:function(e,t){var i,n,r,o=e[0];for(i=0,n=e.length;i<n;i++)r=e[i],t?t(o,r)===-1&&(o=r):r>o&&(o=r);return o},mean:function(e){return e.length>0?s.sum(e)/e.length:void 0},sum:function(e){var t,i,n,r=0;for(t=0,i=e.length;t<i;t++)n=e[t],r+=n;return r},toMap:function(e,t,i){var n={},r=e.length;if(t)if("string"==typeof t)for(;r--;)n[e[r][t]]=r+1;else for(;r--;)n[t.call(i,e[r])]=r+1;else for(;r--;)n[e[r]]=r+1;return n},erase:l,insert:function(e,t,i){return d(e,t,0,i)},replace:d,splice:u,push:function(e){var t,i=arguments.length,n=1;for(void 0===e?e=[]:Ext.isArray(e)||(e=[e]);n<i;n++)t=arguments[n],Array.prototype.push[Ext.isArray(t)?"apply":"call"](e,t);return e}},Ext.each=s.each,s.union=s.merge,Ext.min=s.min,Ext.max=s.max,Ext.sum=s.sum,Ext.mean=s.mean,Ext.flatten=s.flatten,Ext.clean=s.clean,Ext.unique=s.unique,Ext.pluck=s.pluck,Ext.toArray=function(){return s.toArray.apply(s,arguments)}}(),Ext.Function={flexSetter:function(e){return function(t,i){var n,r;if(null===t)return this;if("string"!=typeof t){for(n in t)t.hasOwnProperty(n)&&e.call(this,n,t[n]);if(Ext.enumerables)for(r=Ext.enumerables.length;r--;)n=Ext.enumerables[r],t.hasOwnProperty(n)&&e.call(this,n,t[n])}else e.call(this,t,i);return this}},bind:function(e,t,i,n){if(2===arguments.length)return function(){return e.apply(t,arguments)};var r=e,o=Array.prototype.slice;return function(){var e=i||arguments;return n===!0?(e=o.call(arguments,0),e=e.concat(i)):"number"==typeof n&&(e=o.call(arguments,0),Ext.Array.insert(e,n,i)),r.apply(t||Ext.global,e)}},pass:function(e,t,i){return Ext.isArray(t)||(t=Ext.isIterable(t)?Ext.Array.clone(t):void 0!==t?[t]:[]),function(){var n=[].concat(t);return n.push.apply(n,arguments),e.apply(i||this,n)}},alias:function(e,t){return function(){return e[t].apply(e,arguments)}},clone:function(e){return function(){return e.apply(this,arguments)}},createInterceptor:function(e,t,i,n){return Ext.isFunction(t)?function(){var r=this,o=arguments;return t.target=r,t.method=e,t.apply(i||r||Ext.global,o)!==!1?e.apply(r||Ext.global,o):n||null}:e},createDelayed:function(e,t,i,n,r){return(i||n)&&(e=Ext.Function.bind(e,i,n,r)),function(){var i=this,n=Array.prototype.slice.call(arguments);setTimeout(function(){e.apply(i,n)},t)}},defer:function(e,t,i,n,r){return e=Ext.Function.bind(e,i,n,r),t>0?setTimeout(Ext.supports.TimeoutActualLateness?function(){e()}:e,t):(e(),0)},createSequence:function(e,t,i){return t?function(){var n=e.apply(this,arguments);return t.apply(i||this,arguments),n}:e},createBuffered:function(e,t,i,n){var r;return function(){var o=n||Array.prototype.slice.call(arguments,0),a=i||this;r&&clearTimeout(r),r=setTimeout(function(){e.apply(a,o)},t)}},createThrottled:function(e,t,i){var n,r,o,a,s=function(){e.apply(i||this,o),n=(new Date).getTime()};return function(){r=(new Date).getTime()-n,o=arguments,clearTimeout(a),!n||r>=t?s():a=setTimeout(s,t-r)}},interceptBefore:function(e,t,i,n){var r=e[t]||Ext.emptyFn;return e[t]=function(){var e=i.apply(n||this,arguments);return r.apply(this,arguments),e}},interceptAfter:function(e,t,i,n){var r=e[t]||Ext.emptyFn;return e[t]=function(){return r.apply(this,arguments),i.apply(n||this,arguments)}}},Ext.defer=Ext.Function.alias(Ext.Function,"defer"),Ext.pass=Ext.Function.alias(Ext.Function,"pass"),Ext.bind=Ext.Function.alias(Ext.Function,"bind"),function(){var e=function(){},t=Ext.Object={chain:function(t){e.prototype=t;var i=new e;return e.prototype=null,i},toQueryObjects:function(e,i,n){var r,o,a=t.toQueryObjects,s=[];if(Ext.isArray(i))for(r=0,o=i.length;r<o;r++)n?s=s.concat(a(e+"["+r+"]",i[r],!0)):s.push({name:e,value:i[r]});else if(Ext.isObject(i))for(r in i)i.hasOwnProperty(r)&&(n?s=s.concat(a(e+"["+r+"]",i[r],!0)):s.push({name:e,value:i[r]}));else s.push({name:e,value:i});return s},toQueryString:function(e,i){var n,r,o,a,s,l=[],d=[];for(n in e)e.hasOwnProperty(n)&&(l=l.concat(t.toQueryObjects(n,e[n],i)));for(r=0,o=l.length;r<o;r++)a=l[r],s=a.value,Ext.isEmpty(s)?s="":Ext.isDate(s)&&(s=Ext.Date.toString(s)),d.push(encodeURIComponent(a.name)+"="+encodeURIComponent(String(s)));return d.join("&")},fromQueryString:function(e,t){var i,n,r,o,a,s,l,d,u,c,h,g,p,f,m=e.replace(/^\?/,"").split("&"),x={};for(a=0,s=m.length;a<s;a++)if(l=m[a],l.length>0)if(n=l.split("="),r=decodeURIComponent(n[0]),o=void 0!==n[1]?decodeURIComponent(n[1]):"",t){if(c=r.match(/(\[):?([^\]]*)\]/g),h=r.match(/^([^\[]+)/),r=h[0],g=[],null===c){x[r]=o;continue}for(d=0,u=c.length;d<u;d++)p=c[d],p=2===p.length?"":p.substring(1,p.length-1),g.push(p);for(g.unshift(r),i=x,d=0,u=g.length;d<u;d++)p=g[d],d===u-1?Ext.isArray(i)&&""===p?i.push(o):i[p]=o:(void 0!==i[p]&&"string"!=typeof i[p]||(f=g[d+1],i[p]=Ext.isNumeric(f)||""===f?[]:{}),i=i[p])}else x.hasOwnProperty(r)?(Ext.isArray(x[r])||(x[r]=[x[r]]),x[r].push(o)):x[r]=o;return x},each:function(e,t,i){for(var n in e)if(e.hasOwnProperty(n)&&t.call(i||e,n,e[n],e)===!1)return},merge:function(e){for(var i,n,r,o,a=1,s=arguments.length,l=t.merge,d=Ext.clone;a<s;a++){i=arguments[a];for(n in i)r=i[n],r&&r.constructor===Object?(o=e[n],o&&o.constructor===Object?l(o,r):e[n]=d(r)):e[n]=r}return e},mergeIf:function(e){for(var t,i,n,r=1,o=arguments.length,a=Ext.clone;r<o;r++){t=arguments[r];for(i in t)i in e||(n=t[i],n&&n.constructor===Object?e[i]=a(n):e[i]=n)}return e},getKey:function(e,t){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t)return i;return null},getValues:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(e[t]);return i},getKeys:"function"==typeof Object.keys?function(e){return e?Object.keys(e):[]}:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i},getSize:function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},classify:function(e){var i,n,r=e,o=[],a={},s=function(){for(var e,t=0,i=o.length;t<i;t++)e=o[t],this[e]=new a[e]};for(i in e)e.hasOwnProperty(i)&&(n=e[i],n&&n.constructor===Object&&(o.push(i),a[i]=t.classify(n)));return s.prototype=r,s}};Ext.merge=Ext.Object.merge,Ext.mergeIf=Ext.Object.mergeIf,Ext.urlEncode=function(){var e=Ext.Array.from(arguments),i="";return"string"==typeof e[1]&&(i=e[1]+"&",e[1]=!1),i+t.toQueryString.apply(t,e)},Ext.urlDecode=function(){return t.fromQueryString.apply(t,arguments)}}(),function(){function e(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/\{(\d+)\}/g,function(e,i){return t[i]})}Ext.Date={now:Date.now||function(){return+new Date},toString:function(e){var t=Ext.String.leftPad;return e.getFullYear()+"-"+t(e.getMonth()+1,2,"0")+"-"+t(e.getDate(),2,"0")+"T"+t(e.getHours(),2,"0")+":"+t(e.getMinutes(),2,"0")+":"+t(e.getSeconds(),2,"0")},getElapsed:function(e,t){return Math.abs(e-(t||new Date))},useStrict:!1,formatCodeToRegex:function(i,n){var r=t.parseCodes[i];return r&&(r="function"==typeof r?r():r,t.parseCodes[i]=r),r?Ext.applyIf({c:r.c?e(r.c,n||"{0}"):r.c},r):{g:0,c:null,s:Ext.String.escapeRegex(i)}},parseFunctions:{MS:function(e,t){var i=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),n=(e||"").match(i);return n?new Date(1*((n[1]||"")+n[2])):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(e){return Ext.Date.monthNames[e].substring(0,3)},getShortDayName:function(e){return Ext.Date.dayNames[e].substring(0,3)},getMonthNumber:function(e){return Ext.Date.monthNumbers[e.substring(0,1).toUpperCase()+e.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(){var e=/(\\.)/g,t=/([gGhHisucUOPZ]|MS)/;return function(i){return t.test(i.replace(e,""))}}(),formatContainsDateInfo:function(){var e=/(\\.)/g,t=/([djzmnYycU]|MS)/;return function(i){return t.test(i.replace(e,""))}}(),unescapeFormat:function(){var e=/\\/gi;return function(t){return t.replace(e,"")}}(),formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){var e,i,n,r,o;for(e="Y-m-dTH:i:sP",i=[],n=0,r=e.length;n<r;++n)o=e.charAt(n),i.push("T"==o?"'T'":t.getFormatCode(o));return i.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(e,i,n,r,o,a,s){r=r||0,o=o||0,a=a||0,s=s||0;var l=t.add(new Date(e<100?100:e,i-1,n,r,o,a,s),t.YEAR,e<100?e-100:0);return e==l.getFullYear()&&i==l.getMonth()+1&&n==l.getDate()&&r==l.getHours()&&o==l.getMinutes()&&a==l.getSeconds()&&s==l.getMilliseconds()},parse:function(e,i,n){var r=t.parseFunctions;return null==r[i]&&t.createParser(i),r[i](e,Ext.isDefined(n)?n:t.useStrict)},parseDate:function(e,i,n){return t.parse(e,i,n)},getFormatCode:function(e){var i=t.formatCodes[e];return i&&(i="function"==typeof i?i():i,t.formatCodes[e]=i),i||"'"+Ext.String.escape(e)+"'"},createFormat:function(e){var i,n=[],r=!1,o="";for(i=0;i<e.length;++i)o=e.charAt(i),r||"\\"!=o?r?(r=!1,n.push("'"+Ext.String.escape(o)+"'")):n.push(t.getFormatCode(o)):r=!0;t.formatFunctions[e]=Ext.functionFactory("return "+n.join("+"))},createParser:function(){var i=["var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,","def = Ext.Date.defaults,","results = String(input).match(Ext.Date.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = Ext.Date.clearTime(new Date);","y = Ext.Number.from(y, Ext.Number.from(def.y, dt.getFullYear()));","m = Ext.Number.from(m, Ext.Number.from(def.m - 1, dt.getMonth()));","d = Ext.Number.from(d, Ext.Number.from(def.d, dt.getDate()));","h  = Ext.Number.from(h, Ext.Number.from(def.h, dt.getHours()));","i  = Ext.Number.from(i, Ext.Number.from(def.i, dt.getMinutes()));","s  = Ext.Number.from(s, Ext.Number.from(def.s, dt.getSeconds()));","ms = Ext.Number.from(ms, Ext.Number.from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = Ext.Date.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (Ext.Date.isLeapYear(v) && z <= 365))? Ext.Date.add(v, Ext.Date.DAY, z) : null);","}else if(strict === true && !Ext.Date.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","v = Ext.Date.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);","}","}","}","if(v){","if(zz != null){","v = Ext.Date.add(v, Ext.Date.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = Ext.Date.add(v, Ext.Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");return function(n){for(var r,o=t.parseRegexes.length,a=1,s=[],l=[],d=!1,u="",c=0,h=n.length,g=[];c<h;++c)u=n.charAt(c),d||"\\"!=u?d?(d=!1,l.push(Ext.String.escape(u))):(r=t.formatCodeToRegex(u,a),a+=r.g,l.push(r.s),r.g&&r.c&&(r.calcAtEnd?g.push(r.c):s.push(r.c))):d=!0;s=s.concat(g),t.parseRegexes[o]=new RegExp("^"+l.join("")+"$","i"),t.parseFunctions[n]=Ext.functionFactory("input","strict",e(i,o,s.join("")))}}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var e=[],i=0;i<7;e.push(t.getShortDayName(i)),++i);return{g:0,c:null,s:"(?:"+e.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+t.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Ext.Date.getMonthNumber(results[{0}]), 10);\n",s:"("+t.monthNames.join("|")+")"}},M:function(){for(var e=[],i=0;i<12;e.push(t.getShortMonthName(i)),++i);return Ext.applyIf({s:"("+e.join("|")+")"},t.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return t.formatCodeToRegex("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Ext.Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:!0},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:!0},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var e,i,n=[],r=[t.formatCodeToRegex("Y",1),t.formatCodeToRegex("m",2),t.formatCodeToRegex("d",3),t.formatCodeToRegex("H",4),t.formatCodeToRegex("i",5),t.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",t.formatCodeToRegex("P",8).c,"}else{",t.formatCodeToRegex("O",8).c,"}","}"].join("\n")}];for(e=0,i=r.length;e<i;++e)n.push(r[e].c);return{g:1,c:n.join(""),s:[r[0].s,"(?:","-",r[1].s,"(?:","-",r[2].s,"(?:","(?:T| )?",r[3].s,":",r[4].s,"(?::",r[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(e,i){return t.format(e,i)},isEqual:function(e,t){return e&&t?e.getTime()===t.getTime():!(e||t)},format:function(e,i){var n=t.formatFunctions;return Ext.isDate(e)?(null==n[i]&&t.createFormat(i),n[i].call(e)+""):""},getTimezone:function(e){return e.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(e,t){var i=e.getTimezoneOffset();return(i>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(i)/60),2,"0")+(t?":":"")+Ext.String.leftPad(Math.abs(i%60),2,"0")},getDayOfYear:function(e){var i,n=0,r=Ext.Date.clone(e),o=e.getMonth();for(i=0,r.setDate(1),r.setMonth(0);i<o;r.setMonth(++i))n+=t.getDaysInMonth(r);return n+e.getDate()-1;
},getWeekOfYear:function(){var e=864e5,t=7*e;return function(i){var n=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()+3)/e,r=Math.floor(n/7),o=new Date(r*t).getUTCFullYear();return r-Math.floor(Date.UTC(o,0,7)/t)+1}}(),isLeapYear:function(e){var t=e.getFullYear();return!(0!=(3&t)||!(t%100||t%400==0&&t))},getFirstDayOfMonth:function(e){var t=(e.getDay()-(e.getDate()-1))%7;return t<0?t+7:t},getLastDayOfMonth:function(e){return t.getLastDateOfMonth(e).getDay()},getFirstDateOfMonth:function(e){return new Date(e.getFullYear(),e.getMonth(),1)},getLastDateOfMonth:function(e){return new Date(e.getFullYear(),e.getMonth(),t.getDaysInMonth(e))},getDaysInMonth:function(){var e=[31,28,31,30,31,30,31,31,30,31,30,31];return function(i){var n=i.getMonth();return 1==n&&t.isLeapYear(i)?29:e[n]}}(),getSuffix:function(e){switch(e.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(e){return new Date(e.getTime())},isDST:function(e){return new Date(e.getFullYear(),0,1).getTimezoneOffset()!=e.getTimezoneOffset()},clearTime:function(e,i){if(i)return Ext.Date.clearTime(Ext.Date.clone(e));var n,r,o=e.getDate();if(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getDate()!=o){for(n=1,r=t.add(e,Ext.Date.HOUR,n);r.getDate()!=o;n++,r=t.add(e,Ext.Date.HOUR,n));e.setDate(o),e.setHours(r.getHours())}return e},add:function(e,t,i){var n,r=Ext.Date.clone(e);Ext.Date;if(!t||0===i)return r;switch(t.toLowerCase()){case Ext.Date.MILLI:r.setMilliseconds(r.getMilliseconds()+i);break;case Ext.Date.SECOND:r.setSeconds(r.getSeconds()+i);break;case Ext.Date.MINUTE:r.setMinutes(r.getMinutes()+i);break;case Ext.Date.HOUR:r.setHours(r.getHours()+i);break;case Ext.Date.DAY:r.setDate(r.getDate()+i);break;case Ext.Date.MONTH:n=e.getDate(),n>28&&(n=Math.min(n,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(e),Ext.Date.MONTH,i)).getDate())),r.setDate(n),r.setMonth(e.getMonth()+i);break;case Ext.Date.YEAR:n=e.getDate(),n>28&&(n=Math.min(n,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(e),Ext.Date.YEAR,i)).getDate())),r.setDate(n),r.setFullYear(e.getFullYear()+i)}return r},between:function(e,t,i){var n=e.getTime();return t.getTime()<=n&&n<=i.getTime()},compat:function(){var e,i,n,r,o=window.Date,a=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],s=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],l=a.length,d=s.length;for(r=0;r<l;r++)i=a[r],o[i]=t[i];for(e=0;e<d;e++)n=s[e],o.prototype[n]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(this),t[n].apply(t,e)}}};var t=Ext.Date}(),function(e){var t=[],i=function(){};Ext.apply(i,{$className:"Ext.Base",$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},extend:function(e){var t,i,n,r,o,a,s=e.prototype;if(i=this.prototype=Ext.Object.chain(s),i.self=this,this.superclass=i.superclass=s,!e.$isClass){t=Ext.Base.prototype;for(n in t)n in i&&(i[n]=t[n])}if(a=s.$inheritableStatics)for(n=0,r=a.length;n<r;n++)o=a[n],this.hasOwnProperty(o)||(this[o]=e[o]);e.$onExtended&&(this.$onExtended=e.$onExtended.slice()),i.config=new i.configClass,i.initConfigList=i.initConfigList.slice(),i.initConfigMap=Ext.clone(i.initConfigMap),i.configMap=Ext.Object.chain(i.configMap)},$onExtended:[],triggerExtended:function(){var e,t,i=this.$onExtended,n=i.length;if(n>0)for(e=0;e<n;e++)t=i[e],t.fn.apply(t.scope||this,arguments)},onExtended:function(e,t){return this.$onExtended.push({fn:e,scope:t}),this},addConfig:function(e,t){var i,n,r,o=this.prototype,a=Ext.Class.configNameCache,s=o.configMap,l=o.initConfigList,d=o.initConfigMap,u=o.config;for(n in e)e.hasOwnProperty(n)&&(s[n]||(s[n]=!0),r=e[n],i=a[n].initialized,d[n]||null===r||o[i]||(d[n]=!0,l.push(n)));t?Ext.merge(u,e):Ext.mergeIf(u,e),o.configClass=Ext.Object.classify(u)},addStatics:function(e){var t,i;for(i in e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t);return this},addInheritableStatics:function(e){var t,i,n,r,o=this.prototype;t=o.$inheritableStatics,i=o.$hasInheritableStatics,t||(t=o.$inheritableStatics=[],i=o.$hasInheritableStatics={});for(n in e)e.hasOwnProperty(n)&&(r=e[n],this[n]=r,i[n]||(i[n]=!0,t.push(n)));return this},addMembers:function(e){var t,i,n,r,o=this.prototype,a=Ext.enumerables,s=[];for(n in e)s.push(n);for(a&&s.push.apply(s,a),t=0,i=s.length;t<i;t++)n=s[t],e.hasOwnProperty(n)&&(r=e[n],"function"!=typeof r||r.$isClass||r===Ext.emptyFn||(r.$owner=this,r.$name=n),o[n]=r);return this},addMember:function(e,t){return"function"!=typeof t||t.$isClass||t===Ext.emptyFn||(t.$owner=this,t.$name=e),this.prototype[e]=t,this},implement:function(){this.addMembers.apply(this,arguments)},borrow:function(e,t){var i,n,r,o,a,s=this.prototype,l=e.prototype;for(t=Ext.Array.from(t),i=0,n=t.length;i<n;i++)r=t[i],a=l[r],"function"==typeof a?(o=Ext.Function.clone(a),o.$owner=this,o.$name=r,s[r]=o):s[r]=a;return this},override:function(e){var t,i,n,r,o,a,s=this,l=Ext.enumerables,d=s.prototype,u=Ext.Function.clone;2===arguments.length&&(t=e,e={},e[t]=arguments[1],l=null);do{o=[],r=null;for(t in e)"statics"==t?r=e[t]:"config"==t?s.addConfig(e[t],!0):o.push(t);for(l&&o.push.apply(o,l),i=o.length;i--;)t=o[i],e.hasOwnProperty(t)&&(n=e[t],"function"!=typeof n||n.$className||n===Ext.emptyFn||("undefined"!=typeof n.$owner&&(n=u(n)),n.$owner=s,n.$name=t,a=d[t],a&&(n.$previous=a)),d[t]=n);d=s,e=r}while(e);return this},callParent:function(e){var i;return(i=this.callParent.caller)&&(i.$previous||(i=i.$owner?i:i.caller)&&i.$owner.superclass.$class[i.$name]).apply(this,e||t)},mixin:function(e,t){var i,n=t.prototype,r=this.prototype;"undefined"!=typeof n.onClassMixedIn&&n.onClassMixedIn.call(t,this),r.hasOwnProperty("mixins")||("mixins"in r?r.mixins=Ext.Object.chain(r.mixins):r.mixins={});for(i in n)"mixins"===i?Ext.merge(r.mixins,n[i]):"undefined"==typeof r[i]&&"mixinId"!=i&&"config"!=i&&(r[i]=n[i]);"config"in n&&this.addConfig(n.config,!1),r.mixins[e]=n},getName:function(){return Ext.getClassName(this)},createAlias:e(function(e,t){this.override(e,function(){return this[t].apply(this,arguments)})}),addXtype:function(e){var t=this.prototype,i=t.xtypesMap,n=t.xtypes,r=t.xtypesChain;return t.hasOwnProperty("xtypesMap")||(i=t.xtypesMap=Ext.merge({},t.xtypesMap||{}),n=t.xtypes=t.xtypes?[].concat(t.xtypes):[],r=t.xtypesChain=t.xtypesChain?[].concat(t.xtypesChain):[],t.xtype=e),i[e]||(i[e]=!0,n.push(e),r.push(e),Ext.ClassManager.setAlias(this,"widget."+e)),this}}),i.implement({isInstance:!0,$className:"Ext.Base",configClass:Ext.emptyFn,initConfigList:[],configMap:{},initConfigMap:{},statics:function(){var e=this.statics.caller,t=this.self;return e?e.$owner:t},callParent:function(e){var i,n=(i=this.callParent.caller)&&(i.$previous||(i=i.$owner?i:i.caller)&&i.$owner.superclass[i.$name]);return n.apply(this,e||t)},self:i,constructor:function(){return this},initConfig:function(e){var t,i,n,r,o,a=e,s=Ext.Class.configNameCache,l=new this.configClass,d=this.initConfigList,u=this.configMap;if(this.initConfig=Ext.emptyFn,this.initialConfig=a||{},this.config=e=a?Ext.merge(l,e):l,a){d=d.slice();for(r in a)u[r]&&null!==a[r]&&(d.push(r),this[s[r].initialized]=!1)}for(i=0,n=d.length;i<n;i++)r=d[i],t=s[r],o=t.initialized,this[o]||(this[o]=!0,this[t.set].call(this,e[r]));return this},hasConfig:function(e){return Boolean(this.configMap[e])},setConfig:function(e,t){if(!e)return this;var i,n,r=Ext.Class.configNameCache,o=this.config,a=this.configMap,s=this.initialConfig;t=Boolean(t);for(i in e)t&&s.hasOwnProperty(i)||(n=e[i],o[i]=n,a[i]&&this[r[i].set](n));return this},getConfig:function(e){var t=Ext.Class.configNameCache;return this[t[e].get]()},getInitialConfig:function(e){var t=this.config;return e?t[e]:t},onConfigUpdate:function(e,t,i){var n,r,o,a,s,l,d=this.self;for(e=Ext.Array.from(e),i=i||this,n=0,r=e.length;n<r;n++)o=e[n],a="update"+Ext.String.capitalize(o),s=this[a]||Ext.emptyFn,l=function(){s.apply(this,arguments),i[t].apply(i,arguments)},l.$name=a,l.$owner=d,this[a]=l},destroy:function(){this.destroy=Ext.emptyFn}}),i.prototype.callOverridden=i.prototype.callParent,Ext.Base=i}(Ext.Function.flexSetter),function(){function e(e){function t(){return this.constructor.apply(this,arguments)||null}return t}var t,i,n,r=Ext.Base,o=[];for(i in r)r.hasOwnProperty(i)&&o.push(i);n=o.length,Ext.Class=t=function(e,i,n){return"function"!=typeof e&&(n=i,i=e,e=null),i||(i={}),e=t.create(e,i),t.process(e,i,n),e},Ext.apply(t,{onBeforeCreated:function(e,t,i){e.addMembers(t),i.onCreated.call(e,e)},create:function(t,i){var a,s;for(t||(t=e()),s=0;s<n;s++)a=o[s],t[a]=r[a];return t},process:function(e,i,n){var r,o,a,s,l,d,u,c=i.preprocessors||t.defaultPreprocessors,h=this.preprocessors,g={onBeforeCreated:this.onBeforeCreated},p=[];for(delete i.preprocessors,a=0,s=c.length;a<s;a++)if(r=c[a],"string"==typeof r){if(r=h[r],o=r.properties,o===!0)p.push(r.fn);else if(o)for(l=0,d=o.length;l<d;l++)if(u=o[l],i.hasOwnProperty(u)){p.push(r.fn);break}}else p.push(r);g.onCreated=n?n:Ext.emptyFn,g.preprocessors=p,this.doProcess(e,i,g)},doProcess:function(e,t,i){var n=this,r=i.preprocessors.shift();return r?void(r.call(n,e,t,i,n.doProcess)!==!1&&n.doProcess(e,t,i)):void i.onBeforeCreated.apply(n,arguments)},preprocessors:{},registerPreprocessor:function(e,t,i,n,r){return n||(n="last"),i||(i=[e]),this.preprocessors[e]={name:e,properties:i||!1,fn:t},this.setDefaultPreprocessorPosition(e,n,r),this},getPreprocessor:function(e){return this.preprocessors[e]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(e){return this.defaultPreprocessors=Ext.Array.from(e),this},setDefaultPreprocessorPosition:function(e,t,i){var n,r=this.defaultPreprocessors;if("string"==typeof t){if("first"===t)return r.unshift(e),this;if("last"===t)return r.push(e),this;t="after"===t?1:-1}return n=Ext.Array.indexOf(r,i),n!==-1&&Ext.Array.splice(r,Math.max(0,n+t),0,e),this},configNameCache:{},getConfigNameMap:function(e){var t,i=this.configNameCache,n=i[e];return n||(t=e.charAt(0).toUpperCase()+e.substr(1),n=i[e]={internal:e,initialized:"_is"+t+"Initialized",apply:"apply"+t,update:"update"+t,set:"set"+t,get:"get"+t,doSet:"doSet"+t,changeEvent:e.toLowerCase()+"change"}),n}}),t.registerPreprocessor("extend",function(e,t){var i,n,r,o=Ext.Base,a=o.prototype,s=t.extend;if(delete t.extend,i=s&&s!==Object?s:o,n=i.prototype,!i.$isClass)for(r in a)n[r]||(n[r]=a[r]);e.extend(i),e.triggerExtended.apply(e,arguments),t.onClassExtended&&(e.onExtended(t.onClassExtended,e),delete t.onClassExtended)},!0),t.registerPreprocessor("statics",function(e,t){e.addStatics(t.statics),delete t.statics}),t.registerPreprocessor("inheritableStatics",function(e,t){e.addInheritableStatics(t.inheritableStatics),delete t.inheritableStatics}),t.registerPreprocessor("config",function(e,i){var n=i.config,r=e.prototype;delete i.config,Ext.Object.each(n,function(e,n){var o,a,s=t.getConfigNameMap(e),l=s.internal,d=s.initialized,u=s.apply,c=s.update,h=s.set,g=s.get,p=h in r||i.hasOwnProperty(h),f=u in r||i.hasOwnProperty(u),m=c in r||i.hasOwnProperty(c);null!==n&&(p||f||m)?r[d]=!1:(r[l]=n,r[d]=!0),p||(i[h]=function(e){var t=this[l],i=this[u],n=this[c];return this[d]||(this[d]=!0),i&&(e=i.call(this,e,t)),"undefined"!=typeof e&&(this[l]=e,n&&e!==t&&n.call(this,e,t)),this}),g in r&&!i.hasOwnProperty(g)||(a=i[g]||!1,o=a?function(){return a.apply(this,arguments)}:function(){return this[l]},i[g]=function(){var t;return this[d]||(this[d]=!0,this[h](this.config[e])),t=this[g],"$previous"in t?t.$previous=o:this[g]=o,o.apply(this,arguments)})}),e.addConfig(n,!0)}),t.registerPreprocessor("mixins",function(e,t,i){var n,r,o,a,s=t.mixins;delete t.mixins,Ext.Function.interceptBefore(i,"onCreated",function(){if(s instanceof Array)for(o=0,a=s.length;o<a;o++)r=s[o],n=r.prototype.mixinId||r.$className,e.mixin(n,r);else for(var t in s)s.hasOwnProperty(t)&&e.mixin(t,s[t])})}),Ext.extend=function(e,i,n){2===arguments.length&&Ext.isObject(i)&&(n=i,i=e,e=null);var r;if(!i)throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");return n.extend=i,n.preprocessors=["extend","statics","inheritableStatics","mixins","config"],e?(r=new t(e,n),r.prototype.constructor=e):r=new t(n),r.prototype.override=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},r}}(),function(e,t,i,n,r){function o(){function e(){return this.constructor.apply(this,arguments)||null}return e}var a=Ext.ClassManager={classes:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],maps:{alternateToName:{},aliasToName:{},nameToAliases:{},nameToAlternates:{}},enableNamespaceParseCache:!0,namespaceParseCache:{},instantiators:[],isCreated:function(e){var t,i,n,o,a,s=this.existCache;if(this.classes[e]||s[e])return!0;for(o=r,a=this.parseNamespace(e),t=0,i=a.length;t<i;t++)if(n=a[t],"string"!=typeof n)o=n;else{if(!o||!o[n])return!1;o=o[n]}return s[e]=!0,this.triggerCreated(e),!0},createdListeners:[],nameCreatedListeners:{},triggerCreated:function(e){var t,i,n,r,o,a,s=this.createdListeners,l=this.nameCreatedListeners,d=this.maps.nameToAlternates[e],u=[e];for(t=0,i=s.length;t<i;t++)o=s[t],o.fn.call(o.scope,e);for(d&&u.push.apply(u,d),t=0,i=u.length;t<i;t++)if(a=u[t],s=l[a]){for(n=0,r=s.length;n<r;n++)o=s[n],o.fn.call(o.scope,a);delete l[a]}},onCreated:function(e,t,i){var n=this.createdListeners,r=this.nameCreatedListeners,o={fn:e,scope:t};if(i){if(this.isCreated(i))return void e.call(t,i);r[i]||(r[i]=[]),r[i].push(o)}else n.push(o)},parseNamespace:function(e){var t,i,n,o,a,s,l,d,u,c=this.namespaceParseCache;if(this.enableNamespaceParseCache&&c.hasOwnProperty(e))return c[e];for(t=[],i=this.namespaceRewrites,n=r,o=e,d=0,u=i.length;d<u;d++)if(a=i[d],s=a.from,l=a.to,o===s||o.substring(0,s.length)===s){o=o.substring(s.length),"string"!=typeof l?n=l:t=t.concat(l.split("."));break}return t.push(n),t=t.concat(o.split(".")),this.enableNamespaceParseCache&&(c[e]=t),t},setNamespace:function(e,t){var i,n,o=r,a=this.parseNamespace(e),s=a.length-1,l=a[s];for(i=0;i<s;i++)n=a[i],"string"!=typeof n?o=n:(o[n]||(o[n]={}),o=o[n]);return o[l]=t,o[l]},createNamespaces:function(){var e,t,i,n,o,a,s=r;for(i=0,o=arguments.length;i<o;i++)for(e=this.parseNamespace(arguments[i]),n=0,a=e.length;n<a;n++)t=e[n],"string"!=typeof t?s=t:(s[t]||(s[t]={}),s=s[t]);return s},set:function(e,t){var i,n=this,r=n.maps,o=r.nameToAlternates,a=n.getName(t);return n.classes[e]=n.setNamespace(e,t),a&&a!==e&&(r.alternateToName[e]=a,i=o[a]||(o[a]=[]),i.push(e)),this},get:function(e){var t,i,n,o,a,s=this.classes;if(s[e])return s[e];for(t=r,i=this.parseNamespace(e),o=0,a=i.length;o<a;o++)if(n=i[o],"string"!=typeof n)t=n;else{if(!t||!t[n])return null;t=t[n]}return t},setAlias:function(e,t){var i,n=this.maps.aliasToName,r=this.maps.nameToAliases;return i="string"==typeof e?e:this.getName(e),t&&n[t]!==i&&(n[t]=i),r[i]||(r[i]=[]),t&&Ext.Array.include(r[i],t),this},getByAlias:function(e){return this.get(this.getNameByAlias(e))},getNameByAlias:function(e){return this.maps.aliasToName[e]||""},getNameByAlternate:function(e){return this.maps.alternateToName[e]||""},getAliasesByName:function(e){return this.maps.nameToAliases[e]||[]},getName:function(e){return e&&e.$className||""},getClass:function(e){return e&&e.self||null},create:function(t,i,n){var r=o();return"function"==typeof i&&(i=i(r)),i.$className=t,new e(r,i,function(){var e,r,o,s,l,d,u,c=i.postprocessors||a.defaultPostprocessors,h=a.postprocessors,g=[];for(delete i.postprocessors,r=0,o=c.length;r<o;r++)if(e=c[r],"string"==typeof e){if(e=h[e],d=e.properties,d===!0)g.push(e.fn);else if(d)for(s=0,l=d.length;s<l;s++)if(u=d[s],i.hasOwnProperty(u)){g.push(e.fn);break}}else g.push(e);i.postprocessors=g,i.createdFn=n,a.processCreate(t,this,i)})},processCreate:function(e,t,i){var n=this,r=i.postprocessors.shift(),o=i.createdFn;return r?void(r.call(n,e,t,i,n.processCreate)!==!1&&n.processCreate(e,t,i)):(e&&n.set(e,t),o&&o.call(t,t),void(e&&n.triggerCreated(e)))},createOverride:function(e,t,i){var n=this,r=t.override,o=t.requires,a=t.uses,s=function(){var l,d;o?(d=o,o=null,Ext.Loader.require(d,s)):(l=n.get(r),delete t.override,delete t.requires,delete t.uses,Ext.override(l,t),n.triggerCreated(e),a&&Ext.Loader.addUsedClasses(a),i&&i.call(l))};return n.existCache[e]=!0,n.onCreated(s,n,r),n},instantiateByAlias:function(){var e=arguments[0],t=i.call(arguments),n=this.getNameByAlias(e);return n||(n=this.maps.aliasToName[e],Ext.syncRequire(n)),t[0]=n,this.instantiate.apply(this,t)},instantiate:function(){var e,t,n=arguments[0],r=typeof n,o=i.call(arguments,1);return"function"!=r?("string"!=r&&0===o.length&&(o=[n],n=n.xclass),t=this.get(n)):t=n,t||(e=this.getNameByAlias(n),e&&(n=e,t=this.get(n))),t||(e=this.getNameByAlternate(n),e&&(n=e,t=this.get(n))),t||(Ext.syncRequire(n),t=this.get(n)),this.getInstantiator(o.length)(t,o)},dynInstantiate:function(e,t){return t=n(t,!0),t.unshift(e),this.instantiate.apply(this,t)},getInstantiator:function(e){var t,i,n,r=this.instantiators;if(t=r[e],!t){for(i=e,n=[],i=0;i<e;i++)n.push("a["+i+"]");t=r[e]=new Function("c","a","return new c("+n.join(",")+")")}return t},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(e,t,i,n,r){return n||(n="last"),i||(i=[e]),this.postprocessors[e]={name:e,properties:i||!1,fn:t},this.setDefaultPostprocessorPosition(e,n,r),this},setDefaultPostprocessors:function(e){return this.defaultPostprocessors=n(e),this},setDefaultPostprocessorPosition:function(e,t,i){var n,r=this.defaultPostprocessors;if("string"==typeof t){if("first"===t)return r.unshift(e),this;if("last"===t)return r.push(e),this;t="after"===t?1:-1}return n=Ext.Array.indexOf(r,i),n!==-1&&Ext.Array.splice(r,Math.max(0,n+t),0,e),this},getNamesByExpression:function(e){var t,i,n,r,o,a,s,l=this.maps.nameToAliases,d=[];if(e.indexOf("*")!==-1){e=e.replace(/\*/g,"(.*?)"),o=new RegExp("^"+e+"$");for(t in l)if(l.hasOwnProperty(t))if(n=l[t],t.search(o)!==-1)d.push(t);else for(a=0,s=n.length;a<s;a++)if(i=n[a],i.search(o)!==-1){d.push(t);break}}else r=this.getNameByAlias(e),r?d.push(r):(r=this.getNameByAlternate(e),r?d.push(r):d.push(e));return d}};a.registerPostprocessor("alias",function(e,i,n){var r,o,a=n.alias;for(r=0,o=a.length;r<o;r++)t=a[r],this.setAlias(i,t)},["xtype","alias"]),a.registerPostprocessor("singleton",function(e,t,i,n){return n.call(this,e,new t,i),!1}),a.registerPostprocessor("alternateClassName",function(e,t,i){var n,r,o,a=i.alternateClassName;for(a instanceof Array||(a=[a]),n=0,r=a.length;n<r;n++)o=a[n],this.set(o,t)}),Ext.apply(Ext,{create:t(a,"instantiate"),widget:function(e,t){var i,n,r,o,s=e;return"string"!=typeof s?(t=e,s=t.xtype):t=t||{},t.isComponent?t:(i="widget."+s,n=a.getNameByAlias(i),n||(o=!0),r=a.get(n),o||!r?a.instantiateByAlias(i,t):new r(t))},createByAlias:t(a,"instantiateByAlias"),define:function(e,t,i){return t.override?a.createOverride.apply(a,arguments):a.create.apply(a,arguments)},getClassName:t(a,"getName"),getDisplayName:function(e){if(e){if(e.displayName)return e.displayName;if(e.$name&&e.$class)return Ext.getClassName(e.$class)+"#"+e.$name;if(e.$className)return e.$className}return"Anonymous"},getClass:t(a,"getClass"),namespace:t(a,"createNamespaces")}),Ext.createWidget=Ext.widget,Ext.ns=Ext.namespace,e.registerPreprocessor("className",function(e,t){t.$className&&(e.$className=t.$className)},!0,"first"),e.registerPreprocessor("alias",function(e,t){var i,r,o,a,s=e.prototype,l=n(t.xtype),d=n(t.alias),u="widget.",c=u.length,h=Array.prototype.slice.call(s.xtypesChain||[]),g=Ext.merge({},s.xtypesMap||{});for(i=0,r=d.length;i<r;i++)o=d[i],o.substring(0,c)===u&&(a=o.substring(c),Ext.Array.include(l,a));for(e.xtype=t.xtype=l[0],t.xtypes=l,i=0,r=l.length;i<r;i++)a=l[i],g[a]||(g[a]=!0,h.push(a));for(t.xtypesChain=h,t.xtypesMap=g,Ext.Function.interceptAfter(t,"onClassCreated",function(){var e,t,n=s.mixins;for(e in n)if(n.hasOwnProperty(e)&&(t=n[e],l=t.xtypes))for(i=0,r=l.length;i<r;i++)a=l[i],g[a]||(g[a]=!0,h.push(a))}),i=0,r=l.length;i<r;i++)a=l[i],Ext.Array.include(d,u+a);t.alias=d},["xtype","alias"])}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global),Ext.Loader=new function(){var e=this,t=Ext.ClassManager,i=Ext.Class,n=Ext.Function.flexSetter,r=Ext.Function.alias,o=Ext.Function.pass,a=Ext.Function.defer,s=Ext.Array.erase,l=["extend","mixins","requires"],d={},u=[],c=/\/\.\//g,h=/\./g;Ext.apply(e,{isInHistory:d,history:u,config:{enabled:!1,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:"_dc",garbageCollect:!1,paths:{Ext:"."},preserveScripts:!0,scriptCharset:void 0},setConfig:function(t,i){return Ext.isObject(t)&&1===arguments.length?Ext.merge(e.config,t):e.config[t]=Ext.isObject(i)?Ext.merge(e.config[t],i):i,e},getConfig:function(t){return t?e.config[t]:e.config},setPath:n(function(t,i){return e.config.paths[t]=i,e}),getPath:function(t){var i="",n=e.config.paths,r=e.getPrefix(t);if(r.length>0){if(r===t)return n[r];i=n[r],t=t.substring(r.length+1)}return i.length>0&&(i+="/"),i.replace(c,"/")+t.replace(h,"/")+".js"},getPrefix:function(t){var i,n=e.config.paths,r="";if(n.hasOwnProperty(t))return t;for(i in n)n.hasOwnProperty(i)&&i+"."===t.substring(0,i.length+1)&&i.length>r.length&&(r=i);return r},isAClassNameWithAKnownPrefix:function(t){var i=e.getPrefix(t);return""!==i&&i!==t},require:function(e,t,i,n){t&&t.call(i)},syncRequire:function(){},exclude:function(t){return{require:function(i,n,r){return e.require(i,n,r,t)},syncRequire:function(i,n,r){return e.syncRequire(i,n,r,t)}}},onReady:function(e,t,i,n){var r;i!==!1&&Ext.onDocumentReady&&(r=e,e=function(){Ext.onDocumentReady(r,t,n)}),e.call(t)}});var g=[],p={},f={},m={},x={},y=[],v=[],E={};Ext.apply(e,{documentHead:"undefined"!=typeof document&&(document.head||document.getElementsByTagName("head")[0]),isLoading:!1,queue:g,isClassFileLoaded:p,isFileLoaded:f,readyListeners:y,optionalRequires:v,requiresMap:E,numPendingFiles:0,numLoadedFiles:0,hasFileLoadError:!1,classNameToFilePathMap:m,scriptsLoading:0,syncModeEnabled:!1,scriptElements:x,refreshQueue:function(){var i,n,r,o,a=g.length;if(!a&&!e.scriptsLoading)return e.triggerReady();for(i=0;i<a;i++)if(n=g[i]){if(o=n.requires,o.length>e.numLoadedFiles)continue;for(r=0;r<o.length;)t.isCreated(o[r])?s(o,r,1):r++;if(0===n.requires.length){s(g,i,1),n.callback.call(n.scope),e.refreshQueue();break}}return e},injectScriptElement:function(t,i,n,r,o){var s=document.createElement("script"),l=!1,d=e.config,u=function(){l||(l=!0,s.onload=s.onreadystatechange=s.onerror=null,"number"==typeof d.scriptChainDelay?a(i,d.scriptChainDelay,r):i.call(r),e.cleanupScriptElement(s,d.preserveScripts===!1,d.garbageCollect))},c=function(t){a(n,1,r),e.cleanupScriptElement(s,d.preserveScripts===!1,d.garbageCollect)};return s.type="text/javascript",s.onerror=c,o=o||d.scriptCharset,o&&(s.charset=o),"addEventListener"in s?s.onload=u:"readyState"in s?s.onreadystatechange=function(){"loaded"!=this.readyState&&"complete"!=this.readyState||u()}:s.onload=u,s.src=t,(e.documentHead||document.getElementsByTagName("head")[0]).appendChild(s),s},removeScriptElement:function(t){return x[t]&&(e.cleanupScriptElement(x[t],!0,!!e.getConfig("garbageCollect")),delete x[t]),e},cleanupScriptElement:function(t,i,n){var r;if(t.onload=t.onreadystatechange=t.onerror=null,i&&(Ext.removeNode(t),n))for(r in t)try{t[r]=null,delete t[r]}catch(e){}return e},loadScript:function(t){var i,n=e.getConfig(),r="string"==typeof t,o=r?t:t.url,a=!r&&t.onError,s=!r&&t.onLoad,l=!r&&t.scope,d=function(){e.numPendingFiles--,e.scriptsLoading--,a&&a.call(l,"Failed loading '"+o+"', please verify that the file exists"),e.numPendingFiles+e.scriptsLoading===0&&e.refreshQueue()},u=function(){e.numPendingFiles--,e.scriptsLoading--,s&&s.call(l),e.numPendingFiles+e.scriptsLoading===0&&e.refreshQueue()};e.isLoading=!0,e.numPendingFiles++,e.scriptsLoading++,i=n.disableCaching?o+"?"+n.disableCachingParam+"="+Ext.Date.now():o,x[o]=e.injectScriptElement(i,u,d)},loadScriptFile:function(t,i,n,r,o){if(f[t])return e;var a,s,l,d=e.getConfig(),u=t+(d.disableCaching?"?"+d.disableCachingParam+"="+Ext.Date.now():""),c=!1,h="";if(r=r||e,e.isLoading=!0,o){a="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");try{a.open("GET",u,!1),a.send(null)}catch(e){c=!0}s=1223===a.status?204:0===a.status&&"file:"==(self.location||{}).protocol?200:a.status,c=c||0===s,c||(s>=200&&s<300||304===s)&&(Ext.isIE||(h="\n//@ sourceURL="+t),Ext.globalEval(a.responseText+h),i.call(r)),a=null}else l=function(){},x[t]=e.injectScriptElement(u,i,l,r)},syncRequire:function(){var t=e.syncModeEnabled;t||(e.syncModeEnabled=!0),e.require.apply(e,arguments),t||(e.syncModeEnabled=!1),e.refreshQueue()},require:function(i,n,r,a){var s,l,d,u,c,h,f,x,y,v,E,b={},w={},C=[],S=[],_=[],k=[];if(a)for(a="string"==typeof a?[a]:a,x=0,v=a.length;x<v;x++)if(c=a[x],"string"==typeof c&&c.length>0)for(C=t.getNamesByExpression(c),y=0,E=C.length;y<E;y++)b[C[y]]=!0;for(i="string"==typeof i?[i]:i?i:[],s=n?n.length>0?function(){var e,i,r=[];for(e=0,i=k.length;e<i;e++)r.push(t.get(k[e]));return n.apply(this,r)}:n:Ext.emptyFn,r=r||Ext.global,x=0,v=i.length;x<v;x++)if(u=i[x],"string"==typeof u&&u.length>0)for(S=t.getNamesByExpression(u),E=S.length,y=0;y<E;y++)f=S[y],b[f]!==!0&&(k.push(f),t.isCreated(f)||w[f]||(w[f]=!0,_.push(f)));if(!(_.length>0))return s.call(r),e;if(!e.config.enabled)throw new Error("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(_.length>1?"es":"")+": "+_.join(", "));for(l=e.syncModeEnabled,l||g.push({requires:_.slice(),callback:s,scope:r}),v=_.length,x=0;x<v;x++)h=_[x],d=e.getPath(h),l&&p.hasOwnProperty(h)&&(e.numPendingFiles--,e.removeScriptElement(d),delete p[h]),p.hasOwnProperty(h)||(p[h]=!1,m[h]=d,e.numPendingFiles++,e.loadScriptFile(d,o(e.onFileLoaded,[h,d],e),o(e.onFileLoadError,[h,d],e),e,l));return l&&(s.call(r),1===v)?t.get(h):e},onFileLoaded:function(t,i){e.numLoadedFiles++,p[t]=!0,f[i]=!0,e.numPendingFiles--,0===e.numPendingFiles&&e.refreshQueue()},onFileLoadError:function(t,i,n,r){e.numPendingFiles--,e.hasFileLoadError=!0},addUsedClasses:function(t){var i,n,r;if(t)for(t="string"==typeof t?[t]:t,n=0,r=t.length;n<r;n++)i=t[n],"string"!=typeof i||Ext.Array.contains(v,i)||v.push(i);return e},triggerReady:function(){var t,i=v;if(e.isLoading&&(e.isLoading=!1,0!==i.length))return i=i.slice(),v.length=0,e.require(i,e.triggerReady,e),e;for(;y.length&&!e.isLoading;)t=y.shift(),t.fn.call(t.scope);return e},onReady:function(t,i,n,r){var o;n!==!1&&Ext.onDocumentReady&&(o=t,t=function(){Ext.onDocumentReady(o,i,r)}),e.isLoading?y.push({fn:t,scope:i}):t.call(i)},historyPush:function(t){return t&&p.hasOwnProperty(t)&&!d[t]&&(d[t]=!0,u.push(t)),e}}),Ext.disableCacheBuster=function(e,t){var i=new Date;i.setTime(i.getTime()+24*(e?3650:-1)*60*60*1e3),i=i.toGMTString(),document.cookie="ext-cache=1; expires="+i+"; path="+(t||"/")},Ext.require=r(e,"require"),Ext.syncRequire=r(e,"syncRequire"),Ext.exclude=r(e,"exclude"),Ext.onReady=function(t,i,n){e.onReady(t,i,!0,n)},i.registerPreprocessor("loader",function(i,n,r,o){var a,s,d,u,c,h,g,p=this,f=[];t.getName(i);for(a=0,d=l.length;a<d;a++)if(h=l[a],n.hasOwnProperty(h))if(g=n[h],"string"==typeof g)f.push(g);else if(g instanceof Array)for(s=0,u=g.length;s<u;s++)c=g[s],"string"==typeof c&&f.push(c);else if("function"!=typeof g)for(s in g)g.hasOwnProperty(s)&&(c=g[s],"string"==typeof c&&f.push(c));if(0!==f.length)return e.require(f,function(){for(a=0,d=l.length;a<d;a++)if(h=l[a],n.hasOwnProperty(h))if(g=n[h],"string"==typeof g)n[h]=t.get(g);else if(g instanceof Array)for(s=0,u=g.length;s<u;s++)c=g[s],"string"==typeof c&&(n[h][s]=t.get(c));else if("function"!=typeof g)for(var e in g)g.hasOwnProperty(e)&&(c=g[e],"string"==typeof c&&(n[h][e]=t.get(c)));o.call(p,i,n,r)}),!1},!0,"after","className"),t.registerPostprocessor("uses",function(t,i,n){var r=n.uses;r&&e.addUsedClasses(r)}),t.onCreated(e.historyPush)},Ext.Error=Ext.extend(Error,{statics:{ignore:!1,raise:function(e){e=e||{},Ext.isString(e)&&(e={msg:e});var t,i=this.raise.caller;if(i&&(i.$name&&(e.sourceMethod=i.$name),i.$owner&&(e.sourceClass=i.$owner.$className)),Ext.Error.handle(e)!==!0)throw t=Ext.Error.prototype.toString.call(e),Ext.log({msg:t,level:"error",dump:e,stack:!0}),new Ext.Error(e)},handle:function(){return Ext.Error.ignore}},name:"Ext.Error",constructor:function(e){Ext.isString(e)&&(e={msg:e});var t=this;Ext.apply(t,e),t.message=t.message||t.msg},toString:function(){var e=this,t=e.sourceClass?e.sourceClass:"",i=e.sourceMethod?"."+e.sourceMethod+"(): ":"",n=e.msg||"(No description provided)";return t+i+n}}),Ext.deprecated=function(e){return Ext.emptyFn},Ext.JSON=new function(){var me=this,encodingFunction,decodingFunction,useNative=null,useHasOwn=!!{}.hasOwnProperty,isNative=function(){return null===useNative&&(useNative=Ext.USE_NATIVE_JSON&&window.JSON&&"[object JSON]"==JSON.toString()),useNative},pad=function(e){return e<10?"0"+e:e},doDecode=function(json){return eval("("+json+")")},doEncode=function(e,t){return null===e||void 0===e?"null":Ext.isDate(e)?Ext.JSON.encodeDate(e):Ext.isString(e)?Ext.JSON.encodeString(e):"number"==typeof e?isFinite(e)?String(e):"null":Ext.isBoolean(e)?String(e):e.toJSON?e.toJSON():Ext.isArray(e)?encodeArray(e,t):Ext.isObject(e)?encodeObject(e,t):"function"==typeof e?"null":"undefined"},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\v":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(e){return'"'+e.replace(charToReplace,function(e){var t=m[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeArray=function(e,t){var i,n=["[",""],r=e.length;for(i=0;i<r;i+=1)n.push(Ext.JSON.encodeValue(e[i]),",");return n[n.length-1]="]",n.join("")},encodeObject=function(e,t){var i,n=["{",""];for(i in e)useHasOwn&&!e.hasOwnProperty(i)||n.push(Ext.JSON.encodeValue(i),":",Ext.JSON.encodeValue(e[i]),",");return n[n.length-1]="}",n.join("")};me.encodeString=encodeString,me.encodeValue=doEncode,me.encodeDate=function(e){return'"'+e.getFullYear()+"-"+pad(e.getMonth()+1)+"-"+pad(e.getDate())+"T"+pad(e.getHours())+":"+pad(e.getMinutes())+":"+pad(e.getSeconds())+'"'},me.encode=function(e){return encodingFunction||(encodingFunction=isNative()?JSON.stringify:me.encodeValue),encodingFunction(e)},me.decode=function(e,t){decodingFunction||(decodingFunction=isNative()?JSON.parse:doDecode);try{return decodingFunction(e)}catch(i){if(t===!0)return null;Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+e})}}},Ext.encode=Ext.JSON.encode,Ext.decode=Ext.JSON.decode,Ext.apply(Ext,{userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1e3,windowId:"ext-window",documentId:"ext-document",isReady:!1,enableGarbageCollector:!0,enableListenerCollection:!0,addCacheEntry:function(e,t,i){i=i||t.dom;var n=e||t&&t.id||i.id,r=Ext.cache[n]||(Ext.cache[n]={data:{},events:{},dom:i,skipGarbageCollection:!(!i.getElementById&&!i.navigator)});return t&&(t.$cache=r,r.el=t),r},updateCacheEntry:function(e,t){return e.dom=t,e.el&&(e.el.dom=t),e},id:function(e,t){var i=this,n="";return e=Ext.getDom(e,!0)||{},e===document?e.id=i.documentId:e===window&&(e.id=i.windowId),e.id||(i.isSandboxed&&(n=Ext.sandboxName.toLowerCase()+"-"),e.id=n+(t||"ext-gen")+ ++Ext.idSeed),e.id},escapeId:function(){var e=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,t=/([\W]{1})/g,i=/^(\d)/g,n=function(e,t){
return"\\"+t},r=function(e,t){return"\\00"+t.charCodeAt(0).toString(16)+" "};return function(o){return e.test(o)?o:o.replace(t,n).replace(i,r)}}(),getBody:function(){var e;return function(){return e||(e=Ext.get(document.body))}}(),getHead:function(){var e;return function(){return e||(e=Ext.get(document.getElementsByTagName("head")[0]))}}(),getDoc:function(){var e;return function(){return e||(e=Ext.get(document))}}(),getCmp:function(e){return Ext.ComponentManager.get(e)},getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},destroy:function(){var e,t,i=arguments.length;for(e=0;e<i;e++)t=arguments[e],t&&(Ext.isArray(t)?this.destroy.apply(this,t):Ext.isFunction(t.destroy)?t.destroy():t.dom&&t.remove())},callback:function(e,t,i,n){Ext.isFunction(e)&&(i=i||[],t=t||window,n?Ext.defer(e,n,t,i):e.apply(t,i))},htmlEncode:function(e){return Ext.String.htmlEncode(e)},htmlDecode:function(e){return Ext.String.htmlDecode(e)},urlAppend:function(e,t){return Ext.String.urlAppend(e,t)}}),Ext.ns=Ext.namespace,window.undefined=window.undefined,function(){var e,t=function(e){return e.test(Ext.userAgent)},i="CSS1Compat"==document.compatMode,n=function(e,t){var i;return e&&(i=t.exec(Ext.userAgent))?parseFloat(i[1]):0},r=document.documentMode,o=t(/opera/),a=o&&t(/version\/10\.5/),s=t(/\bchrome\b/),l=t(/webkit/),d=!s&&t(/safari/),u=d&&t(/applewebkit\/4/),c=d&&t(/version\/3/),h=d&&t(/version\/4/),g=d&&t(/version\/5\.0/),p=d&&t(/version\/5/),f=!o&&t(/msie/),m=f&&(t(/msie 7/)&&8!=r&&9!=r||7==r),x=f&&(t(/msie 8/)&&7!=r&&9!=r||8==r),y=f&&(t(/msie 9/)&&7!=r&&8!=r||9==r),v=f&&t(/msie 6/),E=!l&&t(/gecko/),b=E&&t(/rv:1\.9/),w=E&&t(/rv:2\.0/),C=E&&t(/rv:5\./),S=E&&t(/rv:10\./),_=b&&t(/rv:1\.9\.0/),k=b&&t(/rv:1\.9\.1/),P=b&&t(/rv:1\.9\.2/),T=t(/windows|win32/),I=t(/macintosh|mac os x/),D=t(/linux/),A=null,M=n(!0,/\bchrome\/(\d+\.\d+)/),R=n(!0,/\bfirefox\/(\d+\.\d+)/),F=n(f,/msie (\d+\.\d+)/),L=n(o,/version\/(\d+\.\d+)/),B=n(d,/version\/(\d+\.\d+)/),O=n(l,/webkit\/(\d+\.\d+)/),N=/^https/i.test(window.location.protocol);try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}e=function(){},e.info=e.warn=e.error=Ext.emptyFn,Ext.setVersion("extjs","4.1.1"),Ext.apply(Ext,{SSL_SECURE_URL:N&&f?"javascript:''":"about:blank",scopeResetCSS:Ext.buildSettings.scopeResetCSS,resetCls:Ext.buildSettings.baseCSSPrefix+"reset",enableNestedListenerRemoval:!1,USE_NATIVE_JSON:!1,getDom:function(e,t){if(!e||!document)return null;if(e.dom)return e.dom;if("string"==typeof e){var i=Ext.getElementById(e);return i&&f&&t?e==i.getAttribute("id")?i:null:i}return e},removeNode:v||m||x?function(){var e;return function(t){if(t&&"BODY"!=t.tagName.toUpperCase()){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(t):Ext.EventManager.removeAll(t);var i=Ext.cache,n=t.id;i[n]&&(delete i[n].dom,delete i[n]),x&&t.parentNode&&t.parentNode.removeChild(t),e=e||document.createElement("div"),e.appendChild(t),e.innerHTML=""}}}():function(e){if(e&&e.parentNode&&"BODY"!=e.tagName.toUpperCase()){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(e):Ext.EventManager.removeAll(e);var t=Ext.cache,i=e.id;t[i]&&(delete t[i].dom,delete t[i]),e.parentNode.removeChild(e)}},isStrict:i,isIEQuirks:f&&!i,isOpera:o,isOpera10_5:a,isWebKit:l,isChrome:s,isSafari:d,isSafari3:c,isSafari4:h,isSafari5:p,isSafari5_0:g,isSafari2:u,isIE:f,isIE6:v,isIE7:m,isIE8:x,isIE9:y,isGecko:E,isGecko3:b,isGecko4:w,isGecko5:C,isGecko10:S,isFF3_0:_,isFF3_5:k,isFF3_6:P,isFF4:4<=R&&R<5,isFF5:5<=R&&R<6,isFF10:10<=R&&R<11,isLinux:D,isWindows:T,isMac:I,chromeVersion:M,firefoxVersion:R,ieVersion:F,operaVersion:L,safariVersion:B,webKitVersion:O,isSecure:N,BLANK_IMAGE_URL:v||m?"//www.sencha.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",value:function(e,t,i){return Ext.isEmpty(e,i)?t:e},escapeRe:function(e){return e.replace(/([-.*+?\^${}()|\[\]\/\\])/g,"\\$1")},addBehaviors:function(e){if(Ext.isReady){var t,i,n,r={};for(i in e)(t=i.split("@"))[1]&&(n=t[0],r[n]||(r[n]=Ext.select(n)),r[n].on(t[1],e[i]));r=null}else Ext.onReady(function(){Ext.addBehaviors(e)})},getScrollbarSize:function(e){if(!Ext.isReady)return{};if(e||!A){var t=document.body,i=document.createElement("div");i.style.width=i.style.height="100px",i.style.overflow="scroll",i.style.position="absolute",t.appendChild(i),A={width:i.offsetWidth-i.clientWidth,height:i.offsetHeight-i.clientHeight},t.removeChild(i)}return A},getScrollBarWidth:function(e){var t=Ext.getScrollbarSize(e);return t.width+2},copyTo:function(e,t,i,n){"string"==typeof i&&(i=i.split(/[,;\s]/));var r,o,a=i.length;for(r=0;r<a;r++)o=i[r],(n||t.hasOwnProperty(o))&&(e[o]=t[o]);return e},destroyMembers:function(e){for(var t=1,i=arguments,n=i.length;t<n;t++)Ext.destroy(e[i[t]]),delete e[i[t]]},log:e,partition:function(e,t){var i,n,r=[[],[]],o=e.length;for(i=0;i<o;i++)n=e[i],r[t&&t(n,i,e)||!t&&n?0:1].push(n);return r},invoke:function(e,t){var i,n,r=[],o=Array.prototype.slice.call(arguments,2),a=e.length;for(i=0;i<a;i++)n=e[i],n&&"function"==typeof n[t]?r.push(n[t].apply(n,o)):r.push(void 0);return r},zip:function(){var e,t,i,n=Ext.partition(arguments,function(e){return"function"!=typeof e}),r=n[0],o=n[1][0],a=Ext.max(Ext.pluck(r,"length")),s=[];for(e=0;e<a;e++)if(s[e]=[],o)s[e]=o.apply(o,Ext.pluck(r,e));else for(t=0,i=r.length;t<i;t++)s[e].push(r[t][e]);return s},toSentence:function(e,t){var i,n,r=e.length;return r<=1?e[0]:(i=e.slice(0,r-1),n=e[r-1],Ext.util.Format.format("{0} {1} {2}",i.join(", "),t||"and",n))},useShims:v})}(),Ext.application=function(e){Ext.require("Ext.app.Application"),Ext.onReady(function(){new Ext.app.Application(e)})},function(){Ext.ns("Ext.util"),Ext.util.Format={};var e,t=Ext.util.Format,i=/<\/?[^>]+>/gi,n=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,r=/\r?\n/g,o=/[^\d\.]/g;Ext.apply(t,{thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencyAtEnd:!1,undef:function(e){return void 0!==e?e:""},defaultValue:function(e,t){return void 0!==e&&""!==e?e:t},substr:"b"!="ab".substr(-1)?function(e,t,i){var n=String(e);return t<0?n.substr(Math.max(n.length+t,0),i):n.substr(t,i)}:function(e,t,i){return String(e).substr(t,i)},lowercase:function(e){return String(e).toLowerCase()},uppercase:function(e){return String(e).toUpperCase()},usMoney:function(e){return t.currency(e,"$",2)},currency:function(e,i,n,r){var o="",a=",0",s=0;for(e-=0,e<0&&(e=-e,o="-"),n=Ext.isDefined(n)?n:t.currencyPrecision,a+=a+(n>0?".":"");s<n;s++)a+="0";return e=t.number(e,a),(r||t.currencyAtEnd)===!0?Ext.String.format("{0}{1}{2}",o,e,i||t.currencySign):Ext.String.format("{0}{1}{2}",o,i||t.currencySign,e)},date:function(e,t){return e?(Ext.isDate(e)||(e=new Date(Date.parse(e))),Ext.Date.dateFormat(e,t||Ext.Date.defaultFormat)):""},dateRenderer:function(e){return function(i){return t.date(i,e)}},stripTags:function(e){return e?String(e).replace(i,""):e},stripScripts:function(e){return e?String(e).replace(n,""):e},fileSize:function(e){return e<1024?e+" bytes":e<1048576?Math.round(10*e/1024)/10+" KB":Math.round(10*e/1048576)/10+" MB"},math:function(){var e={};return function(t,i){return e[i]||(e[i]=Ext.functionFactory("v","return v "+i+";")),e[i](t)}}(),round:function(e,t){var i=Number(e);return"number"==typeof t&&(t=Math.pow(10,t),i=Math.round(e*t)/t),i},number:function(i,n){if(!n)return i;if(i=Ext.Number.from(i,NaN),isNaN(i))return"";var r,a,s,l,d,u,c,h,g,p=t.thousandSeparator,f=t.decimalSeparator,m=!1,x=i<0;if(i=Math.abs(i),"/i"==n.substr(n.length-2)?(e||(e=new RegExp("[^\\d\\"+t.decimalSeparator+"]","g")),n=n.substr(0,n.length-2),m=!0,r=n.indexOf(p)!=-1,a=n.replace(e,"").split(f)):(r=n.indexOf(",")!=-1,a=n.replace(o,"").split(".")),a.length>2||(i=a.length>1?Ext.Number.toFixed(i,a[1].length):Ext.Number.toFixed(i,0)),s=i.toString(),a=s.split("."),r){for(l=a[0],d=[],u=l.length,c=Math.floor(u/3),h=l.length%3||3,g=0;g<u;g+=h)0!==g&&(h=3),d[d.length]=l.substr(g,h),c-=1;s=d.join(p),a[1]&&(s+=f+a[1])}else a[1]&&(s=a[0]+f+a[1]);return x&&(x=""!==s.replace(/[^1-9]/g,"")),(x?"-":"")+n.replace(/[\d,?\.?]+/,s)},numberRenderer:function(e){return function(i){return t.number(i,e)}},plural:function(e,t,i){return e+" "+(1==e?t:i?i:t+"s")},nl2br:function(e){return Ext.isEmpty(e)?"":e.replace(r,"<br/>")},capitalize:Ext.String.capitalize,ellipsis:Ext.String.ellipsis,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,trim:Ext.String.trim,parseBox:function(e){e=Ext.isEmpty(e)?"":e,Ext.isNumber(e)&&(e=e.toString());var t=e.split(" "),i=t.length;return 1==i?t[1]=t[2]=t[3]=t[0]:2==i?(t[2]=t[0],t[3]=t[1]):3==i&&(t[3]=t[1]),{top:parseInt(t[0],10)||0,right:parseInt(t[1],10)||0,bottom:parseInt(t[2],10)||0,left:parseInt(t[3],10)||0}},escapeRegex:function(e){return e.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,"\\$1")}})}(),Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(e){var t=this;"number"==typeof e?t.interval=e:e&&Ext.apply(t,e),t.tasks=[],t.timerFn=Ext.Function.bind(t.onTick,t)},newTask:function(e){var t=new Ext.util.TaskRunner.Task(e);return t.manager=this,t},start:function(e){var t=this,i=(new Date).getTime();return e.pending||(t.tasks.push(e),e.pending=!0),e.stopped=!1,e.taskStartTime=i,e.taskRunTime=e.fireOnStart!==!1?0:e.taskStartTime,e.taskRunCount=0,t.firing||(e.fireOnStart!==!1?t.startTimer(0,i):t.startTimer(e.interval,i)),e},stop:function(e){return e.stopped||(e.stopped=!0,e.onStop&&e.onStop.call(e.scope||e,e)),e},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1e99,onTick:function(){var e,t,i,n,r,o,a=this,s=a.tasks,l=(new Date).getTime(),d=1e99,u=s.length;for(a.timerId=null,a.firing=!0,i=0;i<u||i<(u=s.length);++i){if(n=s[i],!(o=n.stopped)){if(e=n.taskRunTime+n.interval,e<=l){r=1;try{r=n.run.apply(n.scope||n,n.args||[++n.taskRunCount])}catch(e){try{n.onError&&(r=n.onError.call(n.scope||n,n,e))}catch(e){}}n.taskRunTime=l,r===!1||n.taskRunCount===n.repeat?(a.stop(n),o=!0):(o=n.stopped,e=l+n.interval)}!o&&n.duration&&n.duration<=l-n.taskStartTime&&(a.stop(n),o=!0)}o?(n.pending=!1,t||(t=s.slice(0,i))):(t&&t.push(n),d>e&&(d=e))}t&&(a.tasks=t),a.firing=!1,a.tasks.length&&a.startTimer(d-l,(new Date).getTime())},startTimer:function(e,t){var i=this,n=t+e,r=i.timerId;r&&i.nextExpires-n>i.interval&&(clearTimeout(r),r=null),r||(e<i.interval&&(e=i.interval),i.timerId=setTimeout(i.timerFn,e),i.nextExpires=n)}},function(){var e=this,t=e.prototype;t.destroy=t.stopAll,Ext.util.TaskManager=Ext.TaskManager=new e,e.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(e){Ext.apply(this,e)},restart:function(e){void 0!==e&&(this.interval=e),this.manager.start(this)},start:function(e){this.stopped&&this.restart(e)},stop:function(){this.manager.stop(this)}}),t=e.Task.prototype,t.destroy=t.stop}),Ext.define("Ext.perf.Accumulator",function(){function e(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function t(t){var i=t?t:l()-this.time,n=this,r=n.accum;++r.count,--r.depth||e(r.total,i),e(r.pure,i-n.childTime),a=n.parent,a&&(++a.accum.childCount,a.childTime+=i)}function i(){return{min:Number.MAX_VALUE,max:0,sum:0}}function n(e,t){return function(){var i=e.enter(),n=t.apply(this,arguments);return i.leave(),n}}function r(e,t,i,n){var r={avg:0,min:n.min,max:n.max,sum:0};return e&&(i=i||0,r.sum=n.sum-t*i,r.avg=r.sum/e),r}var o,a=null,s=Ext.global.chrome,l=function(){l=function(){return(new Date).getTime()};var e,t;if(Ext.isChrome&&s&&s.Interval)e=new s.Interval,e.start(),l=function(){return e.microseconds()/1e3};else if(window.ActiveXObject)try{t=new ActiveXObject("SenchaToolbox.Toolbox"),Ext.senchaToolbox=t,l=function(){return t.milliseconds}}catch(e){}else Date.now&&(l=Date.now);return Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=l,l()};return{constructor:function(e){var t=this;t.count=t.childCount=t.depth=t.maxDepth=0,t.pure=i(),t.total=i(),t.name=e},statics:{getTimestamp:l},format:function(e){o||(o=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(e){return Math.round(100*e)/100}}));var t=this.getData(e);return t.name=this.name,t.pure.type="Pure",t.total.type="Total",t.times=[t.pure,t.total],o.apply(t)},getData:function(e){var t=this;return{count:t.count,childCount:t.childCount,depth:t.maxDepth,pure:r(t.count,t.childCount,e,t.pure),total:r(t.count,t.childCount,e,t.total)}},enter:function(){var e=this,i={accum:e,leave:t,childTime:0,parent:a};return++e.depth,e.maxDepth<e.depth&&(e.maxDepth=e.depth),a=i,i.time=l(),i},monitor:function(e,t,i){var n=this.enter();i?e.apply(t,i):e.call(t),n.leave()},report:function(){Ext.log(this.format())},tap:function(e,t){var i,r,o,a,s,l,d,u,c=this,h="string"==typeof t?[t]:t;return u=function(){if("string"==typeof e)for(i=Ext.global,a=e.split("."),o=0,s=a.length;o<s;++o)i=i[a[o]];else i=e;for(o=0,s=h.length;o<s;++o)l=h[o],r="!"==l.charAt(0),r?l=l.substring(1):r=!(l in i.prototype),d=r?i:i.prototype,d[l]=n(c,d[l])},Ext.ClassManager.onCreated(u,c,e),c}}}(),function(){Ext.perf.getTimestamp=this.getTimestamp}),Ext.define("Ext.perf.Monitor",{singleton:!0,alternateClassName:"Ext.Perf",requires:["Ext.perf.Accumulator"],constructor:function(){this.accumulators=[],this.accumulatorsByName={}},calibrate:function(){var e,t,i,n=new Ext.perf.Accumulator("$"),r=n.total,o=Ext.perf.Accumulator.getTimestamp,a=0;i=o();do e=n.enter(),e.leave(),++a;while(r.sum<100);return t=o(),(t-i)/a},get:function(e){var t=this,i=t.accumulatorsByName[e];return i||(t.accumulatorsByName[e]=i=new Ext.perf.Accumulator(e),t.accumulators.push(i)),i},enter:function(e){return this.get(e).enter()},monitor:function(e,t,i){this.get(e).monitor(t,i)},report:function(){var e=this,t=e.accumulators,i=e.calibrate();t.sort(function(e,t){return e.name<t.name?-1:t.name<e.name?1:0}),e.updateGC(),Ext.log("Calibration: "+Math.round(100*i)/100+" msec/sample"),Ext.each(t,function(e){Ext.log(e.format(i))})},getData:function(e){var t={},i=this.accumulators;return Ext.each(i,function(i){(e||i.count)&&(t[i.name]=i.getData())}),t},reset:function(){Ext.each(this.accumulators,function(e){var t=e;t.count=t.childCount=t.depth=t.maxDepth=0,t.pure={min:Number.MAX_VALUE,max:0,sum:0},t.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var e,t=this.accumulatorsByName.GC,i=Ext.senchaToolbox;t&&(t.count=i.garbageCollectionCounter||0,t.count&&(e=t.pure,t.total.sum=e.sum=i.garbageCollectionMilliseconds,e.min=e.max=e.sum/t.count,e=t.total,e.min=e.max=e.sum/t.count))},watchGC:function(){Ext.perf.getTimestamp();var e=Ext.senchaToolbox;e&&(this.get("GC"),e.watchGarbageCollector(!1))},setup:function(e){e||(e={render:{"Ext.AbstractComponent":"render"},layout:{"Ext.layout.Context":"run"}}),this.currentConfig=e;var t,i,n,r,o;for(t in e)if(e.hasOwnProperty(t)){i=e[t],n=Ext.Perf.get(t);for(r in i)i.hasOwnProperty(r)&&(o=i[r],n.tap(r,o))}this.watchGC()}}),Ext.is={init:function(e){var t,i,n=this.platforms,r=n.length;for(e=e||window.navigator,t=0;t<r;t++)i=n[t],this[i.identity]=i.regex.test(e[i.property]);this.Desktop=this.Mac||this.Windows||this.Linux&&!this.Android,this.Tablet=this.iPad,this.Phone=!this.Desktop&&!this.Tablet,this.iOS=this.iPhone||this.iPad||this.iPod,this.Standalone=!!window.navigator.standalone},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]},Ext.is.init(),function(){var e=function(e,t){var i=e.ownerDocument.defaultView,n=(i?i.getComputedStyle(e,null):e.currentStyle)||e.style;return n[t]};Ext.supports={init:function(){var e,t=this,i=document,n=t.tests,r=n.length,o=r&&Ext.isReady&&i.createElement("div"),a=[];for(o&&(o.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>',"</div>",'<div style="width: 200px; height: 200px; position: relative; padding: 5px;">','<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>',"</div>",'<div style="position: absolute; left: 10%; top: 10%;"></div>','<div style="float:left; background-color:transparent;"></div>'].join(""),i.body.appendChild(o));r--;)e=n[r],o||e.early?t[e.identity]=e.fn.call(t,i,o):a.push(e);o&&i.body.removeChild(o),t.tests=a},PointerEvents:"pointerEvents"in document.documentElement.style,CSS3BoxShadow:"boxShadow"in document.documentElement.style||"WebkitBoxShadow"in document.documentElement.style||"MozBoxShadow"in document.documentElement.style,ClassList:!!document.documentElement.classList,OrientationChange:"undefined"!=typeof window.orientation&&"onorientationchange"in window,DeviceMotion:"ondevicemotion"in window,Touch:"ontouchstart"in window&&!Ext.is.Desktop,TimeoutActualLateness:function(){setTimeout(function(){Ext.supports.TimeoutActualLateness=0!==arguments.length},0)}(),tests:[{identity:"Transitions",fn:function(t,i){for(var n=["webkit","Moz","o","ms","khtml"],r="TransitionEnd",o=[n[0]+r,"transitionend",n[2]+r,n[3]+r,n[4]+r],a=n.length,s=0,l=!1;s<a;s++)if(e(i,n[s]+"TransitionProperty")){Ext.supports.CSS3Prefix=n[s],Ext.supports.CSS3TransitionEnd=o[s],l=!0;break}return l}},{identity:"RightMargin",fn:function(e,t){var i=e.defaultView;return!(i&&"0px"!=i.getComputedStyle(t.firstChild.firstChild,null).marginRight)}},{identity:"DisplayChangeInputSelectionBug",early:!0,fn:function(){var e=Ext.webKitVersion;return 0<e&&e<533}},{identity:"DisplayChangeTextAreaSelectionBug",early:!0,fn:function(){var e=Ext.webKitVersion;return 0<e&&e<534.24}},{identity:"TransparentColor",fn:function(e,t,i){return i=e.defaultView,!(i&&"transparent"!=i.getComputedStyle(t.lastChild,null).backgroundColor)}},{identity:"ComputedStyle",fn:function(e,t,i){return i=e.defaultView,i&&i.getComputedStyle}},{identity:"Svg",fn:function(e){return!!e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(e){return!!e.createElement("canvas").getContext}},{identity:"Vml",fn:function(e){var t=e.createElement("div");return t.innerHTML="<!--[if vml]><br/><br/><![endif]-->",2==t.childNodes.length}},{identity:"Float",fn:function(e,t){return!!t.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(e){return!!e.createElement("audio").canPlayType}},{identity:"History",fn:function(){var e=window.history;return!(!e||!e.pushState)}},{identity:"CSS3DTransform",fn:function(){return"undefined"!=typeof WebKitCSSMatrix&&(new WebKitCSSMatrix).hasOwnProperty("m41")}},{identity:"CSS3LinearGradient",fn:function(e,t){var i="background-image:",n="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",r="linear-gradient(left top, black, white)",o="-moz-"+r,a="-o-"+r,s=[i+n,i+r,i+o,i+a];return t.style.cssText=s.join(";"),(""+t.style.backgroundImage).indexOf("gradient")!==-1}},{identity:"CSS3BorderRadius",fn:function(e,t){var i,n=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],r=!1;for(i=0;i<n.length;i++)if(void 0!==document.body.style[n[i]])return!0;return r}},{identity:"GeoLocation",fn:function(){return"undefined"!=typeof navigator&&"undefined"!=typeof navigator.geolocation||"undefined"!=typeof google&&"undefined"!=typeof google.gears}},{identity:"MouseEnterLeave",fn:function(e,t){return"onmouseenter"in t&&"onmouseleave"in t}},{identity:"MouseWheel",fn:function(e,t){return"onmousewheel"in t}},{identity:"Opacity",fn:function(e,t){return!(Ext.isIE6||Ext.isIE7||Ext.isIE8)&&(t.firstChild.style.cssText="opacity:0.73","0.73"==t.firstChild.style.opacity)}},{identity:"Placeholder",fn:function(e){return"placeholder"in e.createElement("input")}},{identity:"Direct2DBug",fn:function(){return Ext.isString(document.body.style.msTransformOrigin)}},{identity:"BoundingClientRect",fn:function(e,t){return Ext.isFunction(t.getBoundingClientRect)}},{identity:"IncludePaddingInWidthCalculation",fn:function(e,t){return 210==t.childNodes[1].firstChild.offsetWidth}},{identity:"IncludePaddingInHeightCalculation",fn:function(e,t){return 210==t.childNodes[1].firstChild.offsetHeight}},{identity:"ArraySort",fn:function(){var e=[1,2,3,4,5].sort(function(){return 0});return 1===e[0]&&2===e[1]&&3===e[2]&&4===e[3]&&5===e[4]}},{identity:"Range",fn:function(){return!!document.createRange}},{identity:"CreateContextualFragment",fn:function(){var e=!!Ext.supports.Range&&document.createRange();return e&&!!e.createContextualFragment}},{identity:"WindowOnError",fn:function(){return Ext.isIE||Ext.isGecko||Ext.webKitVersion>=534.16}},{identity:"TextAreaMaxLength",fn:function(){var e=document.createElement("textarea");return"maxlength"in e}},{identity:"GetPositionPercentage",fn:function(t,i){return"10%"==e(i.childNodes[2],"left")}}]}}(),Ext.supports.init(),Ext.util.DelayedTask=function(e,t,i){var n,r=this,o=function(){clearInterval(n),n=null,e.apply(t,i||[])};this.delay=function(a,s,l,d){r.cancel(),e=s||e,t=l||t,i=d||i,n=setInterval(o,a)},this.cancel=function(){n&&(clearInterval(n),n=null)}},Ext.require("Ext.util.DelayedTask",function(){Ext.util.Event=Ext.extend(Object,function(){function e(e,t,i,n){return function(){i.target===arguments[0]&&e.apply(n,arguments)}}function t(e,t,i,n){return t.task=new Ext.util.DelayedTask,function(){t.task.delay(i.buffer,e,n,Ext.Array.toArray(arguments))}}function i(e,t,i,n){return function(){var r=new Ext.util.DelayedTask;t.tasks||(t.tasks=[]),t.tasks.push(r),r.delay(i.delay||10,e,n,Ext.Array.toArray(arguments))}}function n(e,t,i,n){return function(){var i=t.ev;return i.removeListener(t.fn,n)&&i.observable&&i.observable.hasListeners[i.name]--,e.apply(n,arguments)}}var r={};return{isEvent:!0,constructor:function(e,t){this.name=t,this.observable=e,this.listeners=[]},addListener:function(e,t,i){var n,r=this;t=t||r.observable,r.isListening(e,t)||(n=r.createListener(e,t,i),r.firing&&(r.listeners=r.listeners.slice(0)),r.listeners.push(n))},createListener:function(o,a,s){s=s||r,a=a||this.observable;var l={fn:o,scope:a,o:s,ev:this},d=o;return s.single&&(d=n(d,l,s,a)),s.target&&(d=e(d,l,s,a)),s.delay&&(d=i(d,l,s,a)),s.buffer&&(d=t(d,l,s,a)),l.fireFn=d,l},findListener:function(e,t){for(var i,n,r=this.listeners,o=r.length;o--;)if(i=r[o],i&&(n=i.scope,i.fn==e&&n==(t||this.observable)))return o;return-1},isListening:function(e,t){return this.findListener(e,t)!==-1},removeListener:function(e,t){var i,n,r,o=this;if(i=o.findListener(e,t),i!=-1){if(n=o.listeners[i],o.firing&&(o.listeners=o.listeners.slice(0)),n.task&&(n.task.cancel(),delete n.task),r=n.tasks&&n.tasks.length){for(;r--;)n.tasks[r].cancel();delete n.tasks}return Ext.Array.erase(o.listeners,i,1),!0}return!1},clearListeners:function(){for(var e=this.listeners,t=e.length;t--;)this.removeListener(e[t].fn,e[t].scope)},fire:function(){var e,t,i,n=this,r=n.listeners,o=r.length;if(o>0)for(n.firing=!0,e=0;e<o;e++)if(i=r[e],t=arguments.length?Array.prototype.slice.call(arguments,0):[],i.o&&t.push(i.o),i&&i.fireFn.apply(i.scope||n.observable,t)===!1)return n.firing=!1;return n.firing=!1,!0}}}())}),Ext.EventManager=new function(){var e=this,t=document,i=window,n=function(){function e(e){a.push(o+e)}var i,n,r=t.body||t.getElementsByTagName("body")[0],o=Ext.baseCSSPrefix,a=[o+"body"],s=[],l=Ext.supports.CSS3LinearGradient,d=Ext.supports.CSS3BorderRadius,u=[];return!!r&&(i=r.parentNode,Ext.isIE&&(e("ie"),Ext.isIE6?e("ie6"):(e("ie7p"),Ext.isIE7?e("ie7"):(e("ie8p"),Ext.isIE8?e("ie8"):(e("ie9p"),Ext.isIE9&&e("ie9")))),(Ext.isIE6||Ext.isIE7)&&e("ie7m"),(Ext.isIE6||Ext.isIE7||Ext.isIE8)&&e("ie8m"),(Ext.isIE7||Ext.isIE8)&&e("ie78")),Ext.isGecko&&(e("gecko"),Ext.isGecko3&&e("gecko3"),Ext.isGecko4&&e("gecko4"),Ext.isGecko5&&e("gecko5")),Ext.isOpera&&e("opera"),Ext.isWebKit&&e("webkit"),Ext.isSafari&&(e("safari"),Ext.isSafari2&&e("safari2"),Ext.isSafari3&&e("safari3"),Ext.isSafari4&&e("safari4"),Ext.isSafari5&&e("safari5"),Ext.isSafari5_0&&e("safari5_0")),Ext.isChrome&&e("chrome"),Ext.isMac&&e("mac"),Ext.isLinux&&e("linux"),d||e("nbr"),l||e("nlg"),Ext.scopeResetCSS?(n=Ext.resetElementSpec={cls:o+"reset"},l||u.push(o+"nlg"),d||u.push(o+"nbr"),u.length&&(n.cn={cls:u.join(" ")}),Ext.resetElement=Ext.getBody().createChild(n),u.length&&(Ext.resetElement=Ext.get(Ext.resetElement.dom.firstChild))):(Ext.resetElement=Ext.getBody(),e("reset")),i&&(Ext.isStrict&&(Ext.isIE6||Ext.isIE7)?Ext.isBorderBox=!1:Ext.isBorderBox=!0,Ext.isBorderBox&&s.push(o+"border-box"),Ext.isStrict?s.push(o+"strict"):s.push(o+"quirks"),Ext.fly(i,"_internal").addCls(s)),Ext.fly(r,"_internal").addCls(a),!0)};Ext.apply(e,{hasBoundOnReady:!1,hasFiredReady:!1,deferReadyEvent:1,onReadyChain:[],readyEvent:function(){var e=new Ext.util.Event;return e.fire=function(){Ext._beforeReadyTime=Ext._beforeReadyTime||(new Date).getTime(),e.self.prototype.fire.apply(e,arguments),Ext._afterReadytime=(new Date).getTime()},e}(),idleEvent:new Ext.util.Event,isReadyPaused:function(){return/[?&]ext-pauseReadyFire\b/i.test(location.search)&&!Ext._continueFireReady},bindReadyEvent:function(){e.hasBoundOnReady||("complete"==t.readyState?e.onReadyEvent({type:t.readyState||"body"}):(document.addEventListener("DOMContentLoaded",e.onReadyEvent,!1),window.addEventListener("load",e.onReadyEvent,!1),e.hasBoundOnReady=!0))},onReadyEvent:function(t){t&&t.type&&e.onReadyChain.push(t.type),e.hasBoundOnReady&&(document.removeEventListener("DOMContentLoaded",e.onReadyEvent,!1),window.removeEventListener("load",e.onReadyEvent,!1)),Ext.isReady||e.fireDocReady()},fireDocReady:function(){Ext.isReady||(Ext._readyTime=(new Date).getTime(),Ext.isReady=!0,Ext.supports.init(),e.onWindowUnload(),e.readyEvent.onReadyChain=e.onReadyChain,Ext.isNumber(e.deferReadyEvent)?(Ext.Function.defer(e.fireReadyEvent,e.deferReadyEvent),e.hasDocReadyTimer=!0):e.fireReadyEvent())},fireReadyEvent:function(){var t=e.readyEvent;for(e.hasDocReadyTimer=!1,e.isFiring=!0;t.listeners.length&&!e.isReadyPaused();)t.fire();e.isFiring=!1,e.hasFiredReady=!0},onDocumentReady:function(t,i,n){n=n||{},n.single=!0,e.readyEvent.addListener(t,i,n),e.isFiring||e.hasDocReadyTimer||(Ext.isReady?e.fireReadyEvent():e.bindReadyEvent())},stoppedMouseDownEvent:new Ext.util.Event,propRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|freezeEvent)$/,getId:function(e){var n;return e=Ext.getDom(e),n=e===t||e===i?e===t?Ext.documentId:Ext.windowId:Ext.id(e),Ext.cache[n]||Ext.addCacheEntry(n,null,e),n},prepareListenerConfig:function(t,i,n){var r,o,a,s=e.propRe;for(r in i)i.hasOwnProperty(r)&&(s.test(r)||(o=i[r],a="function"==typeof o?[t,r,o,i.scope,i]:[t,r,o.fn,o.scope,o],n?e.removeListener.apply(e,a):e.addListener.apply(e,a)))},mouseEnterLeaveRe:/mouseenter|mouseleave/,normalizeEvent:function(t,i){return e.mouseEnterLeaveRe.test(t)&&!Ext.supports.MouseEnterLeave?(i&&(i=Ext.Function.createInterceptor(i,e.contains)),t="mouseenter"==t?"mouseover":"mouseout"):"mousewheel"!=t||Ext.supports.MouseWheel||Ext.isOpera||(t="DOMMouseScroll"),{eventName:t,fn:i}},contains:function(t){var i=t.browserEvent.currentTarget,n=e.getRelatedTarget(t);if(i&&i.firstChild)for(;n;){if(n===i)return!1;n=n.parentNode,n&&1!=n.nodeType&&(n=null)}return!0},addListener:function(i,n,r,o,a){if("string"!=typeof n)return void e.prepareListenerConfig(i,n);var s,l,d=i.dom||Ext.getDom(i);a=a||{},s=e.normalizeEvent(n,r),l=e.createListenerWrap(d,n,s.fn,o,a),d.attachEvent?d.attachEvent("on"+s.eventName,l):d.addEventListener(s.eventName,l,a.capture||!1),d==t&&"mousedown"==n&&e.stoppedMouseDownEvent.addListener(l),e.getEventListenerCache(i.dom?i:d,n).push({fn:r,wrap:l,scope:o})},removeListener:function(i,n,r,o){if("string"!=typeof n)return void e.prepareListenerConfig(i,n,!0);for(var a,s,l,d=Ext.getDom(i),u=i.dom?i:Ext.get(d),c=e.getEventListenerCache(u,n),h=e.normalizeEvent(n).eventName,g=c.length;g--;)if(s=c[g],s&&(!r||s.fn==r)&&(!o||s.scope===o)){if(l=s.wrap,l.task&&(clearTimeout(l.task),delete l.task),a=l.tasks&&l.tasks.length){for(;a--;)clearTimeout(l.tasks[a]);delete l.tasks}d.detachEvent?d.detachEvent("on"+h,l):d.removeEventListener(h,l,!1),l&&d==t&&"mousedown"==n&&e.stoppedMouseDownEvent.removeListener(l),Ext.Array.erase(c,g,1)}},removeAll:function(t){var i,n,r,o=t.dom?t:Ext.get(t);if(o){i=o.$cache||o.getCache(),n=i.events;for(r in n)n.hasOwnProperty(r)&&e.removeListener(o,r);i.events={}}},purgeElement:function(t,i){var n,r=Ext.getDom(t),o=0;if(i?e.removeListener(t,i):e.removeAll(t),r&&r.childNodes)for(n=t.childNodes.length;o<n;o++)e.purgeElement(t.childNodes[o],i)},createListenerWrap:function(t,i,n,r,o){o=o||{};var a,s,l=/\\/g,d=function(u,c){return s||(a=["if(!"+Ext.name+") {return;}"],o.buffer||o.delay||o.freezeEvent?a.push("e = new X.EventObjectImpl(e, "+(o.freezeEvent?"true":"false")+");"):a.push("e = X.EventObject.setEvent(e);"),o.delegate?(a.push('var result, t = e.getTarget("'+(o.delegate+"").replace(l,"\\\\")+'", this);'),a.push("if(!t) {return;}")):a.push("var t = e.target, result;"),o.target&&a.push("if(e.target !== options.target) {return;}"),o.stopEvent?a.push("e.stopEvent();"):(o.preventDefault&&a.push("e.preventDefault();"),o.stopPropagation&&a.push("e.stopPropagation();")),o.normalized===!1&&a.push("e = e.browserEvent;"),o.buffer&&(a.push("(wrap.task && clearTimeout(wrap.task));"),a.push("wrap.task = setTimeout(function() {")),o.delay&&(a.push("wrap.tasks = wrap.tasks || [];"),a.push("wrap.tasks.push(setTimeout(function() {")),a.push("result = fn.call(scope || dom, e, t, options);"),o.single&&a.push("evtMgr.removeListener(dom, ename, fn, scope);"),"mousemove"!==i&&(a.push("if (evtMgr.idleEvent.listeners.length) {"),a.push("evtMgr.idleEvent.fire();"),a.push("}")),o.delay&&a.push("}, "+o.delay+"));"),o.buffer&&a.push("}, "+o.buffer+");"),a.push("return result;"),s=Ext.cacheableFunctionFactory("e","options","fn","scope","ename","dom","wrap","args","X","evtMgr",a.join("\n"))),s.call(t,u,o,n,r,i,t,d,c,Ext,e)};return d},getEventListenerCache:function(t,i){var n,r;return t?(n=t.$cache?t.$cache:Ext.cache[e.getId(t)],r=n.events||(n.events={}),r[i]||(r[i]=[])):[]},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,stopEvent:function(t){e.stopPropagation(t),e.preventDefault(t)},stopPropagation:function(e){e=e.browserEvent||e,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},preventDefault:function(e){if(e=e.browserEvent||e,e.preventDefault)e.preventDefault();else{e.returnValue=!1;try{(e.ctrlKey||e.keyCode>111&&e.keyCode<124)&&(e.keyCode=-1)}catch(e){}}},getRelatedTarget:function(t){t=t.browserEvent||t;var i=t.relatedTarget;return i||(e.mouseLeaveRe.test(t.type)?i=t.toElement:e.mouseEnterRe.test(t.type)&&(i=t.fromElement)),e.resolveTextNode(i)},getPageX:function(t){return e.getPageXY(t)[0]},getPageY:function(t){return e.getPageXY(t)[1]},getPageXY:function(e){e=e.browserEvent||e;var i=e.pageX,n=e.pageY,r=t.documentElement,o=t.body;return i||0===i||(i=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),n=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),[i,n]},getTarget:function(t){return t=t.browserEvent||t,e.resolveTextNode(t.target||t.srcElement)},resolveTextNode:Ext.isGecko?function(e){if(e){var t=HTMLElement.prototype.toString.call(e);if("[xpconnect wrapped native prototype]"!=t&&"[object XULElement]"!=t)return 3==e.nodeType?e.parentNode:e}}:function(e){return e&&3==e.nodeType?e.parentNode:e},curWidth:0,curHeight:0,onWindowResize:function(t,n,r){var o=e.resizeEvent;o||(e.resizeEvent=o=new Ext.util.Event,e.on(i,"resize",e.fireResize,null,{buffer:100})),o.addListener(t,n,r)},fireResize:function(){
var t=Ext.Element.getViewWidth(),i=Ext.Element.getViewHeight();e.curHeight==i&&e.curWidth==t||(e.curHeight=i,e.curWidth=t,e.resizeEvent.fire(t,i))},removeResizeListener:function(t,i){var n=e.resizeEvent;n&&n.removeListener(t,i)},onWindowUnload:function(t,n,r){var o=e.unloadEvent;o||(e.unloadEvent=o=new Ext.util.Event,e.addListener(i,"unload",e.fireUnload)),t&&o.addListener(t,n,r)},fireUnload:function(){try{t=i=void 0;var n,r,o,a,s;if(e.unloadEvent.fire(),Ext.isGecko3)for(n=Ext.ComponentQuery.query("gridview"),r=0,o=n.length;r<o;r++)n[r].scrollToTop();s=Ext.cache;for(a in s)s.hasOwnProperty(a)&&e.removeAll(a)}catch(e){}},removeUnloadListener:function(t,i){var n=e.unloadEvent;n&&n.removeListener(t,i)},useKeyDown:Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera),getKeyEvent:function(){return e.useKeyDown?"keydown":"keypress"}}),"addEventListener"in document||!document.attachEvent||Ext.apply(e,{pollScroll:function(){var t=!0;try{document.documentElement.doScroll("left")}catch(e){t=!1}return t&&document.body?e.onReadyEvent({type:"doScroll"}):e.scrollTimeout=setTimeout(e.pollScroll,20),t},scrollTimeout:null,readyStatesRe:/complete/i,checkReadyState:function(){var t=document.readyState;e.readyStatesRe.test(t)&&e.onReadyEvent({type:t})},bindReadyEvent:function(){var i=!0;if(!e.hasBoundOnReady){try{i=void 0===window.frameElement}catch(e){i=!1}i&&t.documentElement.doScroll||(e.pollScroll=Ext.emptyFn),e.pollScroll()!==!0&&("complete"==t.readyState?e.onReadyEvent({type:"already "+(t.readyState||"body")}):(t.attachEvent("onreadystatechange",e.checkReadyState),window.attachEvent("onload",e.onReadyEvent),e.hasBoundOnReady=!0))}},onReadyEvent:function(t){t&&t.type&&e.onReadyChain.push(t.type),e.hasBoundOnReady&&(document.detachEvent("onreadystatechange",e.checkReadyState),window.detachEvent("onload",e.onReadyEvent)),Ext.isNumber(e.scrollTimeout)&&(clearTimeout(e.scrollTimeout),delete e.scrollTimeout),Ext.isReady||e.fireDocReady()},onReadyChain:[]}),Ext.onReady=function(e,t,i){Ext.Loader.onReady(e,t,!0,i)},Ext.onDocumentReady=e.onDocumentReady,e.on=e.addListener,e.un=e.removeListener,Ext.onReady(n)},Ext.define("Ext.EventObjectImpl",{uses:["Ext.util.Point"],BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:function(){var e;return Ext.isGecko?e=3:Ext.isMac?(e=Ext.isSafari&&Ext.webKitVersion>=532?120:12,e*=3):e=120,e}(),clickRe:/(dbl)?click/,safariKeys:{3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},btnMap:Ext.isIE?{1:0,4:1,2:2}:{0:0,1:1,2:2},constructor:function(e,t){e&&this.setEvent(e.browserEvent||e,t)},setEvent:function(e,t){var i,n,r=this;return e==r||e&&e.browserEvent?e:(r.browserEvent=e,e?(i=e.button?r.btnMap[e.button]:e.which?e.which-1:-1,r.clickRe.test(e.type)&&i==-1&&(i=0),n={type:e.type,button:i,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey||e.metaKey||!1,altKey:e.altKey,keyCode:e.keyCode,charCode:e.charCode,target:Ext.EventManager.getTarget(e),relatedTarget:Ext.EventManager.getRelatedTarget(e),currentTarget:e.currentTarget,xy:t?r.getXY():null}):n={button:-1,shiftKey:!1,ctrlKey:!1,altKey:!1,keyCode:0,charCode:0,target:null,xy:[0,0]},Ext.apply(r,n),r)},stopEvent:function(){this.stopPropagation(),this.preventDefault()},preventDefault:function(){this.browserEvent&&Ext.EventManager.preventDefault(this.browserEvent)},stopPropagation:function(){var e=this.browserEvent;e&&("mousedown"==e.type&&Ext.EventManager.stoppedMouseDownEvent.fire(this),Ext.EventManager.stopPropagation(e))},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(e){return Ext.isWebKit?this.safariKeys[e]||e:e},getPageX:function(){return this.getX()},getPageY:function(){return this.getY()},getX:function(){return this.getXY()[0]},getY:function(){return this.getXY()[1]},getXY:function(){return this.xy||(this.xy=Ext.EventManager.getPageXY(this.browserEvent)),this.xy},getTarget:function(e,t,i){return e?Ext.fly(this.target).findParent(e,t,i):i?Ext.get(this.target):this.target},getRelatedTarget:function(e,t,i){return e?Ext.fly(this.relatedTarget).findParent(e,t,i):i?Ext.get(this.relatedTarget):this.relatedTarget},correctWheelDelta:function(e){var t=this.WHEEL_SCALE,i=Math.round(e/t);return!i&&e&&(i=e<0?-1:1),i},getWheelDeltas:function(){var e=this,t=e.browserEvent,i=0,n=0;return Ext.isDefined(t.wheelDeltaX)?(i=t.wheelDeltaX,n=t.wheelDeltaY):t.wheelDelta?n=t.wheelDelta:t.detail&&(n=-t.detail,n>100?n=3:n<-100&&(n=-3),Ext.isDefined(t.axis)&&t.axis===t.HORIZONTAL_AXIS&&(i=n,n=0)),{x:e.correctWheelDelta(i),y:e.correctWheelDelta(n)}},getWheelDelta:function(){var e=this.getWheelDeltas();return e.y},within:function(e,t,i){if(e){var n,r=t?this.getRelatedTarget():this.getTarget();if(r)return n=Ext.fly(e).contains(r),!n&&i&&(n=r==Ext.getDom(e)),n}return!1},isNavKeyPress:function(){var e=this,t=this.normalizeKey(e.keyCode);return t>=33&&t<=40||t==e.RETURN||t==e.TAB||t==e.ESC},isSpecialKey:function(){var e=this.normalizeKey(this.keyCode);return"keypress"==this.type&&this.ctrlKey||this.isNavKeyPress()||e==this.BACKSPACE||e>=16&&e<=20||e>=44&&e<=46},getPoint:function(){var e=this.getXY();return new Ext.util.Point(e[0],e[1])},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey||this.metaKey},injectEvent:function(){function e(e,t){var n="mousemove"!=e;return function(r,o){var a=o.getXY(),s=i.createMouseEvent(r.ownerDocument,e,!0,n,t,a[0],a[1],o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget);i.fireEvent(r,e,s)}}function t(e,t){}var i,n,r={};return!Ext.isIE&&document.createEvent?i={createHtmlEvent:function(e,t,i,n){var r=e.createEvent("HTMLEvents");return r.initEvent(t,i,n),r},createMouseEvent:function(e,t,i,n,r,o,a,s,l,d,u,c,h){var g=e.createEvent("MouseEvents"),p=e.defaultView||window;return g.initMouseEvent?g.initMouseEvent(t,i,n,p,r,o,a,o,a,s,l,d,u,c,h):(g=e.createEvent("UIEvents"),g.initEvent(t,i,n),g.view=p,g.detail=r,g.screenX=o,g.screenY=a,g.clientX=o,g.clientY=a,g.ctrlKey=s,g.altKey=l,g.metaKey=u,g.shiftKey=d,g.button=c,g.relatedTarget=h),g},createUIEvent:function(e,t,i,n,r){var o=e.createEvent("UIEvents"),a=e.defaultView||window;return o.initUIEvent(t,i,n,a,r),o},fireEvent:function(e,t,i){e.dispatchEvent(i)},fixTarget:function(e){return e!=window||e.dispatchEvent?e:document}}:document.createEventObject&&(n={0:1,1:4,2:2},i={createHtmlEvent:function(e,t,i,n){var r=e.createEventObject();return r.bubbles=i,r.cancelable=n,r},createMouseEvent:function(e,t,i,r,o,a,s,l,d,u,c,h,g){var p=e.createEventObject();return p.bubbles=i,p.cancelable=r,p.detail=o,p.screenX=a,p.screenY=s,p.clientX=a,p.clientY=s,p.ctrlKey=l,p.altKey=d,p.shiftKey=u,p.metaKey=c,p.button=n[h]||h,p.relatedTarget=g,p},createUIEvent:function(e,t,i,n,r){var o=e.createEventObject();return o.bubbles=i,o.cancelable=n,o},fireEvent:function(e,t,i){e.fireEvent("on"+t,i)},fixTarget:function(e){return e==document?document.documentElement:e}}),Ext.Object.each({load:[!1,!1],unload:[!1,!1],select:[!0,!1],change:[!0,!1],submit:[!0,!0],reset:[!0,!1],resize:[!0,!1],scroll:[!0,!1]},function(e,t){var n=t[0],o=t[1];r[e]=function(t,r){var a=i.createHtmlEvent(e,n,o);i.fireEvent(t,e,a)}}),Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(t){r[t]=e(t,1)}),Ext.Object.each({focusin:[!0,!1],focusout:[!0,!1],activate:[!0,!0],focus:[!1,!1],blur:[!1,!1]},function(e,t){var n=t[0],o=t[1];r[e]=function(t,r){var a=i.createUIEvent(t.ownerDocument,e,n,o,1);i.fireEvent(t,e,a)}}),i||(r={},i={fixTarget:function(e){return e}}),function(e){var n=this,o=r[n.type]||t,a=e?e.dom||e:n.getTarget();a=i.fixTarget(a),o(a,n)}}()},function(){Ext.EventObject=new Ext.EventObjectImpl}),Ext.define("Ext.dom.AbstractQuery",{select:function(e,t){var i,n,r,o,a,s=[];for(t=t||document,"string"==typeof t&&(t=document.getElementById(t)),e=e.split(","),n=0,o=e.length;n<o;n++)if("string"==typeof e[n])if("@"==typeof e[n][0])i=t.getAttributeNode(e[n].substring(1)),s.push(i);else for(i=t.querySelectorAll(e[n]),r=0,a=i.length;r<a;r++)s.push(i[r]);return s},selectNode:function(e,t){return this.select(e,t)[0]},is:function(e,t){return"string"==typeof e&&(e=document.getElementById(e)),this.select(t).indexOf(e)!==-1}}),Ext.define("Ext.dom.AbstractHelper",{emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},decamelizeName:function(){function e(e,t,i){return t+"-"+i.toLowerCase()}var t=/([a-z])([A-Z])/g,i={};return function(n){return i[n]||(i[n]=n.replace(t,e))}}(),generateMarkup:function(e,t){var i,n,r,o,a,s=this;if("string"==typeof e)t.push(e);else if(Ext.isArray(e))for(o=0;o<e.length;o++)e[o]&&s.generateMarkup(e[o],t);else{r=e.tag||"div",t.push("<",r);for(i in e)e.hasOwnProperty(i)&&(n=e[i],s.confRe.test(i)||("object"==typeof n?(t.push(" ",i,'="'),s.generateStyles(n,t).push('"')):t.push(" ",s.attributeTransform[i]||i,'="',n,'"')));s.emptyTags.test(r)?t.push("/>"):(t.push(">"),(n=e.tpl)&&n.applyOut(e.tplData,t),(n=e.html)&&t.push(n),(n=e.cn||e.children)&&s.generateMarkup(n,t),a=s.closeTags,t.push(a[r]||(a[r]="</"+r+">")))}return t},generateStyles:function(e,t){var i,n=t||[];for(i in e)e.hasOwnProperty(i)&&n.push(this.decamelizeName(i),":",e[i],";");return t||n.join("")},markup:function(e){if("string"==typeof e)return e;var t=this.generateMarkup(e,[]);return t.join("")},applyStyles:function(e,t){if(t){var i,n=0;if(e=Ext.fly(e),"function"==typeof t&&(t=t.call()),"string"==typeof t)for(t=Ext.util.Format.trim(t).split(/\s*(?::|;)\s*/),i=t.length;n<i;)e.setStyle(t[n++],t[n++]);else Ext.isObject(t)&&e.setStyle(t)}},insertHtml:function(e,t,i){var n,r,o,a,s={};return e=e.toLowerCase(),s.beforebegin=["BeforeBegin","previousSibling"],s.afterend=["AfterEnd","nextSibling"],r=t.ownerDocument.createRange(),n="setStart"+(this.endRe.test(e)?"After":"Before"),s[e]?(r[n](t),o=r.createContextualFragment(i),t.parentNode.insertBefore(o,"beforebegin"==e?t:t.nextSibling),t[("beforebegin"==e?"previous":"next")+"Sibling"]):(a=("afterbegin"==e?"first":"last")+"Child",t.firstChild?(r[n](t[a]),o=r.createContextualFragment(i),"afterbegin"==e?t.insertBefore(o,t.firstChild):t.appendChild(o)):t.innerHTML=i,t[a])},insertBefore:function(e,t,i){return this.doInsert(e,t,i,"beforebegin")},insertAfter:function(e,t,i){return this.doInsert(e,t,i,"afterend","nextSibling")},insertFirst:function(e,t,i){return this.doInsert(e,t,i,"afterbegin","firstChild")},append:function(e,t,i){return this.doInsert(e,t,i,"beforeend","",!0)},overwrite:function(e,t,i){return e=Ext.getDom(e),e.innerHTML=this.markup(t),i?Ext.get(e.firstChild):e.firstChild},doInsert:function(e,t,i,n,r,o){var a=this.insertHtml(n,Ext.getDom(e),this.markup(t));return i?Ext.get(a,!0):a}}),function(){var e=window.document,t=/^\s+|\s+$/g,i=/\s/;Ext.cache||(Ext.cache={}),Ext.define("Ext.dom.AbstractElement",{inheritableStatics:{get:function(t){var i,n,r,o,a=this,s=Ext.dom.Element;return t?"string"==typeof t?t==Ext.windowId?s.get(window):t==Ext.documentId?s.get(e):(i=Ext.cache[t],i&&i.skipGarbageCollection?n=i.el:(r=e.getElementById(t))?n=i&&i.el?Ext.updateCacheEntry(i,r).el:new s(r,!!i):null):t.tagName?((o=t.id)||(o=Ext.id(t)),i=Ext.cache[o],n=i&&i.el?Ext.updateCacheEntry(i,t).el:new s(t,!!i)):t instanceof a?(t!=a.docEl&&t!=a.winEl&&(o=t.id,i=Ext.cache[o],i&&Ext.updateCacheEntry(i,e.getElementById(o)||t.dom)),t):t.isComposite?t:Ext.isArray(t)?a.select(t):t===e?(a.docEl||(a.docEl=Ext.Object.chain(s.prototype),a.docEl.dom=e,a.docEl.id=Ext.id(e),a.addToCache(a.docEl)),a.docEl):t===window?(a.winEl||(a.winEl=Ext.Object.chain(s.prototype),a.winEl.dom=window,a.winEl.id=Ext.id(window),a.addToCache(a.winEl)),a.winEl):null:null},addToCache:function(e,t){return e&&Ext.addCacheEntry(t,e),e},addMethods:function(){this.override.apply(this,arguments)},mergeClsList:function(){var e,n,r,o,a,s,l={},d=[],u=!1;for(n=0,r=arguments.length;n<r;n++)if(e=arguments[n],Ext.isString(e)&&(e=e.replace(t,"").split(i)),e)for(o=0,a=e.length;o<a;o++)s=e[o],l[s]||(n&&(u=!0),l[s]=!0);for(s in l)d.push(s);return d.changed=u,d},removeCls:function(e,n){var r,o,a,s={},l=[],d=!1;if(e)for(Ext.isString(e)&&(e=e.replace(t,"").split(i)),r=0,o=e.length;r<o;r++)s[e[r]]=!0;if(n)for(Ext.isString(n)&&(n=n.split(i)),r=0,o=n.length;r<o;r++)a=n[r],s[a]&&(d=!0,delete s[a]);for(a in s)l.push(a);return l.changed=d,l},VISIBILITY:1,DISPLAY:2,OFFSETS:3,ASCLASS:4},constructor:function(t,i){var n,r=this,o="string"==typeof t?e.getElementById(t):t;return o?(n=o.id,!i&&n&&Ext.cache[n]?Ext.cache[n].el:(r.dom=o,r.id=n||Ext.id(o),void r.self.addToCache(r))):null},set:function(e,t){var i,n,r=this.dom;for(i in e)e.hasOwnProperty(i)&&(n=e[i],"style"==i?this.applyStyles(n):"cls"==i?r.className=n:t!==!1?void 0===n?r.removeAttribute(i):r.setAttribute(i,n):r[i]=n);return this},defaultUnit:"px",is:function(e){return Ext.DomQuery.is(this.dom,e)},getValue:function(e){var t=this.dom.value;return e?parseInt(t,10):t},remove:function(){var e=this,t=e.dom;t&&(Ext.removeNode(t),delete e.dom)},contains:function(e){if(!e)return!1;var t=this,i=e.dom||e;return i===t.dom||Ext.dom.AbstractElement.isAncestor(t.dom,i)},getAttribute:function(e,t){var i=this.dom;return i.getAttributeNS(t,e)||i.getAttribute(t+":"+e)||i.getAttribute(e)||i[e]},update:function(e){return this.dom&&(this.dom.innerHTML=e),this},setHTML:function(e){return this.dom&&(this.dom.innerHTML=e),this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){return this.setVisible(!1),this},show:function(){return this.setVisible(!0),this},setVisible:function(e,t){var i=this,n=i.self,r=i.getVisibilityMode(),o=Ext.baseCSSPrefix;switch(r){case n.VISIBILITY:i.removeCls([o+"hidden-display",o+"hidden-offsets"]),i[e?"removeCls":"addCls"](o+"hidden-visibility");break;case n.DISPLAY:i.removeCls([o+"hidden-visibility",o+"hidden-offsets"]),i[e?"removeCls":"addCls"](o+"hidden-display");break;case n.OFFSETS:i.removeCls([o+"hidden-visibility",o+"hidden-display"]),i[e?"removeCls":"addCls"](o+"hidden-offsets")}return i},getVisibilityMode:function(){var e=(this.$cache||this.getCache()).data,t=e.visibilityMode;return void 0===t&&(e.visibilityMode=t=this.self.DISPLAY),t},setVisibilityMode:function(e){return(this.$cache||this.getCache()).data.visibilityMode=e,this},getCache:function(){var e=this,t=e.dom.id||Ext.id(e.dom);return e.$cache=Ext.cache[t]||Ext.addCacheEntry(t,null,e.dom),e.$cache}},function(){var t=this;Ext.getDetachedBody=function(){var i=t.detachedBodyEl;return i||(i=e.createElement("div"),t.detachedBodyEl=i=new t.Fly(i),i.isDetachedBody=!0),i},Ext.getElementById=function(i){var n,r=e.getElementById(i);return!r&&(n=t.detachedBodyEl)&&(r=n.dom.querySelector("#"+Ext.escapeId(i))),r},Ext.get=function(e){return Ext.dom.Element.get(e)},this.addStatics({Fly:new Ext.Class({extend:t,isFly:!0,constructor:function(e){this.dom=e},attach:function(e){return this.dom=e,this.$cache=e.id?Ext.cache[e.id]:null,this}}),_flyweights:{},fly:function(e,i){var n=null,r=t._flyweights;return i=i||"_global",e=Ext.getDom(e),e&&(n=r[i]||(r[i]=new t.Fly),n.dom=e,n.$cache=e.id?Ext.cache[e.id]:null),n}}),Ext.fly=function(){return t.fly.apply(t,arguments)},function(t){t.destroy=t.remove,e.querySelector?t.getById=function(t,i){var n=e.getElementById(t)||this.dom.querySelector("#"+Ext.escapeId(t));return i?n:n?Ext.get(n):null}:t.getById=function(t,i){var n=e.getElementById(t);return i?n:n?Ext.get(n):null}}(this.prototype)})}(),Ext.dom.AbstractElement.addInheritableStatics({unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,cssRe:/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(e,t){return"number"==typeof e?e+(t||this.defaultUnit||"px"):""===e||"auto"==e||void 0===e||null===e?e||"":this.unitRe.test(e)?e:e||""},isAncestor:function(e,t){var i=!1;if(e=Ext.getDom(e),t=Ext.getDom(t),e&&t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return!!(16&e.compareDocumentPosition(t));for(;t=t.parentNode;)i=t==e||i}return i},parseBox:function(e){"string"!=typeof e&&(e=e.toString());var t=e.split(" "),i=t.length;return 1==i?t[1]=t[2]=t[3]=t[0]:2==i?(t[2]=t[0],t[3]=t[1]):3==i&&(t[3]=t[1]),{top:parseFloat(t[0])||0,right:parseFloat(t[1])||0,bottom:parseFloat(t[2])||0,left:parseFloat(t[3])||0}},unitizeBox:function(e,t){var i=this.addUnits,n=this.parseBox(e);return i(n.top,t)+" "+i(n.right,t)+" "+i(n.bottom,t)+" "+i(n.left,t)},camelReplaceFn:function(e,t){return t.charAt(1).toUpperCase()},normalize:function(e){return"float"==e&&(e=Ext.supports.Float?"cssFloat":"styleFloat"),this.propertyCache[e]||(this.propertyCache[e]=e.replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(Ext.isStrict?document.documentElement.scrollHeight:document.body.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(Ext.isStrict?document.documentElement.scrollWidth:document.body.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){return Ext.supports.OrientationChange?0==window.orientation?"portrait":"landscape":window.innerHeight>window.innerWidth?"portrait":"landscape"},fromPoint:function(e,t){return Ext.get(document.elementFromPoint(e,t))},parseStyles:function(e){var t,i={},n=this.cssRe;if(e)for(n.lastIndex=0;t=n.exec(e);)i[t[1]]=t[2];return i}}),function(){function e(e,t,i){return function(){e.selectionStart=t,e.selectionEnd=i}}var t,i=document,n=Ext.dom.AbstractElement,r=null,o="CSS1Compat"==i.compatMode,a=function(e){return t||(t=new n.Fly),t.attach(e),t};"activeElement"in i||!i.addEventListener||i.addEventListener("focus",function(e){e&&e.target&&(r=e.target==i?null:e.target)},!0),n.addInheritableStatics({getActiveElement:function(){return i.activeElement||r},getRightMarginFixCleaner:function(t){var n,o,a,s,l=Ext.supports,d=l.DisplayChangeInputSelectionBug,u=l.DisplayChangeTextAreaSelectionBug;return(d||u)&&(n=i.activeElement||r,o=n&&n.tagName,(u&&"TEXTAREA"==o||d&&"INPUT"==o&&"text"==n.type)&&Ext.dom.Element.isAncestor(t,n)&&(a=n.selectionStart,s=n.selectionEnd,Ext.isNumber(a)&&Ext.isNumber(s)))?e(n,a,s):Ext.emptyFn},getViewWidth:function(e){return e?Ext.dom.Element.getDocumentWidth():Ext.dom.Element.getViewportWidth()},getViewHeight:function(e){return e?Ext.dom.Element.getDocumentHeight():Ext.dom.Element.getViewportHeight()},getDocumentHeight:function(){return Math.max(o?i.documentElement.scrollHeight:i.body.scrollHeight,Ext.dom.Element.getViewportHeight())},getDocumentWidth:function(){return Math.max(o?i.documentElement.scrollWidth:i.body.scrollWidth,Ext.dom.Element.getViewportWidth())},getViewportHeight:function(){return Ext.isIE?Ext.isStrict?i.documentElement.clientHeight:i.body.clientHeight:self.innerHeight},getViewportWidth:function(){return Ext.isStrict||Ext.isOpera?Ext.isIE?i.documentElement.clientWidth:self.innerWidth:i.body.clientWidth},getY:function(e){return Ext.dom.Element.getXY(e)[1]},getX:function(e){return Ext.dom.Element.getXY(e)[0]},getXY:function(e){var t,n,r=i.body,o=i.documentElement,s=0,l=0,d=[0,0],u=Math.round;if(e=Ext.getDom(e),e!=i&&e!=r){if(Ext.isIE)try{t=e.getBoundingClientRect(),l=o.clientTop||r.clientTop,s=o.clientLeft||r.clientLeft}catch(e){t={left:0,top:0}}else t=e.getBoundingClientRect();n=a(document).getScroll(),d=[u(t.left+n.left-s),u(t.top+n.top-l)]}return d},setXY:function(e,t){(e=Ext.fly(e,"_setXY")).position();var i,n=e.translatePoints(t),r=e.dom.style;for(i in n)isNaN(n[i])||(r[i]=n[i]+"px")},setX:function(e,t){Ext.dom.Element.setXY(e,[t,!1])},setY:function(e,t){Ext.dom.Element.setXY(e,[!1,t])},serializeForm:function(e){var t,i,n,r,o,a,s,l,d,u=e.elements||(document.forms[e]||Ext.getDom(e)).elements,c=!1,h=encodeURIComponent,g="",p=u.length;for(a=0;a<p;a++)if(t=u[a],i=t.name,n=t.type,r=t.options,!t.disabled&&i)if(/select-(one|multiple)/i.test(n))for(l=r.length,s=0;s<l;s++)d=r[s],d.selected&&(o=d.hasAttribute?d.hasAttribute("value"):d.getAttributeNode("value").specified,g+=Ext.String.format("{0}={1}&",h(i),h(o?d.value:d.text)));else/file|undefined|reset|button/i.test(n)||/radio|checkbox/i.test(n)&&!t.checked||"submit"==n&&c||(g+=h(i)+"="+h(t.value)+"&",c=/submit/i.test(n));return g.substr(0,g.length-1)}})}(),Ext.dom.AbstractElement.override({getAnchorXY:function(e,t,i){e=(e||"tl").toLowerCase(),i=i||{};var n,r=this,o=r.dom==document.body||r.dom==document,a=i.width||o?window.innerWidth:r.getWidth(),s=i.height||o?window.innerHeight:r.getHeight(),l=Math.round,d=r.getXY(),u=o?0:t?0:d[0],c=o?0:t?0:d[1],h={c:[l(.5*a),l(.5*s)],t:[l(.5*a),0],l:[0,l(.5*s)],r:[a,l(.5*s)],b:[l(.5*a),s],tl:[0,0],bl:[0,s],br:[a,s],tr:[a,0]};return n=h[e],[n[0]+u,n[1]+c]},alignToRe:/^([a-z]+)-([a-z]+)(\?)?$/,getAlignToXY:function(e,t,i,n){n=!!n,e=Ext.get(e),i=i||[0,0],t&&"?"!=t?/-/.test(t)||""===t||(t="tl-"+t):t="tl-bl?",t=t.toLowerCase();var r,o,a,s,l,d,u,c,h,g,p,f,m,x,y=this,v=t.match(this.alignToRe),E=window.innerWidth,b=window.innerHeight,w="",C="";if(!v)throw"Element.alignTo with an invalid alignment "+t;return w=v[1],C=v[2],x=!!v[3],r=y.getAnchorXY(w,!0),o=e.getAnchorXY(C,n),a=o[0]-r[0]+i[0],s=o[1]-r[1]+i[1],x&&(p=y.getWidth(),f=y.getHeight(),m=e.getPageBox(),c=w.charAt(0),u=w.charAt(w.length-1),g=C.charAt(0),h=C.charAt(C.length-1),d="t"==c&&"b"==g||"b"==c&&"t"==g,l="r"==u&&"l"==h||"l"==u&&"r"==h,a+p>E&&(a=l?m.left-p:E-p),a<0&&(a=l?m.right:0),s+f>b&&(s=d?m.top-f:b-f),s<0&&(s=d?m.bottom:0)),[a,s]},getAnchor:function(){var e,t=(this.$cache||this.getCache()).data;if(this.dom)return e=t._anchor,e||(e=t._anchor={}),e},adjustForConstraints:function(e,t){var i=this.getConstrainVector(t,e);return i&&(e[0]+=i[0],e[1]+=i[1]),e}}),Ext.dom.AbstractElement.addMethods({appendChild:function(e){return Ext.get(e).appendTo(this)},appendTo:function(e){return Ext.getDom(e).appendChild(this.dom),this},insertBefore:function(e){return e=Ext.getDom(e),e.parentNode.insertBefore(this.dom,e),this},insertAfter:function(e){return e=Ext.getDom(e),e.parentNode.insertBefore(this.dom,e.nextSibling),this},insertFirst:function(e,t){return e=e||{},e.nodeType||e.dom||"string"==typeof e?(e=Ext.getDom(e),this.dom.insertBefore(e,this.dom.firstChild),t?e:Ext.get(e)):this.createChild(e,this.dom.firstChild,t)},insertSibling:function(e,t,i){var n,r,o,a,s=this,l="after"==(t||"before").toLowerCase();if(Ext.isArray(e)){for(r=s,o=e.length,a=0;a<o;a++)n=Ext.fly(r,"_internal").insertSibling(e[a],t,i),l&&(r=n);return n}return e=e||{},e.nodeType||e.dom?(n=s.dom.parentNode.insertBefore(Ext.getDom(e),l?s.dom.nextSibling:s.dom),i||(n=Ext.get(n))):n=l&&!s.dom.nextSibling?Ext.core.DomHelper.append(s.dom.parentNode,e,!i):Ext.core.DomHelper[l?"insertAfter":"insertBefore"](s.dom,e,!i),n},replace:function(e){return e=Ext.get(e),this.insertBefore(e),e.remove(),this},replaceWith:function(e){var t=this;return e.nodeType||e.dom||"string"==typeof e?(e=Ext.get(e),t.dom.parentNode.insertBefore(e,t.dom)):e=Ext.core.DomHelper.insertBefore(t.dom,e),delete Ext.cache[t.id],Ext.removeNode(t.dom),t.id=Ext.id(t.dom=e),Ext.dom.AbstractElement.addToCache(t.isFlyweight?new Ext.dom.AbstractElement(t.dom):t),t},createChild:function(e,t,i){return e=e||{tag:"div"},t?Ext.core.DomHelper.insertBefore(t,e,i!==!0):Ext.core.DomHelper[this.dom.firstChild?"append":"insertFirst"](this.dom,e,i!==!0)},wrap:function(e,t,i){var n=Ext.core.DomHelper.insertBefore(this.dom,e||{tag:"div"},!0),r=n;return i&&(r=Ext.DomQuery.selectNode(i,n.dom)),r.appendChild(this.dom),t?n.dom:n},insertHtml:function(e,t,i){var n=Ext.core.DomHelper.insertHtml(e,this.dom,t);return i?Ext.get(n):n}}),function(){var e=Ext.dom.AbstractElement;e.override({getX:function(e){return this.getXY(e)[0]},getY:function(e){return this.getXY(e)[1]},getXY:function(){var e=window.webkitConvertPointFromNodeToPage(this.dom,new WebKitPoint(0,0));return[e.x,e.y]},getOffsetsTo:function(e){var t=this.getXY(),i=Ext.fly(e,"_internal").getXY();return[t[0]-i[0],t[1]-i[1]]},setX:function(e){return this.setXY([e,this.getY()])},setY:function(e){return this.setXY([this.getX(),e])},setLeft:function(t){return this.setStyle("left",e.addUnits(t)),this},setTop:function(t){return this.setStyle("top",e.addUnits(t)),this},setRight:function(t){return this.setStyle("right",e.addUnits(t)),this},setBottom:function(t){return this.setStyle("bottom",e.addUnits(t)),this},setXY:function(e){var t,i,n,r=this;arguments.length>1&&(e=[e,arguments[1]]),t=r.translatePoints(e),i=r.dom.style;for(n in t)t.hasOwnProperty(n)&&(isNaN(t[n])||(i[n]=t[n]+"px"));return r},getLeft:function(e){return parseInt(this.getStyle("left"),10)||0},getRight:function(e){return parseInt(this.getStyle("right"),10)||0},getTop:function(e){return parseInt(this.getStyle("top"),10)||0},getBottom:function(e){return parseInt(this.getStyle("bottom"),10)||0},translatePoints:function(e,t){t=isNaN(e[1])?t:e[1],e=isNaN(e[0])?e:e[0];var i=this,n=i.isStyle("position","relative"),r=i.getXY(),o=parseInt(i.getStyle("left"),10),a=parseInt(i.getStyle("top"),10);return o=isNaN(o)?n?0:i.dom.offsetLeft:o,a=isNaN(a)?n?0:i.dom.offsetTop:a,{left:e-r[0]+o,top:t-r[1]+a}},setBox:function(e){var t=this,i=e.width,n=e.height,r=e.top,o=e.left;return void 0!==o&&t.setLeft(o),void 0!==r&&t.setTop(r),void 0!==i&&t.setWidth(i),void 0!==n&&t.setHeight(n),this},getBox:function(e,t){var i,n,r,o,a,s,l=this,d=l.dom,u=d.offsetWidth,c=d.offsetHeight;return i=t?e?[0,0]:[parseInt(l.getStyle("left"),10)||0,parseInt(l.getStyle("top"),10)||0]:l.getXY(),e?(r=l.getBorderWidth.call(l,"l")+l.getPadding.call(l,"l"),o=l.getBorderWidth.call(l,"r")+l.getPadding.call(l,"r"),a=l.getBorderWidth.call(l,"t")+l.getPadding.call(l,"t"),s=l.getBorderWidth.call(l,"b")+l.getPadding.call(l,"b"),n={x:i[0]+r,y:i[1]+a,0:i[0]+r,1:i[1]+a,width:u-(r+o),height:c-(a+s)}):n={x:i[0],y:i[1],0:i[0],1:i[1],width:u,height:c},n.left=n.x,n.top=n.y,n.right=n.x+n.width,n.bottom=n.y+n.height,n},getPageBox:function(e){var t=this,i=t.dom,n=i.offsetWidth,r=i.offsetHeight,o=t.getXY(),a=o[1],s=o[0]+n,l=o[1]+r,d=o[0];return i?e?new Ext.util.Region(a,s,l,d):{left:d,top:a,width:n,height:r,right:s,bottom:l}:new Ext.util.Region}})}(),function(){var e=Ext.dom.AbstractElement,t=(document.defaultView,Ext.Array,/^\s+|\s+$/g),i=/\w/g,n=/\s+/,r=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,o=Ext.supports.ClassList,a="padding",s="margin",l="border",d="-left",u="-right",c="-top",h="-bottom",g="-width",p={l:l+d+g,r:l+u+g,t:l+c+g,b:l+h+g},f={l:a+d,r:a+u,t:a+c,b:a+h},m={l:s+d,r:s+u,t:s+c,b:s+h};e.override({styleHooks:{},addStyles:function(e,t){var n,r,o=0,a=(e||"").match(i),s=a.length,l=[];if(1==s)o=Math.abs(parseFloat(this.getStyle(t[a[0]]))||0);else if(s){for(n=0;n<s;n++)r=a[n],l.push(t[r]);for(l=this.getStyle(l),n=0;n<s;n++)r=a[n],o+=Math.abs(parseFloat(l[t[r]])||0)}return o},addCls:o?function(e){var i,r,o,a,s,l=this,d=l.dom;if("string"==typeof e&&(e=e.replace(t,"").split(n)),d&&e&&(a=e.length))if(d.className){for(i=d.classList,o=0;o<a;++o)s=e[o],s&&(i.contains(s)||(r?r.push(s):(r=d.className.replace(t,""),r=r?[r,s]:[s])));r&&(d.className=r.join(" "))}else d.className=e.join(" ");return l}:function(e){var t,i=this,n=i.dom;return n&&e&&e.length&&(t=Ext.Element.mergeClsList(n.className,e),t.changed&&(n.className=t.join(" "))),i},removeCls:function(e){var i,r,a=this,s=a.dom;return"string"==typeof e&&(e=e.replace(t,"").split(n)),s&&s.className&&e&&(i=e.length)&&(1==i&&o?e[0]&&s.classList.remove(e[0]):(r=Ext.Element.removeCls(s.className,e),r.changed&&(s.className=r.join(" ")))),a},radioCls:function(e){var t,i,n,r=this.dom.parentNode.childNodes;for(e=Ext.isArray(e)?e:[e],i=0,n=r.length;i<n;i++)t=r[i],t&&1==t.nodeType&&Ext.fly(t,"_internal").removeCls(e);return this.addCls(e)},toggleCls:o?function(e){var i=this,n=i.dom;return n&&(e=e.replace(t,""),e&&n.classList.toggle(e)),i}:function(e){var t=this;return t.hasCls(e)?t.removeCls(e):t.addCls(e)},hasCls:o?function(e){var t=this.dom;return!(!t||!e)&&t.classList.contains(e)}:function(e){var t=this.dom;return!!t&&(e&&(" "+t.className+" ").indexOf(" "+e+" ")!=-1)},replaceCls:function(e,t){return this.removeCls(e).addCls(t)},isStyle:function(e,t){return this.getStyle(e)==t},getStyle:function(t,i){var n,r,o,a,s,l,d,u=this,c=u.dom,h="string"!=typeof t,g=u.styleHooks,p=t,f=p,m=1;if(h&&(o={},p=f[0],d=0,!(m=f.length)))return o;if(!c||c.documentElement)return o||"";n=c.style,i?l=n:(l=c.ownerDocument.defaultView.getComputedStyle(c,null),l||(i=!0,l=n));do{if(a=g[p],a||(g[p]=a={name:e.normalize(p)}),a.get?s=a.get(c,u,i,l):(r=a.name,s=l[r]),!h)return s;o[p]=s,p=f[++d]}while(d<m);return o},getStyles:function(){var e,t=Ext.Array.slice(arguments),i=t.length;return i&&"boolean"==typeof t[i-1]&&(e=t.pop()),this.getStyle(t,e)},isTransparent:function(e){var t=this.getStyle(e);return!!t&&r.test(t)},setStyle:function(t,i){var n,r=this,o=r.dom,a=r.styleHooks,s=o.style,l=t;if("string"==typeof l)n=a[l],n||(a[l]=n={name:e.normalize(l)}),i=null==i?"":i,n.set?n.set(o,i,r):s[n.name]=i,n.afterSet&&n.afterSet(o,i,r);else for(l in t)t.hasOwnProperty(l)&&(n=a[l],n||(a[l]=n={name:e.normalize(l)}),i=t[l],i=null==i?"":i,n.set?n.set(o,i,r):s[n.name]=i,n.afterSet&&n.afterSet(o,i,r));return r},getHeight:function(e){var t=this.dom,i=e?t.clientHeight-this.getPadding("tb"):t.offsetHeight;return i>0?i:0},getWidth:function(e){var t=this.dom,i=e?t.clientWidth-this.getPadding("lr"):t.offsetWidth;return i>0?i:0},setWidth:function(t){var i=this;return i.dom.style.width=e.addUnits(t),i},setHeight:function(t){var i=this;return i.dom.style.height=e.addUnits(t),i},getBorderWidth:function(e){return this.addStyles(e,p)},getPadding:function(e){return this.addStyles(e,f)},margins:m,applyStyles:function(t){if(t){var i,n,r=this.dom;if("function"==typeof t&&(t=t.call()),"string"==typeof t)for(t=Ext.util.Format.trim(t).split(/\s*(?::|;)\s*/),i=0,n=t.length;i<n;)r.style[e.normalize(t[i++])]=t[i++];else"object"==typeof t&&this.setStyle(t)}},setSize:function(t,i){var n=this,r=n.dom.style;return Ext.isObject(t)&&(i=t.height,t=t.width),r.width=e.addUnits(t),r.height=e.addUnits(i),n},getViewSize:function(){var t=document,i=this.dom;return i==t||i==t.body?{width:e.getViewportWidth(),height:e.getViewportHeight()}:{width:i.clientWidth,height:i.clientHeight}},getSize:function(e){var t=this.dom;return{width:Math.max(0,e?t.clientWidth-this.getPadding("lr"):t.offsetWidth),height:Math.max(0,e?t.clientHeight-this.getPadding("tb"):t.offsetHeight)}},repaint:function(){var e=this.dom;return this.addCls(Ext.baseCSSPrefix+"repaint"),setTimeout(function(){Ext.fly(e).removeCls(Ext.baseCSSPrefix+"repaint")},1),this},getMargin:function(e){var t,i,n,r=this,o={t:"top",l:"left",r:"right",b:"bottom"};if(e)return r.addStyles.call(r,e,r.margins);n=[];for(t in r.margins)r.margins.hasOwnProperty(t)&&n.push(r.margins[t]);if(i=r.getStyle(n),i&&"object"==typeof i)for(t in r.margins)r.margins.hasOwnProperty(t)&&(i[o[t]]=parseFloat(i[r.margins[t]])||0);
return i},mask:function(e,t,i){var n,r,o=this,a=o.dom,s=(o.$cache||o.getCache()).data,l=s.mask,d="",u=Ext.baseCSSPrefix;o.addCls(u+"masked"),"static"==o.getStyle("position")&&o.addCls(u+"masked-relative"),l&&l.remove(),d=t&&"string"==typeof t?" "+t:" "+u+"mask-gray",n=o.createChild({cls:u+"mask"+(i!==!1?"":" "+u+"mask-gray"),html:e?'<div class="'+(t||u+"mask-message")+'">'+e+"</div>":""}),r=o.getSize(),s.mask=n,a===document.body&&(r.height=window.innerHeight,o.orientationHandler&&Ext.EventManager.unOrientationChange(o.orientationHandler,o),o.orientationHandler=function(){r=o.getSize(),r.height=window.innerHeight,n.setSize(r)},Ext.EventManager.onOrientationChange(o.orientationHandler,o)),n.setSize(r),Ext.is.iPad&&Ext.repaint()},unmask:function(){var e=this,t=(e.$cache||e.getCache()).data,i=t.mask,n=Ext.baseCSSPrefix;i&&(i.remove(),delete t.mask),e.removeCls([n+"masked",n+"masked-relative"]),e.dom===document.body&&(Ext.EventManager.unOrientationChange(e.orientationHandler,e),delete e.orientationHandler)}}),e.populateStyleMap=function(t,i){var n,r,o,a=["margin-","padding-","border-width-"],s=["before","after"];for(n=a.length;n--;)for(o=2;o--;)r=a[n]+s[o],t[e.normalize(r)]=t[r]={name:e.normalize(a[n]+i[o])}},Ext.onReady(function(){function t(e,t,i,n){var o=n[this.name]||"";return r.test(o)?"transparent":o}function i(e,t,i,n){var r,o,a=n.marginRight;return"0px"!=a&&(r=e.style,o=r.display,r.display="inline-block",a=(i?n:e.ownerDocument.defaultView.getComputedStyle(e,null)).marginRight,r.display=o),a}function n(t,i,n,r){var o,a,s,l=r.marginRight;return"0px"!=l&&(o=t.style,a=e.getRightMarginFixCleaner(t),s=o.display,o.display="inline-block",l=(n?r:t.ownerDocument.defaultView.getComputedStyle(t,"")).marginRight,o.display=s,a()),l}var o,a,s,l,d,u=Ext.supports;if(o=e.prototype.styleHooks,e.populateStyleMap(o,["left","right"]),u.init&&u.init(),u.RightMargin||(o.marginRight=o["margin-right"]={name:"marginRight",get:u.DisplayChangeInputSelectionBug||u.DisplayChangeTextAreaSelectionBug?n:i}),!u.TransparentColor)for(a=["background-color","border-color","color","outline-color"],s=a.length;s--;)l=a[s],d=e.normalize(l),o[l]=o[d]={name:d,get:t}})}(),Ext.dom.AbstractElement.override({findParent:function(e,t,i){var n,r=this.dom,o=document.documentElement,a=0;for(t=t||50,isNaN(t)&&(n=Ext.getDom(t),t=Number.MAX_VALUE);r&&1==r.nodeType&&a<t&&r!=o&&r!=n;){if(Ext.DomQuery.is(r,e))return i?Ext.get(r):r;a++,r=r.parentNode}return null},findParentNode:function(e,t,i){var n=Ext.fly(this.dom.parentNode,"_internal");return n?n.findParent(e,t,i):null},up:function(e,t){return this.findParentNode(e,t,!0)},select:function(e,t){return Ext.dom.Element.select(e,this.dom,t)},query:function(e){return Ext.DomQuery.select(e,this.dom)},down:function(e,t){var i=Ext.DomQuery.selectNode(e,this.dom);return t?i:Ext.get(i)},child:function(e,t){var i,n,r=this;return n=Ext.id(r.dom),n=Ext.escapeId(n),i=Ext.DomQuery.selectNode("#"+n+" > "+e,r.dom),t?i:Ext.get(i)},parent:function(e,t){return this.matchNode("parentNode","parentNode",e,t)},next:function(e,t){return this.matchNode("nextSibling","nextSibling",e,t)},prev:function(e,t){return this.matchNode("previousSibling","previousSibling",e,t)},first:function(e,t){return this.matchNode("nextSibling","firstChild",e,t)},last:function(e,t){return this.matchNode("previousSibling","lastChild",e,t)},matchNode:function(e,t,i,n){if(!this.dom)return null;for(var r=this.dom[t];r;){if(1==r.nodeType&&(!i||Ext.DomQuery.is(r,i)))return n?r:Ext.get(r);r=r[e]}return null},isAncestor:function(e){return this.self.isAncestor.call(this.self,this.dom,e)}}),function(){var e="afterbegin",t="afterend",i="beforebegin",n="beforeend",r="<table>",o="</table>",a=r+"<tbody>",s="</tbody>"+o,l=a+"<tr>",d="</tr>"+s,u=document.createElement("div"),c=["BeforeBegin","previousSibling"],h=["AfterEnd","nextSibling"],g={beforebegin:c,afterend:h},p={beforebegin:c,afterend:h,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};Ext.define("Ext.dom.Helper",{extend:"Ext.dom.AbstractHelper",tableRe:/^table|tbody|tr|td$/i,tableElRe:/td|tr|tbody/i,useDom:!1,createDom:function(e,t){var i,n,r,o,a,s,l,d=document;if(Ext.isArray(e))for(i=d.createDocumentFragment(),s=0,l=e.length;s<l;s++)this.createDom(e[s],i);else if("string"==typeof e)i=d.createTextNode(e);else{i=d.createElement(e.tag||"div"),n=!!i.setAttribute;for(r in e)this.confRe.test(r)||(o=e[r],"cls"==r?i.className=o:n?i.setAttribute(r,o):i[r]=o);Ext.DomHelper.applyStyles(i,e.style),(a=e.children||e.cn)?this.createDom(a,i):e.html&&(i.innerHTML=e.html)}return t&&t.appendChild(i),i},ieTable:function(e,t,i,n){u.innerHTML=[t,i,n].join("");for(var r,o=-1,a=u;++o<e;)a=a.firstChild;if(r=a.nextSibling)for(a=document.createDocumentFragment();r;)a.appendChild(r),r=r.nextSibling;return a},insertIntoTable:function(u,c,h,g){var p,f,m=c==i,x=c==e,y=c==n,v=c==t;return"td"==u&&(x||y)||!this.tableElRe.test(u)&&(m||v)?null:(f=m?h:v?h.nextSibling:x?h.firstChild:null,(m||v)&&(h=h.parentNode),p="td"==u||"tr"==u&&(y||x)?this.ieTable(4,l,g,d):"tbody"==u&&(y||x)||"tr"==u&&(m||v)?this.ieTable(3,a,g,s):this.ieTable(2,r,g,o),h.insertBefore(p,f),p)},createContextualFragment:function(e){var t,i,n=document.createDocumentFragment();for(u.innerHTML=e,i=u.childNodes,t=i.length;t--;)n.appendChild(i[0]);return n},applyStyles:function(e,t){t&&(e=Ext.fly(e),"function"==typeof t&&(t=t.call()),"string"==typeof t&&(t=Ext.dom.Element.parseStyles(t)),"object"==typeof t&&e.setStyle(t))},createHtml:function(e){return this.markup(e)},doInsert:function(e,t,i,n,r,o){e=e.dom||Ext.getDom(e);var a;return this.useDom?(a=this.createDom(t,null),o?e.appendChild(a):("firstChild"==r?e:e.parentNode).insertBefore(a,e[r]||e)):a=this.insertHtml(n,e,this.markup(t)),i?Ext.get(a,!0):a},overwrite:function(e,t,i){var n;if(e=Ext.getDom(e),t=this.markup(t),Ext.isIE&&this.tableRe.test(e.tagName)){for(;e.firstChild;)e.removeChild(e.firstChild);return t?(n=this.insertHtml("afterbegin",e,t),i?Ext.get(n):n):null}return e.innerHTML=t,i?Ext.get(e.firstChild):e.firstChild},insertHtml:function(t,n,r){var o,a,s,l,d;return t=t.toLowerCase(),n.insertAdjacentHTML?Ext.isIE&&this.tableRe.test(n.tagName)&&(d=this.insertIntoTable(n.tagName.toLowerCase(),t,n,r))?d:(o=p[t])?(n.insertAdjacentHTML(o[0],r),n[o[1]]):void 0:(3===n.nodeType&&(t="afterbegin"===t?"beforebegin":t,t="beforeend"===t?"afterend":t),a=Ext.supports.CreateContextualFragment?n.ownerDocument.createRange():void 0,l="setStart"+(this.endRe.test(t)?"After":"Before"),g[t]?(a?(a[l](n),d=a.createContextualFragment(r)):d=this.createContextualFragment(r),n.parentNode.insertBefore(d,t==i?n:n.nextSibling),n[(t==i?"previous":"next")+"Sibling"]):(s=(t==e?"first":"last")+"Child",n.firstChild?(a?(a[l](n[s]),d=a.createContextualFragment(r)):d=this.createContextualFragment(r),t==e?n.insertBefore(d,n.firstChild):n.appendChild(d)):n.innerHTML=r,n[s]))},createTemplate:function(e){var t=this.markup(e);return new Ext.Template(t)}},function(){Ext.ns("Ext.core"),Ext.DomHelper=Ext.core.DomHelper=new this})}(),Ext.ns("Ext.core"),Ext.dom.Query=Ext.core.DomQuery=Ext.DomQuery=function(){function child(e,t){for(var i=0,n=e.firstChild;n;){if(1==n.nodeType&&++i==t)return n;n=n.nextSibling}return null}function next(e){for(;(e=e.nextSibling)&&1!=e.nodeType;);return e}function prev(e){for(;(e=e.previousSibling)&&1!=e.nodeType;);return e}function children(e){for(var t,i=e.firstChild,n=-1;i;)t=i.nextSibling,3!=i.nodeType||nonSpace.test(i.nodeValue)?i.nodeIndex=++n:e.removeChild(i),i=t;return this}function byClassName(e,t){if(t=unescapeCssSelector(t),!t)return e;var i,n,r=[],o=-1;for(i=0,n;n=e[i];i++)(" "+n.className+" ").indexOf(t)!=-1&&(r[++o]=n);return r}function attrValue(e,t){return e.tagName||"undefined"==typeof e.length||(e=e[0]),e?"for"==t?e.htmlFor:"class"==t||"className"==t?e.className:e.getAttribute(t)||e[t]:null}function getNodes(e,t,i){var n,r,o,a,s,l,d,u,c,h=[],g=-1;if(!e)return h;if(i=i||"*","undefined"!=typeof e.getElementsByTagName&&(e=[e]),t){if("/"==t||">"==t)for(d=i.toUpperCase(),r=0,l;o=e[r];r++)for(l=o.childNodes,a=0,c;c=l[a];a++)c.nodeName!=d&&c.nodeName!=i&&"*"!=i||(h[++g]=c);else if("+"==t)for(d=i.toUpperCase(),r=0,u;u=e[r];r++){for(;(u=u.nextSibling)&&1!=u.nodeType;);!u||u.nodeName!=d&&u.nodeName!=i&&"*"!=i||(h[++g]=u)}else if("~"==t)for(d=i.toUpperCase(),r=0,u;u=e[r];r++)for(;u=u.nextSibling;)u.nodeName!=d&&u.nodeName!=i&&"*"!=i||(h[++g]=u)}else for(r=0,o;o=e[r];r++)for(n=o.getElementsByTagName(i),a=0,s;s=n[a];a++)h[++g]=s;return h}function concat(e,t){if(t.slice)return e.concat(t);for(var i=0,n=t.length;i<n;i++)e[e.length]=t[i];return e}function byTag(e,t){if((e.tagName||e==document)&&(e=[e]),!t)return e;var i,n,r=[],o=-1;for(t=t.toLowerCase(),i=0,n;n=e[i];i++)1==n.nodeType&&n.tagName.toLowerCase()==t&&(r[++o]=n);return r}function byId(e,t){if(t=unescapeCssSelector(t),(e.tagName||e==document)&&(e=[e]),!t)return e;var i,n,r=[],o=-1;for(i=0,n;n=e[i];i++)if(n&&n.id==t)return r[++o]=n,r;return r}function byAttribute(e,t,i,n,r){var o,a,s,l,d,u=[],c=-1,h="{"==r,g=Ext.DomQuery.operators[n];for(i=unescapeCssSelector(i),l=0,d;d=e[l];l++)1==d.nodeType&&(s||(a=Ext.DomQuery.isXml(d),s=!0),o=a?d.getAttribute(t):h?Ext.DomQuery.getStyle(d,t):"class"==t||"className"==t?d.className:"for"==t?d.htmlFor:"href"==t?d.getAttribute("href",2):d.getAttribute(t),(g&&g(o,i)||!g&&o)&&(u[++c]=d));return u}function byPseudo(e,t,i){return i=unescapeCssSelector(i),Ext.DomQuery.pseudos[t](e,i)}function nodupIEXml(e){var t,i,n,r,o=++key;for(e[0].setAttribute("_nodup",o),t=[e[0]],i=1,n=e.length;i<n;i++)r=e[i],!r.getAttribute("_nodup")!=o&&(r.setAttribute("_nodup",o),t[t.length]=r);for(i=0,n=e.length;i<n;i++)e[i].removeAttribute("_nodup");return t}function nodup(e){if(!e)return[];var t,i,n,r,o,a=e.length,s=e,l=-1;if(!a||"undefined"!=typeof e.nodeType||1==a)return e;if(isIE&&"undefined"!=typeof e[0].selectSingleNode)return nodupIEXml(e);for(r=++key,e[0]._nodup=r,i=1;t=e[i];i++){if(t._nodup==r){for(s=[],o=0;o<i;o++)s[++l]=e[o];for(o=i+1;n=e[o];o++)n._nodup!=r&&(n._nodup=r,s[++l]=n);return s}t._nodup=r}return s}function quickDiffIEXml(e,t){var i,n,r=++key,o=[];for(i=0,n=e.length;i<n;i++)e[i].setAttribute("_qdiff",r);for(i=0,n=t.length;i<n;i++)t[i].getAttribute("_qdiff")!=r&&(o[o.length]=t[i]);for(i=0,n=e.length;i<n;i++)e[i].removeAttribute("_qdiff");return o}function quickDiff(e,t){var i,n,r=e.length,o=++key,a=[];if(!r)return t;if(isIE&&"undefined"!=typeof e[0].selectSingleNode)return quickDiffIEXml(e,t);for(i=0;i<r;i++)e[i]._qdiff=o;for(i=0,n=t.length;i<n;i++)t[i]._qdiff!=o&&(a[a.length]=t[i]);return a}function quickId(e,t,i,n){if(e==i){n=unescapeCssSelector(n);var r=i.ownerDocument||i;return r.getElementById(n)}return e=getNodes(e,t,"*"),byId(e,n)}var cache={},simpleCache={},valueCache={},nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*\#/,isIE=!!window.ActiveXObject,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,longHexToChar=function(e,t){return String.fromCharCode(parseInt(t,16))},shortToLongHex=function(e,t){for(;t.length<6;)t="0"+t;return"\\"+t},charToLongHex=function(e,t){return num=t.charCodeAt(0).toString(16),1===num.length&&(num="0"+num),"\\0000"+num},unescapeCssSelector=function(e){return hasEscapes?e.replace(longHex,longHexToChar):e},setupEscapes=function(e){return hasEscapes=e.indexOf("\\")>-1,hasEscapes&&(e=e.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")),e};return eval("var batch = 30803;"),{getStyle:function(e,t){return Ext.fly(e).getStyle(t)},compile:function(path,type){type=type||"select";var fn=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"],mode,lastPath,matchers=Ext.DomQuery.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;for(path=setupEscapes(path),lmode&&lmode[1]&&(fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";',path=path.replace(lmode[1],""));"/"==path.substr(0,1);)path=path.substr(1);for(;path&&lastPath!=path;){for(lastPath=path,tokenMatch=path.match(tagTokenRe),"select"==type?tokenMatch?("#"==tokenMatch[1]?fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");':fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],"")):"@"!=path.substr(0,1)&&(fn[fn.length]='n = getNodes(n, mode, "*");'):tokenMatch&&("#"==tokenMatch[1]?fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");':fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],""));!(modeMatch=path.match(modeRe));){for(matched=!1,j=0;j<matchersLn;j++)if(t=matchers[j],m=path.match(t.re)){fn[fn.length]=t.select.replace(tplRe,function(e,t){return m[t]}),path=path.replace(m[0],""),matched=!0;break}matched||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}modeMatch[1]&&(fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";',path=path.replace(modeMatch[1],""))}return fn[fn.length]="return nodup(n);\n}",eval(fn.join("")),f},jsSelect:function(e,t,i){t=t||document,"string"==typeof t&&(t=document.getElementById(t));var n,r,o,a,s=e.split(","),l=[];for(n=0,r=s.length;n<r;n++)o=s[n].replace(trimRe,""),cache[o]?setupEscapes(o):(cache[o]=Ext.DomQuery.compile(o,i),cache[o]||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:o+" is not a valid selector"})),a=cache[o](t),a&&a!=document&&(l=l.concat(a));return s.length>1?nodup(l):l},isXml:function(e){var t=(e?e.ownerDocument||e:0).documentElement;return!!t&&"HTML"!==t.nodeName},select:document.querySelectorAll?function(e,t,i){if(t=t||document,!Ext.DomQuery.isXml(t))try{return t.parentNode&&9!==t.nodeType&&e.indexOf(",")===-1&&!startIdRe.test(e)&&(e="#"+Ext.escapeId(Ext.id(t))+" "+e,t=t.parentNode),Ext.Array.toArray(t.querySelectorAll(e))}catch(e){}return Ext.DomQuery.jsSelect.call(this,e,t,i)}:function(e,t,i){return Ext.DomQuery.jsSelect.call(this,e,t,i)},selectNode:function(e,t){return Ext.DomQuery.select(e,t)[0]},selectValue:function(e,t,i){e=e.replace(trimRe,""),valueCache[e]?setupEscapes(e):valueCache[e]=Ext.DomQuery.compile(e,"select");var n,r=valueCache[e](t);return r=r[0]?r[0]:r,"function"==typeof r.normalize&&r.normalize(),n=r&&r.firstChild?r.firstChild.nodeValue:null,null===n||void 0===n||""===n?i:n},selectNumber:function(e,t,i){var n=Ext.DomQuery.selectValue(e,t,i||0);return parseFloat(n)},is:function(e,t){"string"==typeof e&&(e=document.getElementById(e));var i=Ext.isArray(e),n=Ext.DomQuery.filter(i?e:[e],t);return i?n.length==e.length:n.length>0},filter:function(e,t,i){t=t.replace(trimRe,""),simpleCache[t]?setupEscapes(t):simpleCache[t]=Ext.DomQuery.compile(t,"simple");var n=simpleCache[t](e);return i?quickDiff(n,e):n},matchers:[{re:/^\.([\w\-\\]+)/,select:'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(e,t){return e==t},"!=":function(e,t){return e!=t},"^=":function(e,t){return e&&e.substr(0,t.length)==t},"$=":function(e,t){return e&&e.substr(e.length-t.length)==t},"*=":function(e,t){return e&&e.indexOf(t)!==-1},"%=":function(e,t){return e%t==0},"|=":function(e,t){return e&&(e==t||e.substr(0,t.length+1)==t+"-")},"~=":function(e,t){return e&&(" "+e+" ").indexOf(" "+t+" ")!=-1}},pseudos:{"first-child":function(e){var t,i,n,r=[],o=-1;for(i=0;n=t=e[i];i++){for(;(t=t.previousSibling)&&1!=t.nodeType;);t||(r[++o]=n)}return r},"last-child":function(e){var t,i,n,r=[],o=-1;for(i=0;n=t=e[i];i++){for(;(t=t.nextSibling)&&1!=t.nodeType;);t||(r[++o]=n)}return r},"nth-child":function(e,t){var i,n,r,o,a,s=[],l=-1,d=nthRe.exec("even"==t&&"2n"||"odd"==t&&"2n+1"||!nthRe2.test(t)&&"n+"+t||t),u=(d[1]||1)-0,c=d[2]-0;for(i=0;n=e[i];i++){if(a=n.parentNode,batch!=a._batch){for(r=0,o=a.firstChild;o;o=o.nextSibling)1==o.nodeType&&(o.nodeIndex=++r);a._batch=batch}1==u?0!=c&&n.nodeIndex!=c||(s[++l]=n):(n.nodeIndex+c)%u==0&&(s[++l]=n)}return s},"only-child":function(e){var t,i,n=[],r=-1;for(t=0;i=e[t];t++)prev(i)||next(i)||(n[++r]=i);return n},empty:function(e){var t,i,n,r,o,a,s=[],l=-1;for(t=0,i;i=e[t];t++){for(n=i.childNodes,r=0,a=!0;o=n[r];)if(++r,1==o.nodeType||3==o.nodeType){a=!1;break}a&&(s[++l]=i)}return s},contains:function(e,t){var i,n,r=[],o=-1;for(i=0;n=e[i];i++)(n.textContent||n.innerText||n.text||"").indexOf(t)!=-1&&(r[++o]=n);return r},nodeValue:function(e,t){var i,n,r=[],o=-1;for(i=0;n=e[i];i++)n.firstChild&&n.firstChild.nodeValue==t&&(r[++o]=n);return r},checked:function(e){var t,i,n=[],r=-1;for(t=0;i=e[t];t++)1==i.checked&&(n[++r]=i);return n},not:function(e,t){return Ext.DomQuery.filter(e,t,!0)},any:function(e,t){var i,n,r,o,a=t.split("|"),s=[],l=-1;for(n=0;r=e[n];n++)for(o=0;i=a[o];o++)if(Ext.DomQuery.is(r,i)){s[++l]=r;break}return s},odd:function(e){return this["nth-child"](e,"odd")},even:function(e){return this["nth-child"](e,"even")},nth:function(e,t){return e[t-1]||[]},first:function(e){return e[0]||[]},last:function(e){return e[e.length-1]||[]},has:function(e,t){var i,n,r=Ext.DomQuery.select,o=[],a=-1;for(i=0;n=e[i];i++)r(t,n).length>0&&(o[++a]=n);return o},next:function(e,t){var i,n,r,o=Ext.DomQuery.is,a=[],s=-1;for(i=0;n=e[i];i++)r=next(n),r&&o(r,t)&&(a[++s]=n);return a},prev:function(e,t){var i,n,r,o=Ext.DomQuery.is,a=[],s=-1;for(i=0;n=e[i];i++)r=prev(n),r&&o(r,t)&&(a[++s]=n);return a}}}}(),Ext.query=Ext.DomQuery.select,function(){var e,t="hidden",i=document,n="visibility",r="display",o="none",a=Ext.baseCSSPrefix+"masked",s=Ext.baseCSSPrefix+"masked-relative",l=Ext.baseCSSPrefix+"mask-msg",d=/^body/i,u=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1},c=function(e){var t,i,n=[],r=-1;for(t=0;i=e[t];t++)(i.scrollTop>0||i.scrollLeft>0)&&(n[++r]=i);return n},h=Ext.define("Ext.dom.Element",{extend:"Ext.dom.AbstractElement",alternateClassName:["Ext.Element","Ext.core.Element"],addUnits:function(){return this.self.addUnits.apply(this.self,arguments)},focus:function(e,t){var n,r,o=this;t=t||o.dom,r=(t.ownerDocument||i).body||i.body;try{Number(e)?Ext.defer(o.focus,e,o,[null,t]):(t.offsetHeight>h.getViewHeight()&&(n=r.scrollTop),t.focus(),void 0!==n&&(r.scrollTop=n))}catch(e){}return o},blur:function(){try{this.dom.blur()}catch(e){}return this},isBorderBox:function(){var e=Ext.isBorderBox;return e&&(e=!((this.dom.tagName||"").toLowerCase()in u)),e},hover:function(e,t,i,n){var r=this;return r.on("mouseenter",e,i||r.dom,n),r.on("mouseleave",t,i||r.dom,n),r},getAttributeNS:function(e,t){return this.getAttribute(t,e)},getAttribute:!Ext.isIE||Ext.isIE9&&9===i.documentMode?function(e,t){var i=this.dom;return t?i.getAttributeNS(t,e)||i.getAttribute(t+":"+e):i.getAttribute(e)||i[e]||null}:function(e,t){var i,n=this.dom;return t?(i=typeof n[t+":"+e],"undefined"!=i&&"unknown"!=i?n[t+":"+e]||null:null):("for"===e&&(e="htmlFor"),n[e]||null)},cacheScrollValues:function(){var e,t,i,n=this,r=[],o=function(){for(i=0;i<e.length;i++)t=e[i],t.scrollLeft=r[i][0],t.scrollTop=r[i][1]};for(Ext.DomQuery.pseudos.isScrolled||(Ext.DomQuery.pseudos.isScrolled=c),e=n.query(":isScrolled"),i=0;i<e.length;i++)t=e[i],r[i]=[t.scrollLeft,t.scrollTop];return o},autoBoxAdjust:!0,isVisible:function(i){var a=this,s=a.dom,l=s.ownerDocument.documentElement;for(e||(e=new h.Fly);s!==l;){if(!s||11===s.nodeType||e.attach(s).isStyle(n,t)||e.isStyle(r,o))return!1;if(!i)break;s=s.parentNode}return!0},isDisplayed:function(){return!this.isStyle(r,o)},enableDisplayMode:function(e){var t=this;return t.setVisibilityMode(h.DISPLAY),Ext.isEmpty(e)||((t.$cache||t.getCache()).data.originalDisplay=e),t},mask:function(e,t,n){var r=this,o=r.dom,u=o.style.setExpression,c=(r.$cache||r.getCache()).data,h=c.maskEl,g=c.maskMsg;if(d.test(o.tagName)&&"static"==r.getStyle("position")||r.addCls(s),h&&h.remove(),g&&g.remove(),Ext.DomHelper.append(o,[{cls:Ext.baseCSSPrefix+"mask"},{cls:t?l+" "+t:l,cn:{tag:"div",html:e||""}}]),g=Ext.get(o.lastChild),h=Ext.get(g.dom.previousSibling),c.maskMsg=g,c.maskEl=h,r.addCls(a),h.setDisplayed(!0),"string"==typeof e?(g.setDisplayed(!0),g.center(r)):g.setDisplayed(!1),!Ext.supports.IncludePaddingInWidthCalculation&&u)try{h.dom.style.setExpression("width",'this.parentNode.clientWidth + "px"')}catch(e){}if(!Ext.supports.IncludePaddingInHeightCalculation&&u)try{h.dom.style.setExpression("height","this.parentNode."+(o==i.body?"scrollHeight":"offsetHeight")+' + "px"')}catch(e){}else!Ext.isIE||Ext.isIE7&&Ext.isStrict||"auto"!=r.getStyle("height")||h.setSize(void 0,n||r.getHeight());return h},unmask:function(){var e,t=this,i=(t.$cache||t.getCache()).data,n=i.maskEl,r=i.maskMsg;n&&(e=n.dom.style,e.clearExpression&&(e.clearExpression("width"),e.clearExpression("height")),n&&(n.remove(),delete i.maskEl),r&&(r.remove(),delete i.maskMsg),t.removeCls([a,s]))},isMasked:function(){var e=this,t=(e.$cache||e.getCache()).data,i=t.maskEl,n=t.maskMsg,r=!1;return i&&i.isVisible()&&(n&&n.center(e),r=!0),r},createShim:function(){var e,t=i.createElement("iframe");return t.frameBorder="0",t.className=Ext.baseCSSPrefix+"shim",t.src=Ext.SSL_SECURE_URL,e=Ext.get(this.dom.parentNode.insertBefore(t,this.dom)),e.autoBoxAdjust=!1,e},addKeyListener:function(e,t,i){var n;return n="object"!=typeof e||Ext.isArray(e)?{target:this,key:e,fn:t,scope:i}:{target:this,key:e.key,shift:e.shift,ctrl:e.ctrl,alt:e.alt,fn:t,scope:i},new Ext.util.KeyMap(n)},addKeyMap:function(e){return new Ext.util.KeyMap(Ext.apply({target:this},e))},on:function(e,t,i,n){return Ext.EventManager.on(this,e,t,i||this,n),this},un:function(e,t,i){return Ext.EventManager.un(this,e,t,i||this),this},removeAllListeners:function(){return Ext.EventManager.removeAll(this),this},purgeAllListeners:function(){return Ext.EventManager.purgeElement(this),this}},function(){function e(){if(Ext.enableGarbageCollector){var e,i,r,o;for(e in t)t.hasOwnProperty(e)&&(r=t[e],r.skipGarbageCollection||(i=r.dom,i.parentNode&&(i.offsetParent||Ext.getElementById(e))||(i&&Ext.enableListenerCollection&&Ext.EventManager.removeAll(i),delete t[e])));if(Ext.isIE){o={};for(e in t)t.hasOwnProperty(e)&&(o[e]=t[e]);t=Ext.cache=o}}else clearInterval(n.collectorThreadId)}var t=Ext.cache,n=this,r=Ext.dom.AbstractElement,o=/a|button|embed|iframe|img|input|object|select|textarea/i,a=/\S/,s=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/gi,l=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,d=/\ssrc=([\'\"])(.*?)\1/i,u=/\stype=([\'\"])(.*?)\1/i,c=!(Ext.isIE6||Ext.isIE7||Ext.isIE8);n.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>',n.collectorThreadId=setInterval(e,3e4),n.addMethods({monitorMouseLeave:function(e,t,i){var n,r=this,o={mouseleave:function(o){n=setTimeout(Ext.Function.bind(t,i||r,[o]),e)},mouseenter:function(){clearTimeout(n)},freezeEvent:!0};return r.on(o),o},swallowEvent:function(e,t){function i(e){e.stopPropagation(),t&&e.preventDefault()}var n,r,o=this;if(Ext.isArray(e)){for(r=e.length,n=0;n<r;n++)o.on(e[n],i);return o}return o.on(e,i),o},relayEvent:function(e,t){this.on(e,function(i){t.fireEvent(e,i)})},clean:function(e){var t,i=this,n=i.dom,r=(i.$cache||i.getCache()).data,o=n.firstChild,s=-1;if(r.isCleaned&&e!==!0)return i;for(;o;)t=o.nextSibling,3==o.nodeType?a.test(o.nodeValue)?t&&3==t.nodeType&&(o.appendData(Ext.String.trim(t.data)),n.removeChild(t),t=o.nextSibling,o.nodeIndex=++s):n.removeChild(o):(Ext.fly(o).clean(),o.nodeIndex=++s),o=t;return r.isCleaned=!0,i},load:function(e){return this.getLoader().load(e),this},getLoader:function(){var e=this,t=(e.$cache||e.getCache()).data,i=t.loader;return i||(t.loader=i=new Ext.ElementLoader({target:e})),i},syncContent:function(e){e=Ext.getDom(e);var t,i,n,r,o=this,a=e.childNodes,s=a.length,l=o.dom,d=l.childNodes,u=d.length;if(l.style.cssText=e.style.cssText,l.className=e.className,s!==u)return void(e.innerHTML=l.innerHTML);for(t=0;t<s;t++){if(n=a[t],i=d[t],r=n.nodeType,r!==i.nodeType||1===r&&n.tagName!==i.tagName)return void(l.innerHTML=e.innerHTML);3===r?i.data=n.data:(n.id&&i.id!==n.id&&(i.id=n.id),i.style.cssText=n.style.cssText,i.className=n.className,Ext.fly(i).syncContent(n))}},update:function(e,t,n){var r,o,a,c=this;return c.dom?(e=e||"",o=c.dom,t!==!0?(o.innerHTML=e,Ext.callback(n,c),c):(r=Ext.id(),e+='<span id="'+r+'"></span>',a=setInterval(function(){var t,o,l,h,g,p,f;if(!(p=i.getElementById(r)))return!1;for(clearInterval(a),Ext.removeNode(p),t=Ext.getHead().dom;o=s.exec(e);)l=o[1],h=!!l&&l.match(d),h&&h[2]?(f=i.createElement("script"),f.src=h[2],g=l.match(u),g&&g[2]&&(f.type=g[2]),t.appendChild(f)):o[2]&&o[2].length>0&&(window.execScript?window.execScript(o[2]):window.eval(o[2]));Ext.callback(n,c)},20),o.innerHTML=e.replace(l,""),c)):c},removeAllListeners:function(){return this.removeAnchor(),Ext.EventManager.removeAll(this.dom),this},createProxy:function(e,t,i){e="object"==typeof e?e:{tag:"div",cls:e};var n=this,r=t?Ext.DomHelper.append(t,e,!0):Ext.DomHelper.insertBefore(n.dom,e,!0);return r.setVisibilityMode(h.DISPLAY),r.hide(),i&&n.setBox&&n.getBox&&r.setBox(n.getBox()),r},getScopeParent:function(){var e=this.dom.parentNode;return Ext.scopeResetCSS&&(e=e.parentNode,Ext.supports.CSS3LinearGradient&&Ext.supports.CSS3BorderRadius||(e=e.parentNode)),e},needsTabIndex:function(){if(this.dom)return"a"===this.dom.nodeName&&!this.dom.href||!o.test(this.dom.nodeName)},focusable:function(){var e=this.dom,t=e.nodeName,i=!1;return e.disabled||(o.test(t)?("a"!==t||e.href)&&(i=!0):i=!isNaN(e.tabIndex)),i&&this.isVisible(!0)}}),Ext.isIE&&(n.prototype.getById=function(e,r){var o,a,s,l=this.dom;return l&&(a=c&&i.getElementById(e)||l.all[e])?(r?s=a:(o=t[e],s=o&&o.el?Ext.updateCacheEntry(o,a).el:new h(a)),s):r?Ext.getDom(e):n.get(e)}),n.createAlias({addListener:"on",removeListener:"un",clearListeners:"removeAllListeners"}),n.Fly=r.Fly=new Ext.Class({extend:n,constructor:function(e){this.dom=e},attach:r.Fly.prototype.attach}),Ext.isIE?Ext.getElementById=function(e){var t,n=i.getElementById(e);return!n&&(t=r.detachedBodyEl)&&(n=t.dom.all[e]),n}:i.querySelector||(Ext.getDetachedBody=Ext.getBody,Ext.getElementById=function(e){return i.getElementById(e)})})}(),Ext.dom.Element.override(function(){var e=document,t=window,i=/^([a-z]+)-([a-z]+)(\?)?$/,n=Math.round;return{getAnchorXY:function(t,i,r){t=(t||"tl").toLowerCase(),r=r||{};var o,a=this,s=a.dom==e.body||a.dom==e,l=r.width||s?Ext.dom.Element.getViewWidth():a.getWidth(),d=r.height||s?Ext.dom.Element.getViewHeight():a.getHeight(),u=a.getXY(),c=a.getScroll(),h=s?c.left:i?0:u[0],g=s?c.top:i?0:u[1];switch(t){case"tl":o=[0,0];break;case"bl":o=[0,d];break;case"tr":o=[l,0];break;case"c":o=[n(.5*l),n(.5*d)];break;case"t":o=[n(.5*l),0];break;case"l":o=[0,n(.5*d)];break;case"r":o=[l,n(.5*d)];break;case"b":o=[n(.5*l),d];break;case"br":o=[l,d]}return[o[0]+h,o[1]+g]},getAlignToXY:function(t,n,r){t=Ext.get(t),!t||!t.dom,r=r||[0,0],n=(n&&"?"!=n?/-/.test(n)||""===n?n||"tl-bl":"tl-"+n:"tl-bl?").toLowerCase();var o,a,s,l,d,u,c,h,g,p,f,m,x,y,v,E,b=this,w=Ext.dom.Element.getViewWidth()-10,C=Ext.dom.Element.getViewHeight()-10,S=e.documentElement,_=e.body,k=S.scrollLeft||_.scrollLeft||0,P=S.scrollTop||_.scrollTop||0,T=n.match(i);return v=T[1],E=T[2],y=!!T[3],o=b.getAnchorXY(v,!0),a=t.getAnchorXY(E,!1),s=a[0]-o[0]+r[0],l=a[1]-o[1]+r[1],y&&(d=b.getWidth(),u=b.getHeight(),c=t.getRegion(),h=v.charAt(0),g=v.charAt(v.length-1),p=E.charAt(0),f=E.charAt(E.length-1),m="t"==h&&"b"==p||"b"==h&&"t"==p,x="r"==g&&"l"==f||"l"==g&&"r"==f,s+d>w+k&&(s=x?c.left-d:w+k-d),s<k&&(s=x?c.right:k),l+u>C+P&&(l=m?c.top-u:C+P-u),l<P&&(l=m?c.bottom:P)),[s,l]},anchorTo:function(e,i,n,r,o,a){var s=this,l=s.dom,d=!Ext.isEmpty(o),u=function(){Ext.fly(l).alignTo(e,i,n,r),Ext.callback(a,Ext.fly(l))},c=this.getAnchor();return this.removeAnchor(),Ext.apply(c,{fn:u,scroll:d}),Ext.EventManager.onWindowResize(u,null),d&&Ext.EventManager.on(t,"scroll",u,null,{buffer:isNaN(o)?50:o}),u.call(s),s},removeAnchor:function(){var e=this,i=this.getAnchor();return i&&i.fn&&(Ext.EventManager.removeResizeListener(i.fn),i.scroll&&Ext.EventManager.un(t,"scroll",i.fn),delete i.fn),e},getAlignVector:function(e,t,i){var n=this,r=n.getXY(),o=n.getAlignToXY(e,t,i);return e=Ext.get(e),o[0]-=r[0],o[1]-=r[1],o},alignTo:function(e,t,i,n){var r=this;return r.setXY(r.getAlignToXY(e,t,i),!(!r.anim||!n)&&r.anim(n))},getConstrainVector:function(e,t){e instanceof Ext.util.Region||(e=Ext.get(e).getViewRegion());var i=this.getRegion(),n=[0,0],r=this.shadow&&!this.shadowDisabled?this.shadow.getShadowSize():void 0,o=!1;return t&&i.translateBy(t[0]-i.x,t[1]-i.y),r&&e.adjust(r[0],-r[1],-r[2],r[3]),i.right>e.right&&(o=!0,n[0]=e.right-i.right),i.left+n[0]<e.left&&(o=!0,n[0]=e.left-i.left),i.bottom>e.bottom&&(o=!0,n[1]=e.bottom-i.bottom),i.top+n[1]<e.top&&(o=!0,n[1]=e.top-i.top),!!o&&n},getCenterXY:function(){return this.getAlignToXY(e,"c-c")},center:function(t){return this.alignTo(t||e,"c-c")}}}()),Ext.dom.Element.override({animate:function(e){var t,i,n=this,r=n.dom.id||Ext.id(n.dom);return Ext.fx.Manager.hasFxBlock(r)||(e.listeners&&(t=e.listeners,delete e.listeners),e.internalListeners&&(e.listeners=e.internalListeners,delete e.internalListeners),i=new Ext.fx.Anim(n.anim(e)),t&&i.on(t),Ext.fx.Manager.queueFx(i)),n},anim:function(e){if(!Ext.isObject(e))return!!e&&{};var t,i=this,n=e.duration||Ext.fx.Anim.prototype.duration,r=e.easing||"ease";return e.stopAnimation&&i.stopAnimation(),Ext.applyIf(e,Ext.fx.Manager.getFxDefaults(i.id)),Ext.fx.Manager.setFxDefaults(i.id,{delay:0}),t={target:i.dom,remove:e.remove,alternate:e.alternate||!1,duration:n,easing:r,callback:e.callback,listeners:e.listeners,iterations:e.iterations||1,scope:e.scope,block:e.block,concurrent:e.concurrent,delay:e.delay||0,paused:!0,keyframes:e.keyframes,from:e.from||{},to:Ext.apply({},e)},Ext.apply(t.to,e.to),delete t.to.to,delete t.to.from,delete t.to.remove,delete t.to.alternate,delete t.to.keyframes,delete t.to.iterations,delete t.to.listeners,delete t.to.target,delete t.to.paused,delete t.to.callback,delete t.to.scope,delete t.to.duration,delete t.to.easing,delete t.to.concurrent,delete t.to.block,delete t.to.stopAnimation,delete t.to.delay,t},slideIn:function(e,t,i){var n,r,o,a,s=this,l=s.dom.style;return e=e||"t",t=t||{},n=function(){var n,d,u,c,h=this,g=t.listeners;switch(i||s.fixDisplay(),n=s.getBox(),"t"!=e&&"b"!=e||0!==n.height?"l"!=e&&"r"!=e||0!==n.width||(n.width=s.dom.scrollWidth):n.height=s.dom.scrollHeight,d=s.getStyles("width","height","left","right","top","bottom","position","z-index",!0),s.setSize(n.width,n.height),t.preserveScroll&&(o=s.cacheScrollValues()),c=s.wrap({id:Ext.id()+"-anim-wrap-for-"+s.id,style:{visibility:i?"visible":"hidden"}}),a=c.dom.parentNode,c.setPositioning(s.getPositioning()),c.isStyle("position","static")&&c.position("relative"),s.clearPositioning("auto"),c.clip(),o&&o(),s.setStyle({visibility:"",position:"absolute"}),i&&c.setSize(n.width,n.height),e){case"t":u={from:{width:n.width+"px",height:"0px"},to:{width:n.width+"px",height:n.height+"px"}},l.bottom="0px";break;case"l":u={from:{width:"0px",height:n.height+"px"},to:{width:n.width+"px",height:n.height+"px"}},l.right="0px";break;case"r":u={from:{x:n.x+n.width,width:"0px",height:n.height+"px"},to:{x:n.x,width:n.width+"px",height:n.height+"px"}};break;case"b":u={from:{y:n.y+n.height,width:n.width+"px",height:"0px"},to:{y:n.y,width:n.width+"px",height:n.height+"px"}};break;case"tl":u={from:{x:n.x,y:n.y,width:"0px",height:"0px"},to:{width:n.width+"px",height:n.height+"px"}},l.bottom="0px",l.right="0px";break;case"bl":u={from:{y:n.y+n.height,width:"0px",height:"0px"
},to:{y:n.y,width:n.width+"px",height:n.height+"px"}},l.bottom="0px";break;case"br":u={from:{x:n.x+n.width,y:n.y+n.height,width:"0px",height:"0px"},to:{x:n.x,y:n.y,width:n.width+"px",height:n.height+"px"}};break;case"tr":u={from:{x:n.x+n.width,width:"0px",height:"0px"},to:{x:n.x,width:n.width+"px",height:n.height+"px"}},l.right="0px"}c.show(),r=Ext.apply({},t),delete r.listeners,r=new Ext.fx.Anim(Ext.applyIf(r,{target:c,duration:500,easing:"ease-out",from:i?u.to:u.from,to:i?u.from:u.to})),r.on("afteranimate",function(){s.setStyle(d),i&&(t.useDisplay?s.setDisplayed(!1):s.hide()),c.dom&&(c.dom.parentNode?c.dom.parentNode.insertBefore(s.dom,c.dom):a.appendChild(s.dom),c.remove()),o&&o(),h.end()}),g&&r.on(g)},s.animate({duration:t.duration?2*Math.max(t.duration,500):1e3,listeners:{beforeanimate:n}}),s},slideOut:function(e,t){return this.slideIn(e,t,!0)},puff:function(e){var t,i=this,n=i.getBox(),r=i.getStyles("width","height","left","right","top","bottom","position","z-index","font-size","opacity",!0);return e=Ext.applyIf(e||{},{easing:"ease-out",duration:500,useDisplay:!1}),t=function(){i.clearOpacity(),i.show(),this.to={width:2*n.width,height:2*n.height,x:n.x-n.width/2,y:n.y-n.height/2,opacity:0,fontSize:"200%"},this.on("afteranimate",function(){i.dom&&(e.useDisplay?i.setDisplayed(!1):i.hide(),i.setStyle(r),e.callback.call(e.scope))})},i.animate({duration:e.duration,easing:e.easing,listeners:{beforeanimate:{fn:t}}}),i},switchOff:function(e){var t,i=this;return e=Ext.applyIf(e||{},{easing:"ease-in",duration:500,remove:!1,useDisplay:!1}),t=function(){var t,n,r=this,o=i.getSize(),a=i.getXY();i.clearOpacity(),i.clip(),n=i.getPositioning(),t=new Ext.fx.Animator({target:i,duration:e.duration,easing:e.easing,keyframes:{33:{opacity:.3},66:{height:1,y:a[1]+o.height/2},100:{width:1,x:a[0]+o.width/2}}}),t.on("afteranimate",function(){e.useDisplay?i.setDisplayed(!1):i.hide(),i.clearOpacity(),i.setPositioning(n),i.setSize(o),r.end()})},i.animate({duration:2*Math.max(e.duration,500),listeners:{beforeanimate:{fn:t}}}),i},frame:function(e,t,i){var n,r=this;return e=e||"#C3DAF9",t=t||1,i=i||{},n=function(){r.show();var n,o=this,a=r.getBox(),s=Ext.getBody().createChild({id:r.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35e3,border:"0px solid "+e}});n=new Ext.fx.Anim({target:s,duration:i.duration||1e3,iterations:t,from:{top:a.y,left:a.x,borderWidth:0,opacity:1,height:a.height,width:a.width},to:{top:a.y-20,left:a.x-20,borderWidth:10,opacity:0,height:a.height+40,width:a.width+40}}),n.on("afteranimate",function(){s.remove(),o.end()})},r.animate({duration:2*Math.max(i.duration,500)||2e3,listeners:{beforeanimate:{fn:n}}}),r},ghost:function(e,t){var i,n=this;return e=e||"b",i=function(){var t=n.getWidth(),i=n.getHeight(),r=n.getXY(),o=n.getPositioning(),a={opacity:0};switch(e){case"t":a.y=r[1]-i;break;case"l":a.x=r[0]-t;break;case"r":a.x=r[0]+t;break;case"b":a.y=r[1]+i;break;case"tl":a.x=r[0]-t,a.y=r[1]-i;break;case"bl":a.x=r[0]-t,a.y=r[1]+i;break;case"br":a.x=r[0]+t,a.y=r[1]+i;break;case"tr":a.x=r[0]+t,a.y=r[1]-i}this.to=a,this.on("afteranimate",function(){n.dom&&(n.hide(),n.clearOpacity(),n.setPositioning(o))})},n.animate(Ext.applyIf(t||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:{fn:i}}})),n},highlight:function(e,t){var i,n,r,o,a,s,l=this,d=l.dom,u={};return t=t||{},o=t.listeners||{},r=t.attr||"backgroundColor",u[r]=e||"ffff9c",t.to?n=t.to:(n={},n[r]=t.endColor||l.getColor(r,"ffffff","")),t.listeners=Ext.apply(Ext.apply({},o),{beforeanimate:function(){if(i=d.style[r],l.clearOpacity(),l.show(),a=o.beforeanimate)return s=a.fn||a,s.apply(a.scope||o.scope||window,arguments)},afteranimate:function(){d&&(d.style[r]=i),a=o.afteranimate,a&&(s=a.fn||a,s.apply(a.scope||o.scope||window,arguments))}}),l.animate(Ext.apply({},t,{duration:1e3,easing:"ease-in",from:u,to:n})),l},pause:function(e){var t=this;return Ext.fx.Manager.setFxDefaults(t.id,{delay:e}),t},fadeIn:function(e){var t=this;return t.animate(Ext.apply({},e,{opacity:1,internalListeners:{beforeanimate:function(e){t.isStyle("display","none")?t.setDisplayed(""):t.show()}}})),this},fadeOut:function(e){var t=this;return e=Ext.apply({opacity:0,internalListeners:{afteranimate:function(i){var n=t.dom;n&&0===i.to.opacity&&(e.useDisplay?t.setDisplayed(!1):t.hide())}}},e),t.animate(e),t},scale:function(e,t,i){return this.animate(Ext.apply({},i,{width:e,height:t})),this},shift:function(e){return this.animate(e),this}}),Ext.dom.Element.override({initDD:function(e,t,i){var n=new Ext.dd.DD(Ext.id(this.dom),e,t);return Ext.apply(n,i)},initDDProxy:function(e,t,i){var n=new Ext.dd.DDProxy(Ext.id(this.dom),e,t);return Ext.apply(n,i)},initDDTarget:function(e,t,i){var n=new Ext.dd.DDTarget(Ext.id(this.dom),e,t);return Ext.apply(n,i)}}),function(){var e=Ext.dom.Element,t="visibility",i="display",n="none",r="hidden",o="offsets",a="asclass",s="nosize",l="originalDisplay",d="visibilityMode",u="isVisible",c=Ext.baseCSSPrefix+"hide-offsets",h=function(e){var t=(e.$cache||e.getCache()).data,i=t[l];return void 0===i&&(t[l]=i=""),i},g=function(t){var i=(t.$cache||t.getCache()).data,n=i[d];return void 0===n&&(i[d]=n=e.VISIBILITY),n};e.override({originalDisplay:"",visibilityMode:1,setVisible:function(n,l){var d=this,h=d.dom,p=g(d);if("string"==typeof l){switch(l){case i:p=e.DISPLAY;break;case t:p=e.VISIBILITY;break;case o:p=e.OFFSETS;break;case s:case a:p=e.ASCLASS}d.setVisibilityMode(p),l=!1}if(l&&d.anim)n&&(d.setOpacity(.01),d.setVisible(!0)),Ext.isObject(l)||(l={duration:350,easing:"ease-in"}),d.animate(Ext.applyIf({callback:function(){n||d.setVisible(!1).setOpacity(1)},to:{opacity:n?1:0}},l));else{if(p==e.DISPLAY)return d.setDisplayed(n);p==e.OFFSETS?d[n?"removeCls":"addCls"](c):p==e.VISIBILITY?(d.fixDisplay(),h.style.visibility=n?"":r):p==e.ASCLASS&&d[n?"removeCls":"addCls"](d.visibilityCls||e.visibilityCls)}return(d.$cache||d.getCache()).data[u]=n,d},hasMetrics:function(){var t=g(this);return this.isVisible()||t==e.OFFSETS||t==e.VISIBILITY},toggle:function(e){var t=this;return t.setVisible(!t.isVisible(),t.anim(e)),t},setDisplayed:function(e){return"boolean"==typeof e&&(e=e?h(this):n),this.setStyle(i,e),this},fixDisplay:function(){var e=this;e.isStyle(i,n)&&(e.setStyle(t,r),e.setStyle(i,h(e)),e.isStyle(i,n)&&e.setStyle(i,"block"))},hide:function(e){return"string"==typeof e?(this.setVisible(!1,e),this):(this.setVisible(!1,this.anim(e)),this)},show:function(e){return"string"==typeof e?(this.setVisible(!0,e),this):(this.setVisible(!0,this.anim(e)),this)}})}(),function(){var e=Ext.dom.Element,t="left",i="right",n="top",r="bottom",o="position",a="static",s="relative",l="auto",d="z-index",u="BODY",c="padding",h="border",g="-left",p="-right",f="-top",m="-bottom",x="-width",y={l:h+g+x,r:h+p+x,t:h+f+x,b:h+m+x},v={l:c+g,r:c+p,t:c+f,b:c+m},E=[v.l,v.r,v.t,v.b],b=[y.l,y.r,y.t,y.b],w=["position","top","left"];e.override({getX:function(){return e.getX(this.dom)},getY:function(){return e.getY(this.dom)},getXY:function(){return e.getXY(this.dom)},getOffsetsTo:function(e){var t=this.getXY(),i=Ext.fly(e,"_internal").getXY();return[t[0]-i[0],t[1]-i[1]]},setX:function(e,t){return this.setXY([e,this.getY()],t)},setY:function(e,t){return this.setXY([this.getX(),e],t)},setLeft:function(e){return this.setStyle(t,this.addUnits(e)),this},setTop:function(e){return this.setStyle(n,this.addUnits(e)),this},setRight:function(e){return this.setStyle(i,this.addUnits(e)),this},setBottom:function(e){return this.setStyle(r,this.addUnits(e)),this},setXY:function(t,i){var n=this;return i&&n.anim?(Ext.isObject(i)||(i={}),n.animate(Ext.applyIf({to:{x:t[0],y:t[1]}},i))):e.setXY(n.dom,t),n},pxRe:/^\d+(?:\.\d*)?px$/i,getLocalX:function(){var e,i=this,n=i.getStyle(t);return n&&n!==l?n&&i.pxRe.test(n)?parseFloat(n):(n=i.getX(),e=i.dom.offsetParent,e&&(n-=Ext.fly(e).getX()),n):0},getLocalY:function(){var e,t=this,i=t.getStyle(n);return i&&i!==l?i&&t.pxRe.test(i)?parseFloat(i):(i=t.getY(),e=t.dom.offsetParent,e&&(i-=Ext.fly(e).getY()),i):0},getLeft:function(e){return e?this.getLocalX():this.getX()},getRight:function(e){return(e?this.getLocalX():this.getX())+this.getWidth()},getTop:function(e){return e?this.getLocalY():this.getY()},getBottom:function(e){return(e?this.getLocalY():this.getY())+this.getHeight()},translatePoints:function(e,t){var i=this,n=i.getStyle(w),r="relative"==n.position,o=parseFloat(n.left),a=parseFloat(n.top),s=i.getXY();return Ext.isArray(e)&&(t=e[1],e=e[0]),isNaN(o)&&(o=r?0:i.dom.offsetLeft),isNaN(a)&&(a=r?0:i.dom.offsetTop),o="number"==typeof e?e-s[0]+o:void 0,a="number"==typeof t?t-s[1]+a:void 0,{left:o,top:a}},setBox:function(e,t,i){var n=this,r=e.width,o=e.height;return!t||n.autoBoxAdjust||n.isBorderBox()||(r-=n.getBorderWidth("lr")+n.getPadding("lr"),o-=n.getBorderWidth("tb")+n.getPadding("tb")),n.setBounds(e.x,e.y,r,o,i),n},getBox:function(e,i){var r,o,a,s,l,d,u,c,h,g,p=this;return i?(r=p.getStyle([t,n]),r=[parseFloat(r.left)||0,parseFloat(r.top)||0]):r=p.getXY(),c=p.getWidth(),h=p.getHeight(),e?(o=p.getStyle(E),a=p.getStyle(b),s=(parseFloat(a[y.l])||0)+(parseFloat(o[v.l])||0),l=(parseFloat(a[y.r])||0)+(parseFloat(o[v.r])||0),d=(parseFloat(a[y.t])||0)+(parseFloat(o[v.t])||0),u=(parseFloat(a[y.b])||0)+(parseFloat(o[v.b])||0),g={x:r[0]+s,y:r[1]+d,0:r[0]+s,1:r[1]+d,width:c-(s+l),height:h-(d+u)}):g={x:r[0],y:r[1],0:r[0],1:r[1],width:c,height:h},g.right=g.x+g.width,g.bottom=g.y+g.height,g},getPageBox:function(e){var t=this,i=t.dom,n=i.nodeName==u,r=n?Ext.dom.AbstractElement.getViewWidth():i.offsetWidth,o=n?Ext.dom.AbstractElement.getViewHeight():i.offsetHeight,a=t.getXY(),s=a[1],l=a[0]+r,d=a[1]+o,c=a[0];return e?new Ext.util.Region(s,l,d,c):{left:c,top:s,width:r,height:o,right:l,bottom:d}},setLocation:function(e,t,i){return this.setXY([e,t],i)},moveTo:function(e,t,i){return this.setXY([e,t],i)},position:function(e,t,i,n){var r=this;!e&&r.isStyle(o,a)?r.setStyle(o,s):e&&r.setStyle(o,e),t&&r.setStyle(d,t),(i||n)&&r.setXY([i||!1,n||!1])},clearPositioning:function(e){return e=e||"",this.setStyle({left:e,right:e,top:e,bottom:e,"z-index":"",position:a}),this},getPositioning:function(){var e=this.getStyle([t,n,o,i,r,d]);return e[i]=e[t]?"":e[i],e[r]=e[n]?"":e[r],e},setPositioning:function(e){var t=this,i=t.dom.style;return t.setStyle(e),e.right==l&&(i.right=""),e.bottom==l&&(i.bottom=""),t},move:function(e,t,i){var n=this,r=n.getXY(),o=r[0],a=r[1],s=[o-t,a],l=[o+t,a],d=[o,a-t],u=[o,a+t],c={l:s,left:s,r:l,right:l,t:d,top:d,up:d,b:u,bottom:u,down:u};e=e.toLowerCase(),n.moveTo(c[e][0],c[e][1],i)},setLeftTop:function(t,i){var n=this.dom.style;return n.left=e.addUnits(t),n.top=e.addUnits(i),this},getRegion:function(){return this.getPageBox(!0)},getViewRegion:function(){var e,t,i,n,r,o,a=this,s=a.dom.nodeName==u;return s?(e=a.getScroll(),n=e.left,i=e.top,r=Ext.dom.AbstractElement.getViewportWidth(),o=Ext.dom.AbstractElement.getViewportHeight()):(t=a.getXY(),n=t[0]+a.getBorderWidth("l")+a.getPadding("l"),i=t[1]+a.getBorderWidth("t")+a.getPadding("t"),r=a.getWidth(!0),o=a.getHeight(!0)),new Ext.util.Region(i,n+r-1,i+o-1,n)},setBounds:function(e,t,i,n,r){var o=this;return r&&o.anim?(Ext.isObject(r)||(r={}),o.animate(Ext.applyIf({to:{x:e,y:t,width:o.adjustWidth(i),height:o.adjustHeight(n)}},r))):(o.setSize(i,n),o.setLocation(e,t)),o},setRegion:function(e,t){return this.setBounds(e.left,e.top,e.right-e.left,e.bottom-e.top,t)}})}(),Ext.dom.Element.override({isScrollable:function(){var e=this.dom;return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth},getScroll:function(){var e,t,i,n=this.dom,r=document,o=r.body,a=r.documentElement;return n==r||n==o?(Ext.isIE&&Ext.isStrict?(e=a.scrollLeft,t=a.scrollTop):(e=window.pageXOffset,t=window.pageYOffset),i={left:e||(o?o.scrollLeft:0),top:t||(o?o.scrollTop:0)}):i={left:n.scrollLeft,top:n.scrollTop},i},scrollBy:function(e,t,i){var n=this,r=n.dom;return e.length?(i=t,t=e[1],e=e[0]):"number"!=typeof e&&(i=t,t=e.y,e=e.x),e&&n.scrollTo("left",Math.max(Math.min(r.scrollLeft+e,r.scrollWidth-r.clientWidth),0),i),t&&n.scrollTo("top",Math.max(Math.min(r.scrollTop+t,r.scrollHeight-r.clientHeight),0),i),n},scrollTo:function(e,t,i){var n,r,o=/top/i.test(e),a=this,s=a.dom;return i&&a.anim?(n={to:{}},n.to["scroll"+(o?"Top":"Left")]=t,Ext.isObject(i)&&Ext.applyIf(n,i),a.animate(n)):(r="scroll"+(o?"Top":"Left"),s[r]=t,s[r]=t),a},scrollIntoView:function(e,t,i){e=Ext.getDom(e)||Ext.getBody().dom;var n,r=this.dom,o=this.getOffsetsTo(e),a=o[0]+e.scrollLeft,s=o[1]+e.scrollTop,l=s+r.offsetHeight,d=a+r.offsetWidth,u=e.clientHeight,c=parseInt(e.scrollTop,10),h=parseInt(e.scrollLeft,10),g=c+u,p=h+e.clientWidth;return r.offsetHeight>u||s<c?n=s:l>g&&(n=l-u),null!=n&&Ext.get(e).scrollTo("top",n,i),t!==!1&&(n=null,r.offsetWidth>e.clientWidth||a<h?n=a:d>p&&(n=d-e.clientWidth),null!=n&&Ext.get(e).scrollTo("left",n,i)),this},scrollChildIntoView:function(e,t){Ext.fly(e,"_scrollChildIntoView").scrollIntoView(this,t)},scroll:function(e,t,i){if(!this.isScrollable())return!1;var n,r=this.dom,o=r.scrollLeft,a=r.scrollTop,s=r.scrollWidth,l=r.scrollHeight,d=r.clientWidth,u=r.clientHeight,c=!1,h={l:Math.min(o+t,s-d),r:n=Math.max(o-t,0),t:Math.max(a-t,0),b:Math.min(a+t,l-u)};return h.d=h.b,h.u=h.t,e=e.substr(0,1),(n=h[e])>-1&&(c=!0,this.scrollTo("l"==e||"r"==e?"left":"top",n,this.anim(i))),c}}),function(){function e(e,t,i,n){return"none"==n[this.styleName]?"0px":n[this.name]}var t,i,n,r,o,a=Ext.dom.Element,s=document.defaultView,l=/table-row|table-.*-group/,d="_internal",u="hidden",c="height",h="width",g="isClipped",p="overflow",f="overflow-x",m="overflow-y",x="originalClip",y=/#document|body/i;if(s&&s.getComputedStyle||(a.prototype.getStyle=function(e,t){var i,n,r,o,s,l,d,u=this,c=u.dom,h="string"!=typeof e,g=u.styleHooks,p=e,f=p,m=1,x=t;if(h&&(r={},p=f[0],d=0,!(m=f.length)))return r;if(!c||c.documentElement)return r||"";n=c.style,t?l=n:(l=c.currentStyle,l||(x=!0,l=n));do{if(o=g[p],o||(g[p]=o={name:a.normalize(p)}),o.get)s=o.get(c,u,x,l);else if(i=o.name,o.canThrow)try{s=l[i]}catch(e){s=""}else s=l?l[i]:"";if(!h)return s;r[p]=s,p=f[++d]}while(d<m);return r}),a.override({getHeight:function(e,t){var i,n,r=this,o=r.dom,a=r.isStyle("display","none");return a?0:(i=Math.max(o.offsetHeight,o.clientHeight)||0,Ext.supports.Direct2DBug&&(n=r.adjustDirect2DDimension(c),t?i+=n:n>0&&n<.5&&i++),e&&(i-=r.getBorderWidth("tb")+r.getPadding("tb")),i<0?0:i)},getWidth:function(e,t){var i,n,r,o=this,a=o.dom,s=o.isStyle("display","none");return s?0:(Ext.supports.BoundingClientRect?(i=a.getBoundingClientRect(),n=i.right-i.left,n=t?n:Math.ceil(n)):n=a.offsetWidth,n=Math.max(n,a.clientWidth)||0,Ext.supports.Direct2DBug&&(r=o.adjustDirect2DDimension(h),t?n+=r:r>0&&r<.5&&n++),e&&(n-=o.getBorderWidth("lr")+o.getPadding("lr")),n<0?0:n)},setWidth:function(e,t){var i=this;return e=i.adjustWidth(e),t&&i.anim?(Ext.isObject(t)||(t={}),i.animate(Ext.applyIf({to:{width:e}},t))):i.dom.style.width=i.addUnits(e),i},setHeight:function(e,t){var i=this;return e=i.adjustHeight(e),t&&i.anim?(Ext.isObject(t)||(t={}),i.animate(Ext.applyIf({to:{height:e}},t))):i.dom.style.height=i.addUnits(e),i},applyStyles:function(e){return Ext.DomHelper.applyStyles(this.dom,e),this},setSize:function(e,t,i){var n=this;return Ext.isObject(e)&&(i=t,t=e.height,e=e.width),e=n.adjustWidth(e),t=n.adjustHeight(t),i&&n.anim?(i===!0&&(i={}),n.animate(Ext.applyIf({to:{width:e,height:t}},i))):(n.dom.style.width=n.addUnits(e),n.dom.style.height=n.addUnits(t)),n},getViewSize:function(){var e,t=this,i=t.dom,n=y.test(i.nodeName);return e=n?{width:a.getViewWidth(),height:a.getViewHeight()}:{width:i.clientWidth,height:i.clientHeight}},getSize:function(e){return{width:this.getWidth(e),height:this.getHeight(e)}},adjustWidth:function(e){var t=this,i="number"==typeof e;return i&&t.autoBoxAdjust&&!t.isBorderBox()&&(e-=t.getBorderWidth("lr")+t.getPadding("lr")),i&&e<0?0:e},adjustHeight:function(e){var t=this,i="number"==typeof e;return i&&t.autoBoxAdjust&&!t.isBorderBox()&&(e-=t.getBorderWidth("tb")+t.getPadding("tb")),i&&e<0?0:e},getColor:function(e,t,i){var n,r,o=this.getStyle(e),a=i||""===i?i:"#",s=0;if(!o||/transparent|inherit/.test(o))return t;if(/^r/.test(o))for(o=o.slice(4,o.length-1).split(","),r=o.length;s<r;s++)n=parseInt(o[s],10),a+=(n<16?"0":"")+n.toString(16);else o=o.replace("#",""),a+=3==o.length?o.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):o;return a.length>5?a.toLowerCase():t},setOpacity:function(e,t){var i=this;return i.dom?(t&&i.anim?("object"!=typeof t&&(t={duration:350,easing:"ease-in"}),i.animate(Ext.applyIf({to:{opacity:e}},t))):i.setStyle("opacity",e),i):i},clearOpacity:function(){return this.setOpacity("")},adjustDirect2DDimension:function(e){var t,i=this,n=i.dom,r=i.getStyle("display"),o=n.style.display,a=n.style.position,s=e===h?0:1,d=n.currentStyle;return"inline"===r&&(n.style.display="inline-block"),n.style.position=r.match(l)?"absolute":"static",t=(parseFloat(d[e])||2*parseFloat(d.msTransformOrigin.split(" ")[s]))%1,n.style.position=a,"inline"===r&&(n.style.display=o),t},clip:function(){var e,t=this,i=(t.$cache||t.getCache()).data;return i[g]||(i[g]=!0,e=t.getStyle([p,f,m]),i[x]={o:e[p],x:e[f],y:e[m]},t.setStyle(p,u),t.setStyle(f,u),t.setStyle(m,u)),t},unclip:function(){var e,t=this,i=(t.$cache||t.getCache()).data;return i[g]&&(i[g]=!1,e=i[x],e.o&&t.setStyle(p,e.o),e.x&&t.setStyle(f,e.x),e.y&&t.setStyle(m,e.y)),t},boxWrap:function(e){e=e||Ext.baseCSSPrefix+"box";var t=Ext.get(this.insertHtml("beforeBegin","<div class='"+e+"'>"+Ext.String.format(a.boxMarkup,e)+"</div>"));return Ext.DomQuery.selectNode("."+e+"-mc",t.dom).appendChild(this.dom),t},getComputedHeight:function(){var e=this,t=Math.max(e.dom.offsetHeight,e.dom.clientHeight);return t||(t=parseFloat(e.getStyle(c))||0,e.isBorderBox()||(t+=e.getFrameWidth("tb"))),t},getComputedWidth:function(){var e=this,t=Math.max(e.dom.offsetWidth,e.dom.clientWidth);return t||(t=parseFloat(e.getStyle(h))||0,e.isBorderBox()||(t+=e.getFrameWidth("lr"))),t},getFrameWidth:function(e,t){return t&&this.isBorderBox()?0:this.getPadding(e)+this.getBorderWidth(e)},addClsOnOver:function(e,t,i){var n=this,r=n.dom,o=Ext.isFunction(t);return n.hover(function(){o&&t.call(i||n,n)===!1||Ext.fly(r,d).addCls(e)},function(){Ext.fly(r,d).removeCls(e)}),n},addClsOnFocus:function(e,t,i){var n=this,r=n.dom,o=Ext.isFunction(t);return n.on("focus",function(){return(!o||t.call(i||n,n)!==!1)&&void Ext.fly(r,d).addCls(e)}),n.on("blur",function(){Ext.fly(r,d).removeCls(e)}),n},addClsOnClick:function(e,t,i){var n=this,r=n.dom,o=Ext.isFunction(t);return n.on("mousedown",function(){if(o&&t.call(i||n,n)===!1)return!1;Ext.fly(r,d).addCls(e);var a=Ext.getDoc(),s=function(){Ext.fly(r,d).removeCls(e),a.removeListener("mouseup",s)};a.on("mouseup",s)}),n},getStyleSize:function(){var e,t,i,n=this,r=this.dom,o=y.test(r.nodeName);return o?{width:a.getViewWidth(),height:a.getViewHeight()}:(e=n.getStyle([c,h],!0),e.width&&"auto"!=e.width&&(t=parseFloat(e.width),n.isBorderBox()&&(t-=n.getFrameWidth("lr"))),e.height&&"auto"!=e.height&&(i=parseFloat(e.height),n.isBorderBox()&&(i-=n.getFrameWidth("tb"))),{width:t||n.getWidth(!0),height:i||n.getHeight(!0)})},selectable:function(){var e=this;return e.dom.unselectable="off",e.on("selectstart",function(e){return e.stopPropagation(),!0}),e.applyStyles("-moz-user-select: text; -khtml-user-select: text;"),e.removeCls(Ext.baseCSSPrefix+"unselectable"),e},unselectable:function(){var e=this;return e.dom.unselectable="on",e.swallowEvent("selectstart",!0),e.applyStyles("-moz-user-select:-moz-none;-khtml-user-select:none;"),e.addCls(Ext.baseCSSPrefix+"unselectable"),e}}),a.prototype.styleHooks=t=Ext.dom.AbstractElement.prototype.styleHooks,(Ext.isIE6||Ext.isIE7)&&(t.fontSize=t["font-size"]={name:"fontSize",canThrow:!0},t.fontStyle=t["font-style"]={name:"fontStyle",canThrow:!0},t.fontFamily=t["font-family"]={name:"fontFamily",canThrow:!0}),Ext.isIEQuirks||Ext.isIE&&Ext.ieVersion<=8)for(i=["Top","Right","Bottom","Left"],n=i.length;n--;)r=i[n],o="border"+r+"Width",t["border-"+r.toLowerCase()+"-width"]=t[o]={name:o,styleName:"border"+r+"Style",get:e}}(),Ext.onReady(function(){var e=/alpha\(opacity=(.*)\)/i,t=/^\s+|\s+$/g,i=Ext.dom.Element.prototype.styleHooks;i.opacity={name:"opacity",afterSet:function(e,t,i){i.isLayer&&i.onOpacitySet(t)}},!Ext.supports.Opacity&&Ext.isIE&&Ext.apply(i.opacity,{get:function(t){var i,n,r=t.style.filter;return r.match&&(i=r.match(e),i&&(n=parseFloat(i[1]),!isNaN(n)))?n?n/100:0:1},set:function(i,n){var r=i.style,o=r.filter.replace(e,"").replace(t,"");r.zoom=1,"number"==typeof n&&n>=0&&n<1?(n*=100,r.filter=o+(o.length?" ":"")+"alpha(opacity="+n+")"):r.filter=o}})}),Ext.dom.Element.override({select:function(e){return Ext.dom.Element.select(e,!1,this.dom)}}),Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:"Ext.CompositeElementLite",requires:["Ext.dom.Element"],statics:{importElementMethods:function(){var e,t=Ext.dom.Element.prototype,i=this.prototype;for(e in t)"function"==typeof t[e]&&function(e){i[e]=i[e]||function(){return this.invoke(e,arguments)}}.call(i,e)}},constructor:function(e,t){this.elements=[],this.add(e,t),this.el=new Ext.dom.AbstractElement.Fly},isComposite:!0,getElement:function(e){return this.el.attach(e)},transformElement:function(e){return Ext.getDom(e)},getCount:function(){return this.elements.length},add:function(e,t){var i,n,r=this.elements;if(!e)return this;for("string"==typeof e?e=Ext.dom.Element.selectorFunction(e,t):e.isComposite?e=e.elements:Ext.isIterable(e)||(e=[e]),i=0,n=e.length;i<n;++i)r.push(this.transformElement(e[i]));return this},invoke:function(e,t){var i,n,r=this.elements,o=r.length;for(e=Ext.dom.Element.prototype[e],n=0;n<o;n++)i=r[n],i&&e.apply(this.getElement(i),t);return this},item:function(e){var t=this.elements[e],i=null;return t&&(i=this.getElement(t)),i},addListener:function(e,t,i,n){var r,o,a=this.elements,s=a.length;for(r=0;r<s;r++)o=a[r],o&&Ext.EventManager.on(o,e,t,i||o,n);return this},each:function(e,t){var i,n,r=this,o=r.elements,a=o.length;for(i=0;i<a&&(n=o[i],!n||(n=this.getElement(n),e.call(t||n,n,r,i)!==!1));i++);return r},fill:function(e){var t=this;return t.elements=[],t.add(e),t},filter:function(e){for(var t,i,n=this,r=n.elements,o=r.length,a=[],s=0,l="function"==typeof e;s<o;s++)i=r[s],t=!1,i&&(i=n.getElement(i),t=l?e.call(i,i,n,s)!==!1:i.is(e),t&&a.push(n.transformElement(i)));return n.elements=a,n},indexOf:function(e){return Ext.Array.indexOf(this.elements,this.transformElement(e))},replaceElement:function(e,t,i){var n,r=isNaN(e)?this.indexOf(e):e;return r>-1&&(t=Ext.getDom(t),i&&(n=this.elements[r],n.parentNode.insertBefore(t,n),Ext.removeNode(n)),Ext.Array.splice(this.elements,r,1,t)),this},clear:function(){this.elements=[]},addElements:function(e,t){if(!e)return this;"string"==typeof e&&(e=Ext.dom.Element.selectorFunction(e,t));var i,n=this.elements,r=e.length;for(i=0;i<r;i++)n.push(Ext.get(e[i]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(e){return this.indexOf(e)!=-1},removeElement:function(e,t){e=[].concat(e);var i,n,r,o=this,a=o.elements,s=e.length;for(r=0;r<s;r++)i=e[r],(n=a[i]||a[i=o.indexOf(i)])&&(t&&(n.dom?n.remove():Ext.removeNode(n)),Ext.Array.erase(a,i,1));return o}},function(){this.importElementMethods(),this.prototype.on=this.prototype.addListener,Ext.DomQuery&&(Ext.dom.Element.selectorFunction=Ext.DomQuery.select),Ext.dom.Element.select=function(e,t){var i;return"string"==typeof e?i=Ext.dom.Element.selectorFunction(e,t):void 0!==e.length&&(i=e),new Ext.CompositeElementLite(i)},Ext.select=function(){return Ext.dom.Element.select.apply(Ext.dom.Element,arguments)}}),Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:"Ext.dom.CompositeElementLite",getElement:function(e){return e},transformElement:function(e){return Ext.get(e)}},function(){Ext.dom.Element.select=function(e,t,i){var n;return"string"==typeof e?n=Ext.dom.Element.selectorFunction(e,i):void 0!==e.length&&(n=e),t===!0?new Ext.CompositeElement(n):new Ext.CompositeElementLite(n)}}),Ext.select=Ext.Element.select,Ext.define("Ext.AbstractPlugin",{disabled:!1,constructor:function(e){this.initialConfig=e,Ext.apply(this,e)},clone:function(){return new this.self(this.initialConfig)},getCmp:function(){return this.cmp},init:Ext.emptyFn,destroy:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}}),Ext.define("Ext.ComponentQuery",{singleton:!0,uses:["Ext.ComponentManager"]},function(){var e=this,t=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),i=function(e,t){return t.method.apply(this,[e].concat(t.args))},n=function(e,t){for(var i,n=[],r=0,o=e.length,a=">"!==t;r<o;r++)i=e[r],i.getRefItems&&(n=n.concat(i.getRefItems(a)));return n},r=function(e){for(var t,i=[],n=0,r=e.length;n<r;n++)for(t=e[n];t=t.ownerCt||t.floatParent;)i.push(t);return i},o=function(e,t,i){if("*"===t)return e.slice();for(var n,r=[],o=0,a=e.length;o<a;o++)n=e[o],n.isXType(t,i)&&r.push(n);return r},a=function(e,t){for(var i,n=(Ext.Array,[]),r=0,o=e.length;r<o;r++)i=e[r],i.hasCls(t)&&n.push(i);return n},s=function(e,t,i,n){for(var r,o=[],a=0,s=e.length;a<s;a++)r=e[a],(n?String(r[t])!==n:!r[t])||o.push(r);return o},l=function(e,t){for(var i,n=[],r=0,o=e.length;r<o;r++)i=e[r],i.getItemId()===t&&n.push(i);return n},d=function(t,i,n){return e.pseudos[i](t,n)},u=/^(\s?([>\^])\s?|\s|$)/,c=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,h=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:o},{re:/^(?:[\[](?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]])/,method:s},{re:/^#([\w\-]+)/,method:l},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:d},{re:/^(?:\{([^\}]+)\})/,method:t}];e.Query=Ext.extend(Object,{constructor:function(e){e=e||{},Ext.apply(this,e)},execute:function(e){var t,o,a=this.operations,s=0,l=a.length;for(e?Ext.isArray(e)?o=e:e.isMixedCollection&&(o=e.items):o=Ext.ComponentManager.all.getArray();s<l;s++)if(t=a[s],o="^"===t.mode?r(o||[e]):t.mode?n(o||[e],t.mode):i(o||n([e]),t),s===l-1)return o;return[]},is:function(e){var t,n,r=this.operations,o=Ext.isArray(e)?e:[e],a=o.length,s=r[r.length-1];if(o=i(o,s),o.length===a){if(r.length>1)for(n=0,t=o.length;n<t;n++)if(Ext.Array.indexOf(this.execute(),o[n])===-1)return!1;return!0}return!1}}),Ext.apply(this,{cache:{},pseudos:{not:function(e,t){for(var i,n=Ext.ComponentQuery,r=0,o=e.length,a=[],s=-1;r<o;++r)i=e[r],n.is(i,t)||(a[++s]=i);return a},first:function(e){var t=[];return e.length>0&&t.push(e[0]),t},last:function(e){var t=e.length,i=[];return t>0&&i.push(e[t-1]),i}},query:function(e,t){for(var i,n,r,o=e.split(","),a=o.length,s=0,l=[],d=[],u={};s<a;s++)e=Ext.String.trim(o[s]),i=this.cache[e]||(this.cache[e]=this.parse(e)),l=l.concat(i.execute(t));if(a>1){for(n=l.length,s=0;s<n;s++)r=l[s],u[r.id]||(d.push(r),u[r.id]=!0);l=d}return l},is:function(e,t){if(!t)return!0;for(var i,n=t.split(","),r=n.length,o=0;o<r;o++)if(t=Ext.String.trim(n[o]),i=this.cache[t]||(this.cache[t]=this.parse(t)),i.is(e))return!0;return!1},parse:function(t){for(var i,n,r,s,d,g,p,f,m=[],x=h.length;t&&i!==t;){for(i=t,n=t.match(c),n&&(r=n[1],"#"===r?m.push({method:l,args:[Ext.String.trim(n[2])]}):"."===r?m.push({method:a,args:[Ext.String.trim(n[2])]}):m.push({method:o,args:[Ext.String.trim(n[2]),Boolean(n[3])]}),t=t.replace(n[0],""));!(s=t.match(u));)for(g=0;t&&g<x;g++){if(p=h[g],d=t.match(p.re),f=p.method,d){m.push({method:Ext.isString(p.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[f].concat(d.slice(1)))):p.method,args:d.slice(1)}),t=t.replace(d[0],"");break}g===x-1&&Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}s[1]&&(m.push({mode:s[2]||s[1]}),t=t.replace(s[0],""))}return new e.Query({operations:m})}})}),Ext.define("Ext.Template",{requires:["Ext.dom.Helper","Ext.util.Format"],inheritableStatics:{from:function(e,t){return e=Ext.getDom(e),new this(e.value||e.innerHTML,t||"")}},constructor:function(e){var t,i=this,n=arguments,r=[],o=0,a=n.length;if(i.initialConfig={},1===a&&Ext.isArray(e)&&(n=e,a=n.length),a>1)for(;o<a;o++)t=n[o],"object"==typeof t?(Ext.apply(i.initialConfig,t),Ext.apply(i,t)):r.push(t);else r.push(e);i.html=r.join(""),i.compiled&&i.compile()},isTemplate:!0,disableFormats:!1,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(e){function t(t,i,n,s){return n&&r?(s=s?[e[i]].concat(Ext.functionFactory("return ["+s+"];")()):[e[i]],"this."==n.substr(0,5)?a[n.substr(5)].apply(a,s):o[n].apply(o,s)):void 0!==e[i]?e[i]:""}var i,n=this,r=n.disableFormats!==!0,o=Ext.util.Format,a=n;return n.compiled?n.compiled(e).join(""):i=n.html.replace(n.re,t)},applyOut:function(e,t){var i=this;return i.compiled?t.push.apply(t,i.compiled(e)):t.push(i.apply(e)),t},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(e,t){var i=this;return i.html=e,i.compiled=null,t?i.compile():i},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){function fn(e,t,i,n){return i&&useFormat?(n=n?","+n:"",i="this."!=i.substr(0,5)?"fm."+i+"(":"this."+i.substr(5)+"("):(n="",i="(values['"+t+"'] == undefined ? '' : "),"',"+i+"values['"+t+"']"+n+") ,'"}var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==!0,body,bodyReturn;return bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn),body="this.compiled = function(values){ return ['"+bodyReturn+"'];};",eval(body),me},insertFirst:function(e,t,i){return this.doInsert("afterBegin",e,t,i)},insertBefore:function(e,t,i){return this.doInsert("beforeBegin",e,t,i)},insertAfter:function(e,t,i){return this.doInsert("afterEnd",e,t,i)},append:function(e,t,i){return this.doInsert("beforeEnd",e,t,i)},doInsert:function(e,t,i,n){var r=Ext.DomHelper.insertHtml(e,Ext.getDom(t),this.apply(i));return n?Ext.get(r):r},overwrite:function(e,t,i){var n=Ext.DomHelper.overwrite(Ext.getDom(e),this.apply(t));return i?Ext.get(n):n}}),Ext.define("Ext.XTemplateParser",{constructor:function(e){Ext.apply(this,e)},doTpl:Ext.emptyFn,parse:function(e){var t,i,n,r,o,a,s,l,d,u,c,h,g=this,p=e.length,f={elseif:"elif"},m=g.topRe,x=g.actionsRe;for(g.level=0,g.stack=i=[],t=0;t<p;t=u){if(m.lastIndex=t,r=m.exec(e),!r){g.doText(e.substring(t,p));break}if(d=r.index,u=m.lastIndex,t<d&&g.doText(e.substring(t,d)),r[1])u=e.indexOf("%}",d+2),g.doEval(e.substring(d+2,u)),u+=2;else if(r[2])u=e.indexOf("]}",d+2),g.doExpr(e.substring(d+2,u)),u+=2;else if(r[3])g.doTag(r[3]);else if(r[4]){for(c=null;null!==(l=x.exec(r[4]));)n=l[2]||l[3],n&&(n=Ext.String.htmlDecode(n),o=l[1],o=f[o]||o,c=c||{},a=c[o],"string"==typeof a?c[o]=[a,n]:a?c[o].push(n):c[o]=n);c?c.if?(g.doIf(c.if,c),i.push({type:"if"})):c.switch?(g.doSwitch(c.switch,c),i.push({type:"switch"})):c.case?g.doCase(c.case,c):c.elif?g.doElseIf(c.elif,c):c.for?(++g.level,(h=g.propRe.exec(r[4]))&&(c.propName=h[1]||h[2]),g.doFor(c.for,c),i.push({type:"for",actions:c})):c.exec&&(g.doExec(c.exec,c),i.push({type:"exec",actions:c})):g.elseRe.test(r[4])?g.doElse():g.defaultRe.test(r[4])?g.doDefault():(g.doTpl(),i.push({type:"tpl"}))}else 5===r[0].length?i.push({type:"tpl"}):(s=i.pop(),g.doEnd(s.type,s.actions),"for"==s.type&&--g.level)}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]*)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|exec|switch|case|eval)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/}),Ext.define("Ext.chart.Callout",{constructor:function(e){e.callouts&&(e.callouts.styles=Ext.applyIf(e.callouts.styles||{},{color:"#000",font:"11px Helvetica, sans-serif"}),this.callouts=Ext.apply(this.callouts||{},e.callouts),this.calloutsArray=[])},renderCallouts:function(){if(this.callouts){var e,t,i,n,r,o,a,s,l=this,d=l.items,u=l.chart.animate,c=l.callouts,h=c.styles,g=l.calloutsArray,p=l.chart.store,f=p.getCount(),m=d.length/f,x=[];for(e=0,t=0;e<f;e++)for(i=0;i<m;i++)if(r=d[t],o=g[t],a=p.getAt(e),
s=c.filter(a),s||o){o||(g[t]=o=l.onCreateCallout(a,r,e,s,i,t));for(n in o)o[n]&&o[n].setAttributes&&o[n].setAttributes(h,!0);if(!s)for(n in o)o[n]&&(o[n].setAttributes?o[n].setAttributes({hidden:!0},!0):o[n].setVisible&&o[n].setVisible(!1));c.renderer(o,a),l.onPlaceCallout(o,a,r,e,s,u,i,t,x),x.push(o),t++}else t++;this.hideCallouts(t)}},onCreateCallout:function(e,t,i,n){var r=this,o=(r.calloutsGroup,r.callouts),a=o.styles,s=a.width,l=a.height,d=r.chart,u=d.surface,c={lines:!1};return c.lines=u.add(Ext.apply({},{type:"path",path:"M0,0",stroke:r.getLegendColor()||"#555"},a)),o.items&&(c.panel=new Ext.Panel({style:"position: absolute;",width:s,height:l,items:o.items,renderTo:d.el})),c},hideCallouts:function(e){for(var t,i,n=this.calloutsArray,r=n.length;r-- >e;){t=n[r];for(i in t)t[i]&&t[i].hide(!0)}}}),Ext.define("Ext.chart.Navigation",{constructor:function(){this.originalStore=this.store},setZoom:function(e){var t,i,n,r,o,a,s=this,l=s.axes,d=l.items,u=s.chartBBox,c=1/u.width,h=1/u.height,g={x:e.x*c,y:e.y*h,width:e.width*c,height:e.height*h};for(t=0,i=d.length;t<i;t++)n=d[t],r=n.calcEnds(),"bottom"==n.position||"top"==n.position?(o=(r.to-r.from)*g.x+r.from,a=(r.to-r.from)*g.width+o,n.minimum=o,n.maximum=a):(a=(r.to-r.from)*(1-g.y)+r.from,o=a-(r.to-r.from)*g.height,n.minimum=o,n.maximum=a);s.redraw(!1)},restoreZoom:function(){this.originalStore&&(this.store=this.substore=this.originalStore,this.redraw(!0))}}),Ext.define("Ext.chart.Shape",{singleton:!0,circle:function(e,t){return e.add(Ext.apply({type:"circle",x:t.x,y:t.y,stroke:null,radius:t.radius},t))},line:function(e,t){return e.add(Ext.apply({type:"rect",x:t.x-t.radius,y:t.y-t.radius,height:2*t.radius,width:2*t.radius/5},t))},square:function(e,t){return e.add(Ext.applyIf({type:"rect",x:t.x-t.radius,y:t.y-t.radius,height:2*t.radius,width:2*t.radius,radius:null},t))},triangle:function(e,t){return t.radius*=1.75,e.add(Ext.apply({type:"path",stroke:null,path:"M".concat(t.x,",",t.y,"m0-",.58*t.radius,"l",.5*t.radius,",",.87*t.radius,"-",t.radius,",0z")},t))},diamond:function(e,t){var i=t.radius;return i*=1.5,e.add(Ext.apply({type:"path",stroke:null,path:["M",t.x,t.y-i,"l",i,i,-i,i,-i,-i,i,-i,"z"]},t))},cross:function(e,t){var i=t.radius;return i/=1.7,e.add(Ext.apply({type:"path",stroke:null,path:"M".concat(t.x-i,",",t.y,"l",[-i,-i,i,-i,i,i,i,-i,i,i,-i,i,i,i,-i,i,-i,-i,-i,i,-i,-i,"z"])},t))},plus:function(e,t){var i=t.radius/1.3;return e.add(Ext.apply({type:"path",stroke:null,path:"M".concat(t.x-i/2,",",t.y-i/2,"l",[0,-i,i,0,0,i,i,0,0,i,-i,0,0,i,-i,0,0,-i,-i,0,0,-i,"z"])},t))},arrow:function(e,t){var i=t.radius;return e.add(Ext.apply({type:"path",path:"M".concat(t.x-.7*i,",",t.y-.4*i,"l",[.6*i,0,0,.4*-i,i,.8*i,-i,.8*i,0,.4*-i,.6*-i,0],"z")},t))},drop:function(e,t,i,n,r,o){r=r||30,o=o||0,e.add({type:"path",path:["M",t,i,"l",r,0,"A",.4*r,.4*r,0,1,0,t+.7*r,i-.7*r,"z"],fill:"#000",stroke:"none",rotate:{degrees:22.5-o,x:t,y:i}}),o=(o+90)*Math.PI/180,e.add({type:"text",x:t+r*Math.sin(o)-10,y:i+r*Math.cos(o)+5,text:n,"font-size":12*r/40,stroke:"none",fill:"#fff"})}}),Ext.define("Ext.data.IdGenerator",{isGenerator:!0,constructor:function(e){var t=this;Ext.apply(t,e),t.id&&(Ext.data.IdGenerator.all[t.id]=t)},getRecId:function(e){return e.modelName+"-"+e.internalId},statics:{all:{},get:function(e){var t,i,n;if("string"==typeof e)i=n=e,e=null;else{if(e.isGenerator)return e;i=e.id||e.type,n=e.type}return t=this.all[i],t||(t=Ext.create("idgen."+n,e)),t}}}),Ext.define("Ext.data.JsonP",{singleton:!0,requestCount:0,requests:{},timeout:3e4,disableCaching:!0,disableCachingParam:"_dc",callbackKey:"callback",request:function(e){e=Ext.apply({},e);var t,i,n=this,r=Ext.isDefined(e.disableCaching)?e.disableCaching:n.disableCaching,o=e.disableCachingParam||n.disableCachingParam,a=++n.requestCount,s=e.callbackName||"callback"+a,l=e.callbackKey||n.callbackKey,d=Ext.isDefined(e.timeout)?e.timeout:n.timeout,u=Ext.apply({},e.params),c=e.url,h=Ext.name;return u[l]=h+".data.JsonP."+s,r&&(u[o]=(new Date).getTime()),i=n.createScript(c,u,e),n.requests[a]=t={url:c,params:u,script:i,id:a,scope:e.scope,success:e.success,failure:e.failure,callback:e.callback,callbackKey:l,callbackName:s},d>0&&(t.timeout=setTimeout(Ext.bind(n.handleTimeout,n,[t]),d)),n.setupErrorHandling(t),n[s]=Ext.bind(n.handleResponse,n,[t],!0),n.loadScript(t),t},abort:function(e){var t,i=this,n=i.requests;if(e)e.id||(e=n[e]),i.handleAbort(e);else for(t in n)n.hasOwnProperty(t)&&i.abort(n[t])},setupErrorHandling:function(e){e.script.onerror=Ext.bind(this.handleError,this,[e])},handleAbort:function(e){e.errorType="abort",this.handleResponse(null,e)},handleError:function(e){e.errorType="error",this.handleResponse(null,e)},cleanupErrorHandling:function(e){e.script.onerror=null},handleTimeout:function(e){e.errorType="timeout",this.handleResponse(null,e)},handleResponse:function(e,t){var i=!0;t.timeout&&clearTimeout(t.timeout),delete this[t.callbackName],delete this.requests[t.id],this.cleanupErrorHandling(t),Ext.fly(t.script).remove(),t.errorType?(i=!1,Ext.callback(t.failure,t.scope,[t.errorType])):Ext.callback(t.success,t.scope,[e]),Ext.callback(t.callback,t.scope,[i,e,t.errorType])},createScript:function(e,t,i){var n=document.createElement("script");return n.setAttribute("src",Ext.urlAppend(e,Ext.Object.toQueryString(t))),n.setAttribute("async",!0),n.setAttribute("type","text/javascript"),n},loadScript:function(e){Ext.getHead().appendChild(e.script)}}),Ext.define("Ext.data.Operation",{synchronous:!0,action:void 0,filters:void 0,sorters:void 0,groupers:void 0,start:void 0,limit:void 0,batch:void 0,callback:void 0,scope:void 0,started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,actionCommitRecordsRe:/^(?:create|update)$/i,actionSkipSyncRe:/^destroy$/i,constructor:function(e){Ext.apply(this,e||{})},commitRecords:function(e){var t,i,n,r,o,a,s,l=this;if(!l.actionSkipSyncRe.test(l.action)&&(n=l.records,n&&n.length)){if(n.length>1)if("update"==l.action||n[0].clientIdProperty)for(t=new Ext.util.MixedCollection,t.addAll(e),i=n.length;i--;)o=n[i],r=t.findBy(l.matchClientRec,o),o.copyFrom(r);else for(a=0,s=n.length;a<s;++a)o=n[a],r=e[a],o&&r&&l.updateRecord(o,r);else this.updateRecord(n[0],e[0]);if(l.actionCommitRecordsRe.test(l.action))for(i=n.length;i--;)n[i].commit()}},updateRecord:function(e,t){t&&(e.phantom||e.getId()===t.getId())&&e.copyFrom(t)},matchClientRec:function(e){var t=this,i=t.getId();return!(!i||e.getId()!==i)||e.internalId===t.internalId},setStarted:function(){this.started=!0,this.running=!0},setCompleted:function(){this.complete=!0,this.running=!1},setSuccessful:function(){this.success=!0},setException:function(e){this.exception=!0,this.success=!1,this.running=!1,this.error=e},hasException:function(){return this.exception===!0},getError:function(){return this.error},getRecords:function(){var e=this.getResultSet();return this.records||(e?e.records:null)},getResultSet:function(){return this.resultSet},isStarted:function(){return this.started===!0},isRunning:function(){return this.running===!0},isComplete:function(){return this.complete===!0},wasSuccessful:function(){return this.isComplete()&&this.success===!0},setBatch:function(e){this.batch=e},allowWrite:function(){return"read"!=this.action}}),Ext.define("Ext.data.Request",{action:void 0,params:void 0,method:"GET",url:void 0,constructor:function(e){Ext.apply(this,e)}}),Ext.define("Ext.data.ResultSet",{loaded:!0,count:0,total:0,success:!1,constructor:function(e){Ext.apply(this,e),this.totalRecords=this.total,void 0===e.count&&(this.count=this.records.length)}}),Ext.define("Ext.data.SequentialIdGenerator",{extend:"Ext.data.IdGenerator",alias:"idgen.sequential",constructor:function(){var e=this;e.callParent(arguments),e.parts=[e.prefix,""]},prefix:"",seed:1,generate:function(){var e=this,t=e.parts;return t[1]=e.seed++,t.join("")}}),Ext.define("Ext.data.SortTypes",{singleton:!0,none:function(e){return e},stripTagsRE:/<\/?[^>]+>/gi,asText:function(e){return String(e).replace(this.stripTagsRE,"")},asUCText:function(e){return String(e).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(e){return String(e).toUpperCase()},asDate:function(e){return e?Ext.isDate(e)?e.getTime():Date.parse(String(e)):0},asFloat:function(e){var t=parseFloat(String(e).replace(/,/g,""));return isNaN(t)?0:t},asInt:function(e){var t=parseInt(String(e).replace(/,/g,""),10);return isNaN(t)?0:t}}),Ext.define("Ext.data.Types",{singleton:!0,requires:["Ext.data.SortTypes"]},function(){var e=Ext.data.SortTypes;Ext.apply(Ext.data.Types,{stripRe:/[\$,%]/g,AUTO:{sortType:e.none,type:"auto"},STRING:{convert:function(e){var t=this.useNull?null:"";return void 0===e||null===e?t:String(e)},sortType:e.asUCString,type:"string"},INT:{convert:function(e){return void 0!==e&&null!==e&&""!==e?parseInt(String(e).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:e.none,type:"int"},FLOAT:{convert:function(e){return void 0!==e&&null!==e&&""!==e?parseFloat(String(e).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:e.none,type:"float"},BOOL:{convert:function(e){return!this.useNull||void 0!==e&&null!==e&&""!==e?e===!0||"true"===e||1==e:null},sortType:e.none,type:"bool"},DATE:{convert:function(e){var t,i=this.dateFormat;return e?Ext.isDate(e)?e:i?"timestamp"==i?new Date(1e3*e):"time"==i?new Date(parseInt(e,10)):Ext.Date.parse(e,i):(t=Date.parse(e),t?new Date(t):null):null},sortType:e.asDate,type:"date"}}),Ext.apply(Ext.data.Types,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})}),Ext.define("Ext.data.UuidGenerator",function(){function e(e,t){var i=e.toString(16);return i.length>t?i=i.substring(i.length-t):i.length<t&&(i=Ext.String.leftPad(i,t,"0")),i}function t(e,t){var i=Math.random()*(t-e+1);return Math.floor(i)+e}function i(e){if("number"==typeof e){var t=Math.floor(e/a);return{lo:Math.floor(e-t*a),hi:t}}return e}var n=Math.pow(2,14),r=Math.pow(2,16),o=Math.pow(2,28),a=Math.pow(2,32);return{extend:"Ext.data.IdGenerator",alias:"idgen.uuid",id:"uuid",version:4,constructor:function(){var e=this;e.callParent(arguments),e.parts=[],e.init()},generate:function(){var t=this,i=t.parts,n=t.timestamp;return i[0]=e(n.lo,8),i[1]=e(65535&n.hi,4),i[2]=e(n.hi>>>16&4095|t.version<<12,4),i[3]=e(128|t.clockSeq>>>8&63,2)+e(255&t.clockSeq,2),i[4]=e(t.salt.hi,4)+e(t.salt.lo,8),4==t.version?t.init():(++n.lo,n.lo>=a&&(n.lo=0,++n.hi)),i.join("-").toLowerCase()},getRecId:function(e){return e.getId()},init:function(){var e,s,l=this;4==l.version?(l.clockSeq=t(0,n-1),e=l.salt||(l.salt={}),s=l.timestamp||(l.timestamp={}),e.lo=t(0,a-1),e.hi=t(0,r-1),s.lo=t(0,a-1),s.hi=t(0,o-1)):(l.salt=i(l.salt),l.timestamp=i(l.timestamp),l.salt.hi|=256)},reconfigure:function(e){Ext.apply(this,e),this.init()}}}()),Ext.define("Ext.data.validations",{singleton:!0,presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",emailMessage:"is not a valid email address",emailRe:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,presence:function(e,t){return 1===arguments.length&&(t=e),!!t||0===t},length:function(e,t){if(void 0===t||null===t)return!1;var i=t.length,n=e.min,r=e.max;return!(n&&i<n||r&&i>r)},email:function(e,t){return Ext.data.validations.emailRe.test(t)},format:function(e,t){return!(!e.matcher||!e.matcher.test(t))},inclusion:function(e,t){return e.list&&Ext.Array.indexOf(e.list,t)!=-1},exclusion:function(e,t){return e.list&&Ext.Array.indexOf(e.list,t)==-1}}),Ext.define("Ext.data.association.Association",{alternateClassName:"Ext.data.Association",primaryKey:"id",defaultReaderType:"json",isAssociation:!0,initialConfig:null,statics:{AUTO_ID:1e3,create:function(e){switch(Ext.isString(e)&&(e={type:e}),e.type){case"belongsTo":return new Ext.data.association.BelongsTo(e);case"hasMany":return new Ext.data.association.HasMany(e);case"hasOne":return new Ext.data.association.HasOne(e)}return e}},constructor:function(e){Ext.apply(this,e);var t=this,i=Ext.ModelManager.types,n=e.ownerModel,r=e.associatedModel,o=i[n],a=i[r];t.initialConfig=e,t.ownerModel=o,t.associatedModel=a,Ext.applyIf(t,{ownerName:n,associatedName:r}),t.associationId="association"+ ++t.statics().AUTO_ID},getReader:function(){var e=this,t=e.reader,i=e.associatedModel;return t&&(Ext.isString(t)&&(t={type:t}),t.isReader?t.setModel(i):Ext.applyIf(t,{model:i,type:e.defaultReaderType}),e.reader=Ext.createByAlias("reader."+t.type,t)),e.reader||null}}),Ext.define("Ext.data.association.BelongsTo",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.BelongsToAssociation",alias:"association.belongsto",constructor:function(e){this.callParent(arguments);var t=this,i=t.ownerModel.prototype,n=t.associatedName,r=t.getterName||"get"+n,o=t.setterName||"set"+n;Ext.applyIf(t,{name:n,foreignKey:n.toLowerCase()+"_id",instanceName:n+"BelongsToInstance",associationKey:n.toLowerCase()}),i[r]=t.createGetter(),i[o]=t.createSetter()},createSetter:function(){var e=this,t=e.foreignKey;return function(e,i,n){if(e&&e.isModel&&(e=e.getId()),this.set(t,e),Ext.isFunction(i)&&(i={callback:i,scope:n||this}),Ext.isObject(i))return this.save(i)}},createGetter:function(){var e=this,t=e.associatedName,i=e.associatedModel,n=e.foreignKey,r=e.primaryKey,o=e.instanceName;return function(e,a){e=e||{};var s,l,d,u=this,c=u.get(n);return e.reload===!0||void 0===u[o]?(l=Ext.ModelManager.create({},t),l.set(r,c),"function"==typeof e&&(e={callback:e,scope:a||u}),s=e.success,e.success=function(e){u[o]=e,s&&s.apply(this,arguments)},i.load(c,e),u[o]=l,l):(l=u[o],d=[l],a=a||e.scope||u,Ext.callback(e,a,d),Ext.callback(e.success,a,d),Ext.callback(e.failure,a,d),Ext.callback(e.callback,a,d),l)}},read:function(e,t,i){e[this.instanceName]=t.read([i]).records[0]}}),Ext.define("Ext.data.association.HasOne",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.HasOneAssociation",alias:"association.hasone",constructor:function(e){this.callParent(arguments);var t=this,i=t.ownerModel.prototype,n=t.associatedName,r=t.getterName||"get"+n,o=t.setterName||"set"+n;Ext.applyIf(t,{name:n,foreignKey:n.toLowerCase()+"_id",instanceName:n+"HasOneInstance",associationKey:n.toLowerCase()}),i[r]=t.createGetter(),i[o]=t.createSetter()},createSetter:function(){var e=this,t=(e.ownerModel,e.foreignKey);return function(e,i,n){if(e&&e.isModel&&(e=e.getId()),this.set(t,e),Ext.isFunction(i)&&(i={callback:i,scope:n||this}),Ext.isObject(i))return this.save(i)}},createGetter:function(){var e=this,t=(e.ownerModel,e.associatedName),i=e.associatedModel,n=e.foreignKey,r=e.primaryKey,o=e.instanceName;return function(e,a){e=e||{};var s,l,d,u=this,c=u.get(n);return e.reload===!0||void 0===u[o]?(l=Ext.ModelManager.create({},t),l.set(r,c),"function"==typeof e&&(e={callback:e,scope:a||u}),s=e.success,e.success=function(e){u[o]=e,s&&s.apply(this,arguments)},i.load(c,e),u[o]=l,l):(l=u[o],d=[l],a=a||e.scope||u,Ext.callback(e,a,d),Ext.callback(e.success,a,d),Ext.callback(e.failure,a,d),Ext.callback(e.callback,a,d),l)}},read:function(e,t,i){var n=this.associatedModel.prototype.associations.findBy(function(t){return"belongsTo"===t.type&&t.associatedName===e.$className}),r=t.read([i]).records[0];e[this.instanceName]=r,n&&(r[n.instanceName]=e)}}),Ext.define("Ext.data.writer.Writer",{alias:"writer.base",alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],writeAllFields:!0,nameProperty:"name",isWriter:!0,constructor:function(e){Ext.apply(this,e)},write:function(e){for(var t=e.operation,i=t.records||[],n=i.length,r=0,o=[];r<n;r++)o.push(this.getRecordData(i[r],t));return this.writeRecords(e,o)},getRecordData:function(e,t){var i,n,r,o,a,s,l,d=e.phantom===!0,u=this.writeAllFields||d,c=this.nameProperty,h=e.fields,g=h.items,p={},f=e.clientIdProperty;if(u)for(l=g.length,s=0;s<l;s++)r=g[s],r.persist&&(n=r[c]||r.name,a=e.get(r.name),r.serialize?p[n]=r.serialize(a,e):r.type===Ext.data.Types.DATE&&r.dateFormat?p[n]=Ext.Date.format(a,r.dateFormat):p[n]=a);else{i=e.getChanges();for(o in i)i.hasOwnProperty(o)&&(r=h.get(o),r.persist&&(n=r[c]||r.name,a=e.get(r.name),r.serialize?p[n]=r.serialize(a,e):r.type===Ext.data.Types.DATE&&r.dateFormat?p[n]=Ext.Date.format(a,r.dateFormat):p[n]=a))}return d?f&&t&&t.records.length>1&&(p[f]=e.internalId):p[e.idProperty]=e.getId(),p}}),Ext.define("Ext.data.writer.Xml",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.XmlWriter",alias:"writer.xml",documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record",writeRecords:function(e,t){var i,n,r=this,o=[],a=0,s=t.length,l=r.documentRoot,d=r.record,u=1!==t.length;for(o.push(r.header||""),!l&&u&&(l=r.defaultDocumentRoot),l&&o.push("<",l,">");a<s;++a){i=t[a],o.push("<",d,">");for(n in i)i.hasOwnProperty(n)&&o.push("<",n,">",i[n],"</",n,">");o.push("</",d,">")}return l&&o.push("</",l,">"),e.xmlData=o.join(""),e}}),Ext.define("Ext.direct.RemotingMethod",{constructor:function(e){var t,i,n,r,o=this,a=Ext.isDefined(e.params)?e.params:e.len;if(o.name=e.name,o.formHandler=e.formHandler,Ext.isNumber(a))o.len=a,o.ordered=!0;else for(o.params=[],i=a.length,n=0;n<i;n++)r=a[n],t=Ext.isObject(r)?r.name:r,o.params.push(t)},getArgs:function(e,t,i){var n,r,o=[];if(this.ordered){if(this.len>0)if(t)for(n=0,r=t.length;n<r;n++)o.push(e[t[n]]);else i&&o.push(e)}else o.push(e);return o},getCallData:function(e){var t,i,n,r=this,o=null,a=r.len,s=r.params;if(r.ordered)t=e[a],i=e[a+1],0!==a&&(o=e.slice(0,a));else{o=Ext.apply({},e[0]),t=e[1],i=e[2];for(n in o)o.hasOwnProperty(n)&&(Ext.Array.contains(s,n)||delete o[n])}return{data:o,callback:t,scope:i}}}),Ext.define("Ext.direct.Transaction",{alias:"direct.transaction",alternateClassName:"Ext.Direct.Transaction",statics:{TRANSACTION_ID:0},constructor:function(e){var t=this;Ext.apply(t,e),t.id=t.tid=++t.self.TRANSACTION_ID,t.retryCount=0},send:function(){this.provider.queueTransaction(this)},retry:function(){this.retryCount++,this.send()},getProvider:function(){return this.provider}}),Ext.define("Ext.draw.Color",{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:.2,constructor:function(e,t,i){var n=this,r=Ext.Number.constrain;n.r=r(e,0,255),n.g=r(t,0,255),n.b=r(i,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){var e=this;return[e.r,e.g,e.b]},getHSL:function(){var e,t=this,i=t.r/255,n=t.g/255,r=t.b/255,o=Math.max(i,n,r),a=Math.min(i,n,r),s=o-a,l=0,d=.5*(o+a);return a!=o&&(l=d<.5?s/(o+a):s/(2-o-a),e=i==o?60*(n-r)/s:n==o?120+60*(r-i)/s:240+60*(i-n)/s,e<0&&(e+=360),e>=360&&(e-=360)),[e,l,d]},getLighter:function(e){var t=this.getHSL();return e=e||this.lightnessFactor,t[2]=Ext.Number.constrain(t[2]+e,0,1),this.fromHSL(t[0],t[1],t[2])},getDarker:function(e){return e=e||this.lightnessFactor,this.getLighter(-e)},toString:function(){var e=this,t=Math.round,i=t(e.r).toString(16),n=t(e.g).toString(16),r=t(e.b).toString(16);return i=1==i.length?"0"+i:i,n=1==n.length?"0"+n:n,r=1==r.length?"0"+r:r,["#",i,n,r].join("")},toHex:function(e){if(Ext.isArray(e)&&(e=e[0]),!Ext.isString(e))return"";if("#"===e.substr(0,1))return e;var t,i,n,r,o=this.colorToHexRe.exec(e);return Ext.isArray(o)?(t=parseInt(o[2],10),i=parseInt(o[3],10),n=parseInt(o[4],10),r=n|i<<8|t<<16,o[1]+"#"+("000000"+r.toString(16)).slice(-6)):e},fromString:function(e){var t,i,n,r,o=parseInt;return 4!=e.length&&7!=e.length||"#"!==e.substr(0,1)?(t=e.match(this.rgbRe),t&&(i=t[1],n=t[2],r=t[3])):(t=e.match(this.hexRe),t&&(i=o(t[1],16)>>0,n=o(t[2],16)>>0,r=o(t[3],16)>>0,4==e.length&&(i+=16*i,n+=16*n,r+=16*r))),"undefined"==typeof i?void 0:new Ext.draw.Color(i,n,r)},getGrayscale:function(){return.3*this.r+.59*this.g+.11*this.b},fromHSL:function(e,t,i){var n,r,o,a=[],s=Math.abs,l=Math.floor;if(0==t||null==e)a=[i,i,i];else{switch(e/=60,n=t*(1-s(2*i-1)),r=n*(1-s(e-2*l(e/2)-1)),o=i-n/2,l(e)){case 0:a=[n,r,0];break;case 1:a=[r,n,0];break;case 2:a=[0,n,r];break;case 3:a=[0,r,n];break;case 4:a=[r,0,n];break;case 5:a=[n,0,r]}a=[a[0]+o,a[1]+o,a[2]+o]}return new Ext.draw.Color(255*a[0],255*a[1],255*a[2])}},function(){var e=this.prototype;this.addStatics({fromHSL:function(){return e.fromHSL.apply(e,arguments)},fromString:function(){return e.fromString.apply(e,arguments)},toHex:function(){return e.toHex.apply(e,arguments)}})}),Ext.define("Ext.draw.Draw",{singleton:!0,requires:["Ext.draw.Color"],pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:"along",blur:null,"clip-rect":"csv",cx:null,cy:null,fill:"color","fill-opacity":null,"font-size":null,height:null,opacity:null,path:"path",r:null,rotation:"csv",rx:null,ry:null,scale:"csv",stroke:"color","stroke-opacity":null,"stroke-width":null,translation:"csv",width:null,x:null,y:null},is:function(e,t){return t=String(t).toLowerCase(),"object"==t&&e===Object(e)||"undefined"==t&&typeof e==t||"null"==t&&null===e||"array"==t&&Array.isArray&&Array.isArray(e)||Object.prototype.toString.call(e).toLowerCase().slice(8,-1)==t},ellipsePath:function(e){var t=e.attr;return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z",t.x,t.y-t.ry,t.rx,t.ry,t.y+t.ry)},rectPath:function(e){var t=e.attr;return t.radius?Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",t.x+t.radius,t.y,t.width-2*t.radius,t.radius,-t.radius,t.height-2*t.radius,2*t.radius-t.width,2*t.radius-t.height):Ext.String.format("M{0},{1}L{2},{1},{2},{3},{0},{3}z",t.x,t.y,t.width+t.x,t.height+t.y)},path2string:function(){return this.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},pathToString:function(e){return e.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},parsePathString:function(e){if(!e)return null;var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[],n=this;return n.is(e,"array")&&n.is(e[0],"array")&&(i=n.pathClone(e)),i.length||String(e).replace(n.pathCommandRE,function(e,r,o){var a=[],s=r.toLowerCase();for(o.replace(n.pathValuesRE,function(e,t){t&&a.push(+t)}),"m"==s&&a.length>2&&(i.push([r].concat(Ext.Array.splice(a,0,2))),s="l",r="m"==r?"l":"L");a.length>=t[s]&&(i.push([r].concat(Ext.Array.splice(a,0,t[s]))),t[s]););}),i.toString=n.path2string,i},mapPath:function(e,t){if(!t)return e;var i,n,r,o,a,s,l;for(e=this.path2curve(e),r=0,o=e.length;r<o;r++)for(l=e[r],a=1,s=l.length;a<s-1;a+=2)i=t.x(l[a],l[a+1]),n=t.y(l[a],l[a+1]),l[a]=i,l[a+1]=n;return e},pathClone:function(e){var t,i,n,r,o=[];for(this.is(e,"array")&&this.is(e&&e[0],"array")||(e=this.parsePathString(e)),n=0,r=e.length;n<r;n++)for(o[n]=[],t=0,i=e[n].length;t<i;t++)o[n][t]=e[n][t];return o.toString=this.path2string,o},pathToAbsolute:function(e){this.is(e,"array")&&this.is(e&&e[0],"array")||(e=this.parsePathString(e));var t,i,n,r,o=[],a=0,s=0,l=0,d=0,u=0,c=e.length;for(c&&"M"==e[0][0]&&(a=+e[0][1],s=+e[0][2],l=a,d=s,u++,o[0]=["M",a,s]);u<c;u++){if(t=o[u]=[],i=e[u],i[0]!=i[0].toUpperCase())switch(t[0]=i[0].toUpperCase(),t[0]){case"A":t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=+(i[6]+a),t[7]=+(i[7]+s);break;case"V":t[1]=+i[1]+s;break;case"H":t[1]=+i[1]+a;break;case"M":l=+i[1]+a,d=+i[2]+s;default:for(n=1,r=i.length;n<r;n++)t[n]=+i[n]+(n%2?a:s)}else for(n=0,r=i.length;n<r;n++)o[u][n]=i[n];switch(t[0]){case"Z":a=l,s=d;break;case"H":a=t[1];break;case"V":s=t[1];break;case"M":i=o[u],r=i.length,l=i[r-2],d=i[r-1];default:i=o[u],r=i.length,a=i[r-2],s=i[r-1]}}return o.toString=this.path2string,o},pathToRelative:function(e){this.is(e,"array")&&this.is(e&&e[0],"array")||(e=this.parsePathString(e));var t,i,n,r,o,a,s,l,d,u=[],c=0,h=0,g=0,p=0,f=0;for("M"==e[0][0]&&(c=e[0][1],h=e[0][2],g=c,p=h,f++,u.push(["M",c,h])),n=f,s=e.length;n<s;n++){if(t=u[n]=[],i=e[n],i[0]!=i[0].toLowerCase())switch(t[0]=i[0].toLowerCase(),t[0]){case"a":t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=+(i[6]-c).toFixed(3),t[7]=+(i[7]-h).toFixed(3);break;case"v":t[1]=+(i[1]-h).toFixed(3);break;case"m":g=i[1],p=i[2];default:for(r=1,l=i.length;r<l;r++)t[r]=+(i[r]-(r%2?c:h)).toFixed(3)}else for(t=u[n]=[],"m"==i[0]&&(g=i[1]+c,p=i[2]+h),o=0,d=i.length;o<d;o++)u[n][o]=i[o];switch(a=u[n].length,u[n][0]){case"z":c=g,h=p;break;case"h":c+=+u[n][a-1];break;case"v":h+=+u[n][a-1];break;default:c+=+u[n][a-2],h+=+u[n][a-1]}}return u.toString=this.path2string,u},path2curve:function(e){var t,i,n,r,o=this,a=o.pathToAbsolute(e),s=a.length,l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};for(t=0;t<s;t++){if(a[t]=o.command2curve(a[t],l),a[t].length>7){for(a[t].shift(),r=a[t];r.length;)Ext.Array.splice(a,t++,0,["C"].concat(Ext.Array.splice(r,0,6)));Ext.Array.erase(a,t,1),s=a.length,t--}i=a[t],n=i.length,l.x=i[n-2],l.y=i[n-1],l.bx=parseFloat(i[n-4])||l.x,l.by=parseFloat(i[n-3])||l.y}return a},interpolatePaths:function(e,t){var i,n,r,o,a,s,l=this,d=l.pathToAbsolute(e),u=l.pathToAbsolute(t),c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g=function(e,t){if(e[t].length>7){e[t].shift();for(var i=e[t];i.length;)Ext.Array.splice(e,t++,0,["C"].concat(Ext.Array.splice(i,0,6)));Ext.Array.erase(e,t,1),n=Math.max(d.length,u.length||0)}},p=function(e,t,i,r,o){e&&t&&"M"==e[o][0]&&"M"!=t[o][0]&&(Ext.Array.splice(t,o,0,["M",r.x,r.y]),i.bx=0,i.by=0,i.x=e[o][1],i.y=e[o][2],n=Math.max(d.length,u.length||0))};for(i=0,n=Math.max(d.length,u.length||0);i<n;i++)d[i]=l.command2curve(d[i],c),g(d,i),u[i]=l.command2curve(u[i],h),g(u,i),p(d,u,c,h,i),p(u,d,h,c,i),r=d[i],o=u[i],a=r.length,s=o.length,c.x=r[a-2],c.y=r[a-1],c.bx=parseFloat(r[a-4])||c.x,c.by=parseFloat(r[a-3])||c.y,h.bx=parseFloat(o[s-4])||h.x,h.by=parseFloat(o[s-3])||h.y,h.x=o[s-2],h.y=o[s-1];return[d,u]},command2curve:function(e,t){var i=this;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch("T"!=e[0]&&"Q"!=e[0]&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(i.arc2curve.apply(i,[t.x,t.y].concat(e.slice(1))));break;case"S":e=["C",t.x+(t.x-(t.bx||t.x)),t.y+(t.y-(t.by||t.y))].concat(e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=["C"].concat(i.quadratic2curve(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(i.quadratic2curve(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(t.x,t.y,e[1],e[2],e[1],e[2]);break;case"H":e=["C"].concat(t.x,t.y,e[1],t.y,e[1],t.y);break;case"V":e=["C"].concat(t.x,t.y,t.x,e[1],t.x,e[1]);break;case"Z":e=["C"].concat(t.x,t.y,t.X,t.Y,t.X,t.Y)}return e},quadratic2curve:function(e,t,i,n,r,o){var a=1/3,s=2/3;return[a*e+s*i,a*t+s*n,a*r+s*i,a*o+s*n,r,o]},rotate:function(e,t,i){var n=Math.cos(i),r=Math.sin(i),o=e*n-t*r,a=e*r+t*n;return{x:o,y:a}},arc2curve:function(e,t,i,n,r,o,a,s,l,d){var u,c,h,g,p,f,m,x,y,v,E,b,w,C,S,_,k,P,T,I,D,A,M,R,F,L,B,O,N,H,j,V=this,W=Math.PI,z=V.radian,G=120*W/180,U=z*(+r||0),q=[],Y=Math,X=Y.cos,K=Y.sin,$=Y.sqrt,Q=Y.abs,Z=Y.asin;if(d?(b=d[0],w=d[1],v=d[2],E=d[3]):(u=V.rotate(e,t,-U),e=u.x,t=u.y,u=V.rotate(s,l,-U),s=u.x,l=u.y,c=X(z*r),h=K(z*r),g=(e-s)/2,p=(t-l)/2,f=g*g/(i*i)+p*p/(n*n),f>1&&(f=$(f),i*=f,n*=f),m=i*i,x=n*n,y=(o==a?-1:1)*$(Q((m*x-m*p*p-x*g*g)/(m*p*p+x*g*g))),v=y*i*p/n+(e+s)/2,E=y*-n*g/i+(t+l)/2,b=Z(((t-E)/n).toFixed(7)),w=Z(((l-E)/n).toFixed(7)),b=e<v?W-b:b,w=s<v?W-w:w,b<0&&(b=2*W+b),w<0&&(w=2*W+w),a&&b>w&&(b-=2*W),!a&&w>b&&(w-=2*W)),C=w-b,Q(C)>G&&(N=w,H=s,j=l,w=b+G*(a&&w>b?1:-1),s=v+i*X(w),l=E+n*K(w),q=V.arc2curve(s,l,i,n,r,0,a,H,j,[w,N,v,E])),C=w-b,S=X(b),_=K(b),k=X(w),P=K(w),T=Y.tan(C/4),I=4/3*i*T,D=4/3*n*T,A=[e,t],M=[e+I*_,t-D*S],R=[s+I*P,l-D*k],F=[s,l],M[0]=2*A[0]-M[0],M[1]=2*A[1]-M[1],d)return[M,R,F].concat(q);for(q=[M,R,F].concat(q).join().split(","),L=[],O=q.length,B=0;B<O;B++)L[B]=B%2?V.rotate(q[B-1],q[B],U).y:V.rotate(q[B],q[B+1],U).x;return L},rotateAndTranslatePath:function(e){var t,i,n,r,o,a=e.rotation.degrees,s=e.rotation.x,l=e.rotation.y,d=e.translation.x,u=e.translation.y,c=[];if(!a&&!d&&!u)return this.pathToAbsolute(e.attr.path);for(d=d||0,u=u||0,t=this.pathToAbsolute(e.attr.path),i=t.length;i--;)if(n=c[i]=t[i].slice(),"A"==n[0])r=this.rotatePoint(n[6],n[7],a,s,l),n[6]=r.x+d,n[7]=r.y+u;else for(o=1;null!=n[o+1];)r=this.rotatePoint(n[o],n[o+1],a,s,l),n[o]=r.x+d,n[o+1]=r.y+u,o+=2;return c},rotatePoint:function(e,t,i,n,r){if(!i)return{x:e,y:t};n=n||0,r=r||0,e-=n,t-=r,i*=this.radian;var o=Math.cos(i),a=Math.sin(i);return{x:e*o-t*a+n,y:e*a+t*o+r}},pathDimensions:function(e){if(!(e&&e+""))return{x:0,y:0,width:0,height:0};e=this.path2curve(e);for(var t,i,n,r,o=0,a=0,s=[],l=[],d=0,u=e.length;d<u;d++)t=e[d],"M"==t[0]?(o=t[1],a=t[2],s.push(o),l.push(a)):(r=this.curveDim(o,a,t[1],t[2],t[3],t[4],t[5],t[6]),s=s.concat(r.min.x,r.max.x),l=l.concat(r.min.y,r.max.y),o=t[5],a=t[6]);return i=Math.min.apply(0,s),n=Math.min.apply(0,l),{x:i,y:n,path:e,width:Math.max.apply(0,s)-i,height:Math.max.apply(0,l)-n}},intersectInside:function(e,t,i){return(i[0]-t[0])*(e[1]-t[1])>(i[1]-t[1])*(e[0]-t[0])},intersectIntersection:function(e,t,i,n){var r=[],o=i[0]-n[0],a=i[1]-n[1],s=e[0]-t[0],l=e[1]-t[1],d=i[0]*n[1]-i[1]*n[0],u=e[0]*t[1]-e[1]*t[0],c=1/(o*l-a*s);return r[0]=(d*s-u*o)*c,r[1]=(d*l-u*a)*c,r},intersect:function(e,t){for(var i,n,r,o,a,s,l=this,d=0,u=t.length,c=t[u-1],h=e;d<u;++d){for(i=t[d],a=h,h=[],n=a[a.length-1],s=0,o=a.length;s<o;s++)r=a[s],l.intersectInside(r,c,i)?(l.intersectInside(n,c,i)||h.push(l.intersectIntersection(n,r,c,i)),h.push(r)):l.intersectInside(n,c,i)&&h.push(l.intersectIntersection(n,r,c,i)),n=r;c=i}return h},bezier:function(e,t,i,n,r){if(0===r)return e;if(1===r)return n;var o=1-r,a=o*o*o,s=r/o;return a*(e+s*(3*t+s*(3*i+n*s)))},bezierDim:function(e,t,i,n){var r,o,a,s,l,d,u,c,h,g,p=[];for(e+3*i==n+3*t?(r=e-t,r/=2*(e-t-t+i),r<1&&r>0&&p.push(r)):(o=e-3*t+3*i-n,a=2*(e-t-t+i),s=e-t,l=a*a-4*o*s,d=o+o,0===l?(r=a/d,r<1&&r>0&&p.push(r)):l>0&&(u=Math.sqrt(l),r=(u+a)/d,r<1&&r>0&&p.push(r),r=(a-u)/d,r<1&&r>0&&p.push(r))),c=Math.min(e,n),h=Math.max(e,n),g=0;g<p.length;g++)c=Math.min(c,this.bezier(e,t,i,n,p[g])),h=Math.max(h,this.bezier(e,t,i,n,p[g]));return[c,h]},curveDim:function(e,t,i,n,r,o,a,s){var l=this.bezierDim(e,i,r,a),d=this.bezierDim(t,n,o,s);return{min:{x:l[0],y:d[0]},max:{x:l[1],y:d[1]}}},getAnchors:function(e,t,i,n,r,o,a){a=a||4;var s,l,d,u,c,h,g,p,f,m=Math,x=m.PI,y=x/2,v=m.abs,E=m.sin,b=m.cos,w=m.atan;return s=(i-e)/a,l=(r-i)/a,n>=t&&n>=o||n<=t&&n<=o?d=u=y:(d=w((i-e)/v(n-t)),t<n&&(d=x-d),u=w((r-i)/v(n-o)),o<n&&(u=x-u)),f=y-(d+u)%(2*x)/2,f>y&&(f-=x),d+=f,u+=f,c=i-s*E(d),h=n+s*b(d),g=i+l*E(u),p=n+l*b(u),(n>t&&h<t||n<t&&h>t)&&(c+=v(t-h)*(c-i)/(h-n),h=t),(n>o&&p<o||n<o&&p>o)&&(g-=v(o-p)*(g-i)/(p-n),p=o),{x1:c,y1:h,x2:g,y2:p}},smooth:function(e,t){for(var i,n,r,o,a,s,l,d,u,c=this.path2curve(e),h=[c[0]],g=c[0][1],p=c[0][2],f=1,m=c.length,x=1,y=g,v=p,E=0,b=0;f<m;f++)if(r=c[f],o=r.length,a=c[f-1],s=a.length,l=c[f+1],d=l&&l.length,"M"!=r[0])r[o-2]!=y||r[o-1]!=v||l&&"M"!=l[0]?n=l&&"M"!=l[0]?this.getAnchors(a[s-2],a[s-1],r[o-2],r[o-1],l[d-2],l[d-1],t):{x1:r[o-2],y1:r[o-1]}:(u=h[x].length,n=this.getAnchors(a[s-2],a[s-1],y,v,h[x][u-2],h[x][u-1],t),h[x][1]=n.x2,h[x][2]=n.y2),h.push(["C",g,p,n.x1,n.y1,r[o-2],r[o-1]]),g=n.x2,p=n.y2;else{for(y=r[1],v=r[2],i=f+1;"C"!=c[i][0];)i++;E=c[i][5],b=c[i][6],h.push(["M",y,v]),x=h.length,g=y,p=v}return h},findDotAtSegment:function(e,t,i,n,r,o,a,s,l){var d=1-l;return{x:Math.pow(d,3)*e+3*Math.pow(d,2)*l*i+3*d*l*l*r+Math.pow(l,3)*a,y:Math.pow(d,3)*t+3*Math.pow(d,2)*l*n+3*d*l*l*o+Math.pow(l,3)*s}},snapEnds:function(e,t,i,n){if(Ext.isDate(e))return this.snapEndsByDate(e,t,i);var r,o,a,s,l,d=(t-e)/i,u=Math.floor(Math.log(d)/Math.LN10)+1,c=Math.pow(10,u),h=Math.round(d%c*Math.pow(10,2-u)),g=[[0,15],[20,4],[30,2],[40,4],[50,9],[60,4],[70,2],[80,4],[100,15]],p=0,f=1e9,m=g.length;if(r=e=Math.floor(e/c)*c,n){for(s=0;s<m;s++)o=g[s][0],a=o-h<0?1e6:(o-h)/g[s][1],
a<f&&(l=o,f=a);for(d=Math.floor(d*Math.pow(10,-u))*Math.pow(10,u)+l*Math.pow(10,u-2);r<t;)r+=d,p++;t=+r.toFixed(10)}else p=i;return{from:e,to:t,power:u,step:d,steps:p}},snapEndsByDate:function(e,t,i,n){var r,o,a,s,l=!1,d=[[Ext.Date.MILLI,[1,2,3,5,10,20,30,50,100,200,300,500]],[Ext.Date.SECOND,[1,2,3,5,10,15,30]],[Ext.Date.MINUTE,[1,2,3,5,10,20,30]],[Ext.Date.HOUR,[1,2,3,4,6,12]],[Ext.Date.DAY,[1,2,3,7,14]],[Ext.Date.MONTH,[1,2,3,4,6]]],u=d.length,c=!1;for(s=0;s<u;s++)if(r=d[s],!c)for(o=0;o<r[1].length;o++)if(t<Ext.Date.add(e,r[0],r[1][o]*i)){l=[r[0],r[1][o]],c=!0;break}return l||(a=this.snapEnds(e.getFullYear(),t.getFullYear()+1,i,n),l=[Date.YEAR,Math.round(a.step)]),this.snapEndsByDateAndStep(e,t,l,n)},snapEndsByDateAndStep:function(e,t,i,n){var r,o,a=[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()],s=0;if(n)r=e;else switch(i[0]){case Ext.Date.MILLI:r=new Date(a[0],a[1],a[2],a[3],a[4],a[5],Math.floor(a[6]/i[1])*i[1]);break;case Ext.Date.SECOND:r=new Date(a[0],a[1],a[2],a[3],a[4],Math.floor(a[5]/i[1])*i[1],0);break;case Ext.Date.MINUTE:r=new Date(a[0],a[1],a[2],a[3],Math.floor(a[4]/i[1])*i[1],0,0);break;case Ext.Date.HOUR:r=new Date(a[0],a[1],a[2],Math.floor(a[3]/i[1])*i[1],0,0,0);break;case Ext.Date.DAY:r=new Date(a[0],a[1],Math.floor(a[2]-1/i[1])*i[1]+1,0,0,0,0);break;case Ext.Date.MONTH:r=new Date(a[0],Math.floor(a[1]/i[1])*i[1],1,0,0,0,0);break;default:r=new Date(Math.floor(a[0]/i[1])*i[1],0,1,0,0,0,0)}for(o=r;o<t;)o=Ext.Date.add(o,i[0],i[1]),s++;return n&&(o=t),{from:+r,to:+o,step:(o-r)/s,steps:s}},sorter:function(e,t){return e.offset-t.offset},rad:function(e){return e%360*Math.PI/180},degrees:function(e){return 180*e/Math.PI%360},withinBox:function(e,t,i){return i=i||{},e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},parseGradient:function(e){var t,i,n,r,o=this,a=e.type||"linear",s=e.angle||0,l=o.radian,d=e.stops,u=[];"linear"==a&&(i=[0,0,Math.cos(s*l),Math.sin(s*l)],n=1/(Math.max(Math.abs(i[2]),Math.abs(i[3]))||1),i[2]*=n,i[3]*=n,i[2]<0&&(i[0]=-i[2],i[2]=0),i[3]<0&&(i[1]=-i[3],i[3]=0));for(t in d)d.hasOwnProperty(t)&&o.stopsRE.test(t)&&(r={offset:parseInt(t,10),color:Ext.draw.Color.toHex(d[t].color)||"#ffffff",opacity:d[t].opacity||1},u.push(r));return Ext.Array.sort(u,o.sorter),"linear"==a?{id:e.id,type:a,vector:i,stops:u}:{id:e.id,type:a,centerX:e.centerX,centerY:e.centerY,focalX:e.focalX,focalY:e.focalY,radius:e.radius,vector:i,stops:u}}}),Ext.define("Ext.draw.Matrix",{requires:["Ext.draw.Draw"],constructor:function(e,t,i,n,r,o){null!=e?this.matrix=[[e,i,r],[t,n,o],[0,0,1]]:this.matrix=[[1,0,0],[0,1,0],[0,0,1]]},add:function(e,t,i,n,r,o){var a,s,l,d,u=this,c=[[],[],[]],h=[[e,i,r],[t,n,o],[0,0,1]];for(a=0;a<3;a++)for(s=0;s<3;s++){for(d=0,l=0;l<3;l++)d+=u.matrix[a][l]*h[l][s];c[a][s]=d}u.matrix=c},prepend:function(e,t,i,n,r,o){var a,s,l,d,u=this,c=[[],[],[]],h=[[e,i,r],[t,n,o],[0,0,1]];for(a=0;a<3;a++)for(s=0;s<3;s++){for(d=0,l=0;l<3;l++)d+=h[a][l]*u.matrix[l][s];c[a][s]=d}u.matrix=c},invert:function(){var e=this.matrix,t=e[0][0],i=e[1][0],n=e[0][1],r=e[1][1],o=e[0][2],a=e[1][2],s=t*r-i*n;return new Ext.draw.Matrix(r/s,-i/s,-n/s,t/s,(n*a-r*o)/s,(i*o-t*a)/s)},clone:function(){var e=this.matrix,t=e[0][0],i=e[1][0],n=e[0][1],r=e[1][1],o=e[0][2],a=e[1][2];return new Ext.draw.Matrix(t,i,n,r,o,a)},translate:function(e,t){this.prepend(1,0,0,1,e,t)},scale:function(e,t,i,n){var r=this;null==t&&(t=e),r.add(e,0,0,t,i*(1-e),n*(1-t))},rotate:function(e,t,i){e=Ext.draw.Draw.rad(e);var n=this,r=+Math.cos(e).toFixed(9),o=+Math.sin(e).toFixed(9);n.add(r,o,-o,r,t-r*t+o*i,-(o*t)+i-r*i)},x:function(e,t){var i=this.matrix;return e*i[0][0]+t*i[0][1]+i[0][2]},y:function(e,t){var i=this.matrix;return e*i[1][0]+t*i[1][1]+i[1][2]},get:function(e,t){return+this.matrix[e][t].toFixed(4)},toString:function(){var e=this;return[e.get(0,0),e.get(0,1),e.get(1,0),e.get(1,1),0,0].join()},toSvg:function(){var e=this;return"matrix("+[e.get(0,0),e.get(1,0),e.get(0,1),e.get(1,1),e.get(0,2),e.get(1,2)].join()+")"},toFilter:function(e,t){var i=this;return e=e||0,t=t||0,"progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', filterType='bilinear', M11="+i.get(0,0)+", M12="+i.get(0,1)+", M21="+i.get(1,0)+", M22="+i.get(1,1)+", Dx="+(i.get(0,2)+e)+", Dy="+(i.get(1,2)+t)+")"},offset:function(){var e=this.matrix;return[(e[0][2]||0).toFixed(4),(e[1][2]||0).toFixed(4)]},split:function(){function e(e){return e[0]*e[0]+e[1]*e[1]}function t(t){var i=Math.sqrt(e(t));t[0]/=i,t[1]/=i}var i,n=this.matrix,r={translateX:n[0][2],translateY:n[1][2]};return i=[[n[0][0],n[0][1]],[n[1][1],n[1][1]]],r.scaleX=Math.sqrt(e(i[0])),t(i[0]),r.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*r.shear,i[1][1]-i[0][1]*r.shear],r.scaleY=Math.sqrt(e(i[1])),t(i[1]),r.shear/=r.scaleY,r.rotate=Math.asin(-i[0][1]),r.isSimple=!(+r.shear.toFixed(9)||r.scaleX.toFixed(9)!=r.scaleY.toFixed(9)&&r.rotate),r}}),Ext.define("Ext.draw.engine.ImageExporter",{singleton:!0,defaultUrl:"http://svg.sencha.io",supportedTypes:["image/png","image/jpeg"],widthParam:"width",heightParam:"height",typeParam:"type",svgParam:"svg",formCls:Ext.baseCSSPrefix+"hide-display",generate:function(e,t){t=t||{};var i,n=this,r=t.type;return Ext.Array.indexOf(n.supportedTypes,r)!==-1&&(i=Ext.getBody().createChild({tag:"form",method:"POST",action:t.url||n.defaultUrl,cls:n.formCls,children:[{tag:"input",type:"hidden",name:t.widthParam||n.widthParam,value:t.width||e.width},{tag:"input",type:"hidden",name:t.heightParam||n.heightParam,value:t.height||e.height},{tag:"input",type:"hidden",name:t.typeParam||n.typeParam,value:r},{tag:"input",type:"hidden",name:t.svgParam||n.svgParam}]}),i.last(null,!0).value=Ext.draw.engine.SvgExporter.generate(e),i.dom.submit(),i.remove(),!0)}}),Ext.define("Ext.draw.engine.SvgExporter",function(){var e,t,i,n,r=/,/g,o=/(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)\s('*.*'*)/,a=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,s=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,([\d\.]+)\)/g,l=function(r){e=r,t=e.length,i=e.width,n=e.height},d={path:function(e){var t,i,n,o=e.attr,a=o.path,s="";if(Ext.isArray(a[0]))for(n=a.length,i=0;i<n;i++)s+=a[i].join(" ");else s=Ext.isArray(a)?a.join(" "):a.replace(r," ");return t=h({d:s,fill:o.fill||"none",stroke:o.stroke,"fill-opacity":o.opacity,"stroke-width":o["stroke-width"],"stroke-opacity":o["stroke-opacity"],"z-index":o.zIndex,transform:e.matrix.toSvg()}),"<path "+t+"/>"},text:function(e){var t,i=e.attr,n=o.exec(i.font),r=n&&n[1]||"12",a=n&&n[3]||"Arial",s=i.text,l=Ext.isFF3_0||Ext.isFF3_5?2:4,d="";return e.getBBox(),d+='<tspan x="'+(i.x||"")+'" dy="',d+=r/l+'">',d+=Ext.htmlEncode(s)+"</tspan>",t=h({x:i.x,y:i.y,"font-size":r,"font-family":a,"font-weight":i["font-weight"],"text-anchor":i["text-anchor"],fill:i.fill||"#000","fill-opacity":i.opacity,transform:e.matrix.toSvg()}),"<text "+t+">"+d+"</text>"},rect:function(e){var t=e.attr,i=h({x:t.x,y:t.y,rx:t.rx,ry:t.ry,width:t.width,height:t.height,fill:t.fill||"none","fill-opacity":t.opacity,stroke:t.stroke,"stroke-opacity":t["stroke-opacity"],"stroke-width":t["stroke-width"],transform:e.matrix&&e.matrix.toSvg()});return"<rect "+i+"/>"},circle:function(e){var t=e.attr,i=h({cx:t.x,cy:t.y,r:t.radius,fill:t.translation.fill||t.fill||"none","fill-opacity":t.opacity,stroke:t.stroke,"stroke-opacity":t["stroke-opacity"],"stroke-width":t["stroke-width"],transform:e.matrix.toSvg()});return"<circle "+i+" />"},image:function(e){var t=e.attr,i=h({x:t.x-(t.width/2>>0),y:t.y-(t.height/2>>0),width:t.width,height:t.height,"xlink:href":t.src,transform:e.matrix.toSvg()});return"<image "+i+" />"}},u=function(){var e='<?xml version="1.0" standalone="yes"?>';return e+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'},c=function(){var t,r,o,l,u,c,h,g,p,f,m,x,y,v,E,b,w,C,S,_='<svg width="'+i+'px" height="'+n+'px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">',k="";if(o=e.items.items,r=o.length,u=function(e){for(var t,i,n,r,o,a,s=e.childNodes,l=s.length,d=0,c="";d<l;d++){for(n=s[d],r=n.attributes,o=n.tagName,c+="<"+o,i=0,t=r.length;i<t;i++)a=r.item(i),c+=" "+a.name+'="'+a.value+'"';c+=">",n.childNodes.length>0&&(c+=u(n)),c+="</"+o+">"}return c},e.getDefs)k=u(e.getDefs());else for(g=e.gradientsColl,g&&(p=g.keys,f=g.items,m=0,x=p.length);m<x;m++){y=p[m],v=f[m],l=e.gradientsColl.getByKey(y),k+='<linearGradient id="'+y+'" x1="0" y1="0" x2="1" y2="1">';var P=l.colors.replace(a,"rgb($1|$2|$3)");for(P=P.replace(s,"rgba($1|$2|$3|$4)"),c=P.split(","),E=0,b=c.length;E<b;E++)h=c[E].split(" "),P=Ext.draw.Color.fromString(h[1].replace(/\|/g,",")),k+='<stop offset="'+h[0]+'" stop-color="'+P.toString()+'" stop-opacity="1"></stop>';k+="</linearGradient>"}for(_+="<defs>"+k+"</defs>",_+=d.rect({attr:{width:"100%",height:"100%",fill:"#fff",stroke:"none",opacity:"0"}}),w=new Array(r),E=0;E<r;E++)w[E]=E;for(w.sort(function(e,t){return C=o[e].attr.zIndex||0,S=o[t].attr.zIndex||0,C==S?e-t:C-S}),E=0;E<r;E++)t=o[w[E]],t.attr.hidden||(_+=d[t.type](t));return _+="</svg>"},h=function(e){var t,i="";for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&(i+=t+'="'+e[t]+'" ');return i};return{singleton:!0,generate:function(e,t){return t=t||{},l(e),u()+c()}}}),Ext.define("Ext.fx.CubicBezier",{singleton:!0,cubicBezierAtTime:function(e,t,i,n,r,o){function a(e){return((c*e+u)*e+d)*e}function s(e,t){var i=l(e,t);return((p*i+g)*i+h)*i}function l(e,t){var i,n,r,o,s,l;for(r=e,l=0;l<8;l++){if(o=a(r)-e,Math.abs(o)<t)return r;if(s=(3*c*r+2*u)*r+d,Math.abs(s)<1e-6)break;r-=o/s}if(i=0,n=1,r=e,r<i)return i;if(r>n)return n;for(;i<n;){if(o=a(r),Math.abs(o-e)<t)return r;e>o?i=r:n=r,r=(n-i)/2+i}return r}var d=3*t,u=3*(n-t)-d,c=1-d-u,h=3*i,g=3*(r-i)-h,p=1-h-g;return s(e,1/(200*o))},cubicBezier:function(e,t,i,n){var r=function(r){return Ext.fx.CubicBezier.cubicBezierAtTime(r,e,t,i,n,1)};return r.toCSS3=function(){return"cubic-bezier("+[e,t,i,n].join(",")+")"},r.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-i,1-n,1-e,1-t)},r}}),Ext.define("Ext.fx.PropertyHandler",{requires:["Ext.draw.Draw"],statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(e,t,i,n,r){i="number"==typeof i?i:1;var o,a,s=this.unitRE,l=s.exec(e);return l&&(e=l[1],a=l[2],this.scrollRE.test(r)||a||!this.pixelDefaultsRE.test(r)||(a="px")),e=+e||0,l=s.exec(t),l&&(t=l[1],a=l[2]||a),t=+t||0,o=null!=n?n:e,{from:e,delta:(t-o)*i,units:a}},get:function(e,t,i,n,r){var o,a,s,l,d,u=e.length,c=[];for(o=0;o<u;o++)if(n&&(a=n[o][1].from),Ext.isArray(e[o][1])&&Ext.isArray(t)){for(s=[],l=0,d=e[o][1].length;l<d;l++)s.push(this.computeDelta(e[o][1][l],t[l],i,a,r));c.push([e[o][0],s])}else c.push([e[o][0],this.computeDelta(e[o][1],t,i,a,r)]);return c},set:function(e,t){var i,n,r,o,a,s=e.length,l=[];for(i=0;i<s;i++)if(n=e[i][1],Ext.isArray(n)){for(r=[],a=0,o=n.length;a<o;a++)r.push(n[a].from+n[a].delta*t+(n[a].units||0));l.push([e[i][0],r])}else l.push([e[i][0],n.from+n.delta*t+(n.units||0)]);return l}},stringHandler:{computeDelta:function(e,t,i,n,r){return{from:e,delta:t}},get:function(e,t,i,n,r){var o,a,s=e.length,l=[];for(o=0;o<s;o++)l.push([e[o][0],this.computeDelta(e[o][1],t,i,a,r)]);return l},set:function(e,t){var i,n,r=e.length,o=[];for(i=0;i<r;i++)n=e[i][1],o.push([e[i][0],n.delta]);return o}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(e,t){t="number"==typeof t?t:1;var i,n,r,o,a=!1,s=[this.hexRE,this.rgbRE,this.hex3RE],l=s.length;for(o=0;o<l;o++)if(r=s[o],n=o%2===0?16:10,i=r.exec(e),i&&4===i.length){2===o&&(i[1]+=i[1],i[2]+=i[2],i[3]+=i[3]),a={red:parseInt(i[1],n),green:parseInt(i[2],n),blue:parseInt(i[3],n)};break}return a||e},computeDelta:function(e,t,i,n){e=this.parseColor(e),t=this.parseColor(t,i);var r=n?n:e,o=typeof r,a=typeof t;return"string"==o||"undefined"==o||"string"==a||"undefined"==a?t||r:{from:e,delta:{red:Math.round((t.red-r.red)*i),green:Math.round((t.green-r.green)*i),blue:Math.round((t.blue-r.blue)*i)}}},get:function(e,t,i,n){var r,o,a=e.length,s=[];for(r=0;r<a;r++)n&&(o=n[r][1].from),s.push([e[r][0],this.computeDelta(e[r][1],t,i,o)]);return s},set:function(e,t){var i,n,r,o,a,s=e.length,l=[];for(i=0;i<s;i++)if(n=e[i][1]){if(o=n.from,a=n.delta,n="object"==typeof n&&"red"in n?"rgb("+n.red+", "+n.green+", "+n.blue+")":n,n="object"==typeof n&&n.length?n[0]:n,"undefined"==typeof n)return[];r="string"==typeof n?n:"rgb("+[(o.red+Math.round(a.red*t))%256,(o.green+Math.round(a.green*t))%256,(o.blue+Math.round(a.blue*t))%256].join(",")+")",l.push([e[i][0],r])}return l}},object:{interpolate:function(e,t){t="number"==typeof t?t:1;var i,n={};for(i in e)n[i]=parseFloat(e[i])*t;return n},computeDelta:function(e,t,i,n){e=this.interpolate(e),t=this.interpolate(t,i);var r,o=n?n:e,a={};for(r in t)a[r]=t[r]-o[r];return{from:e,delta:a}},get:function(e,t,i,n){var r,o,a=e.length,s=[];for(r=0;r<a;r++)n&&(o=n[r][1].from),s.push([e[r][0],this.computeDelta(e[r][1],t,i,o)]);return s},set:function(e,t){var i,n,r,o,a,s=e.length,l=[],d={};for(i=0;i<s;i++){o=e[i][1],n=o.from,r=o.delta;for(a in n)d[a]=n[a]+r[a]*t;l.push([e[i][0],d])}return l}},path:{computeDelta:function(e,t,i,n){i="number"==typeof i?i:1;var r;return e=+e||0,t=+t||0,r=null!=n?n:e,{from:e,delta:(t-r)*i}},forcePath:function(e){return Ext.isArray(e)||Ext.isArray(e[0])||(e=Ext.draw.Draw.parsePathString(e)),e},get:function(e,t,i,n){var r,o,a,s,l,d,u,c,h,g=this.forcePath(t),p=[],f=e.length;for(a=0;a<f;a++){for(h=this.forcePath(e[a][1]),s=Ext.draw.Draw.interpolatePaths(h,g),h=s[0],g=s[1],r=h.length,c=[],d=0;d<r;d++){for(s=[h[d][0]],o=h[d].length,u=1;u<o;u++)l=n&&n[0][1][d][u].from,s.push(this.computeDelta(h[d][u],g[d][u],i,l));c.push(s)}p.push([e[a][0],c])}return p},set:function(e,t){var i,n,r,o,a,s,l,d,u=e.length,c=[];for(i=0;i<u;i++){for(s=e[i][1],o=[],l=s.length,n=0;n<l;n++){for(a=[s[n][0]],d=s[n].length,r=1;r<d;r++)a.push(s[n][r].from+s[n][r].delta*t);o.push(a.join(","))}c.push([e[i][0],o.join(",")])}return c}}}},function(){for(var e,t=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],i=t.length,n=0;n<i;n++)e=t[n],this[e]=this.color;for(t=["cursor"],i=t.length,n=0;n<i;n++)e=t[n],this[e]=this.stringHandler}),Ext.define("Ext.fx.target.Target",{isAnimTarget:!0,constructor:function(e){this.target=e,this.id=this.getId()},getId:function(){return this.target.id}}),Ext.define("Ext.layout.ClassList",function(){var e=Ext.String.splitWords,t=Ext.Array.toMap;return{dirty:!1,constructor:function(i){this.owner=i,this.map=t(this.classes=e(i.el.className))},add:function(e){var t=this;t.map[e]||(t.map[e]=!0,t.classes.push(e),t.dirty||(t.dirty=!0,t.owner.markDirty()))},addMany:function(t){Ext.each(e(t),this.add,this)},contains:function(e){return this.map[e]},flush:function(){this.owner.el.className=this.classes.join(" "),this.dirty=!1},remove:function(e){var t=this;t.map[e]&&(delete t.map[e],t.classes=Ext.Array.filter(t.classes,function(t){return t!=e}),t.dirty||(t.dirty=!0,t.owner.markDirty()))},removeMany:function(i){var n=this,r=t(e(i));n.classes=Ext.Array.filter(n.classes,function(e){return!r[e]||(delete n.map[e],n.dirty||(n.dirty=!0,n.owner.markDirty()),!1)})}}}()),Ext.define("Ext.layout.ContextItem",{requires:["Ext.layout.ClassList"],heightModel:null,widthModel:null,sizeModel:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildLayouts:0,remainingComponentChildLayouts:0,remainingContainerChildLayouts:0,props:null,state:null,wrapsComponent:!1,constructor:function(e){var t,i,n,r,o,a=this;Ext.apply(a,e),t=a.el,a.id=t.id,a.lastBox=t.lastBox,a.flushedProps={},a.props={},a.styles={},o=a.target,o.isComponent&&(a.wrapsComponent=!0,i=o.ownerCt,i&&(n=a.context.items[i.el.id])&&(a.ownerCtContext=n),a.sizeModel=r=o.getSizeModel(n&&n.widthModel.pairsByHeightOrdinal[n.heightModel.ordinal]),a.widthModel=r.width,a.heightModel=r.height)},init:function(e,t){var i,n,r,o,a,s,l,d,u=this,c=u.props,h=u.dirty,g=u.ownerCtContext,p=u.target.ownerLayout,f=!u.state,m=e||f,x=u.heightModel,y=u.widthModel;if(u.dirty=u.invalid=!1,u.props={},u.boxChildren&&(u.boxChildren.length=0),f||(u.clearAllBlocks("blocks"),u.clearAllBlocks("domBlocks")),!u.wrapsComponent)return m;if(s=u.target,u.state={},f)s.beforeLayout&&s.beforeLayout(),!g&&(o=s.ownerCt)&&(g=u.context.items[o.el.id]),g?(u.ownerCtContext=g,u.isBoxParent=s.ownerLayout.isItemBoxParent(u)):u.isTopLevel=!0,u.frameBodyContext=u.getEl("frameBody");else for(g=u.ownerCtContext,u.isTopLevel=!g,i=u.children,n=0,r=i.length;n<r;++n)i[n].init(!0);return u.hasRawContent=!(s.isContainer&&s.items.items.length>0),e?(u.widthModel=u.heightModel=null,a=s.getSizeModel(g&&g.widthModel.pairsByHeightOrdinal[g.heightModel.ordinal]),f&&(u.sizeModel=a),u.widthModel=a.width,u.heightModel=a.height):c&&(u.recoverProp("x",c,h),u.recoverProp("y",c,h),u.widthModel.calculated&&u.recoverProp("width",c,h),u.heightModel.calculated&&u.recoverProp("height",c,h)),c&&p&&p.manageMargins&&(u.recoverProp("margin-top",c,h),u.recoverProp("margin-right",c,h),u.recoverProp("margin-bottom",c,h),u.recoverProp("margin-left",c,h)),t&&(l=t.heightModel,d=t.widthModel,d&&l&&y&&x&&y.shrinkWrap&&x.shrinkWrap&&d.constrainedMax&&l.constrainedMin&&(l=null),d&&(u.widthModel=d),l&&(u.heightModel=l),t.state&&Ext.apply(u.state,t.state)),m},initContinue:function(e){var t,i=this,n=i.ownerCtContext,r=i.widthModel;return e&&(n&&r.shrinkWrap?(t=n.isBoxParent?n:n.boxParent,t&&t.addBoxChild(i)):r.natural&&(i.boxParent=n)),e},initDone:function(e,t,i,n){var r=this,o=r.props,a=r.state;t&&(o.componentChildrenDone=!0),i&&(o.containerChildrenDone=!0),n&&(o.containerLayoutDone=!0),r.boxChildren&&r.boxChildren.length&&r.widthModel.shrinkWrap&&(r.el.setWidth(1e4),a.blocks=(a.blocks||0)+1)},initAnimation:function(){var e=this,t=e.target,i=e.ownerCtContext;i&&i.isTopLevel?e.animatePolicy=t.ownerLayout.getAnimatePolicy(e):!i&&t.isCollapsingOrExpanding&&t.animCollapse&&(e.animatePolicy=t.componentLayout.getAnimatePolicy(e)),e.animatePolicy&&e.context.queueAnimation(e)},noFraming:{left:0,top:0,right:0,bottom:0,width:0,height:0},addCls:function(e){this.getClassList().addMany(e)},removeCls:function(e){this.getClassList().removeMany(e)},addBlock:function(e,t,i){var n=this,r=n[e]||(n[e]={}),o=r[i]||(r[i]={});o[t.id]||(o[t.id]=t,++t.blockCount,++n.context.blockCount)},addBoxChild:function(e){var t,i=this,n=e.widthModel;e.boxParent=this,e.measuresBox=n.shrinkWrap?e.hasRawContent:n.natural,e.measuresBox&&(t=i.boxChildren,t?t.push(e):i.boxChildren=[e])},addTrigger:function(e,t){var i=this,n=t?"domTriggers":"triggers",r=i[n]||(i[n]={}),o=i.context,a=o.currentLayout,s=r[e]||(r[e]={});s[a.id]||(s[a.id]=a,++a.triggerCount,s=o.triggers[t?"dom":"data"],(s[a.id]||(s[a.id]=[])).push({item:this,prop:e}),void 0!==i.props[e]&&(t&&i.dirty&&e in i.dirty||++a.firedTriggers))},boxChildMeasured:function(){var e=this,t=e.state,i=t.boxesMeasured=(t.boxesMeasured||0)+1;i==e.boxChildren.length&&(t.clearBoxWidth=1,++e.context.progressCount,e.markDirty())},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(e){var t=e.getStyles(e.borderNames,e.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t},marginInfo:function(e){var t=e.getStyles(e.marginNames,e.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t},paddingInfo:function(e){var t=e.frameBodyContext||e,i=t.getStyles(e.paddingNames,e.trblNames);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}},checkCache:function(e){return this.cacheMissHandlers[e](this)},clearAllBlocks:function(e){var t,i=this[e];if(i)for(t in i)this.clearBlocks(e,t)},clearBlocks:function(e,t){var i,n,r,o=this[e],a=o&&o[t];if(a){delete o[t],i=this.context;for(r in a)n=a[r],--i.blockCount,--n.blockCount||n.pending||n.done||i.queueLayout(n)}},block:function(e,t){this.addBlock("blocks",e,t)},domBlock:function(e,t){this.addBlock("domBlocks",e,t)},fireTriggers:function(e,t){var i,n,r=this[e],o=r&&r[t],a=this.context;if(o)for(n in o)i=o[n],++i.firedTriggers,i.done||i.blockCount||i.pending||a.queueLayout(i)},flush:function(){var e=this,t=e.dirty,i=e.state,n=e.el;e.dirtyCount=0,e.classList&&e.classList.dirty&&e.classList.flush(),"attributes"in e&&(n.set(e.attributes),delete e.attributes),"innerHTML"in e&&(n.innerHTML=e.innerHTML,delete e.innerHTML),i&&i.clearBoxWidth&&(i.clearBoxWidth=0,e.el.setStyle("width",null),--i.blocks||e.context.queueItemLayouts(e)),t&&(delete e.dirty,e.writeProps(t,!0))},flushAnimations:function(){var e,t,i,n,r,o,a,s,l,d,u,c=this,h=c.lastBox;if(h){for(e=c.target,t=e.layout&&e.layout.animate,t&&(i=Ext.isNumber(t)?t:t.duration),n=Ext.Object.getKeys(c.animatePolicy),r=Ext.apply({},{from:{},to:{},duration:i||Ext.fx.Anim.prototype.duration},t),o=0,a=0,s=n.length;a<s;a++)l=n[a],d=h[l],u=c.peek(l),d!=u&&(l=c.translateProps[l]||l,r.from[l]=d,r.to[l]=u,++o);o&&(1===c.isCollapsingOrExpanding?e.componentLayout.undoLayout(c):c.writeProps(r.from),c.el.animate(r),Ext.fx.Manager.getFxQueue(c.el.id)[0].on({afteranimate:function(){1===c.isCollapsingOrExpanding?(e.componentLayout.redoLayout(c),e.afterCollapse(!0)):2===c.isCollapsingOrExpanding&&e.afterExpand(!0)}}))}},getBorderInfo:function(){var e=this,t=e.borderInfo;return t||(e.borderInfo=t=e.checkCache("borderInfo")),t},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(e,t){var i,n,r,o=this;if(e){if(e.dom)n=e;else if(i=o.target,t&&(i=t),n=i[e],"function"==typeof n&&(n=n.call(i),n===o.el))return this;n&&(r=o.context.getEl(o,n))}return r||null},getFraming:function(){var e=this;return e.framingInfo||(e.framingInfo=e.target.frameSize||e.noFraming),e.framingInfo},getFrameInfo:function(){var e,t,i=this,n=i.frameInfo;return n||(e=i.getFraming(),t=i.getBorderInfo(),i.frameInfo=n={top:e.top+t.top,right:e.right+t.right,bottom:e.bottom+t.bottom,left:e.left+t.left,width:e.width+t.width,height:e.height+t.height}),n},getMarginInfo:function(){var e,t,i,n,r,o=this,a=o.marginInfo;return a||(o.wrapsComponent?(e=o.target,n=e.ownerLayout,r=n?n.id:null,t=n&&n.manageMargins,a=e.margin$,a&&a.ownerId!==r&&(a=null),a||(a=o.parseMargins(e.margin)||o.checkCache("marginInfo"),t&&(i=o.parseMargins(e.margins,n.defaultMargins),i&&(a={top:a.top+i.top,right:a.right+i.right,bottom:a.bottom+i.bottom,left:a.left+i.left}),o.setProp("margin-top",0),o.setProp("margin-right",0),o.setProp("margin-bottom",0),o.setProp("margin-left",0)),a.ownerId=r,e.margin$=a),a.width=a.left+a.right,a.height=a.top+a.bottom):a=o.checkCache("marginInfo"),o.marginInfo=a),a},clearMarginCache:function(){delete this.marginInfo,delete this.target.margin$},getPaddingInfo:function(){var e=this,t=e.paddingInfo;return t||(e.paddingInfo=t=e.checkCache("paddingInfo")),t},getProp:function(e){var t=this,i=t.props[e];return t.addTrigger(e),i},getDomProp:function(e){var t=this,i=t.dirty&&e in t.dirty?void 0:t.props[e];return t.addTrigger(e,!0),i},getStyle:function(e){var t,i,n=this,r=n.styles;return e in r?i=r[e]:(t=n.styleInfo[e],i=n.el.getStyle(e),t&&t.parseInt&&(i=parseInt(i,10)||0),r[e]=i),i},getStyles:function(e,t){var i,n,r,o,a,s,l,d,u=this,c=u.styles,h={},g=0,p=e.length;for(t=t||e,i=0;i<p;++i)o=e[i],o in c?(h[t[i]]=c[o],++g,i&&1==g&&(n=e.slice(0,i),r=t.slice(0,i))):g&&((n||(n=[])).push(o),(r||(r=[])).push(t[i]));if(g<p)for(n=n||e,r=r||t,s=u.styleInfo,l=u.el.getStyle(n),i=n.length;i--;)o=n[i],a=s[o],d=l[o],a&&a.parseInt&&(d=parseInt(d,10)||0),h[r[i]]=d,c[o]=d;return h},hasProp:function(e){var t=this.getProp(e);return"undefined"!=typeof t},hasDomProp:function(e){var t=this.getDomProp(e);return"undefined"!=typeof t},invalidate:function(e){this.context.queueInvalidate(this,e)},markDirty:function(){1==++this.dirtyCount&&this.context.queueFlush(this)},onBoxMeasured:function(){var e=this.boxParent,t=this.state;e&&e.widthModel.shrinkWrap&&!t.boxMeasured&&this.measuresBox&&(t.boxMeasured=1,e.boxChildMeasured())},parseMargins:function(e,t){e===!0&&(e=5);var i,n=typeof e;return"string"==n||"number"==n?i=Ext.util.Format.parseBox(e):(e||t)&&(i={top:0,right:0,bottom:0,left:0},t&&Ext.apply(i,this.parseMargins(t)),Ext.apply(i,e)),i},peek:function(e){return this.props[e]},recoverProp:function(e,t,i){var n,r=this,o=r.props;e in t&&(o[e]=t[e],i&&e in i&&(n=r.dirty||(r.dirty={}),n[e]=i[e]))},redo:function(e){var t,i,n,r=this;if(r.revertProps(r.props),e&&r.wrapsComponent){if(r.childItems)for(n=0,t=r.childItems,i=t.length;n<i;n++)t[n].redo(e);for(n=0,t=r.children,i=t.length;n<i;n++)t[n].redo()}},revertProps:function(e){var t,i=this.flushedProps,n={};for(t in e)i.hasOwnProperty(t)&&(n[t]=e[t]);this.writeProps(n)},setAttribute:function(e,t){var i=this;i.attributes||(i.attributes={}),i.attributes[e]=t,i.markDirty()},setBox:function(e){var t=this;"left"in e&&t.setProp("x",e.left),"top"in e&&t.setProp("y",e.top),t.setSize(e.width,e.height)},setContentHeight:function(e,t){return!t&&this.hasRawContent?1:this.setProp("contentHeight",e)},setContentWidth:function(e,t){return!t&&this.hasRawContent?1:this.setProp("contentWidth",e)},setContentSize:function(e,t,i){return this.setContentWidth(e,i)+this.setContentHeight(t,i)==2},setProp:function(e,t,i){var n,r,o=this,a=typeof t;return"undefined"==a||"number"===a&&isNaN(t)?0:o.props[e]===t?1:(o.props[e]=t,++o.context.progressCount,i===!1?(o.fireTriggers("domTriggers",e),o.clearBlocks("domBlocks",e)):(r=o.styleInfo[e],r&&(o.dirty||(o.dirty={}),"width"!=e&&"height"!=e||(n=o.isBorderBoxValue,null==n&&(o.isBorderBoxValue=n=!!o.el.isBorderBox()),n||(o.borderInfo||o.getBorderInfo(),o.paddingInfo||o.getPaddingInfo())),o.dirty[e]=t,o.markDirty())),o.fireTriggers("triggers",e),o.clearBlocks("blocks",e),1)},setHeight:function(e,t){var i,n,r=this,o=r.target;if(e<0&&(e=0),r.wrapsComponent){if(e=Ext.Number.constrain(e,o.minHeight||0,o.maxHeight),!r.setProp("height",e,t))return NaN;i=r.frameBodyContext,i&&(n=r.getFrameInfo(),i.setHeight(e-n.height,t))}else if(!r.setProp("height",e,t))return NaN;return e},setWidth:function(e,t){var i,n,r=this,o=r.target;if(e<0&&(e=0),r.wrapsComponent){if(e=Ext.Number.constrain(e,o.minWidth||0,o.maxWidth),!r.setProp("width",e,t))return NaN;i=r.frameBodyContext,i&&(n=r.getFrameInfo(),i.setWidth(e-n.width,t))}else if(!r.setProp("width",e,t))return NaN;return e},setSize:function(e,t,i){this.setWidth(e,i),this.setHeight(t,i)},translateProps:{x:"left",y:"top"},undo:function(e){var t,i,n,r=this;if(r.revertProps(r.lastBox),e&&r.wrapsComponent){if(r.childItems)for(n=0,t=r.childItems,i=t.length;n<i;n++)t[n].undo(e);for(n=0,t=r.children,i=t.length;n<i;n++)t[n].undo()}},unsetProp:function(e){var t=this.dirty;delete this.props[e],t&&delete t[e]},writeProps:function(e,t){if(e&&"object"==typeof e){var i,n,r,o,a,s,l,d,u,c=this,h=c.el,g={},p=0,f=c.styleInfo,m="x"in e,x="y"in e,y=e.x,v=e.y,E=e.width,b=e.height,w=c.isBorderBoxValue,C=c.target,S=Math.max,_=0,k=0;"displayed"in e&&h.setDisplayed(e.displayed);for(n in e)t&&(c.fireTriggers("domTriggers",n),c.clearBlocks("domBlocks",n),c.flushedProps[n]=1),i=f[n],i&&i.dom&&(i.suffix&&(r=parseInt(e[n],10))?g[n]=r+i.suffix:g[n]=e[n],++p);(m||x)&&(C.isComponent?C.setPosition(y||c.props.x,v||c.props.y):(m&&(g.left=y+"px",++p),x&&(g.top=v+"px",++p))),!w&&(E>0||b>0)&&(c.frameBodyContext||(_=c.paddingInfo.width,k=c.paddingInfo.height),E&&(E=S(parseInt(E,10)-(c.borderInfo.width+_),0),g.width=E+"px",++p),b&&(b=S(parseInt(b,10)-(c.borderInfo.height+k),0),g.height=b+"px",++p)),c.wrapsComponent&&Ext.isIE9&&Ext.isStrict&&((o=void 0!==E&&c.hasOverflowY)||(a=void 0!==b&&c.hasOverflowX))&&(s=c.isAbsolute,void 0===s&&(s=!1,u=c.target.getTargetEl(),d=u.getStyle("position"),"absolute"==d&&(d=u.getStyle("box-sizing"),s="border-box"==d),c.isAbsolute=s),s&&(l=Ext.getScrollbarSize(),o&&(E=parseInt(E,10)+l.width,g.width=E+"px",++p),a&&(b=parseInt(b,10)+l.height,g.height=b+"px",++p))),p&&h.setStyle(g)}}},function(){var e={dom:!0,parseInt:!0,suffix:"px"},t={dom:!0},i={dom:!1};this.prototype.styleInfo={childrenDone:i,componentChildrenDone:i,containerChildrenDone:i,containerLayoutDone:i,displayed:i,done:i,x:i,y:i,columnWidthsDone:i,left:e,top:e,right:e,bottom:e,width:e,height:e,"border-top-width":e,"border-right-width":e,"border-bottom-width":e,"border-left-width":e,"margin-top":e,"margin-right":e,"margin-bottom":e,"margin-left":e,"padding-top":e,"padding-right":e,"padding-bottom":e,"padding-left":e,"line-height":t,display:t}}),Ext.define("Ext.util.Bindable",{bindStore:function(e,t){var i=this,n=i.store;return!t&&i.store&&(i.onUnbindStore(n,t),e!==n&&n.autoDestroy?n.destroyStore():i.unbindStoreListeners(n)),e&&(e=Ext.data.StoreManager.lookup(e),i.bindStoreListeners(e),i.onBindStore(e,t)),i.store=e||null,i},getStore:function(){return this.store},unbindStoreListeners:function(e){var t=this.storeListeners;t&&e.un(t)},bindStoreListeners:function(e){var t=this,i=Ext.apply({},t.getStoreListeners());i.scope||(i.scope=t),t.storeListeners=i,e.on(i)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn}),Ext.define("Ext.util.ElementContainer",{childEls:[],constructor:function(){var e,t=this;t.hasOwnProperty("childEls")&&(e=t.childEls,delete t.childEls,t.addChildEls.apply(t,e))},destroy:function(){var e,t,i,n=this,r=n.getChildEls();for(i=r.length;i--;)t=r[i],"string"!=typeof t&&(t=t.name),e=n[t],e&&(n[t]=null,e.remove())},addChildEls:function(){var e=this,t=arguments;e.hasOwnProperty("childEls")?e.childEls.push.apply(e.childEls,t):e.childEls=e.getChildEls().concat(Array.prototype.slice.call(t)),e.prune(e.childEls,!1)},applyChildEls:function(e,t){var i,n,r,o,a,s=this,l=s.getChildEls();for(i=(t||s.id)+"-",r=l.length;r--;)n=l[r],"string"==typeof n?a=e.getById(i+n):(a=(o=n.select)?Ext.select(o,!0,e.dom):(o=n.selectNode)?Ext.get(Ext.DomQuery.selectNode(o,e.dom)):e.getById(n.id||i+n.itemId),n=n.name),s[n]=a},getChildEls:function(){var e,t=this;return t.hasOwnProperty("childEls")?t.childEls:(e=t.self,e.$childEls||t.getClassChildEls(e))},getClassChildEls:function(e){var t,i,n,r,o,a,s,l,d,u,c,h=this,g=e.$childEls;if(!g){u=e.superclass,u?(u=u.self,l=[u.$childEls||h.getClassChildEls(u)],c=u.prototype.mixins||{}):(l=[],c={}),d=e.prototype,a=d.mixins;for(s in a)a.hasOwnProperty(s)&&!c.hasOwnProperty(s)&&(o=a[s].self,l.push(o.$childEls||h.getClassChildEls(o)));for(l.push(d.hasOwnProperty("childEls")&&d.childEls),i=0,n=l.length;i<n;++i)t=l[i],t&&t.length&&(g?(r||(r=!0,g=g.slice(0)),g.push.apply(g,t)):g=t);e.$childEls=g=g?h.prune(g,!r):[]}return g},prune:function(e,t){for(var i,n=e.length,r={};n--;)i=e[n],"string"!=typeof i&&(i=i.name),r[i]?(t&&(t=!1,e=e.slice(0)),Ext.Array.erase(e,n,1)):r[i]=1;return e},removeChildEls:function(e){var t,i,n,r=this,o=r.getChildEls(),a=r.childEls=[];for(i=0,t=o.length;i<t;++i)n=o[i],e(n)||a.push(n)}}),Ext.define("Ext.util.Filter",{anyMatch:!1,exactMatch:!1,caseSensitive:!1,constructor:function(e){var t=this;Ext.apply(t,e),t.filter=t.filter||t.filterFn,void 0===t.filter&&(void 0===t.property||void 0===t.value||(t.filter=t.createFilterFn()),t.filterFn=t.filter)},createFilterFn:function(){var e=this,t=e.createValueMatcher(),i=e.property;return function(n){var r=e.getRoot.call(e,n)[i];return null===t?null===r:t.test(r)}},getRoot:function(e){var t=this.root;return void 0===t?e:e[t]},createValueMatcher:function(){var e=this,t=e.value,i=e.anyMatch,n=e.exactMatch,r=e.caseSensitive,o=Ext.String.escapeRegex;return null===t?t:(t.exec||(t=String(t),i===!0?t=o(t):(t="^"+o(t),
n===!0&&(t+="$")),t=new RegExp(t,r?"":"i")),t)}}),Ext.define("Ext.util.Inflector",{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^person$/,"people"],[/^man$/,"men"],[/^(child)$/,"$1ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/people$/i,"person"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(e,t){this.singulars.unshift([e,t])},plural:function(e,t){this.plurals.unshift([e,t])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(e){return Ext.Array.indexOf(this.uncountable,e)!=-1},pluralize:function(e){if(this.isTransnumeral(e))return e;var t,i,n,r=this.plurals,o=r.length;for(n=0;n<o;n++)if(t=r[n],i=t[0],i==e||i.test&&i.test(e))return e.replace(i,t[1]);return e},singularize:function(e){if(this.isTransnumeral(e))return e;var t,i,n,r=this.singulars,o=r.length;for(n=0;n<o;n++)if(t=r[n],i=t[0],i==e||i.test&&i.test(e))return e.replace(i,t[1]);return e},classify:function(e){return Ext.String.capitalize(this.singularize(e))},ordinalize:function(e){var t=parseInt(e,10),i=t%10,n=t%100;if(11<=n&&n<=13)return e+"th";switch(i){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}}},function(){var e,t={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"};for(e in t)this.plural(e,t[e]),this.singular(t[e],e)}),Ext.define("Ext.util.Memento",function(){function e(e,t,i,n){e[n?n+i:i]=t[i]}function t(e,t,i){delete e[i]}function i(e,t,i,r){var o=r?r+i:i,a=e[o];(a||e.hasOwnProperty(o))&&n(t,i,a)}function n(e,t,i){Ext.isDefined(i)?e[t]=i:delete e[t]}function r(e,t,i,n,r){if(t)if(Ext.isArray(n)){var o,a=n.length;for(o=0;o<a;o++)e(t,i,n[o],r)}else e(t,i,n,r)}return{data:null,target:null,constructor:function(e,t){e&&(this.target=e,t&&this.capture(t))},capture:function(t,i,n){var o=this;r(e,o.data||(o.data={}),i||o.target,t,n)},remove:function(e){r(t,this.data,null,e)},restore:function(e,t,n,o){r(i,this.data,n||this.target,e,o),t!==!1&&this.remove(e)},restoreAll:function(e,t){var i,r=this,o=t||this.target,a=r.data;for(i in a)a.hasOwnProperty(i)&&n(o,i,a[i]);e!==!1&&delete r.data}}}()),Ext.define("Ext.util.Observable",{requires:["Ext.util.Event"],statics:{releaseCapture:function(e){e.fireEvent=this.prototype.fireEvent},capture:function(e,t,i){e.fireEvent=Ext.Function.createInterceptor(e.fireEvent,t,i)},observe:function(e,t){return e&&(e.isObservable||(Ext.applyIf(e,new this),this.capture(e.prototype,e.fireEvent,e)),Ext.isObject(t)&&e.on(t)),e},prepareClass:function(e,t){if(!e.HasListeners){var i=Ext.util.Observable,n=function(){},r=e.superclass.HasListeners||t&&t.HasListeners||i.HasListeners;e.prototype.HasListeners=e.HasListeners=n,n.prototype=e.hasListeners=new r}}},isObservable:!0,eventsSuspended:0,constructor:function(e){var t=this;Ext.apply(t,e),t.hasListeners||(t.hasListeners=new t.HasListeners),t.events=t.events||{},t.listeners&&(t.on(t.listeners),t.listeners=null),t.bubbleEvents&&t.enableBubble(t.bubbleEvents)},onClassExtended:function(e){e.HasListeners||Ext.util.Observable.prepareClass(e)},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|vertical|horizontal|freezeEvent)$/,addManagedListener:function(e,t,i,n,r){var o,a=this,s=a.managedListeners=a.managedListeners||[];if("string"!=typeof t){r=t;for(t in r)r.hasOwnProperty(t)&&(o=r[t],a.eventOptionsRe.test(t)||a.addManagedListener(e,t,o.fn||o,o.scope||r.scope,o.fn?o:r))}else s.push({item:e,ename:t,fn:i,scope:n,options:r}),e.on(t,i,n,r)},removeManagedListener:function(e,t,i,n){var r,o,a,s,l,d=this;if("string"!=typeof t){r=t;for(t in r)r.hasOwnProperty(t)&&(o=r[t],d.eventOptionsRe.test(t)||d.removeManagedListener(e,t,o.fn||o,o.scope||r.scope))}for(a=d.managedListeners?d.managedListeners.slice():[],l=0,s=a.length;l<s;l++)d.removeManagedListenerItem(!1,a[l],e,t,i,n)},fireEvent:function(e){e=e.toLowerCase();var t=this,i=t.events,n=i&&i[e],r=!0;return n&&t.hasListeners[e]&&(r=t.continueFireEvent(e,Ext.Array.slice(arguments,1),n.bubble)),r},continueFireEvent:function(e,t,i){var n,r,o=this,a=!0;do{if(o.eventsSuspended)return(n=o.eventQueue)&&n.push([e,t,i]),a;if(r=o.events[e],r&&1!=r&&(a=r.fire.apply(r,t))===!1)break}while(i&&(o=o.getBubbleParent()));return a},getBubbleParent:function(){var e=this,t=e.getBubbleTarget&&e.getBubbleTarget();return t&&t.isObservable?t:null},addListener:function(e,t,i,n){var r,o,a,s=this,l=0;if("string"!=typeof e){n=e;for(e in n)n.hasOwnProperty(e)&&(r=n[e],s.eventOptionsRe.test(e)||s.addListener(e,r.fn||r,r.scope||n.scope,r.fn?r:n))}else e=e.toLowerCase(),o=s.events[e],o&&o.isEvent?l=o.listeners.length:s.events[e]=o=new Ext.util.Event(s,e),"string"==typeof t&&(t=i[t]||s[t]),o.addListener(t,i,n),o.listeners.length!==l&&(a=s.hasListeners,a.hasOwnProperty(e)?++a[e]:a[e]=1)},removeListener:function(e,t,i){var n,r,o,a=this;if("string"!=typeof e){o=e;for(e in o)o.hasOwnProperty(e)&&(n=o[e],a.eventOptionsRe.test(e)||a.removeListener(e,n.fn||n,n.scope||o.scope))}else e=e.toLowerCase(),r=a.events[e],r&&r.isEvent&&r.removeListener(t,i)&&!--a.hasListeners[e]&&delete a.hasListeners[e]},clearListeners:function(){var e,t,i=this.events;for(t in i)i.hasOwnProperty(t)&&(e=i[t],e.isEvent&&e.clearListeners());this.clearManagedListeners()},clearManagedListeners:function(){for(var e=this.managedListeners||[],t=0,i=e.length;t<i;t++)this.removeManagedListenerItem(!0,e[t]);this.managedListeners=[]},removeManagedListenerItem:function(e,t,i,n,r,o){!e&&(t.item!==i||t.ename!==n||r&&t.fn!==r||o&&t.scope!==o)||(t.item.un(t.ename,t.fn,t.scope),e||Ext.Array.remove(this.managedListeners,t))},addEvents:function(e){var t,i,n,r=this,o=r.events||(r.events={});if("string"==typeof e)for(i=arguments,n=i.length;n--;)t=i[n],o[t]||(o[t]=!0);else Ext.applyIf(r.events,e)},hasListener:function(e){return!!this.hasListeners[e.toLowerCase()]},suspendEvents:function(e){this.eventsSuspended+=1,e&&!this.eventQueue&&(this.eventQueue=[])},resumeEvents:function(){var e,t,i=this,n=i.eventQueue;if(i.eventsSuspended&&!--i.eventsSuspended&&(delete i.eventQueue,n))for(e=n.length,t=0;t<e;t++)i.continueFireEvent.apply(i,n[t])},relayEvents:function(e,t,i){for(var n,r,o=this,a=t.length,s=0;s<a;s++)n=t[s],r=i?i+n:n,o.mon(e,n,o.createRelayer(r))},createRelayer:function(e,t){var i=this;return function(){return i.fireEvent.apply(i,[e].concat(Array.prototype.slice.apply(arguments,t||[0,-1])))}},enableBubble:function(e){if(e){var t,i,n,r=this,o="string"==typeof e?arguments:e,a=o.length,s=r.events;for(n=0;n<a;++n)t=o[n].toLowerCase(),i=s[t],i&&"boolean"!=typeof i||(s[t]=i=new Ext.util.Event(r,t)),r.hasListeners[t]=(r.hasListeners[t]||0)+1,i.bubble=!0}}},function(){function e(e){var t,i,n,r,o=(this.methodEvents=this.methodEvents||{})[e],a=this;return o||(this.methodEvents[e]=o={},o.originalFn=this[e],o.methodName=e,o.before=[],o.after=[],r=function(e,r,o){void 0!==(i=e.apply(r||a,o))&&("object"==typeof i?(t=void 0!==i.returnValue?i.returnValue:i,n=!!i.cancel):i===!1?n=!0:t=i)},this[e]=function(){var e,s,l,d=Array.prototype.slice.call(arguments,0);for(t=i=void 0,n=!1,s=0,l=o.before.length;s<l;s++)if(e=o.before[s],r(e.fn,e.scope,d),n)return t;for(void 0!==(i=o.originalFn.apply(a,d))&&(t=i),s=0,l=o.after.length;s<l;s++)if(e=o.after[s],r(e.fn,e.scope,d),n)return t;return t}),o}var t=this,i=t.prototype,n=function(){},r=function(e){if(!e.HasListeners){var i=e.prototype;t.prepareClass(e,this),e.onExtended(function(e){t.prepareClass(e)}),i.onClassMixedIn?Ext.override(e,{onClassMixedIn:function(e){r.call(this,e),this.callParent(arguments)}}):i.onClassMixedIn=function(e){r.call(this,e)}}};n.prototype={},i.HasListeners=t.HasListeners=n,t.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"}),t.observeClass=t.observe,Ext.apply(i,{onClassMixedIn:r,beforeMethod:function(t,i,n){e.call(this,t).before.push({fn:i,scope:n})},afterMethod:function(t,i,n){e.call(this,t).after.push({fn:i,scope:n})},removeMethodListener:function(e,t,i){var n,r,o=this.getMethodEvent(e);for(n=0,r=o.before.length;n<r;n++)if(o.before[n].fn==t&&o.before[n].scope==i)return void Ext.Array.erase(o.before,n,1);for(n=0,r=o.after.length;n<r;n++)if(o.after[n].fn==t&&o.after[n].scope==i)return void Ext.Array.erase(o.after,n,1)},toggleEventLogging:function(e){Ext.util.Observable[e?"capture":"releaseCapture"](this,function(e){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(e,arguments)})}})}),Ext.define("Ext.util.Offset",{statics:{fromObject:function(e){return new this(e.x,e.y)}},constructor:function(e,t){return this.x=null==e||isNaN(e)?0:e,this.y=null==t||isNaN(t)?0:t,this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(e){this.x=e.x,this.y=e.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(e){return this.x==e.x&&this.y==e.y},round:function(e){if(isNaN(e))this.x=Math.round(this.x),this.y=Math.round(this.y);else{var t=Math.pow(10,e);this.x=Math.round(this.x*t)/t,this.y=Math.round(this.y*t)/t}},isZero:function(){return 0==this.x&&0==this.y}}),Ext.define("Ext.util.ProtoElement",function(){var e=Ext.String.splitWords,t=Ext.Array.toMap;return{isProtoEl:!0,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:!1,constructor:function(i){var n=this;Ext.apply(n,i),n.classList=e(n.cls),n.classMap=t(n.classList),delete n.cls,Ext.isFunction(n.style)?(n.styleFn=n.style,delete n.style):"string"==typeof n.style?n.style=Ext.Element.parseStyles(n.style):n.style&&(n.style=Ext.apply({},n.style))},flush:function(){this.flushClassList=[],this.removedClasses={},delete this.style},addCls:function(t){for(var i,n=this,r=e(t),o=r.length,a=n.classList,s=n.classMap,l=n.flushClassList,d=0;d<o;++d)i=r[d],s[i]||(s[i]=!0,a.push(i),l&&(l.push(i),delete n.removedClasses[i]));return n},hasCls:function(e){return e in this.classMap},removeCls:function(i){var n,r,o=this,a=o.classList,s=o.classList=[],l=t(e(i)),d=a.length,u=o.classMap,c=o.removedClasses;for(n=0;n<d;++n)r=a[n],l[r]?(c&&u[r]&&(c[r]=!0,Ext.Array.remove(o.flushClassList,r)),delete u[r]):s.push(r);return o},setStyle:function(e,t){var i=this,n=i.style||(i.style={});return"string"==typeof e?1===arguments.length?i.setStyle(Ext.Element.parseStyles(e)):n[e]=t:Ext.apply(n,e),i},writeTo:function(e){var t,i=this,n=i.flushClassList||i.classList,r=i.removedClasses;return i.styleFn?(t=Ext.apply({},i.styleFn()),Ext.apply(t,i.style)):t=i.style,e[i.clsProp]=n.join(" "),t&&(e[i.styleProp]=i.styleIsText?Ext.DomHelper.generateStyles(t):t),r&&(r=Ext.Object.getKeys(r),r.length&&(e[i.removedProp]=r.join(" "))),e}}}()),Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(e){var t=this,i=t.getKey(e);return t.map[i]||(++t.length,t.items.push(e),t.map[i]=e),e},clear:function(){var e=this,t=e.items;return e.items=[],e.map={},e.length=0,t},contains:function(e){var t=this.getKey(e);return this.map.hasOwnProperty(t)},getCount:function(){return this.length},getKey:function(e){return e.id},remove:function(e){var t,i=this,n=i.getKey(e),r=i.items;return i.map[n]&&(t=Ext.Array.indexOf(r,e),Ext.Array.erase(r,t,1),delete i.map[n],--i.length),e}}),Ext.define("Ext.util.Region",{requires:["Ext.util.Offset"],statics:{getRegion:function(e){return Ext.fly(e).getPageBox(!0)},from:function(e){return new this(e.top,e.right,e.bottom,e.left)}},constructor:function(e,t,i,n){var r=this;r.y=r.top=r[1]=e,r.right=t,r.bottom=i,r.x=r.left=r[0]=n},contains:function(e){var t=this;return e.x>=t.x&&e.right<=t.right&&e.y>=t.y&&e.bottom<=t.bottom},intersect:function(e){var t=this,i=Math.max(t.y,e.y),n=Math.min(t.right,e.right),r=Math.min(t.bottom,e.bottom),o=Math.max(t.x,e.x);return r>i&&n>o&&new this.self(i,n,r,o)},union:function(e){var t=this,i=Math.min(t.y,e.y),n=Math.max(t.right,e.right),r=Math.max(t.bottom,e.bottom),o=Math.min(t.x,e.x);return new this.self(i,n,r,o)},constrainTo:function(e){var t=this,i=Ext.Number.constrain;return t.top=t.y=i(t.top,e.y,e.bottom),t.bottom=i(t.bottom,e.y,e.bottom),t.left=t.x=i(t.left,e.x,e.right),t.right=i(t.right,e.x,e.right),t},adjust:function(e,t,i,n){var r=this;return r.top=r.y+=e,r.left=r.x+=n,r.right+=t,r.bottom+=i,r},getOutOfBoundOffset:function(e,t){if(Ext.isObject(e)){t=e;var i=new Ext.util.Offset;return i.x=this.getOutOfBoundOffsetX(t.x),i.y=this.getOutOfBoundOffsetY(t.y),i}return"x"==e?this.getOutOfBoundOffsetX(t):this.getOutOfBoundOffsetY(t)},getOutOfBoundOffsetX:function(e){return e<=this.x?this.x-e:e>=this.right?this.right-e:0},getOutOfBoundOffsetY:function(e){return e<=this.y?this.y-e:e>=this.bottom?this.bottom-e:0},isOutOfBound:function(e,t){return Ext.isObject(e)?(t=e,this.isOutOfBoundX(t.x)||this.isOutOfBoundY(t.y)):"x"==e?this.isOutOfBoundX(t):this.isOutOfBoundY(t)},isOutOfBoundX:function(e){return e<this.x||e>this.right},isOutOfBoundY:function(e){return e<this.y||e>this.bottom},restrict:function(e,t,i){if(Ext.isObject(e)){var n;return i=t,t=e,n=t.copy?t.copy():{x:t.x,y:t.y},n.x=this.restrictX(t.x,i),n.y=this.restrictY(t.y,i),n}return"x"==e?this.restrictX(t,i):this.restrictY(t,i)},restrictX:function(e,t){return t||(t=1),e<=this.x?e-=(e-this.x)*t:e>=this.right&&(e-=(e-this.right)*t),e},restrictY:function(e,t){return t||(t=1),e<=this.y?e-=(e-this.y)*t:e>=this.bottom&&(e-=(e-this.bottom)*t),e},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(e){var t=this;return t.top=t.y=t[1]=e.y,t.right=e.right,t.bottom=e.bottom,t.left=t.x=t[0]=e.x,this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(e,t){1==arguments.length&&(t=e.y,e=e.x);var i=this;return i.top=i.y+=t,i.right+=e,i.bottom+=t,i.left=i.x+=e,i},round:function(){var e=this;return e.top=e.y=Math.round(e.y),e.right=Math.round(e.right),e.bottom=Math.round(e.bottom),e.left=e.x=Math.round(e.x),e},equals:function(e){return this.top==e.top&&this.right==e.right&&this.bottom==e.bottom&&this.left==e.left}}),Ext.define("Ext.util.Renderable",{requires:["Ext.dom.Element"],frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElementCls:{tl:[],tc:[],tr:[],ml:[],mc:[],mr:[],bl:[],bc:[],br:[]},frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>" style="background-position: {tl}; padding-left: {frameWidth}px" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>" style="background-position: {tr}; padding-right: {frameWidth}px" role="presentation"></tpl>','<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>" style="background-position: {tc}; height: {frameWidth}px" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>" style="background-position: {ml}; padding-left: {frameWidth}px" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>" style="background-position: {mr}; padding-right: {frameWidth}px" role="presentation"></tpl>','<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>" style="background-position: {bl}; padding-left: {frameWidth}px" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>" style="background-position: {br}; padding-right: {frameWidth}px" role="presentation"></tpl>','<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>" style="background-position: {bc}; height: {frameWidth}px" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}","<table><tbody>",'<tpl if="top">',"<tr>",'<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>" style="background-position: {tl}; padding-left:{frameWidth}px" role="presentation"></td></tpl>','<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>" style="background-position: {tc}; height: {frameWidth}px" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>" style="background-position: {tr}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',"</tr>","</tpl>","<tr>",'<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>" style="background-position: {ml}; padding-left: {frameWidth}px" role="presentation"></td></tpl>','<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>" style="background-position: 0 0;" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>" style="background-position: {mr}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">',"<tr>",'<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>" style="background-position: {bl}; padding-left: {frameWidth}px" role="presentation"></td></tpl>','<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>" style="background-position: {bc}; height: {frameWidth}px" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>" style="background-position: {br}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',"</tr>","</tpl>","</tbody></table>","{%this.renderDockedItems(out,values,1);%}"],afterRender:function(){var e,t=this,i={},n=t.protoEl,r=t.getTargetEl();t.finishRenderChildren(),t.styleHtmlContent&&r.addCls(t.styleHtmlCls),n.writeTo(i),e=i.removed,e&&r.removeCls(e),e=i.cls,e.length&&r.addCls(e),e=i.style,i.style&&r.setStyle(e),t.protoEl=null,t.ownerCt||t.updateLayout()},afterFirstLayout:function(e,t){var i,n,r=this,o=Ext.isDefined(r.x),a=Ext.isDefined(r.y);!r.floating||o&&a||(r.floatParent?(i=r.floatParent.getTargetEl().getViewRegion(),n=r.el.getAlignToXY(r.floatParent.getTargetEl(),"c-c"),i.left=n[0]-i.left,i.top=n[1]-i.top):(n=r.el.getAlignToXY(r.container,"c-c"),i=r.container.translatePoints(n[0],n[1])),r.x=o?r.x:i.left,r.y=a?r.y:i.top,o=a=!0),(o||a)&&r.setPosition(r.x,r.y),r.onBoxReady(e,t),r.hasListeners.boxready&&r.fireEvent("boxready",r,e,t)},onBoxReady:Ext.emptyFn,applyRenderSelectors:function(){var e,t=this,i=t.renderSelectors,n=t.el,r=n.dom;if(t.applyChildEls(n),i)for(e in i)i.hasOwnProperty(e)&&i[e]&&(t[e]=Ext.get(Ext.DomQuery.selectNode(i[e],r)))},beforeRender:function(){var e=this,t=e.getTargetEl(),i=e.getComponentLayout();e.frame=e.frame||e.alwaysFramed,i.initialized||i.initLayout(),t&&(t.setStyle(e.getOverflowStyle()),e.overflowStyleSet=!0),e.setUI(e.ui),e.disabled&&e.disable(!0)},doApplyRenderTpl:function(e,t){var i,n=t.$comp;n.rendered||(i=n.initRenderTpl(),i.applyOut(t.renderData,e))},doAutoRender:function(){var e=this;e.rendered||(e.floating?e.render(document.body):e.render(Ext.isBoolean(e.autoRender)?Ext.getBody():e.autoRender))},doRenderContent:function(e,t){var i=t.$comp;i.html&&(Ext.DomHelper.generateMarkup(i.html,e),delete i.html),i.tpl&&(i.tpl.isTemplate||(i.tpl=new Ext.XTemplate(i.tpl)),i.data&&(i.tpl.applyOut(i.data,e),delete i.data))},doRenderFramingDockedItems:function(e,t,i){var n=t.$comp;!n.rendered&&n.doRenderDockedItems&&(t.renderData.$skipDockedItems=!0,n.doRenderDockedItems.call(this,e,t,i))},finishRender:function(e){var t,i,n,r,o,a,s=this;!s.el||s.$pid?(r=s.container?s.container.getById(s.id,!0):Ext.getDom(s.id),s.el?(delete s.$pid,s.el.dom||s.wrapPrimaryEl(s.el),r.parentNode.insertBefore(s.el.dom,r),Ext.removeNode(r)):s.wrapPrimaryEl(r)):s.rendering||(t=s.initRenderTpl(),t&&(i=s.initRenderData(),t.insertFirst(s.getTargetEl(),i))),s.container||(s.container=Ext.get(s.el.dom.parentNode)),s.ctCls&&s.container.addCls(s.ctCls),s.onRender(s.container,e),s.overflowStyleSet||s.getTargetEl().setStyle(s.getOverflowStyle()),s.el.setVisibilityMode(Ext.Element[s.hideMode.toUpperCase()]),s.overCls&&s.el.hover(s.addOverCls,s.removeOverCls,s),s.hasListeners.render&&s.fireEvent("render",s),s.contentEl&&(o=Ext.baseCSSPrefix,a=o+"hide-",n=Ext.get(s.contentEl),n.removeCls([o+"hidden",a+"display",a+"offsets",a+"nosize"]),s.getTargetEl().appendChild(n.dom)),s.afterRender(),s.hasListeners.afterrender&&s.fireEvent("afterrender",s),s.initEvents(),s.hidden&&s.el.hide()},finishRenderChildren:function(){var e=this.getComponentLayout();e.finishRender()},getElConfig:function(){var e,t,i,n,r,o=this,a=o.autoEl,s=o.getFrameInfo(),l={tag:"div",tpl:s?o.initFramingTpl(s.table):o.initRenderTpl()};if(o.initStyles(o.protoEl),o.protoEl.writeTo(l),o.protoEl.flush(),Ext.isString(a)?l.tag=a:Ext.apply(l,a),l.id=o.id,l.tpl)if(s){for(t=o.frameElNames,i=t.length,r=o.id+"-frame1",o.frameGenId=1,l.tplData=Ext.apply({},{$comp:o,fgid:r,ui:o.ui,uiCls:o.uiCls,frameCls:o.frameCls,baseCls:o.baseCls,frameWidth:s.maxWidth,top:!!s.top,left:!!s.left,right:!!s.right,bottom:!!s.bottom,renderData:o.initRenderData()},o.getFramePositions(s)),e=0;e<i;e++)n=t[e],o.addChildEls({name:"frame"+n,id:r+n});o.addChildEls({name:"frameBody",id:r+"MC"})}else l.tplData=o.initRenderData();return l},initFramingTpl:function(e){var t=e?this.getTpl("frameTableTpl"):this.getTpl("frameTpl");return t&&!t.applyRenderTpl&&this.setupFramingTpl(t),t},setupFramingTpl:function(e){e.applyRenderTpl=this.doApplyRenderTpl,e.renderDockedItems=this.doRenderFramingDockedItems},getInsertPosition:function(e){return void 0!==e&&(e=Ext.isNumber(e)?this.container.dom.childNodes[e]:Ext.getDom(e)),e},getRenderTree:function(){var e=this;return e.hasListeners.beforerender&&e.fireEvent("beforerender",e)===!1?null:(e.beforeRender(),e.rendering=!0,e.el?{tag:"div",id:e.$pid=Ext.id()}:e.getElConfig())},initContainer:function(e){var t=this;return!e&&t.el&&(e=t.el.dom.parentNode,t.allowDomMove=!1),t.container=e.dom?e:Ext.get(e),t.container},initRenderData:function(){var e=this;return Ext.apply({$comp:e,id:e.id,ui:e.ui,uiCls:e.uiCls,baseCls:e.baseCls,componentCls:e.componentCls,frame:e.frame},e.renderData)},initRenderTpl:function(){var e=this.getTpl("renderTpl");return e&&!e.renderContent&&this.setupRenderTpl(e),e},onRender:function(e,t){var i,n,r,o=this,a=o.x,s=o.y,l=o.el,d=Ext.getBody().dom;Ext.scopeResetCSS&&!o.ownerCt&&(l.dom===d?l.parent().addCls(Ext.resetCls):o.floating&&o.el.dom.parentNode===d?Ext.resetElement.appendChild(o.el):o.resetEl=l.wrap(Ext.resetElementSpec,!1,Ext.supports.CSS3LinearGradient?void 0:"*")),o.applyRenderSelectors(),delete o.rendering,o.rendered=!0,i=null,void 0!==a&&(i=i||{},i.x=a),void 0!==s&&(i=i||{},i.y=s),!o.getFrameInfo()&&Ext.isBorderBox&&(n=o.width,r=o.height,"number"==typeof n&&(i=i||{},i.width=n),"number"==typeof r&&(i=i||{},i.height=r)),o.lastBox=o.el.lastBox=i},render:function(e,t){var i,n,r,o=this,a=o.el&&(o.el=Ext.get(o.el));Ext.suspendLayouts(),e=o.initContainer(e),r=o.getInsertPosition(t),a?o.hasListeners.beforerender&&o.fireEvent("beforerender",o)===!1?i=!0:(o.initStyles(a),o.allowDomMove!==!1&&(r?e.dom.insertBefore(a.dom,r):e.dom.appendChild(a.dom))):(n=o.getRenderTree(),o.ownerLayout&&o.ownerLayout.transformItemRenderTree&&(n=o.ownerLayout.transformItemRenderTree(n)),n&&(a=r?Ext.DomHelper.insertBefore(r,n):Ext.DomHelper.append(e,n),o.wrapPrimaryEl(a))),a&&!i&&o.finishRender(t),Ext.resumeLayouts(!e.isDetachedBody)},ensureAttachedToBody:function(e){for(var t,i=this;i.ownerCt;)i=i.ownerCt;i.container.isDetachedBody&&(i.container=t=Ext.resetElement,t.appendChild(i.el.dom),e&&i.updateLayout(),"number"!=typeof i.x&&"number"!=typeof i.y||i.setPosition(i.x,i.y))},setupRenderTpl:function(e){e.renderBody=e.renderContent=this.doRenderContent},wrapPrimaryEl:function(e){this.el=Ext.get(e,!0)},initFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var e,t,i,n,r,o=this,a=o.getFrameInfo(),s=o.frameElNames,l=s.length;if(a)for(e=a.maxWidth,t=o.getFrameTpl(a.table),o.frameGenId=i=(o.frameGenId||0)+1,i=o.id+"-frame"+i,t.insertFirst(o.el,Ext.apply({$comp:o,fgid:i,ui:o.ui,uiCls:o.uiCls,frameCls:o.frameCls,baseCls:o.baseCls,frameWidth:e,top:!!a.top,left:!!a.left,right:!!a.right,bottom:!!a.bottom},o.getFramePositions(a))),o.frameBody=o.el.down("."+o.frameCls+"-mc"),o.removeChildEls(function(e){return e.id&&o.frameIdRegex.test(e.id)}),n=0;n<l;n++)r=s[n],o["frame"+r]=o.el.getById(i+r)}},updateFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var e,t=this,i=this.frameSize&&this.frameSize.table,n=this.frameTL,r=this.frameBL,o=this.frameML,a=this.frameMC;this.initFrame(),a?t.frame&&(e=this.frameMC.dom.className,a.insertAfter(this.frameMC),this.frameMC.remove(),this.frameBody=this.frameMC=a,a.dom.className=e,i?t.el.query("> table")[1].remove():(n&&n.remove(),r&&r.remove(),o&&o.remove())):t.frame&&this.applyRenderSelectors()}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return!1;var e,t,i,n,r=this,o=r.frameInfoCache,a=r.el||r.protoEl,s=a.dom?a.dom.className:a.classList.join(" "),l=o[s];return null==l&&(e=Ext.fly(r.getStyleProxy(s),"frame-style-el"),t=e.getStyle("background-position-x"),i=e.getStyle("background-position-y"),t||i||(n=e.getStyle("background-position").split(" "),t=n[0],i=n[1]),l=r.calculateFrame(t,i),l&&a.setStyle("background-image","none"),o[s]=l),r.frame=!!l,r.frameSize=l,l},calculateFrame:function(e,t){if(!(parseInt(e,10)>=1e6&&parseInt(t,10)>=1e6))return!1;var i=Math.max,n=parseInt(e.substr(3,2),10),r=parseInt(e.substr(5,2),10),o=parseInt(t.substr(3,2),10),a=parseInt(t.substr(5,2),10),s={table:"110"==e.substr(0,3),vertical:"110"==t.substr(0,3),top:i(n,r),right:i(r,o),bottom:i(a,o),left:i(n,a)};return s.maxWidth=i(s.top,s.right,s.bottom,s.left),s.width=s.left+s.right,s.height=s.top+s.bottom,s},getStyleProxy:function(e){var t=this.styleProxyEl||(Ext.AbstractComponent.prototype.styleProxyEl=Ext.resetElement.createChild({style:{position:"absolute",top:"-10000px"}},null,!0));return t.className=e,t},getFramePositions:function(e){var t,i,n,r,o,a=this,s=e.maxWidth,l=a.dock;return e.vertical?(i="0 -"+0*s+"px",n="0 -"+1*s+"px",l&&"right"==l&&(i="right -"+0*s+"px",n="right -"+1*s+"px"),t={tl:"0 -"+0*s+"px",tr:"0 -"+1*s+"px",bl:"0 -"+2*s+"px",br:"0 -"+3*s+"px",ml:"-"+1*s+"px 0",mr:"right 0",tc:i,bc:n}):(r="-"+0*s+"px 0",o="right 0",l&&"bottom"==l&&(r="left bottom",o="right bottom"),t={tl:"0 -"+2*s+"px",tr:"right -"+3*s+"px",bl:"0 -"+4*s+"px",br:"right -"+5*s+"px",ml:r,mr:o,tc:"0 -"+0*s+"px",bc:"0 -"+1*s+"px"}),t},getFrameTpl:function(e){return this.getTpl(e?"frameTableTpl":"frameTpl")},frameInfoCache:{}}),Ext.define("Ext.util.Sorter",{direction:"ASC",constructor:function(e){var t=this;Ext.apply(t,e),t.updateSortFunction()},createSortFunction:function(e){var t=this,i=(t.property,t.direction||"ASC"),n="DESC"==i.toUpperCase()?-1:1;return function(i,r){return n*e.call(t,i,r)}},defaultSorterFn:function(e,t){var i=this,n=i.transform,r=i.getRoot(e)[i.property],o=i.getRoot(t)[i.property];return n&&(r=n(r),o=n(o)),r>o?1:r<o?-1:0},getRoot:function(e){return void 0===this.root?e:e[this.root]},setDirection:function(e){var t=this;t.direction=e?e.toUpperCase():e,t.updateSortFunction()},toggle:function(){var e=this;e.direction=Ext.String.toggle(e.direction,"ASC","DESC"),e.updateSortFunction()},updateSortFunction:function(e){var t=this;e=e||t.sorterFn||t.defaultSorterFn,t.sort=t.createSortFunction(e)}}),Ext.define("Ext.Action",{constructor:function(e){this.initialConfig=e,this.itemId=e.itemId=e.itemId||e.id||Ext.id(),this.items=[]},isAction:!0,setText:function(e){this.initialConfig.text=e,this.callEach("setText",[e])},getText:function(){return this.initialConfig.text},setIconCls:function(e){this.initialConfig.iconCls=e,this.callEach("setIconCls",[e])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(e){this.initialConfig.disabled=e,this.callEach("setDisabled",[e])},enable:function(){this.setDisabled(!1)},disable:function(){this.setDisabled(!0)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(e){this.initialConfig.hidden=e,this.callEach("setVisible",[!e])},show:function(){this.setHidden(!1)},hide:function(){this.setHidden(!0)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(e,t){this.initialConfig.handler=e,this.initialConfig.scope=t,this.callEach("setHandler",[e,t])},each:function(e,t){Ext.each(this.items,e,t)},callEach:function(e,t){var i,n=this.items,r=0,o=n.length;for(Ext.suspendLayouts();r<o;r++)i=n[r],i[e].apply(i,t);Ext.resumeLayouts(!0)},addComponent:function(e){this.items.push(e),e.on("destroy",this.removeComponent,this)},removeComponent:function(e){Ext.Array.remove(this.items,e)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}}),Ext.define("Ext.Layer",{extend:"Ext.Element",uses:["Ext.Shadow"],statics:{shims:[]},isLayer:!0,constructor:function(e,t){e=e||{};var i=this,n=Ext.DomHelper,r=e.parentEl,o=r?Ext.getDom(r):document.body,a=e.hideMode;t&&(i.dom=Ext.getDom(t)),i.dom?(i.addCls(Ext.baseCSSPrefix+"layer"),
i.dom.parentNode||o.appendChild(i.dom)):i.dom=n.append(o,e.dh||{tag:"div",cls:Ext.baseCSSPrefix+"layer"}),e.id?i.id=i.dom.id=e.id:i.id=Ext.id(i.dom),Ext.Element.addToCache(i),e.cls&&i.addCls(e.cls),i.constrain=e.constrain!==!1,a?(i.setVisibilityMode(Ext.Element[a.toUpperCase()]),i.visibilityMode==Ext.Element.ASCLASS&&(i.visibilityCls=e.visibilityCls)):e.useDisplay?i.setVisibilityMode(Ext.Element.DISPLAY):i.setVisibilityMode(Ext.Element.VISIBILITY),e.shadow?(i.shadowOffset=e.shadowOffset||4,i.shadow=new Ext.Shadow({offset:i.shadowOffset,mode:e.shadow}),i.disableShadow()):i.shadowOffset=0,i.useShim=e.shim!==!1&&Ext.useShims,e.hidden===!0?i.hide():i.show()},getZIndex:function(){return parseInt((this.getShim()||this).getStyle("z-index"),10)},getShim:function(){var e,t,i=this;return i.useShim?(i.shim||(e=i.self.shims.shift(),e||(e=i.createShim(),e.enableDisplayMode("block"),e.hide()),t=i.dom.parentNode,e.dom.parentNode!=t&&t.insertBefore(e.dom,i.dom),i.shim=e),i.shim):null},hideShim:function(){var e=this;e.shim&&(e.shim.setDisplayed(!1),e.self.shims.push(e.shim),delete e.shim)},disableShadow:function(){var e=this;e.shadow&&!e.shadowDisabled&&(e.shadowDisabled=!0,e.shadow.hide(),e.lastShadowOffset=e.shadowOffset,e.shadowOffset=0)},enableShadow:function(e){var t=this;t.shadow&&t.shadowDisabled&&(t.shadowDisabled=!1,t.shadowOffset=t.lastShadowOffset,delete t.lastShadowOffset,e&&t.sync(!0))},sync:function(e){var t,i,n,r,o,a,s,l,d,u=this,c=u.shadow;return!u.updating&&u.isVisible()&&(c||u.useShim)&&(r=u.getShim(),o=u.getLocalX(),a=u.getLocalY(),s=u.dom.offsetWidth,l=u.dom.offsetHeight,c&&!u.shadowDisabled?(e&&!c.isVisible()?c.show(u):c.realign(o,a,s,l),r&&(d=r.getStyle("z-index"),d>u.zindex&&u.shim.setStyle("z-index",u.zindex-2),r.show(),c.isVisible()?(t=c.el.getXY(),i=r.dom.style,n=c.el.getSize(),Ext.supports.CSS3BoxShadow&&(n.height+=6,n.width+=4,t[0]-=2,t[1]-=4),i.left=t[0]+"px",i.top=t[1]+"px",i.width=n.width+"px",i.height=n.height+"px"):(r.setSize(s,l),r.setLeftTop(o,a)))):r&&(d=r.getStyle("z-index"),d>u.zindex&&u.shim.setStyle("z-index",u.zindex-2),r.show(),r.setSize(s,l),r.setLeftTop(o,a))),u},remove:function(){this.hideUnders(),this.callParent()},beginUpdate:function(){this.updating=!0},endUpdate:function(){this.updating=!1,this.sync(!0)},hideUnders:function(){this.shadow&&this.shadow.hide(),this.hideShim()},constrainXY:function(){if(this.constrain){var e=Ext.Element.getViewWidth(),t=Ext.Element.getViewHeight(),i=Ext.getDoc().getScroll(),n=this.getXY(),r=n[0],o=n[1],a=this.shadowOffset,s=this.dom.offsetWidth+a,l=this.dom.offsetHeight+a,d=!1;r+s>e+i.left&&(r=e-s-a,d=!0),o+l>t+i.top&&(o=t-l-a,d=!0),r<i.left&&(r=i.left,d=!0),o<i.top&&(o=i.top,d=!0),d&&(Ext.Layer.superclass.setXY.call(this,[r,o]),this.sync())}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(e,t,i,n,r){var o,a=this;return o=function(){e&&a.sync(!0),n&&n()},e||a.hideUnders(!0),a.callParent([e,t,i,n,r]),t||o(),a},beforeFx:function(){return this.beforeAction(),this.callParent(arguments)},afterFx:function(){this.callParent(arguments),this.sync(this.isVisible())},beforeAction:function(){!this.updating&&this.shadow&&this.shadow.hide()},setLeft:function(e){return this.callParent(arguments),this.sync()},setTop:function(e){return this.callParent(arguments),this.sync()},setLeftTop:function(e,t){return this.callParent(arguments),this.sync()},setXY:function(e,t,i,n,r){var o=this;return n=o.createCB(n),o.fixDisplay(),o.beforeAction(),o.callParent([e,t,i,n,r]),t||n(),o},createCB:function(e){var t=this,i=t.shadow&&t.shadow.isVisible();return function(){t.constrainXY(),t.sync(i),e&&e()}},setX:function(e,t,i,n,r){return this.setXY([e,this.getY()],t,i,n,r),this},setY:function(e,t,i,n,r){return this.setXY([this.getX(),e],t,i,n,r),this},setSize:function(e,t,i,n,r,o){var a=this;return r=a.createCB(r),a.beforeAction(),a.callParent([e,t,i,n,r,o]),i||r(),a},setWidth:function(e,t,i,n,r){var o=this;return n=o.createCB(n),o.beforeAction(),o.callParent([e,t,i,n,r]),t||n(),o},setHeight:function(e,t,i,n,r){var o=this;return n=o.createCB(n),o.beforeAction(),o.callParent([e,t,i,n,r]),t||n(),o},setBounds:function(e,t,i,n,r,o,a,s){var l=this;return a=l.createCB(a),l.beforeAction(),r?l.callParent([e,t,i,n,r,o,a,s]):(Ext.Layer.superclass.setXY.call(l,[e,t]),Ext.Layer.superclass.setSize.call(l,i,n),a()),l},setZIndex:function(e){var t=this;return t.zindex=e,t.getShim()&&t.shim.setStyle("z-index",e++),t.shadow&&t.shadow.setZIndex(e++),t.setStyle("z-index",e)},onOpacitySet:function(e){var t=this.shadow;t&&t.setOpacity(e)}}),Ext.define("Ext.ShadowPool",{singleton:!0,requires:["Ext.DomHelper"],markup:function(){return Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css")}(),shadows:[],pull:function(){var e=this.shadows.shift();return e||(e=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,this.markup)),e.autoBoxAdjust=!1),e},push:function(e){this.shadows.push(e)},reset:function(){var e,t=[].concat(this.shadows),i=t.length;for(e=0;e<i;e++)t[e].remove();this.shadows=[]}}),Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9e3},constructor:function(e){var t=this;t.list={},t.zIndexStack=[],t.front=null,e?e.isContainer?(e.on("resize",t._onContainerResize,t),t.zseed=Ext.Number.from(t.rendered?e.getEl().getStyle("zIndex"):void 0,t.getNextZSeed()),t.targetEl=e.getTargetEl(),t.container=e):(Ext.EventManager.onWindowResize(t._onContainerResize,t),t.zseed=t.getNextZSeed(),t.targetEl=Ext.get(e)):(Ext.EventManager.onWindowResize(t._onContainerResize,t),t.zseed=t.getNextZSeed(),Ext.onDocumentReady(function(){t.targetEl=Ext.getBody()}))},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=1e4},setBase:function(e){this.zseed=e;var t=this.assignZIndices();return this._activateLast(),t},assignZIndices:function(){for(var e,t=this.zIndexStack,i=t.length,n=0,r=this.zseed;n<i;n++)e=t[n],e&&!e.hidden&&(r=e.setZIndex(r));return this._activateLast(),r},_setActiveChild:function(e,t){var i=this.front;e!==i&&(i&&!i.destroying&&i.setActive(!1,e),this.front=e,e&&e!=t&&(e.setActive(!0),e.modal&&this._showModalMask(e)))},onComponentHide:function(e){e.setActive(!1),this._activateLast()},_activateLast:function(){var e,t=this,i=t.zIndexStack,n=i.length-1,r=t.front;for(t.front=void 0;n>=0&&i[n].hidden;--n);if(!(e=i[n])||(t._setActiveChild(e,r),!e.modal)){for(;n>=0;--n)if(e=i[n],e.isVisible()&&e.modal)return void t._showModalMask(e);t._hideModalMask()}},_showModalMask:function(e){var t=this,i=e.el.getStyle("zIndex")-4,n=e.floatParent?e.floatParent.getTargetEl():e.container,r=n.getBox();n.dom===document.body&&(r.height=Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),r.width=Math.max(document.body.scrollWidth,r.width)),t.mask||(t.mask=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"mask"}),t.mask.setVisibilityMode(Ext.Element.DISPLAY),t.mask.on("click",t._onMaskClick,t)),t.mask.maskTarget=n,n.addCls(Ext.baseCSSPrefix+"body-masked"),t.mask.setStyle("zIndex",i),t.mask.show(),t.mask.setBox(r)},_hideModalMask:function(){var e=this.mask;e&&e.isVisible()&&(e.maskTarget.removeCls(Ext.baseCSSPrefix+"body-masked"),e.maskTarget=void 0,e.hide())},_onMaskClick:function(){this.front&&this.front.focus()},_onContainerResize:function(){var e,t,i=this.mask;i&&i.isVisible()&&(i.hide(),e=i.maskTarget,t=e.dom===document.body?{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth)}:e.getViewSize(!0),i.setSize(t),i.show())},register:function(e){var t=this;e.zIndexManager&&e.zIndexManager.unregister(e),e.zIndexManager=t,t.list[e.id]=e,t.zIndexStack.push(e),e.on("hide",t.onComponentHide,t)},unregister:function(e){var t=this,i=t.list;delete e.zIndexManager,i&&i[e.id]&&(delete i[e.id],e.un("hide",t.onComponentHide),Ext.Array.remove(t.zIndexStack,e),t._activateLast())},get:function(e){return e.isComponent?e:this.list[e]},bringToFront:function(e){var t=this,i=!1,n=t.zIndexStack;return e=t.get(e),e!==t.front&&(Ext.Array.remove(n,e),e.preventBringToFront?n.unshift(e):n.push(e),t.assignZIndices(),i=!0,this.front=e),i&&e.modal&&t._showModalMask(e),i},sendToBack:function(e){var t=this;return e=t.get(e),Ext.Array.remove(t.zIndexStack,e),t.zIndexStack.unshift(e),t.assignZIndices(),this._activateLast(),e},hideAll:function(){var e,t,i=this.list;for(t in i)i.hasOwnProperty(t)&&(e=i[t],e.isComponent&&e.isVisible()&&e.hide())},hide:function(){var e,t=this,i=t.mask,n=0,r=t.zIndexStack,o=r.length;for(t.tempHidden=t.tempHidden||[];n<o;n++)e=r[n],e.isVisible()&&(t.tempHidden.push(e),e.el.hide());i&&i.hide()},show:function(){for(var e,t=this,i=t.mask,n=0,r=t.tempHidden,o=r?r.length:0;n<o;n++)e=r[n],e.el.show(),e.setPosition(e.x,e.y);t.tempHidden.length=0,i&&(i.show(),i.alignTo(i.maskTarget,"tl-tl"))},getActive:function(){return this.front},getBy:function(e,t){for(var i,n=[],r=0,o=this.zIndexStack,a=o.length;r<a;r++)i=o[r],e.call(t||i,i)!==!1&&n.push(i);return n},each:function(e,t){var i,n,r=this.list;for(i in r)if(r.hasOwnProperty(i)&&(n=r[i],n.isComponent&&e.call(t||n,n)===!1))return},eachBottomUp:function(e,t){for(var i,n=this.zIndexStack,r=0,o=n.length;r<o;r++)if(i=n[r],i.isComponent&&e.call(t||i,i)===!1)return},eachTopDown:function(e,t){for(var i,n=this.zIndexStack,r=n.length;r-- >0;)if(i=n[r],i.isComponent&&e.call(t||i,i)===!1)return},destroy:function(){var e,t,i=this,n=i.list;for(t in n)n.hasOwnProperty(t)&&(e=n[t],e.isComponent&&e.destroy());delete i.zIndexStack,delete i.list,delete i.container,delete i.targetEl}},function(){Ext.WindowManager=Ext.WindowMgr=new this}),Ext.define("Ext.dd.DragDropManager",{singleton:!0,requires:["Ext.util.Region"],uses:["Ext.tip.QuickTipManager"],alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,_execOnAll:function(e,t){var i,n,r;for(i in this.ids)for(n in this.ids[i])r=this.ids[i][n],this.isTypeOfDD(r)&&r[e].apply(r,t)},_onLoad:function(){this.init();var e=Ext.EventManager;e.on(document,"mouseup",this.handleMouseUp,this,!0),e.on(document,"mousemove",this.handleMouseMove,this,!0),e.on(window,"unload",this._onUnload,this,!0),e.on(window,"resize",this._onResize,this,!0)},_onResize:function(e){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(e,t){this.initialized||this.init(),this.ids[t]||(this.ids[t]={}),this.ids[t][e.id]=e},removeDDFromGroup:function(e,t){this.ids[t]||(this.ids[t]={});var i=this.ids[t];i&&i[e.id]&&delete i[e.id]},_remove:function(e){for(var t in e.groups)t&&this.ids[t]&&this.ids[t][e.id]&&delete this.ids[t][e.id];delete this.handleIds[e.id]},regHandle:function(e,t){this.handleIds[e]||(this.handleIds[e]={}),this.handleIds[e][t]=t},isDragDrop:function(e){return!!this.getDDById(e)},getRelated:function(e,t){var i,n,r,o=[];for(i in e.groups)for(n in this.ids[i])r=this.ids[i][n],this.isTypeOfDD(r)&&(t&&!r.isTarget||(o[o.length]=r));return o},isLegalTarget:function(e,t){var i,n,r=this.getRelated(e,!0);for(i=0,n=r.length;i<n;++i)if(r[i].id==t.id)return!0;return!1},isTypeOfDD:function(e){return e&&e.__ygDragDrop},isHandle:function(e,t){return this.handleIds[e]&&this.handleIds[e][t]},getDDById:function(e){var t,i;for(t in this.ids)if(i=this.ids[t][e],i instanceof Ext.dd.DDTarget)return i;return null},handleMouseDown:function(e,t){Ext.tip.QuickTipManager&&Ext.tip.QuickTipManager.ddDisable(),this.dragCurrent&&this.handleMouseUp(e),this.currentTarget=e.getTarget(),this.dragCurrent=t;var i=t.getEl();Ext.isIE&&i.setCapture&&i.setCapture(),this.startX=e.getPageX(),this.startY=e.getPageY(),this.deltaX=this.startX-i.offsetLeft,this.deltaY=this.startY-i.offsetTop,this.dragThreshMet=!1,this.clickTimeout=setTimeout(function(){var e=Ext.dd.DragDropManager;e.startDrag(e.startX,e.startY)},this.clickTimeThresh)},startDrag:function(e,t){clearTimeout(this.clickTimeout),this.dragCurrent&&(this.dragCurrent.b4StartDrag(e,t),this.dragCurrent.startDrag(e,t)),this.dragThreshMet=!0},handleMouseUp:function(e){var t=this.dragCurrent;Ext.tip&&Ext.tip.QuickTipManager&&Ext.tip.QuickTipManager.ddEnable(),t&&(Ext.isIE&&document.releaseCapture&&document.releaseCapture(),clearTimeout(this.clickTimeout),this.dragThreshMet&&this.fireEvents(e,!0),this.stopDrag(e),this.stopEvent(e))},stopEvent:function(e){this.stopPropagation&&e.stopPropagation(),this.preventDefault&&e.preventDefault()},stopDrag:function(e){this.dragCurrent&&(this.dragThreshMet&&(this.dragCurrent.b4EndDrag(e),this.dragCurrent.endDrag(e)),this.dragCurrent.onMouseUp(e)),this.dragCurrent=null,this.dragOvers={}},handleMouseMove:function(e){var t,i,n=this;return!n.dragCurrent||(n.dragThreshMet||(t=Math.abs(n.startX-e.getPageX()),i=Math.abs(n.startY-e.getPageY()),(t>n.clickPixelThresh||i>n.clickPixelThresh)&&n.startDrag(n.startX,n.startY)),n.dragThreshMet&&(n.dragCurrent.b4Drag(e),n.dragCurrent.onDrag(e),n.dragCurrent.moveOnly||n.fireEvents(e,!1)),n.stopEvent(e),!0)},fireEvents:function(e,t){var i,n,r,o,a,s,l=this,d=l.dragCurrent,u=e.getPoint(),c=[],h=[],g=[],p=[],f=[],m=[];if(d&&!d.isLocked()){for(o in l.dragOvers)i=l.dragOvers[o],l.isTypeOfDD(i)&&(this.isOverTarget(u,i,l.mode)||g.push(i),h[o]=!0,delete l.dragOvers[o]);for(s in d.groups)if("string"==typeof s)for(o in l.ids[s])i=l.ids[s][o],l.isTypeOfDD(i)&&(n=i.getEl())&&i.isTarget&&!i.isLocked()&&Ext.fly(n).isVisible(!0)&&(i!=d||d.ignoreSelf===!1)&&((i.zIndex=l.getZIndex(n))!==-1&&(r=!0),c.push(i));for(r&&Ext.Array.sort(c,l.byZIndex),o=0,a=c.length;o<a&&(i=c[o],!l.isOverTarget(u,i,l.mode)||(t?f.push(i):(h[i.id]?p.push(i):m.push(i),l.dragOvers[i.id]=i),l.notifyOccluded));o++);if(l.mode)g.length&&(d.b4DragOut(e,g),d.onDragOut(e,g)),m.length&&d.onDragEnter(e,m),p.length&&(d.b4DragOver(e,p),d.onDragOver(e,p)),f.length&&(d.b4DragDrop(e,f),d.onDragDrop(e,f));else{for(o=0,a=g.length;o<a;++o)d.b4DragOut(e,g[o].id),d.onDragOut(e,g[o].id);for(o=0,a=m.length;o<a;++o)d.onDragEnter(e,m[o].id);for(o=0,a=p.length;o<a;++o)d.b4DragOver(e,p[o].id),d.onDragOver(e,p[o].id);for(o=0,a=f.length;o<a;++o)d.b4DragDrop(e,f[o].id),d.onDragDrop(e,f[o].id)}t&&!f.length&&d.onInvalidDrop(e)}},getZIndex:function(e){var t,i=document.body,n=-1;for(e=Ext.getDom(e);e!==i;)isNaN(t=Number(Ext.fly(e).getStyle("zIndex")))||(n=t),e=e.parentNode;return n},byZIndex:function(e,t){return e.zIndex<t.zIndex},getBestMatch:function(e){var t,i,n=null,r=e.length;if(1==r)n=e[0];else for(t=0;t<r;++t){if(i=e[t],i.cursorIsOver){n=i;break}(!n||n.overlap.getArea()<i.overlap.getArea())&&(n=i)}return n},refreshCache:function(e){var t,i,n,r;for(t in e)if("string"==typeof t)for(i in this.ids[t])n=this.ids[t][i],this.isTypeOfDD(n)&&(r=this.getLocation(n),r?this.locationCache[n.id]=r:delete this.locationCache[n.id])},verifyEl:function(e){if(e){var t;if(Ext.isIE)try{t=e.offsetParent}catch(e){}else t=e.offsetParent;if(t)return!0}return!1},getLocation:function(e){if(!this.isTypeOfDD(e))return null;if(e.getRegion)return e.getRegion();var t,i,n,r,o,a,s,l,d,u=e.getEl();try{t=Ext.Element.getXY(u)}catch(e){}return t?(i=t[0],n=i+u.offsetWidth,r=t[1],o=r+u.offsetHeight,a=r-e.padding[0],s=n+e.padding[1],l=o+e.padding[2],d=i-e.padding[3],new Ext.util.Region(a,s,l,d)):null},isOverTarget:function(e,t,i){var n,r,o,a,s,l=this.locationCache[t.id];return l&&this.useCache||(l=this.getLocation(t),this.locationCache[t.id]=l),!!l&&(t.cursorIsOver=l.contains(e),n=this.dragCurrent,n&&n.getTargetCoord&&(i||n.constrainX||n.constrainY)?(t.overlap=null,r=n.getTargetCoord(e.x,e.y),o=n.getDragEl(),a=new Ext.util.Region(r.y,r.x+o.offsetWidth,r.y+o.offsetHeight,r.x),s=a.intersect(l),!!s&&(t.overlap=s,!!i||t.cursorIsOver)):t.cursorIsOver)},_onUnload:function(e,t){Ext.dd.DragDropManager.unregAll()},unregAll:function(){this.dragCurrent&&(this.stopDrag(),this.dragCurrent=null),this._execOnAll("unreg",[]);for(var e in this.elementCache)delete this.elementCache[e];this.elementCache={},this.ids={}},elementCache:{},getElWrapper:function(e){var t=this.elementCache[e];return t&&t.el||(t=this.elementCache[e]=new this.ElementWrapper(Ext.getDom(e))),t},getElement:function(e){return Ext.getDom(e)},getCss:function(e){var t=Ext.getDom(e);return t?t.style:null},ElementWrapper:function(e){this.el=e||null,this.id=this.el&&e.id,this.css=this.el&&e.style},getPosX:function(e){return Ext.Element.getX(e)},getPosY:function(e){return Ext.Element.getY(e)},swapNode:function(e,t){if(e.swapNode)e.swapNode(t);else{var i=t.parentNode,n=t.nextSibling;n==e?i.insertBefore(e,t):t==e.nextSibling?i.insertBefore(t,e):(e.parentNode.replaceChild(t,e),i.insertBefore(e,n))}},getScroll:function(){var e=window.document,t=e.documentElement,i=e.body,n=0,r=0;return Ext.isGecko4?(n=window.scrollYOffset,r=window.scrollXOffset):t&&(t.scrollTop||t.scrollLeft)?(n=t.scrollTop,r=t.scrollLeft):i&&(n=i.scrollTop,r=i.scrollLeft),{top:n,left:r}},getStyle:function(e,t){return Ext.fly(e).getStyle(t)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(e,t){var i=Ext.Element.getXY(t);Ext.Element.setXY(e,i)},numericSort:function(e,t){return e-t},_timeoutCount:0,_addListeners:function(){document?this._onLoad():this._timeoutCount<=2e3&&(setTimeout(this._addListeners,10),document&&document.body&&(this._timeoutCount+=1))},handleWasClicked:function(e,t){if(this.isHandle(t,e.id))return!0;for(var i=e.parentNode;i;){if(this.isHandle(t,i.id))return!0;i=i.parentNode}return!1}},function(){this._addListeners()}),Ext.define("Ext.dd.DragTracker",{uses:["Ext.util.Region"],mixins:{observable:"Ext.util.Observable"},active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(e){var t=this;Ext.apply(t,e),t.addEvents("mouseover","mouseout","mousedown","mouseup","mousemove","beforedragstart","dragstart","dragend","drag"),t.dragRegion=new Ext.util.Region(0,0,0,0),t.el&&t.initEl(t.el),t.mixins.observable.constructor.call(t),t.disabled&&t.disable()},initEl:function(e){var t=this;t.el=Ext.get(e),t.handle=Ext.get(t.delegate),t.delegate=t.handle?void 0:t.delegate,t.handle||(t.handle=t.el),t.mon(t.handle,{mousedown:t.onMouseDown,delegate:t.delegate,scope:t}),(t.trackOver||t.overCls)&&t.mon(t.handle,{mouseover:t.onMouseOver,mouseout:t.onMouseOut,delegate:t.delegate,scope:t})},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){this.clearListeners(),delete this.el},onMouseOver:function(e,t){var i=this;i.disabled||(Ext.EventManager.contains(e)||i.delegate)&&(i.mouseIsOut=!1,i.overCls&&i.el.addCls(i.overCls),i.fireEvent("mouseover",i,e,i.delegate?e.getTarget(i.delegate,t):i.handle))},onMouseOut:function(e){var t=this;t.mouseIsDown?t.mouseIsOut=!0:(t.overCls&&t.el.removeCls(t.overCls),t.fireEvent("mouseout",t,e))},onMouseDown:function(e,t){var i,n=this;n.disabled||e.dragTracked||(n.dragTarget=n.delegate?t:n.handle.dom,n.startXY=n.lastXY=e.getXY(),n.startRegion=Ext.fly(n.dragTarget).getRegion(),n.fireEvent("mousedown",n,e)!==!1&&n.fireEvent("beforedragstart",n,e)!==!1&&n.onBeforeStart(e)!==!1&&(n.mouseIsDown=!0,e.dragTracked=!0,i=n.el.dom,Ext.isIE&&i.setCapture&&i.setCapture(),n.preventDefault!==!1&&e.preventDefault(),Ext.getDoc().on({scope:n,mouseup:n.onMouseUp,mousemove:n.onMouseMove,selectstart:n.stopSelect}),n.autoStart&&(n.timer=Ext.defer(n.triggerStart,n.autoStart===!0?1e3:n.autoStart,n,[e]))))},onMouseMove:function(e,t){var i=this,n=e.getXY(),r=i.startXY;if(e.preventDefault(),i.lastXY=n,!i.active){if(!(Math.max(Math.abs(r[0]-n[0]),Math.abs(r[1]-n[1]))>i.tolerance))return;i.triggerStart(e)}i.fireEvent("mousemove",i,e)===!1?i.onMouseUp(e):(i.onDrag(e),i.fireEvent("drag",i,e))},onMouseUp:function(e){var t=this;t.mouseIsDown=!1,t.mouseIsOut&&(t.mouseIsOut=!1,t.onMouseOut(e)),e.preventDefault(),Ext.isIE&&document.releaseCapture&&document.releaseCapture(),t.fireEvent("mouseup",t,e),t.endDrag(e)},endDrag:function(e){var t=this,i=Ext.getDoc(),n=t.active;i.un("mousemove",t.onMouseMove,t),i.un("mouseup",t.onMouseUp,t),i.un("selectstart",t.stopSelect,t),t.clearStart(),t.active=!1,n&&(t.onEnd(e),t.fireEvent("dragend",t,e)),delete t._constrainRegion,delete Ext.EventObject.dragTracked},triggerStart:function(e){var t=this;t.clearStart(),t.active=!0,t.onStart(e),t.fireEvent("dragstart",t,e)},clearStart:function(){var e=this.timer;e&&(clearTimeout(e),delete this.timer)},stopSelect:function(e){return e.stopEvent(),!1},onBeforeStart:function(e){},onStart:function(e){},onDrag:function(e){},onEnd:function(e){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var e=this;if(e.constrainTo){if(e.constrainTo instanceof Ext.util.Region)return e.constrainTo;e._constrainRegion||(e._constrainRegion=Ext.fly(e.constrainTo).getViewRegion())}else e._constrainRegion||(e._constrainRegion=e.getDragCt().getViewRegion());return e._constrainRegion},getXY:function(e){return e?this.constrainModes[e](this,this.lastXY):this.lastXY},getOffset:function(e){var t=this.getXY(e),i=this.startXY;return[t[0]-i[0],t[1]-i[1]]},constrainModes:{point:function(e,t){var i=e.dragRegion,n=e.getConstrainRegion();return n?(i.x=i.left=i[0]=i.right=t[0],i.y=i.top=i[1]=i.bottom=t[1],i.constrainTo(n),[i.left,i.top]):t},dragTarget:function(e,t){var i,n=e.startXY,r=e.startRegion.copy(),o=e.getConstrainRegion();return o?(r.translateBy(t[0]-n[0],t[1]-n[1]),r.right>o.right&&(t[0]+=i=o.right-r.right,r.left+=i),r.left<o.left&&(t[0]+=o.left-r.left),r.bottom>o.bottom&&(t[1]+=i=o.bottom-r.bottom,r.top+=i),r.top<o.top&&(t[1]+=o.top-r.top),t):t}}}),Ext.define("Ext.dd.Registry",{singleton:!0,constructor:function(){this.elements={},this.handles={},this.autoIdSeed=0},getId:function(e,t){if("string"==typeof e)return e;var i=e.id;return i||t===!1||(i="extdd-"+ ++this.autoIdSeed,e.id=i),i},register:function(e,t){if(t=t||{},"string"==typeof e&&(e=document.getElementById(e)),t.ddel=e,this.elements[this.getId(e)]=t,t.isHandle!==!1&&(this.handles[t.ddel.id]=t),t.handles){var i,n,r=t.handles;for(i=0,n=r.length;i<n;i++)this.handles[this.getId(r[i])]=t}},unregister:function(e){var t,i,n,r=this.getId(e,!1),o=this.elements[r];if(o&&(delete this.elements[r],o.handles))for(t=o.handles,i=0,n=t.length;i<n;i++)delete this.handles[this.getId(t[i],!1)]},getHandle:function(e){return"string"!=typeof e&&(e=e.id),this.handles[e]},getHandleFromEvent:function(e){var t=e.getTarget();return t?this.handles[t.id]:null},getTarget:function(e){return"string"!=typeof e&&(e=e.id),this.elements[e]},getTargetFromEvent:function(e){var t=e.getTarget();return t?this.elements[t.id]||this.handles[t.id]:null}}),Ext.define("Ext.dd.ScrollManager",{singleton:!0,requires:["Ext.dd.DragDropManager"],constructor:function(){var e=Ext.dd.DragDropManager;e.fireEvents=Ext.Function.createSequence(e.fireEvents,this.onFire,this),e.stopDrag=Ext.Function.createSequence(e.stopDrag,this.onStop,this),this.doScroll=Ext.Function.bind(this.doScroll,this),this.ddmInstance=e,this.els={},this.dragEl=null,this.proc={}},onStop:function(e){var t=Ext.dd.ScrollManager;t.dragEl=null,t.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},doScroll:function(){if(this.ddmInstance.dragCurrent){var e=this.proc,t=e.el,i=e.el.ddScrollConfig,n=i?i.increment:this.increment;this.animate?t.scroll(e.dir,n,!0,this.animDuration,this.triggerRefresh):t.scroll(e.dir,n)&&this.triggerRefresh()}},clearProc:function(){var e=this.proc;e.id&&clearInterval(e.id),e.id=0,e.el=null,e.dir=""},startProc:function(e,t){this.clearProc(),this.proc.el=e,this.proc.dir=t;var i=e.ddScrollConfig?e.ddScrollConfig.ddGroup:void 0,n=e.ddScrollConfig&&e.ddScrollConfig.frequency?e.ddScrollConfig.frequency:this.frequency;void 0!==i&&this.ddmInstance.dragCurrent.ddGroup!=i||(this.proc.id=setInterval(this.doScroll,n))},onFire:function(e,t){if(!t&&this.ddmInstance.dragCurrent){this.dragEl&&this.dragEl==this.ddmInstance.dragCurrent||(this.dragEl=this.ddmInstance.dragCurrent,this.refreshCache());var i,n,r,o,a=(e.getXY(),e.getPoint()),s=this.proc,l=this.els;for(i in l)if(n=l[i],r=n._region,o=n.ddScrollConfig?n.ddScrollConfig:this,r&&r.contains(a)&&n.isScrollable()){if(r.bottom-a.y<=o.vthresh)return void(s.el!=n&&this.startProc(n,"down"));if(r.right-a.x<=o.hthresh)return void(s.el!=n&&this.startProc(n,"left"));if(a.y-r.top<=o.vthresh)return void(s.el!=n&&this.startProc(n,"up"));if(a.x-r.left<=o.hthresh)return void(s.el!=n&&this.startProc(n,"right"))}this.clearProc()}},register:function(e){if(Ext.isArray(e))for(var t=0,i=e.length;t<i;t++)this.register(e[t]);else e=Ext.get(e),this.els[e.id]=e},unregister:function(e){if(Ext.isArray(e))for(var t=0,i=e.length;t<i;t++)this.unregister(e[t]);else e=Ext.get(e),delete this.els[e.id]},vthresh:25,hthresh:25,increment:100,frequency:500,animate:!0,animDuration:.4,ddGroup:void 0,refreshCache:function(){var e,t=this.els;for(e in t)"object"==typeof t[e]&&(t[e]._region=t[e].getRegion())}}),Ext.define("Ext.form.FieldAncestor",{initFieldAncestor:function(){var e=this,t=e.onFieldAncestorSubtreeChange;e.addEvents("fieldvaliditychange","fielderrorchange"),e.on("add",t,e),e.on("remove",t,e),e.initFieldDefaults()},initFieldDefaults:function(){this.fieldDefaults||(this.fieldDefaults={})},onFieldAncestorSubtreeChange:function(e,t){function i(e){var t=e.isFieldLabelable,o=e.isFormField;t||o?(t&&n["onLabelable"+(r?"Added":"Removed")](e),o&&n["onField"+(r?"Added":"Removed")](e)):e.isContainer&&Ext.Array.forEach(e.getRefItems(),i)}var n=this,r=!!t.ownerCt;i(t)},onLabelableAdded:function(e){var t=this;t.mon(e,"errorchange",t.handleFieldErrorChange,t,{buffer:10}),e.setFieldDefaults(t.fieldDefaults)},onFieldAdded:function(e){var t=this;t.mon(e,"validitychange",t.handleFieldValidityChange,t)},onLabelableRemoved:function(e){var t=this;t.mun(e,"errorchange",t.handleFieldErrorChange,t)},onFieldRemoved:function(e){var t=this;t.mun(e,"validitychange",t.handleFieldValidityChange,t)},handleFieldValidityChange:function(e,t){var i=this;i.fireEvent("fieldvaliditychange",i,e,t),i.onFieldValidityChange(e,t)},handleFieldErrorChange:function(e,t){var i=this;i.fireEvent("fielderrorchange",i,e,t),i.onFieldErrorChange(e,t)},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn}),Ext.define("Ext.form.action.Action",{alternateClassName:"Ext.form.Action",submitEmptyText:!0,constructor:function(e){e&&Ext.apply(this,e);var t=e.params;Ext.isString(t)&&(this.params=Ext.Object.fromQueryString(t))},run:Ext.emptyFn,onFailure:function(e){this.response=e,this.failureType=Ext.form.action.Action.CONNECT_FAILURE,this.form.afterAction(this,!1)},processResponse:function(e){return this.response=e,!e.responseText&&!e.responseXML||(this.result=this.handleResponse(e))},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var e,t=this,i=t.form;return{success:t.onSuccess,failure:t.onFailure,scope:t,timeout:1e3*this.timeout||1e3*i.timeout,upload:i.fileUpload?t.onSuccess:e}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}}),Ext.define("Ext.form.action.Submit",{extend:"Ext.form.action.Action",alternateClassName:"Ext.form.Action.Submit",alias:"formaction.submit",type:"submit",run:function(){var e=this.form;this.clientValidation===!1||e.isValid()?this.doSubmit():(this.failureType=Ext.form.action.Action.CLIENT_INVALID,e.afterAction(this,!1))},doSubmit:function(){var e,t=Ext.apply(this.createCallback(),{url:this.getUrl(),method:this.getMethod(),headers:this.headers});this.form.hasUpload()?(e=t.form=this.buildForm(),t.isUpload=!0):t.params=this.getParams(),Ext.Ajax.request(t),e&&Ext.removeNode(e)},getParams:function(){var e=!1,t=this.callParent(),i=this.form.getValues(e,e,this.submitEmptyText!==e);return Ext.apply({},i,t)},buildForm:function(){function e(e,t){c.push({tag:"input",type:"hidden",name:e,value:Ext.String.htmlEncode(t)})}var t,i,n,r,o,a,s,l,d,u,c=[],h=this.form,g=this.getParams(),p=[],f=h.getFields().items,m=f.length;for(n=0;n<m;n++)r=f[n],r.isFileUpload()&&p.push(r);for(o in g)if(g.hasOwnProperty(o))if(a=g[o],Ext.isArray(a))for(l=a.length,s=0;s<l;s++)e(o,a[s]);else e(o,a);for(t={tag:"form",action:this.getUrl(),method:this.getMethod(),target:this.target||"_self",style:"display:none",cn:c},p.length&&(t.encoding=t.enctype="multipart/form-data"),i=Ext.DomHelper.append(Ext.getBody(),t),u=p.length,d=0;d<u;d++)r=p[d],r.rendered&&i.appendChild(r.extractFileInput());return i},onSuccess:function(e){var t=this.form,i=!0,n=this.processResponse(e);n===!0||n.success||(n.errors&&t.markInvalid(n.errors),this.failureType=Ext.form.action.Action.SERVER_INVALID,i=!1),t.afterAction(this,i)},handleResponse:function(e){var t,i,n,r,o,a=this.form,s=a.errorReader;if(s){if(t=s.read(e),o=t.records,i=[],o)for(n=0,r=o.length;n<r;n++)i[n]=o[n].data;return i.length<1&&(i=null),{success:t.success,errors:i}}return Ext.decode(e.responseText)}}),Ext.define("Ext.form.field.Field",{isFormField:!0,disabled:!1,submitValue:!0,validateOnChange:!0,suspendCheckChange:0,initField:function(){this.addEvents("change","validitychange","dirtychange"),this.initValue()},initValue:function(){var e=this;e.value=e.transformOriginalValue(e.value),e.originalValue=e.lastValue=e.value,e.suspendCheckChange++,e.setValue(e.value),e.suspendCheckChange--},transformOriginalValue:function(e){return e},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(e){var t=this;return t.value=e,t.checkChange(),t},isEqual:function(e,t){return String(e)===String(t)},isEqualAsString:function(e,t){return String(Ext.value(e,""))===String(Ext.value(t,""))},getSubmitData:function(){var e=this,t=null;return e.disabled||!e.submitValue||e.isFileUpload()||(t={},t[e.getName()]=""+e.getValue()),t},getModelData:function(){var e=this,t=null;return e.disabled||e.isFileUpload()||(t={},t[e.getName()]=e.getValue()),t},reset:function(){var e=this;e.beforeReset(),e.setValue(e.originalValue),e.clearInvalid(),delete e.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue(),this.checkDirty()},checkChange:function(){if(!this.suspendCheckChange){var e=this,t=e.getValue(),i=e.lastValue;e.isEqual(t,i)||e.isDestroyed||(e.lastValue=t,e.fireEvent("change",e,t,i),e.onChange(t,i))}},onChange:function(e,t){this.validateOnChange&&this.validate(),this.checkDirty()},isDirty:function(){var e=this;return!e.disabled&&!e.isEqual(e.getValue(),e.originalValue)},checkDirty:function(){var e=this,t=e.isDirty();t!==e.wasDirty&&(e.fireEvent("dirtychange",e,t),e.onDirtyChange(t),e.wasDirty=t)},onDirtyChange:Ext.emptyFn,getErrors:function(e){return[]},isValid:function(){var e=this;return e.disabled||Ext.isEmpty(e.getErrors())},validate:function(){var e=this,t=e.isValid();return t!==e.wasValid&&(e.wasValid=t,e.fireEvent("validitychange",e,t)),t},batchChanges:function(e){try{this.suspendCheckChange++,e()}catch(e){throw e}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return!1},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn}),Ext.define("Ext.form.field.VTypes",function(){var e=/^[a-zA-Z_]+$/,t=/^[a-zA-Z0-9_]+$/,i=/^(\w+)([\-+.][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,n=/(((^https?)|(^ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;return{singleton:!0,alternateClassName:"Ext.form.VTypes",email:function(e){return i.test(e)},emailText:'This field should be an e-mail address in the format "user@example.com"',
emailMask:/[a-z0-9_\.\-@\+]/i,url:function(e){return n.test(e)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(t){return e.test(t)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(e){return t.test(e)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}()),Ext.define("Ext.grid.LockingView",{mixins:{observable:"Ext.util.Observable"},eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell)/,constructor:function(e){var t,i,n=this,r=[],o=n.eventRelayRe,a=e.locked.getView(),s=e.normal.getView();Ext.apply(n,{lockedView:a,normalView:s,lockedGrid:e.locked,normalGrid:e.normal,panel:e.panel}),n.mixins.observable.constructor.call(n,e),t=a.events;for(i in t)t.hasOwnProperty(i)&&o.test(i)&&r.push(i);n.relayEvents(a,r),n.relayEvents(s,r),s.on({scope:n,itemmouseleave:n.onItemMouseLeave,itemmouseenter:n.onItemMouseEnter}),a.on({scope:n,itemmouseleave:n.onItemMouseLeave,itemmouseenter:n.onItemMouseEnter})},getGridColumns:function(){var e=this.lockedGrid.headerCt.getGridColumns();return e.concat(this.normalGrid.headerCt.getGridColumns())},getEl:function(e){return this.getViewForColumn(e).getEl()},getViewForColumn:function(e){var t,i=this.lockedView;return i.headerCt.cascade(function(i){if(i===e)return t=!0,!1}),t?i:this.normalView},onItemMouseEnter:function(e,t){var i,n=this,r=n.lockedView,o=n.normalView;e.trackOver&&(e!==r&&(o=r),i=o.getNode(t),o.highlightItem(i))},onItemMouseLeave:function(e,t){var i=this,n=i.lockedView,r=i.normalView;e.trackOver&&(e!==n&&(r=n),r.clearHighlight())},relayFn:function(e,t){t=t||[];var i=this.lockedView;i[e].apply(i,t||[]),i=this.normalView,i[e].apply(i,t||[])},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},getNode:function(e){return this.normalView.getNode(e)},getCell:function(e,t){var i,n=this.getViewForColumn(t);return i=n.getNode(e),Ext.fly(i).down(t.getCellSelector())},getRecord:function(e){var t=this.lockedView.getRecord(e);return e||(t=this.normalView.getRecord(e)),t},addElListener:function(e,t,i){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},refresh:function(){this.relayFn("refresh",arguments)},bindStore:function(){this.relayFn("bindStore",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)}}),Ext.define("Ext.grid.PagingScroller",{percentageFromEdge:.35,numFromEdge:2,trailingBufferZone:5,leadingBufferZone:15,scrollToLoadBuffer:200,viewSize:0,rowHeight:21,tableStart:0,tableEnd:0,constructor:function(e){var t=this;t.variableRowHeight=e.variableRowHeight,t.bindView(e.view),Ext.apply(t,e),t.callParent(arguments)},bindView:function(e){var t,i=this,n={scroll:{fn:i.onViewScroll,element:"el",scope:i},render:i.onViewRender,resize:i.onViewResize,boxready:{fn:i.onViewResize,scope:i,single:!0},beforerefresh:i.beforeViewRefresh,refresh:i.onViewRefresh,scope:i},r={guaranteedrange:i.onGuaranteedRange,scope:i},o={reconfigure:i.onGridReconfigure,scope:i};i.view&&(i.view.el&&i.view.el.un("scroll",i.onViewScroll,i),t=e.lockingPartner,t&&t.un("refresh",i.onLockRefresh,i),i.view.un(n),i.store.un(r),i.grid&&i.grid.un(o),delete i.view.refreshSize),i.view=e,i.grid=i.view.up("tablepanel"),i.store=e.store,e.rendered&&(i.viewSize=i.store.viewSize=Math.ceil(e.getHeight()/i.rowHeight)+i.trailingBufferZone+2*i.numFromEdge+i.leadingBufferZone),t=e.lockingPartner,t&&t.on("refresh",i.onLockRefresh,i),i.view.mon(i.store.pageMap,{scope:i,clear:i.onCacheClear}),i.view.refreshSize=Ext.Function.createInterceptor(i.view.refreshSize,i.beforeViewrefreshSize,i),i.position=0,i.grid?i.grid.on(o):i.view.on({added:function(){i.grid=i.view.up("tablepanel"),i.grid.on(o)},single:!0}),i.view.on(i.viewListeners=n),i.store.on(r)},onCacheClear:function(){var e=this;e.view.rendered&&!e.store.isDestroyed&&(e.ignoreNextScrollEvent=0!==e.view.el.dom.scrollTop,e.view.el.dom.scrollTop=0,delete e.lastScrollDirection,delete e.scrollOffset,delete e.scrollProportion)},onGridReconfigure:function(e){this.bindView(e.view)},onViewRender:function(){var e,t=this,i=t.view;t.view.el;t.stretcher=t.createStretcher(i),i=i.lockingPartner,i&&(e=t.stretcher,t.stretcher=new Ext.CompositeElement(e),t.stretcher.add(t.createStretcher(i)))},createStretcher:function(e){var t=e.el;return t.setStyle("position","relative"),t.createChild({style:{position:"absolute",width:"1px",height:0,top:0,left:0}},t.dom.firstChild)},onViewResize:function(e,t,i){var n,r=this;n=Math.ceil(i/r.rowHeight)+r.trailingBufferZone+2*r.numFromEdge+r.leadingBufferZone,n>r.viewSize&&(r.viewSize=r.store.viewSize=n,r.handleViewScroll(r.lastScrollDirection||1))},beforeViewRefresh:function(){var e,t,i=this,n=i.view;i.focusOnRefresh=Ext.Element.getActiveElement===n.el.dom,i.variableRowHeight&&(t=i.lastScrollDirection,i.commonRecordIndex=void 0,t&&void 0!==i.previousStart&&void 0===i.scrollProportion&&(e=n.getNodes()).length?(1===t?i.tableStart<=i.previousEnd&&(i.commonRecordIndex=e.length-1):t===-1&&i.tableEnd>=i.previousStart&&(i.commonRecordIndex=0),i.scrollOffset=-n.el.getOffsetsTo(e[i.commonRecordIndex])[1],i.commonRecordIndex-=i.tableStart-i.previousStart):i.scrollOffset=void 0)},onLockRefresh:function(e){e.table.dom.style.position="absolute"},onViewRefresh:function(){var e,t,i,n,r,o,a=this,s=a.store,l=a.view,d=l.el,u=d.dom,c=l.table.dom;return a.focusOnRefresh&&(d.focus(),a.focusOnRefresh=!1),a.disabled=!0,s.getCount()===s.getTotalCount()||s.isFiltered()&&!s.remoteFilter?(a.stretcher.setHeight(0),a.position=u.scrollTop=0,void a.setTablePosition("absolute")):(a.stretcher.setHeight(e=a.getScrollHeight()),o=u.scrollTop,a.isScrollRefresh=o>0,void 0!==a.scrollProportion?(a.setTablePosition("absolute"),a.setTableTop((a.scrollProportion?e*a.scrollProportion-c.offsetHeight*a.scrollProportion:0)+"px")):(a.setTablePosition("absolute"),a.setTableTop((r=(a.tableStart||0)*a.rowHeight)+"px"),a.scrollOffset?(t=l.getNodes(),i=-d.getOffsetsTo(t[a.commonRecordIndex])[1],n=i-a.scrollOffset,a.position=u.scrollTop+=n):(r>o||r+c.offsetHeight<o+u.clientHeight)&&(a.lastScrollDirection=-1,a.position=u.scrollTop=r)),void(a.disabled=!1))},setTablePosition:function(e){this.setViewTableStyle(this.view,"position",e)},setTableTop:function(e){this.setViewTableStyle(this.view,"top",e)},setViewTableStyle:function(e,t,i){e.el.child("table",!0).style[t]=i,e=e.lockingPartner,e&&(e.el.child("table",!0).style[t]=i)},beforeViewrefreshSize:function(){if(this.isScrollRefresh)return this.view.table.attach(this.view.el.child("table",!0)),this.isScrollRefresh=!1},onGuaranteedRange:function(e,t,i){var n=this,r=n.store;e.length&&n.visibleStart<e[0].index||(n.previousStart=n.tableStart,n.previousEnd=n.tableEnd,n.tableStart=t,n.tableEnd=i,r.loadRecords(e,{start:t}))},onViewScroll:function(e,t){var i=this,n=i.view,r=i.position;return i.position=n.el.dom.scrollTop,i.ignoreNextScrollEvent?void(i.ignoreNextScrollEvent=!1):void(i.disabled||(i.lastScrollDirection=i.position>r?1:-1,r!==i.position&&i.handleViewScroll(i.lastScrollDirection)))},handleViewScroll:function(e){var t,i,n=this,r=n.store,o=n.view,a=n.viewSize,s=r.getTotalCount(),l=s-a,d=n.getFirstVisibleRowIndex(),u=n.getLastVisibleRowIndex(),c=o.el.dom;s>=a&&(n.scrollProportion=void 0,e==-1?n.tableStart&&(void 0!==d?d<n.tableStart+n.numFromEdge&&(t=Math.max(0,u+n.trailingBufferZone-a)):(n.scrollProportion=c.scrollTop/(c.scrollHeight-c.clientHeight),t=Math.max(0,s*n.scrollProportion-a/2-n.numFromEdge-(n.leadingBufferZone+n.trailingBufferZone)/2))):void 0!==d?u>n.tableEnd-n.numFromEdge&&(t=Math.max(0,d-n.trailingBufferZone)):(n.scrollProportion=c.scrollTop/(c.scrollHeight-c.clientHeight),t=s*n.scrollProportion-a/2-n.numFromEdge-(n.leadingBufferZone+n.trailingBufferZone)/2),void 0!==t&&(t>l?(t=l&-2,i=s-1):(t&=-2,i=t+a-1),r.rangeCached(t,i)?(n.cancelLoad(),r.guaranteeRange(t,i)):n.attemptLoad(t,i)))},getFirstVisibleRowIndex:function(){var e,t,i,n,r=this,o=r.view,a=o.el.dom.scrollTop;if(!r.variableRowHeight)return Math.floor(a/r.rowHeight);if(e=o.getNodes(),t=e.length)for(n=Ext.fly(e[0]).getOffsetsTo(o.el)[1],i=0;i<t;i++){if(n+=e[i].offsetHeight,n>o.el.dom.clientHeight)return;if(n>0)return o.getRecord(e[i]).index}},getLastVisibleRowIndex:function(){var e,t,i,n,r=this,o=r.store,a=r.view,s=a.el.dom.clientHeight;if(!r.variableRowHeight)return r.getFirstVisibleRowIndex()+Math.ceil(s/r.rowHeight)+1;if(e=a.getNodes(),e.length)for(t=o.getCount()-1,n=Ext.fly(e[t]).getOffsetsTo(a.el)[1]+e[t].offsetHeight,i=t;i>=0;i--){if(n-=e[i].offsetHeight,n<0)return;if(n<s)return a.getRecord(e[i]).index}},getScrollHeight:function(){var e,t,i=this,n=i.view,r=i.store,o=0,a=!i.hasOwnProperty("rowHeight");return i.variableRowHeight?(e=i.view.table.dom,a?(i.initialTableHeight=e.offsetHeight,i.rowHeight=i.initialTableHeight/i.store.getCount()):(o=e.offsetHeight-i.initialTableHeight,r.getCount()>i.viewSize&&(o-=i.rowHeight))):a&&(t=n.el.down(n.getItemSelector()),t&&(i.rowHeight=t.getHeight(!1,!0))),Math.floor(r.getTotalCount()*i.rowHeight)+o},attemptLoad:function(e,t){var i=this;i.scrollToLoadBuffer?(i.loadTask||(i.loadTask=new Ext.util.DelayedTask(i.doAttemptLoad,i,[])),i.loadTask.delay(i.scrollToLoadBuffer,i.doAttemptLoad,i,[e,t])):i.store.guaranteeRange(e,t)},cancelLoad:function(){this.loadTask&&this.loadTask.cancel()},doAttemptLoad:function(e,t){this.store.guaranteeRange(e,t)},destroy:function(){var e=this,t=e.viewListeners.scroll;e.store.un({guaranteedrange:e.onGuaranteedRange,scope:e}),e.view.un(e.viewListeners),e.view.rendered&&(e.stretcher.remove(),e.view.el.un("scroll",t.fn,t.scope))}}),Ext.define("Ext.grid.feature.Feature",{extend:"Ext.util.Observable",alias:"feature.feature",isFeature:!0,disabled:!1,hasFeatureEvent:!0,eventPrefix:null,eventSelector:null,view:null,grid:null,collectData:!1,constructor:function(e){this.initialConfig=e,this.callParent(arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,getFeatureTpl:function(){return""},getFireEventArgs:function(e,t,i,n){return[e,t,i,n]},attachEvents:function(){},getFragmentTpl:Ext.emptyFn,mutateMetaRowTpl:Ext.emptyFn,getMetaRowTplFragments:function(){return{}},getTableFragments:function(){return{}},getAdditionalData:function(e,t,i,n){return{}},enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}}),Ext.define("Ext.grid.feature.Grouping",{extend:"Ext.grid.feature.Feature",alias:"feature.grouping",eventPrefix:"group",eventSelector:"."+Ext.baseCSSPrefix+"grid-group-hd",bodySelector:"."+Ext.baseCSSPrefix+"grid-group-body",constructor:function(){var e=this;e.collapsedState={},e.callParent(arguments)},groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:Ext.baseCSSPrefix+"grid-group-collapsed",hdCollapsedCls:Ext.baseCSSPrefix+"grid-group-hd-collapsed",hdCollapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-collapsible",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:!1,startCollapsed:!1,enableGroupingMenu:!0,enableNoGroups:!0,collapsible:!0,enable:function(){var e,t=this,i=t.view,n=i.store;t.lastGroupField=t.getGroupField(),t.lastGroupIndex&&(t.block(),n.group(t.lastGroupIndex),t.unblock()),t.callParent(),e=t.view.headerCt.getMenu().down("#groupToggleMenuItem"),e.setChecked(!0,!0),t.refreshIf()},disable:function(){var e,t,i=this,n=i.view,r=n.store;r.remoteGroup;t=r.groupers.first(),t&&(i.lastGroupIndex=t.property,i.block(),r.clearGrouping(),i.unblock()),i.callParent(),e=i.view.headerCt.getMenu().down("#groupToggleMenuItem"),e.setChecked(!0,!0),e.setChecked(!1,!0),i.refreshIf()},refreshIf:function(){var e=this.grid.ownerCt,t=this.view;t.store.remoteGroup||this.blockRefresh||(e&&e.lockable?e.view.refresh():t.refresh())},getFeatureTpl:function(e,t,i,n){return["<tpl if=\"typeof rows !== 'undefined'\">",'<tr id="{groupHeaderId}" class="'+Ext.baseCSSPrefix+'grid-group-hd {hdCollapsedCls} {collapsibleClass}"><td class="'+Ext.baseCSSPrefix+'grid-cell" colspan="'+t.columns.length+'" {[this.indentByDepth(values)]}><div class="'+Ext.baseCSSPrefix+'grid-cell-inner"><div class="'+Ext.baseCSSPrefix+'grid-group-title">{collapsed}{[this.renderGroupHeaderTpl(values, parent)]}</div></div></td></tr>','<tr id="{groupBodyId}" class="'+Ext.baseCSSPrefix+'grid-group-body {collapsedCls}"><td colspan="'+t.columns.length+'">{[this.recurse(values)]}</td></tr>',"</tpl>"].join("")},getFragmentTpl:function(){var e=this;return{indentByDepth:e.indentByDepth,depthToIndent:e.depthToIndent,renderGroupHeaderTpl:function(t,i){return Ext.XTemplate.getTpl(e,"groupHeaderTpl").apply(t,i)}}},indentByDepth:function(e){return'style="padding-left:'+(e.depth||0)*this.depthToIndent+'px;"'},destroy:function(){delete this.view,delete this.prunedHeader},attachEvents:function(){var e=this,t=e.view;t.on({scope:e,groupclick:e.onGroupClick,rowfocus:e.onRowFocus}),t.mon(t.store,{scope:e,groupchange:e.onGroupChange,remove:e.onRemove,add:e.onAdd,update:e.onUpdate}),e.enableGroupingMenu&&e.injectGroupingMenu(),e.pruneGroupedHeader(),e.lastGroupField=e.getGroupField(),e.block(),e.onGroupChange(),e.unblock()},onAdd:function(e,t){var i,n,r,o,a,s=this,l=s.view,d=s.getGroupField(),u=0,c=t.length;if(l.rendered){for(n={},i={};u<c;++u)a=t[u].get(d),void 0===n[a]&&(n[a]=0),n[a]+=1;for(r=e.getGroups(),u=0,c=r.length;u<c;++u)a=r[u],i[a.name]=a.children.length;for(a in n)if(n[a]===i[a]){o=!0;break}o&&l.refresh()}},onUpdate:function(e,t,i,n){var r=this.view;(r.rendered&&!n||Ext.Array.contains(n,this.getGroupField()))&&r.refresh()},onRemove:function(e,t){var i=this,n=i.getGroupField(),r=t.get(n),o=i.view;o.rendered&&e.findExact(n,r)===-1&&i.view.refresh()},injectGroupingMenu:function(){var e=this,t=e.view.headerCt;t.showMenuBy=e.showMenuBy,t.getMenuItems=e.getMenuItems()},showMenuBy:function(e,t){var i=this.getMenu(),n=i.down("#groupMenuItem"),r=t.groupable===!1?"disable":"enable";n[r](),Ext.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var e=this,t=e.groupByText,i=e.disabled||!e.getGroupField(),n=e.showGroupsText,r=e.enableNoGroups,o=e.view.headerCt.getMenuItems;return function(){var a=o.call(this);return a.push("-",{iconCls:Ext.baseCSSPrefix+"group-by-icon",itemId:"groupMenuItem",text:t,handler:e.onGroupMenuItemClick,scope:e}),r&&a.push({itemId:"groupToggleMenuItem",text:n,checked:!i,checkHandler:e.onGroupToggleMenuItemClick,scope:e}),a}},onGroupMenuItemClick:function(e,t){var i=this,n=e.parentMenu,r=n.activeHeader,o=i.view,a=o.store;delete i.lastGroupIndex,i.block(),i.enable(),a.group(r.dataIndex),i.pruneGroupedHeader(),i.unblock(),i.refreshIf()},block:function(){this.blockRefresh=this.view.blockRefresh=!0},unblock:function(){this.blockRefresh=this.view.blockRefresh=!1},onGroupToggleMenuItemClick:function(e,t){this[t?"enable":"disable"]()},pruneGroupedHeader:function(){var e=this,t=e.getGroupedHeader();e.hideGroupedHeader&&t&&(e.prunedHeader&&e.prunedHeader.show(),e.prunedHeader=t,t.hide())},getGroupedHeader:function(){var e=this.getGroupField(),t=this.view.headerCt;return e?t.down("[dataIndex="+e+"]"):null},getGroupField:function(){var e=this.view.store.groupers.first();return e?e.property:""},onRowFocus:function(e){var t=this.view.getNode(e),i=Ext.fly(t).up("."+this.collapsedCls);i&&this.expand(i)},isExpanded:function(e){return this.collapsedState[e]===!1},expand:function(e,t,i){var n,r,o=this,a=o.view,s=o.lockingPartner;Ext.isString(e)?r=Ext.fly(o.getGroupBodyId(e),"_grouping"):(r=Ext.fly(e,"_grouping"),e=o.getGroupName(r)),n=Ext.get(o.getGroupHeaderId(e)),o.collapsedState[e]&&(r.removeCls(o.collapsedCls),r.prev().removeCls(o.hdCollapsedCls),i!==!0&&a.refreshSize(),a.fireEvent("groupexpand",a,n,e),o.collapsedState[e]=!1,s&&s.expand(e,t,i),t&&r.scrollIntoView(a.el,null,!0))},expandAll:function(){var e,t=this,i=t.view,n=i.el.select(t.eventSelector).elements,r=n.length;for(e=0;e<r;e++)t.expand(Ext.fly(n[e]).next(),!1,!0);i.refreshSize()},collapse:function(e,t,i){var n,r,o=this,a=o.view,s=o.lockingPartner;Ext.isString(e)?r=Ext.fly(o.getGroupBodyId(e),"_grouping"):(r=Ext.fly(e,"_grouping"),e=o.getGroupName(r)),n=Ext.get(o.getGroupHeaderId(e)),o.collapsedState[e]||(r.addCls(o.collapsedCls),r.prev().addCls(o.hdCollapsedCls),i!==!0&&a.refreshSize(),a.fireEvent("groupcollapse",a,n,e),o.collapsedState[e]=!0,s&&s.collapse(e,t,i),t&&n.scrollIntoView(a.el,null,!0))},collapseAll:function(){var e,t=this,i=t.view,n=i.el.select(t.eventSelector).elements,r=n.length;for(e=0;e<r;e++)t.collapse(Ext.fly(n[e]).next(),!1,!0);i.refreshSize()},onGroupChange:function(){var e,t,i,n=this,r=n.getGroupField();n.hideGroupedHeader&&(n.lastGroupField&&(e=n.getMenuItem(n.lastGroupField),e&&e.setChecked(!0)),r&&(t=n.view.headerCt.getVisibleGridColumns(),i=1===t.length&&t[0].dataIndex==r,e=n.getMenuItem(r),e&&!i&&e.setChecked(!1))),n.refreshIf(),n.lastGroupField=r},getMenuItem:function(e){var t=this.view,i=t.headerCt.down("gridcolumn[dataIndex="+e+"]"),n=t.headerCt.getMenu();return i?n.down("menuitem[headerId="+i.id+"]"):null},onGroupClick:function(e,t,i,n){var r=this;r.collapsible&&(r.collapsedState[i]?r.expand(i):r.collapse(i))},getMetaRowTplFragments:function(){return{isRow:this.isRow,closeRow:this.closeRow}},isRow:function(){return"<tpl if=\"typeof rows === 'undefined'\">"},closeRow:function(){return"</tpl>"},mutateMetaRowTpl:function(e){e.unshift("{[this.isRow()]}"),e.push("{[this.closeRow()]}")},getAdditionalData:function(e,t,i,n){var r,o=this.view,a=o.headerCt,s=a.items.getAt(0),l={};return s&&(r=s.id+"-tdAttr",l[r]=this.indentByDepth(e)+" "+(n[r]?n[r]:""),l.collapsed="true",l.data=i.getData()),l},getGroupRows:function(e,t,i,n){var r,o,a=this,s=e.children,l=e.rows=[],d=a.view,u=a.getGroupedHeader(),c=a.getGroupField(),h=-1,g=t.length;for(d.store.buffered&&(a.collapsible=!1),e.viewId=d.id,r=0;r<g;r++)o=t[r],o.get(c)==e.name&&(h=r),Ext.Array.indexOf(s,o)!=-1&&l.push(Ext.apply(i[r],{depth:1}));return e.groupField=c,e.groupHeaderId=a.getGroupHeaderId(e.name),e.groupBodyId=a.getGroupBodyId(e.name),e.fullWidth=n,e.columnName=u?u.text:c,e.groupValue=e.name,u&&h>-1&&(e.name=e.renderedValue=i[h][u.id]),a.collapsedState[e.name]?(e.collapsedCls=a.collapsedCls,e.hdCollapsedCls=a.hdCollapsedCls):e.collapsedCls=e.hdCollapsedCls="",a.collapsible?e.collapsibleClass=a.hdCollapsibleCls:e.collapsibleClass="",e},getGroupHeaderId:function(e){return this.view.id+"-hd-"+e},getGroupBodyId:function(e){return this.view.id+"-bd-"+e},getGroupName:function(e){var t,i=this;return(t=Ext.fly(e).findParent(i.eventSelector))?t.id.split(this.view.id+"-hd-")[1]:(t=Ext.fly(e).findParent(i.bodySelector),t?t.id.split(this.view.id+"-bd-")[1]:void 0)},collectData:function(e,t,i,n,r){var o,a,s,l,d,u=this,c=u.view.store,h=u.collapsedState;if(u.startCollapsed&&(u.startCollapsed=!1,o=!0),!u.disabled&&c.isGrouped())for(r.rows=s=c.getGroups(),l=s.length,a=0;a<l;a++)d=s[a],o&&(h[d.name]=!0),u.getGroupRows(d,e,t,n);return r},getFireEventArgs:function(e,t,i,n){return[e,t,i,this.getGroupName(i),n]}}),Ext.define("Ext.grid.feature.RowBody",{extend:"Ext.grid.feature.Feature",alias:"feature.rowbody",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowBodyTrCls:Ext.baseCSSPrefix+"grid-rowbody-tr",rowBodyTdCls:Ext.baseCSSPrefix+"grid-cell-rowbody",rowBodyDivCls:Ext.baseCSSPrefix+"grid-rowbody",eventPrefix:"rowbody",eventSelector:"."+Ext.baseCSSPrefix+"grid-rowbody-tr",getRowBody:function(e){return['<tr class="'+this.rowBodyTrCls+' {rowBodyCls}">','<td class="'+this.rowBodyTdCls+'" colspan="{rowBodyColspan}">','<div class="'+this.rowBodyDivCls+'">{rowBody}</div>',"</td>","</tr>"].join("")},getMetaRowTplFragments:function(){return{getRowBody:this.getRowBody,rowBodyTrCls:this.rowBodyTrCls,rowBodyTdCls:this.rowBodyTdCls,rowBodyDivCls:this.rowBodyDivCls}},mutateMetaRowTpl:function(e){e.push("{[this.getRowBody(values)]}")},getAdditionalData:function(e,t,i,n){var r=this.view.headerCt,o=r.getColumnCount();return{rowBody:"",rowBodyCls:this.rowBodyCls,rowBodyColspan:o}}}),Ext.define("Ext.grid.feature.RowWrap",{extend:"Ext.grid.feature.Feature",alias:"feature.rowwrap",hasFeatureEvent:!1,init:function(){this.disabled||this.enable()},getRowSelector:function(){return"tr:has(> "+this.view.cellSelector+")"},enable:function(){var e=this,t=e.view;e.callParent(),e.savedRowSelector=t.rowSelector,t.rowSelector=e.getRowSelector(),t.getComponentLayout().getColumnSelector=e.getColumnSelector},disable:function(){var e=this,t=e.view,i=e.savedRowSelector;e.callParent(),i&&(t.rowSelector=i),delete e.savedRowSelector},mutateMetaRowTpl:function(e){var t=Ext.baseCSSPrefix;e[0]=e[0].replace(t+"grid-row",""),e[0]=e[0].replace("{[this.embedRowCls()]}",""),e.unshift('<table class="'+t+"grid-table "+t+'grid-table-resizer" style="width: {[this.embedFullWidth()]}px;">'),e.unshift('<tr class="'+t+'grid-row {[this.embedRowCls()]}"><td colspan="{[this.embedColSpan()]}"><div class="'+t+'grid-rowwrap-div">'),e.push("</table>"),e.push("</div></td></tr>")},embedColSpan:function(){return"{colspan}"},embedFullWidth:function(){return"{fullWidth}"},getAdditionalData:function(e,t,i,n){for(var r,o,a,s=this.view.headerCt,l=s.getColumnCount(),d=s.getFullWidth(),u=s.query("gridcolumn"),c=u.length,h=0,g={colspan:l,fullWidth:d};h<c;h++)r=u[h].id,o=r+"-tdCls",a=Ext.baseCSSPrefix+"grid-col-resizer-"+r,g[o]=a+" "+(n[o]?n[o]:""),g[r+"-tdAttr"]=' style="width: '+(u[h].hidden?0:u[h].getDesiredWidth())+'px;" ',n[r+"-tdAttr"]&&(g[r+"-tdAttr"]+=n[r+"-tdAttr"]);return g},getMetaRowTplFragments:function(){return{embedFullWidth:this.embedFullWidth,embedColSpan:this.embedColSpan}},getColumnSelector:function(e){var t=Ext.baseCSSPrefix+"grid-col-resizer-"+e.id;return"th."+t+",td."+t}}),Ext.define("Ext.grid.plugin.DragDrop",{extend:"Ext.AbstractPlugin",alias:"plugin.gridviewdragdrop",uses:["Ext.view.DragZone","Ext.grid.ViewDropZone"],dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:!0,enableDrag:!0,init:function(e){e.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},enable:function(){var e=this;e.dragZone&&e.dragZone.unlock(),e.dropZone&&e.dropZone.unlock(),e.callParent()},disable:function(){var e=this;e.dragZone&&e.dragZone.lock(),e.dropZone&&e.dropZone.lock(),e.callParent()},onViewRender:function(e){var t=this;t.enableDrag&&(t.dragZone=new Ext.view.DragZone({view:e,ddGroup:t.dragGroup||t.ddGroup,dragText:t.dragText})),t.enableDrop&&(t.dropZone=new Ext.grid.ViewDropZone({view:e,ddGroup:t.dropGroup||t.ddGroup}))}}),Ext.define("Ext.grid.plugin.HeaderResizer",{extend:"Ext.AbstractPlugin",requires:["Ext.dd.DragTracker","Ext.util.Region"],alias:"plugin.gridheaderresizer",disabled:!1,config:{dynamic:!1},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1e3,wResizeCursor:"col-resize",eResizeCursor:"col-resize",init:function(e){this.headerCt=e,e.on("render",this.afterHeaderRender,this,{single:!0})},destroy:function(){this.tracker&&this.tracker.destroy()},afterHeaderRender:function(){var e=this.headerCt,t=e.el;e.mon(t,"mousemove",this.onHeaderCtMouseMove,this),this.tracker=new Ext.dd.DragTracker({disabled:this.disabled,onBeforeStart:Ext.Function.bind(this.onBeforeStart,this),onStart:Ext.Function.bind(this.onStart,this),onDrag:Ext.Function.bind(this.onDrag,this),onEnd:Ext.Function.bind(this.onEnd,this),tolerance:3,autoStart:300,el:t})},onHeaderCtMouseMove:function(e,t){var i,n,r,o,a,s,l=this;l.headerCt.dragging?l.activeHd&&(l.activeHd.el.dom.style.cursor="",delete l.activeHd):(n=e.getTarget("."+l.colHeaderCls,3,!0),n&&(r=Ext.getCmp(n.id),r.isOnLeftEdge(e)?(o=r.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"),o&&(s=l.headerCt.up("tablepanel"),a=o.up("tablepanel"),a===s||s.ownerCt.isXType("tablepanel")&&s.ownerCt.view.lockedGrid===a||(o=null))):o=r.isOnRightEdge(e)?r:null,o?(o.isGroupHeader&&(i=o.getGridColumns(),o=i[i.length-1]),!o||o.fixed||o.resizable===!1||l.disabled||(l.activeHd=o,r.el.dom.style.cursor=l.eResizeCursor)):(r.el.dom.style.cursor="",delete l.activeHd)))},onBeforeStart:function(e){var t=e.getTarget();return this.dragHd=this.activeHd,!this.dragHd||Ext.fly(t).hasCls(Ext.baseCSSPrefix+"column-header-trigger")||this.headerCt.dragging?(this.headerCt.dragging=!1,!1):(this.tracker.constrainTo=this.getConstrainRegion(),!0)},getConstrainRegion:function(){var e,t=this,i=t.dragHd.el,n=Ext.util.Region.getRegion(i);return t.headerCt.forceFit&&(e=t.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])")),n.adjust(0,t.headerCt.forceFit?e?e.getWidth()-t.minColWidth:0:t.maxColWidth-i.getWidth(),0,t.minColWidth)},onStart:function(e){var t,i,n,r,o,a,s,l,d,u,c,h,g=this,p=g.dragHd,f=p.el,m=f.getWidth(),x=g.headerCt,y=e.getTarget();g.dragHd&&!Ext.fly(y).hasCls(Ext.baseCSSPrefix+"column-header-trigger")&&(x.dragging=!0),g.origWidth=m,g.dynamic||(t=f.getXY(),i=x.up("[scrollerOwner]"),n=g.dragHd.up(":not([isGroupHeader])"),r=n.up(),o=i.getLhsMarker(),a=i.getRhsMarker(),s=a.parent(),l=s.getLocalX(),d=s.getLocalY(),u=s.translatePoints(t),c=r.body.getHeight()+x.getHeight(),h=u.top-d,o.setTop(h),a.setTop(h),o.setHeight(c),a.setHeight(c),o.setLeft(u.left-l),a.setLeft(u.left+m-l))},onDrag:function(e){if(this.dynamic)this.doResize();else{var t=this.tracker.getXY("point"),i=this.headerCt.up("[scrollerOwner]"),n=i.getRhsMarker(),r=n.parent(),o=r.translatePoints(t),a=r.getLocalX();n.setLeft(o.left-a)}},onEnd:function(e){if(this.headerCt.dragging=!1,this.dragHd){if(!this.dynamic){var t=(this.dragHd,this.headerCt.up("[scrollerOwner]")),i=t.getLhsMarker(),n=t.getRhsMarker(),r=-9999;i.setLeft(r),n.setLeft(r)}this.doResize()}},doResize:function(){if(this.dragHd){var e,t=this.dragHd,i=this.tracker.getOffset("point");t.flex&&delete t.flex,Ext.suspendLayouts(),t.setWidth(this.origWidth+i[0]),this.headerCt.forceFit&&(e=t.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"),e&&(delete e.flex,e.setWidth(e.getWidth()-i[0]))),Ext.resumeLayouts(!0)}},disable:function(){this.disabled=!0,this.tracker&&this.tracker.disable()},enable:function(){this.disabled=!1,this.tracker&&this.tracker.enable()}}),Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",constructor:function(e,t){this.layout=e,Ext.apply(this,t)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,finishedLayout:Ext.emptyFn,completeLayout:function(e){var t,i=this,n=e.state.boxPlan;n&&n.tooNarrow?(t=i.handleOverflow(e),t&&t.reservedSpace&&i.layout.publishInnerCtSize(e,t.reservedSpace)):i.clearOverflow()},onRemove:Ext.emptyFn,getItem:function(e){return this.layout.owner.getComponent(e)},getOwnerType:function(e){var t;return t=e.isToolbar?"toolbar":e.isTabBar?"tabbar":e.isMenu?"menu":e.getXType()},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""}}),Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:!0,constructor:function(e,t){var i=this;i.panel=e,i.id=i.panel.id+"-ddproxy",Ext.apply(i,t)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var e=this;e.ghost&&(e.proxy&&(e.proxy.remove(),delete e.proxy),e.panel.unghost(null,e.moveOnDrag),delete e.ghost)},show:function(){var e,t=this;t.ghost||(e=t.panel.getSize(),t.panel.el.setVisibilityMode(Ext.Element.DISPLAY),t.ghost=t.panel.ghost(),t.insertProxy&&(t.proxy=t.panel.el.insertSibling({cls:Ext.baseCSSPrefix+"panel-dd-spacer"}),t.proxy.setSize(e)))},repair:function(e,t,i){this.hide(),Ext.callback(t,i||this)},moveProxy:function(e,t){this.proxy&&e.insertBefore(this.proxy.dom,t)}}),Ext.define("Ext.resizer.Resizer",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.resizer.ResizeTracker","Ext.Component"],alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",overCls:Ext.baseCSSPrefix+"resizable-over",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",dynamic:!0,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1e4,maxWidth:1e4,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},constructor:function(e){var t,i,n,r,o,a,s,l,d,u,c=this,h=c.handles,g=0,p=[];for(c.addEvents("beforeresize","resizedrag","resize"),(Ext.isString(e)||Ext.isElement(e)||e.dom)&&(t=e,e=arguments[1]||{},e.target=t),c.mixins.observable.constructor.call(c,e),t=c.target,t?t.isComponent?(c.el=t.getEl(),t.minWidth&&(c.minWidth=t.minWidth),t.minHeight&&(c.minHeight=t.minHeight),t.maxWidth&&(c.maxWidth=t.maxWidth),t.maxHeight&&(c.maxHeight=t.maxHeight),t.floating&&(c.hasOwnProperty("handles")||(c.handles="n ne e se s sw w nw"))):c.el=c.target=Ext.get(t):c.target=c.el=Ext.get(c.el),n=c.el.dom.tagName.toUpperCase(),"TEXTAREA"!=n&&"IMG"!=n&&"TABLE"!=n||(c.originalTarget=c.target,i=c.el,u=i.getBox(),c.target=c.el=c.el.wrap({cls:c.wrapCls,id:c.el.id+"-rzwrap",style:i.getStyles("margin-top","margin-bottom")}),c.el.setPositioning(i.getPositioning()),i.clearPositioning(),c.el.setBox(u),i.setStyle("position","absolute")),c.el.position(),c.pinned&&c.el.addCls(c.pinnedCls),c.resizeTracker=new Ext.resizer.ResizeTracker({disabled:c.disabled,target:c.target,constrainTo:c.constrainTo,overCls:c.overCls,throttle:c.throttle,originalTarget:c.originalTarget,delegate:"."+c.handleCls,dynamic:c.dynamic,preserveRatio:c.preserveRatio,heightIncrement:c.heightIncrement,widthIncrement:c.widthIncrement,minHeight:c.minHeight,maxHeight:c.maxHeight,minWidth:c.minWidth,maxWidth:c.maxWidth}),c.resizeTracker.on({mousedown:c.onBeforeResize,drag:c.onResize,dragend:c.onResizeEnd,scope:c}),"all"==c.handles&&(c.handles="n s e w ne nw se sw"),h=c.handles=c.handles.split(/ |\s*?[,;]\s*?/),o=c.possiblePositions,a=h.length,r=c.handleCls+" "+(c.target.isComponent?c.target.baseCls+"-handle ":"")+c.handleCls+"-",l=Ext.isIE6?' style="height:'+c.el.getHeight()+'px"':"";g<a;g++)h[g]&&o[h[g]]&&(s=o[h[g]],d="east"===s||"west"===s?l:"",p.push('<div id="'+c.el.id+"-"+s+'-handle" class="'+r+s+" "+Ext.baseCSSPrefix+'unselectable"'+d+"></div>"));for(Ext.DomHelper.append(c.el,p.join("")),g=0;g<a;g++)h[g]&&o[h[g]]&&(s=o[h[g]],c[s]=c.el.getById(c.el.id+"-"+s+"-handle"),c[s].region=s,c[s].unselectable(),c.transparent&&c[s].setOpacity(0));Ext.isNumber(c.width)&&(c.width=Ext.Number.constrain(c.width,c.minWidth,c.maxWidth)),Ext.isNumber(c.height)&&(c.height=Ext.Number.constrain(c.height,c.minHeight,c.maxHeight)),null===c.width&&null===c.height||(c.originalTarget&&(c.originalTarget.setWidth(c.width),c.originalTarget.setHeight(c.height)),c.resizeTo(c.width,c.height)),c.forceHandlesHeight()},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(e,t){var i=this.el.getBox();return this.fireEvent("beforeresize",this,i.width,i.height,t)},onResize:function(e,t){var i=this,n=i.el.getBox();return i.forceHandlesHeight(),i.fireEvent("resizedrag",i,n.width,n.height,t)},onResizeEnd:function(e,t){var i=this,n=i.el.getBox();return i.forceHandlesHeight(),i.fireEvent("resize",i,n.width,n.height,t)},resizeTo:function(e,t){var i=this;i.target.setSize(e,t),i.fireEvent("resize",i,e,t,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){for(var e=0,t=this.handles,i=t.length,n=this.possiblePositions;e<i;e++)this[n[t[e]]].remove()},forceHandlesHeight:function(){var e,t=this;Ext.isIE6&&(e=t.east,e&&e.setHeight(t.el.getHeight()),e=t.west,e&&e.setHeight(t.el.getHeight()),t.el.repaint())}}),Ext.define("Ext.resizer.ResizeTracker",{extend:"Ext.dd.DragTracker",dynamic:!0,preserveRatio:!1,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(e){var t,i,n,r=this;e.el||(e.target.isComponent?r.el=e.target.getEl():r.el=e.target),
this.callParent(arguments),r.preserveRatio&&r.minWidth&&r.minHeight&&(t=r.minWidth/r.el.getWidth(),i=r.minHeight/r.el.getHeight(),i>t?r.minWidth=r.el.getWidth()*i:r.minHeight=r.el.getHeight()*t),r.throttle&&(n=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(r,arguments)},r.throttle),r.resize=function(e,t,i){i?Ext.resizer.ResizeTracker.prototype.resize.apply(r,arguments):n.apply(null,arguments)})},onBeforeStart:function(e){this.startBox=this.el.getBox()},getDynamicTarget:function(){var e=this,t=e.target;return e.dynamic?t:(e.proxy||(e.proxy=e.createProxy(t)),e.proxy.show(),e.proxy)},createProxy:function(e){var t,i,n=this.proxyCls;return e.isComponent?t=e.getProxy().addCls(n):(i=Ext.getBody(),Ext.scopeResetCSS&&(i=Ext.getBody().createChild({cls:Ext.resetCls})),t=e.createProxy({tag:"div",cls:n,id:e.id+"-rzproxy"},i)),t.removeCls(Ext.baseCSSPrefix+"proxy-el"),t},onStart:function(e){this.activeResizeHandle=Ext.get(this.getDragTarget().id),this.dynamic||this.resize(this.startBox,{horizontal:"none",vertical:"none"})},onDrag:function(e){(this.dynamic||this.proxy)&&this.updateDimensions(e)},updateDimensions:function(e,t){var i,n,r,o,a,s,l,d,u,c=this,h=c.activeResizeHandle.region,g=c.getOffset(c.constrainTo?"dragTarget":null),p=c.startBox,f=0,m=0,x=0,y=0,v=g[0]<0?"right":"left",E=g[1]<0?"down":"up";switch(h){case"south":m=g[1],s=2;break;case"north":m=-g[1],y=-m,s=2;break;case"east":f=g[0],s=1;break;case"west":f=-g[0],x=-f,s=1;break;case"northeast":m=-g[1],y=-m,f=g[0],a=[p.x,p.y+p.height],s=3;break;case"southeast":m=g[1],f=g[0],a=[p.x,p.y],s=3;break;case"southwest":f=-g[0],x=-f,m=g[1],a=[p.x+p.width,p.y],s=3;break;case"northwest":m=-g[1],y=-m,f=-g[0],x=-f,a=[p.x+p.width,p.y+p.height],s=3}if(l={width:p.width+f,height:p.height+m,x:p.x+x,y:p.y+y},n=Ext.Number.snap(l.width,c.widthIncrement),r=Ext.Number.snap(l.height,c.heightIncrement),n!=l.width||r!=l.height){switch(h){case"northeast":l.y-=r-l.height;break;case"north":l.y-=r-l.height;break;case"southwest":l.x-=n-l.width;break;case"west":l.x-=n-l.width;break;case"northwest":l.x-=n-l.width,l.y-=r-l.height}l.width=n,l.height=r}l.width<c.minWidth||l.width>c.maxWidth?(l.width=Ext.Number.constrain(l.width,c.minWidth,c.maxWidth),x&&(l.x=p.x+(p.width-l.width))):c.lastX=l.x,l.height<c.minHeight||l.height>c.maxHeight?(l.height=Ext.Number.constrain(l.height,c.minHeight,c.maxHeight),y&&(l.y=p.y+(p.height-l.height))):c.lastY=l.y,(c.preserveRatio||e.shiftKey)&&(i=c.startBox.width/c.startBox.height,d=Math.min(Math.max(c.minHeight,l.width/i),c.maxHeight),u=Math.min(Math.max(c.minWidth,l.height*i),c.maxWidth),1==s?l.height=d:2==s?l.width=u:(o=Math.abs(a[0]-this.lastXY[0])/Math.abs(a[1]-this.lastXY[1]),o>i?l.height=d:l.width=u,"northeast"==h?l.y=p.y-(l.height-p.height):"northwest"==h?(l.y=p.y-(l.height-p.height),l.x=p.x-(l.width-p.width)):"southwest"==h&&(l.x=p.x-(l.width-p.width)))),0===m&&(E="none"),0===f&&(v="none"),c.resize(l,{horizontal:v,vertical:E},t)},getResizeTarget:function(e){return e?this.target:this.getDynamicTarget()},resize:function(e,t,i){var n=this.getResizeTarget(i);n.isComponent?(n.setSize(e.width,e.height),n.floating&&n.setPagePosition(e.x,e.y)):n.setBox(e),n=this.originalTarget,n&&(this.dynamic||i)&&(n.isComponent?(n.setSize(e.width,e.height),n.floating&&n.setPagePosition(e.x,e.y)):n.setBox(e))},onEnd:function(e){this.updateDimensions(e,!0),this.proxy&&this.proxy.hide()}}),Ext.define("Ext.resizer.SplitterTracker",{extend:"Ext.dd.DragTracker",requires:["Ext.util.Region"],enabled:!0,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var e;e=this.overlay=Ext.getBody().createChild({cls:this.overlayCls,html:"&#160;"}),e.unselectable(),e.setSize(Ext.Element.getViewWidth(!0),Ext.Element.getViewHeight(!0)),e.show()},getPrevCmp:function(){var e=this.getSplitter();return e.previousSibling()},getNextCmp:function(){var e=this.getSplitter();return e.nextSibling()},onBeforeStart:function(e){var t,i=this,n=i.getPrevCmp(),r=i.getNextCmp(),o=i.getSplitter().collapseEl,a=e.getTarget();return(!o||a!==i.getSplitter().collapseEl.dom)&&(!r.collapsed&&!n.collapsed&&(i.prevBox=n.getEl().getBox(),i.nextBox=r.getEl().getBox(),i.constrainTo=t=i.calculateConstrainRegion(),!!t&&(i.createDragOverlay(),t)))},onStart:function(e){var t=this.getSplitter();t.addCls(t.baseCls+"-active")},calculateConstrainRegion:function(){var e,t,i=this,n=i.getSplitter(),r=n.getWidth(),o=n.defaultSplitMin,a=n.orientation,s=i.prevBox,l=i.getPrevCmp(),d=i.nextBox,u=i.getNextCmp();return"vertical"===a?(e=new Ext.util.Region(s.y,(l.maxWidth?s.x+l.maxWidth:d.right-(u.minWidth||o))+r,s.bottom,s.x+(l.minWidth||o)),t=new Ext.util.Region(d.y,d.right-(u.minWidth||o),d.bottom,(u.maxWidth?d.right-u.maxWidth:s.x+(s.minWidth||o))-r)):(e=new Ext.util.Region(s.y+(l.minHeight||o),s.right,(l.maxHeight?s.y+l.maxHeight:d.bottom-(u.minHeight||o))+r,s.x),t=new Ext.util.Region((u.maxHeight?d.bottom-u.maxHeight:s.y+(l.minHeight||o))-r,d.right,d.bottom-(u.minHeight||o),d.x)),e.intersect(t)},performResize:function(e,t){for(var i,n,r=this,o=r.getSplitter(),a=o.orientation,s=r.getPrevCmp(),l=r.getNextCmp(),d=o.ownerCt,u=d.query(">[flex]"),c=u.length,h=0,g=0;h<c;h++)n=u[h].getWidth(),g+=n,u[h].flex=n;t=t||r.getOffset("dragTarget"),"vertical"===a?(t=t[0],i="width"):(i="height",t=t[1]),s&&(n=r.prevBox[i]+t,s.flex?s.flex=n:s[i]=n),l&&(n=r.nextBox[i]-t,l.flex?l.flex=n:l[i]=n),d.updateLayout()},endDrag:function(){var e=this;e.overlay&&(e.overlay.remove(),delete e.overlay),e.callParent(arguments)},onEnd:function(e){var t=this,i=t.getSplitter();i.removeCls(i.baseCls+"-active"),t.performResize(e,t.getOffset("dragTarget"))},onDrag:function(e){var t=this,i=t.getOffset("dragTarget"),n=t.getSplitter(),r=n.getEl(),o=n.orientation;"vertical"===o?r.setX(t.startRegion.left+i[0]):r.setY(t.startRegion.top+i[1])},getSplitter:function(){return this.splitter}}),Ext.define("Ext.slider.Thumb",{requires:["Ext.dd.DragTracker","Ext.util.Format"],topZIndex:1e4,constructor:function(e){var t=this;Ext.apply(t,e||{},{cls:Ext.baseCSSPrefix+"slider-thumb",constrain:!1}),t.callParent([e])},render:function(){var e=this;e.el=e.slider.innerEl.insertFirst(e.getElConfig()),e.onRender()},onRender:function(){this.disabled&&this.disable(),this.initEvents()},getElConfig:function(){var e=this,t=e.slider,i={};return i[t.vertical?"bottom":"left"]=t.calculateThumbPosition(t.normalizeValue(e.value))+"%",{style:i,id:this.id,cls:this.cls}},move:function(e,t){var i,n,r=this.el,o=this.slider.vertical?"bottom":"left";e+="%",t?(i={},i[o]=e,Ext.supports.GetPositionPercentage||(n={},n[o]=r.dom.style[o]),new Ext.fx.Anim({target:r,duration:350,from:n,to:i})):r.dom.style[o]=e},bringToFront:function(){this.el.setStyle("zIndex",this.topZIndex)},sendToBack:function(){this.el.setStyle("zIndex","")},enable:function(){var e=this;e.disabled=!1,e.el&&e.el.removeCls(e.slider.disabledCls)},disable:function(){var e=this;e.disabled=!0,e.el&&e.el.addCls(e.slider.disabledCls)},initEvents:function(){var e=this,t=e.el;e.tracker=new Ext.dd.DragTracker({onBeforeStart:Ext.Function.bind(e.onBeforeDragStart,e),onStart:Ext.Function.bind(e.onDragStart,e),onDrag:Ext.Function.bind(e.onDrag,e),onEnd:Ext.Function.bind(e.onDragEnd,e),tolerance:3,autoStart:300,overCls:Ext.baseCSSPrefix+"slider-thumb-over"}),e.tracker.initEl(t)},onBeforeDragStart:function(e){return!this.disabled&&(this.slider.promoteThumb(this),!0)},onDragStart:function(e){var t=this;t.el.addCls(Ext.baseCSSPrefix+"slider-thumb-drag"),t.dragging=t.slider.dragging=!0,t.dragStartValue=t.value,t.slider.fireEvent("dragstart",t.slider,e,t)},onDrag:function(e){var t,i,n=this,r=n.slider,o=n.index,a=n.getValueFromTracker();void 0!==a&&(n.constrain&&(t=r.thumbs[o+1],i=r.thumbs[o-1],void 0!==i&&a<=i.value&&(a=i.value),void 0!==t&&a>=t.value&&(a=t.value)),r.setValue(o,a,!1),r.fireEvent("drag",r,e,n))},getValueFromTracker:function(){var e=this.slider,t=e.getTrackpoint(this.tracker.getXY());if(void 0!==t)return e.reversePixelValue(t)},onDragEnd:function(e){var t=this,i=t.slider,n=t.value;t.el.removeCls(Ext.baseCSSPrefix+"slider-thumb-drag"),t.dragging=i.dragging=!1,i.fireEvent("dragend",i,e),t.dragStartValue!=n&&i.fireEvent("changecomplete",i,n,t)},destroy:function(){Ext.destroy(this.tracker)}}),Ext.define("Ext.tree.plugin.TreeViewDragDrop",{extend:"Ext.AbstractPlugin",alias:"plugin.treeviewdragdrop",uses:["Ext.tree.ViewDragZone","Ext.tree.ViewDropZone"],dragText:"{0} selected node{1}",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,ddGroup:"TreeDD",expandDelay:1e3,enableDrop:!0,enableDrag:!0,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,nodeHighlightOnRepair:Ext.enableFx,init:function(e){e.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onViewRender:function(e){var t=this;t.enableDrag&&(t.dragZone=new Ext.tree.ViewDragZone({view:e,ddGroup:t.dragGroup||t.ddGroup,dragText:t.dragText,repairHighlightColor:t.nodeHighlightColor,repairHighlight:t.nodeHighlightOnRepair})),t.enableDrop&&(t.dropZone=new Ext.tree.ViewDropZone({view:e,ddGroup:t.dropGroup||t.ddGroup,allowContainerDrops:t.allowContainerDrops,appendOnly:t.appendOnly,allowParentInserts:t.allowParentInserts,expandDelay:t.expandDelay,dropHighlightColor:t.nodeHighlightColor,dropHighlight:t.nodeHighlightOnDrop}))}}),Ext.define("Ext.util.Animate",{uses:["Ext.fx.Manager","Ext.fx.Anim"],animate:function(e){var t=this;return Ext.fx.Manager.hasFxBlock(t.id)?t:(Ext.fx.Manager.queueFx(new Ext.fx.Anim(t.anim(e))),this)},anim:function(e){if(!Ext.isObject(e))return!!e&&{};var t=this;return e.stopAnimation&&t.stopAnimation(),Ext.applyIf(e,Ext.fx.Manager.getFxDefaults(t.id)),Ext.apply({target:t,paused:!0},e)},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){return Ext.fx.Manager.stopAnimation(this.id),this},syncFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!0}),this},sequenceFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!1}),this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},function(){Ext.applyIf(Ext.Element.prototype,this.prototype),Ext.CompositeElementLite.importElementMethods()}),Ext.define("Ext.util.ClickRepeater",{extend:"Ext.util.Observable",constructor:function(e,t){var i=this;i.el=Ext.get(e),i.el.unselectable(),Ext.apply(i,t),i.callParent(),i.addEvents("mousedown","click","mouseup"),i.disabled||(i.disabled=!0,i.enable()),i.handler&&i.on("click",i.handler,i.scope||i)},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){this.disabled&&(this.el.on("mousedown",this.handleMouseDown,this),!Ext.isIE||Ext.isStrict&&Ext.isIE9||this.el.on("dblclick",this.handleDblClick,this),(this.preventDefault||this.stopDefault)&&this.el.on("click",this.eventOptions,this)),this.disabled=!1},disable:function(e){!e&&this.disabled||(clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.el.removeAllListeners()),this.disabled=!0},setDisabled:function(e){this[e?"disable":"enable"]()},eventOptions:function(e){this.preventDefault&&e.preventDefault(),this.stopDefault&&e.stopEvent()},destroy:function(){this.disable(!0),Ext.destroy(this.el),this.clearListeners()},handleDblClick:function(e){clearTimeout(this.timer),this.el.blur(),this.fireEvent("mousedown",this,e),this.fireEvent("click",this,e)},handleMouseDown:function(e){clearTimeout(this.timer),this.el.blur(),this.pressedCls&&this.el.addCls(this.pressedCls),this.mousedownTime=new Date,Ext.getDoc().on("mouseup",this.handleMouseUp,this),this.el.on("mouseout",this.handleMouseOut,this),this.fireEvent("mousedown",this,e),this.fireEvent("click",this,e),this.accelerate&&(this.delay=400),e=new Ext.EventObjectImpl(e),this.timer=Ext.defer(this.click,this.delay||this.interval,this,[e])},click:function(e){this.fireEvent("click",this,e),this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12e3):this.interval,this,[e])},easeOutExpo:function(e,t,i,n){return e==n?t+i:i*(-Math.pow(2,-10*e/n)+1)+t},handleMouseOut:function(){clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this),this.pressedCls&&this.el.addCls(this.pressedCls),this.click()},handleMouseUp:function(e){clearTimeout(this.timer),this.el.un("mouseover",this.handleMouseReturn,this),this.el.un("mouseout",this.handleMouseOut,this),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.pressedCls&&this.el.removeCls(this.pressedCls),this.fireEvent("mouseup",this,e)}}),Ext.define("Ext.util.ComponentDragger",{extend:"Ext.dd.DragTracker",autoStart:500,constructor:function(e,t){this.comp=e,this.initialConstrainTo=t.constrainTo,this.callParent([t])},onStart:function(e){var t=this,i=t.comp;this.startPosition=i.el.getXY(),i.ghost&&!i.liveDrag&&(t.proxy=i.ghost(),t.dragTarget=t.proxy.header.el),(t.constrain||t.constrainDelegate)&&(t.constrainTo=t.calculateConstrainRegion()),i.beginDrag&&i.beginDrag()},calculateConstrainRegion:function(){var e,t,i=this,n=i.comp,r=i.initialConstrainTo,o=i.proxy?i.proxy.el:n.el,a=i.constrainDelegate||!o.shadow||o.shadowDisabled?0:o.shadow.getShadowSize();return r instanceof Ext.util.Region||(r=Ext.fly(r).getViewRegion()),a&&r.adjust(a[0],-a[1],-a[2],a[3]),i.constrainDelegate||(e=Ext.fly(i.dragTarget).getRegion(),t=o.getRegion(),r.adjust(e.top-t.top,e.right-t.right,e.bottom-t.bottom,e.left-t.left)),r},onDrag:function(e){var t=this,i=t.proxy&&!t.comp.liveDrag?t.proxy:t.comp,n=t.getOffset(t.constrain||t.constrainDelegate?"dragTarget":null);i.setPagePosition(t.startPosition[0]+n[0],t.startPosition[1]+n[1])},onEnd:function(e){var t=this.comp;this.proxy&&!t.liveDrag&&t.unghost(),t.endDrag&&t.endDrag()}}),Ext.define("Ext.util.Cookies",{singleton:!0,set:function(e,t){var i=arguments,n=arguments.length,r=n>2?i[2]:null,o=n>3?i[3]:"/",a=n>4?i[4]:null,s=n>5&&i[5];document.cookie=e+"="+escape(t)+(null===r?"":"; expires="+r.toGMTString())+(null===o?"":"; path="+o)+(null===a?"":"; domain="+a)+(s===!0?"; secure":"")},get:function(e){for(var t=e+"=",i=t.length,n=document.cookie.length,r=0,o=0;r<n;){if(o=r+i,document.cookie.substring(r,o)==t)return this.getCookieVal(o);if(r=document.cookie.indexOf(" ",r)+1,0===r)break}return null},clear:function(e,t){this.get(e)&&(t=t||"/",document.cookie=e+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path="+t)},getCookieVal:function(e){var t=document.cookie.indexOf(";",e);return t==-1&&(t=document.cookie.length),unescape(document.cookie.substring(e,t))}}),Ext.define("Ext.util.CSS",function(){var e=null,t=document,i=/(-[a-z])/gi,n=function(e,t){return t.charAt(1).toUpperCase()};return{singleton:!0,constructor:function(){this.rules={},this.initialized=!1},createStyleSheet:function(e,i){var n,r=t.getElementsByTagName("head")[0],o=t.createElement("style");if(o.setAttribute("type","text/css"),i&&o.setAttribute("id",i),Ext.isIE)r.appendChild(o),n=o.styleSheet,n.cssText=e;else{try{o.appendChild(t.createTextNode(e))}catch(t){o.cssText=e}r.appendChild(o),n=o.styleSheet?o.styleSheet:o.sheet||t.styleSheets[t.styleSheets.length-1]}return this.cacheStyleSheet(n),n},removeStyleSheet:function(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)},swapStyleSheet:function(e,t){var i,n=document;this.removeStyleSheet(e),i=n.createElement("link"),i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("id",e),i.setAttribute("href",t),n.getElementsByTagName("head")[0].appendChild(i)},refreshCache:function(){return this.getRules(!0)},cacheStyleSheet:function(t){e||(e={});try{for(var i,n,r,o=t.cssRules||t.rules,a=o.length-1;a>=0;--a)if(i=o[a].selectorText)for(i=i.split(","),r=i.length,n=0;n<r;n++)e[Ext.String.trim(i[n]).toLowerCase()]=o[a]}catch(e){}},getRules:function(i){if(null===e||i){e={};for(var n=t.styleSheets,r=0,o=n.length;r<o;r++)try{n[r].disabled||this.cacheStyleSheet(n[r])}catch(e){}}return e},getRule:function(e,t){var i,n=this.getRules(t);if(!Ext.isArray(e))return n[e.toLowerCase()];for(i=0;i<e.length;i++)if(n[e[i]])return n[e[i].toLowerCase()];return null},updateRule:function(e,t,r){var o,a;if(Ext.isArray(e)){for(a=0;a<e.length;a++)if(this.updateRule(e[a],t,r))return!0}else if(o=this.getRule(e))return o.style[t.replace(i,n)]=r,!0;return!1}}}()),Ext.define("Ext.util.Floating",{uses:["Ext.Layer","Ext.window.Window"],focusOnToFront:!0,shadow:"sides",constructor:function(e){var t=this;t.el=new Ext.Layer(Ext.apply({hideMode:t.hideMode,hidden:t.hidden,shadow:"undefined"!=typeof t.shadow?t.shadow:"sides",shadowOffset:t.shadowOffset,constrain:!1,shim:t.shim!==!1&&void 0},t.floating),e),t.floating=!0,t.registerWithOwnerCt()},registerWithOwnerCt:function(){var e=this;e.zIndexParent&&e.zIndexParent.unregisterFloatingItem(e),e.zIndexParent=e.up("[floating]"),e.setFloatParent(e.ownerCt),delete e.ownerCt,e.zIndexParent?e.zIndexParent.registerFloatingItem(e):Ext.WindowManager.register(e)},setFloatParent:function(e){var t=this;t.floatParent&&t.mun(t.floatParent,{hide:t.onFloatParentHide,show:t.onFloatParentShow,scope:t}),t.floatParent=e,e&&t.mon(t.floatParent,{hide:t.onFloatParentHide,show:t.onFloatParentShow,scope:t}),!t.constrain&&!t.constrainHeader||t.constrainTo||(t.constrainTo=e?e.getTargetEl():t.container)},onAfterFloatLayout:function(){this.syncShadow()},onFloatParentHide:function(){var e=this;e.hideOnParentHide!==!1&&e.isVisible()&&(e.hide(),e.showOnParentShow=!0)},onFloatParentShow:function(){this.showOnParentShow&&(delete this.showOnParentShow,this.show())},setZIndex:function(e){var t=this;return t.el.setZIndex(e),e+=10,t.floatingDescendants&&(e=100*Math.floor(t.floatingDescendants.setBase(e)/100)+1e4),e},doConstrain:function(e){var t,i=this,n=i.getConstrainVector(e);n&&(t=i.getPosition(!!i.floatParent),t[0]+=n[0],t[1]+=n[1],i.setPosition(t))},getConstrainVector:function(e){var t=this;if(t.constrain||t.constrainHeader)return e=e||t.floatParent&&t.floatParent.getTargetEl()||t.container||t.el.getScopeParent(),(t.constrainHeader?t.header.el:t.el).getConstrainVector(e)},alignTo:function(e,t,i){return this.setPagePosition(this.el.getAlignToXY(e.el||e,t,i)),this},toFront:function(e){var t=this;return t.zIndexParent&&t.bringParentToFront!==!1&&t.zIndexParent.toFront(!0),Ext.isDefined(e)||(e=!t.focusOnToFront),e&&(t.preventFocusOnActivate=!0),t.zIndexManager.bringToFront(t)&&(e||t.focus(!1,!0)),delete t.preventFocusOnActivate,t},setActive:function(e,t){var i=this;e?(i.el.shadow&&!i.maximized&&i.el.enableShadow(!0),i.modal&&!i.preventFocusOnActivate&&i.focus(!1,!0),i.fireEvent("activate",i)):(i.isWindow&&t&&t.isWindow&&i.el.disableShadow(),i.fireEvent("deactivate",i))},toBack:function(){return this.zIndexManager.sendToBack(this),this},center:function(){var e,t=this;return t.isVisible()?(e=t.el.getAlignToXY(t.container,"c-c"),t.setPagePosition(e)):t.needsCenter=!0,t},onFloatShow:function(){this.needsCenter&&this.center(),delete this.needsCenter},syncShadow:function(){this.floating&&this.el.sync(!0)},fitContainer:function(){var e=this,t=e.floatParent,i=t?t.getTargetEl():e.container;e.setSize(i.getViewSize(!1)),e.setPosition.apply(e,t?[0,0]:i.getXY())}}),Ext.define("Ext.util.History",{singleton:!0,alternateClassName:"Ext.History",mixins:{observable:"Ext.util.Observable"},useTopWindow:!0,fieldId:Ext.baseCSSPrefix+"history-field",iframeId:Ext.baseCSSPrefix+"history-frame",constructor:function(){var e=this;e.oldIEMode=Ext.isIE6||Ext.isIE7||!Ext.isStrict&&Ext.isIE8,e.iframe=null,e.hiddenField=null,e.ready=!1,e.currentToken=null,e.mixins.observable.constructor.call(e)},getHash:function(){var e=window.location.href,t=e.indexOf("#");return t>=0?e.substr(t+1):null},setHash:function(e){var t=this,i=t.useTopWindow?window.top:window;try{i.location.hash=e}catch(e){}},doSave:function(){this.hiddenField.value=this.currentToken},handleStateChange:function(e){this.currentToken=e,this.fireEvent("change",e)},updateIFrame:function(e){var t,i='<html><body><div id="state">'+Ext.util.Format.htmlEncode(e)+"</div></body></html>";try{return t=this.iframe.contentWindow.document,t.open(),t.write(i),t.close(),!0}catch(e){return!1}},checkIFrame:function(){var e,t,i,n,r=this,o=r.iframe.contentWindow;return o&&o.document?(e=o.document,t=e.getElementById("state"),i=t?t.innerText:null,n=r.getHash(),Ext.TaskManager.start({run:function(){var e=o.document,t=e.getElementById("state"),a=t?t.innerText:null,s=r.getHash();a!==i?(i=a,r.handleStateChange(a),r.setHash(a),n=a,r.doSave()):s!==n&&(n=s,r.updateIFrame(s))},interval:50,scope:r}),r.ready=!0,void r.fireEvent("ready",r)):void Ext.Function.defer(this.checkIFrame,10,this)},startUp:function(){var e,t=this;t.currentToken=t.hiddenField.value||this.getHash(),t.oldIEMode?t.checkIFrame():(e=t.getHash(),Ext.TaskManager.start({run:function(){var i=t.getHash();i!==e&&(e=i,t.handleStateChange(e),t.doSave())},interval:50,scope:t}),t.ready=!0,t.fireEvent("ready",t))},init:function(e,t){var i=this,n=Ext.DomHelper;return i.ready?void Ext.callback(e,t,[i]):Ext.isReady?(i.hiddenField=Ext.getDom(i.fieldId),i.hiddenField||(i.hiddenField=Ext.getBody().createChild({id:Ext.id(),tag:"form",cls:Ext.baseCSSPrefix+"hide-display",children:[{tag:"input",type:"hidden",id:i.fieldId}]},!1,!0).firstChild),i.oldIEMode&&(i.iframe=Ext.getDom(i.iframeId),i.iframe||(i.iframe=n.append(i.hiddenField.parentNode,{tag:"iframe",id:i.iframeId,src:Ext.SSL_SECURE_URL}))),i.addEvents("ready","change"),e&&i.on("ready",e,t,{single:!0}),void i.startUp()):void Ext.onReady(function(){i.init(e,t)})},add:function(e,t){var i=this;return t!==!1&&i.getToken()===e||(i.oldIEMode?i.updateIFrame(e):(i.setHash(e),!0))},back:function(){window.history.go(-1)},forward:function(){window.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}}),Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(e){var t=this;return 1!==arguments.length||"string"==typeof e||e.dom||e.tagName||e===document||e.isComponent?void t.legacyConstructor.apply(t,arguments):(Ext.apply(t,e),t.bindings=[],t.target.isComponent||(t.target=Ext.get(t.target)),t.binding?t.addBinding(t.binding):e.key&&t.addBinding(e),void t.enable())},legacyConstructor:function(e,t,i){var n=this;Ext.apply(n,{target:Ext.get(e),eventName:i||n.eventName,bindings:[]}),t&&n.addBinding(t),n.enable()},addBinding:function(e){var t,i,n,r,o,a=e.key,s=!1;if(Ext.isArray(e))for(r=0,o=e.length;r<o;r++)this.addBinding(e[r]);else{if(Ext.isString(a)){for(i=[],n=a.toUpperCase(),r=0,o=n.length;r<o;++r)i.push(n.charCodeAt(r));a=i,s=!0}if(Ext.isArray(a)||(a=[a]),!s)for(r=0,o=a.length;r<o;++r)t=a[r],Ext.isString(t)&&(a[r]=t.toUpperCase().charCodeAt(0));this.bindings.push(Ext.apply({keyCode:a},e))}},handleTargetEvent:function(){var e=/input|textarea/i;return function(t){var i,n,r,o,a,s=this;if(this.enabled){if(i=this.bindings,n=0,r=i.length,t=s.processEvent.apply(s||s.processEventScope,arguments),s.ignoreInputFields&&(o=t.target,a=o.contentEditable,e.test(o.tagName)||""===a||"true"===a))return;if(!t.getKey)return t;for(;n<r;++n)this.processBinding(i[n],t)}}}(),processEvent:function(e){return e},processBinding:function(e,t){if(this.checkModifiers(e,t)){var i,n,r=t.getKey(),o=e.fn||e.handler,a=e.scope||this,s=e.keyCode,l=e.defaultEventAction,d=new Ext.EventObjectImpl(t);for(i=0,n=s.length;i<n;++i)if(r===s[i]){o.call(a,r,t)!==!0&&l&&d[l]();break}}},checkModifiers:function(e,t){for(var i,n,r=["shift","ctrl","alt"],o=0,a=r.length;o<a;++o)if(n=r[o],i=e[n],void 0!==i&&i!==t[n+"Key"])return!1;return!0},on:function(e,t,i){var n,r,o,a;Ext.isObject(e)&&!Ext.isArray(e)?(n=e.key,r=e.shift,o=e.ctrl,a=e.alt):n=e,this.addBinding({key:n,shift:r,ctrl:o,alt:a,fn:t,scope:i})},isEnabled:function(){return this.enabled},enable:function(){var e=this;e.enabled||(e.target.on(e.eventName,e.handleTargetEvent,e),e.enabled=!0)},disable:function(){var e=this;e.enabled&&(e.target.removeListener(e.eventName,e.handleTargetEvent,e),e.enabled=!1)},setDisabled:function(e){e?this.disable():this.enable()},destroy:function(e){var t=this,i=t.target;t.bindings=[],t.disable(),e===!0&&(i.isComponent?i.destroy():i.remove()),delete t.target}}),Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",requires:["Ext.util.KeyMap"],statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(e){var t=this;return 2===arguments.length?void t.legacyConstructor.apply(t,arguments):void t.setConfig(e)},legacyConstructor:function(e,t){this.setConfig(Ext.apply({target:e},t))},setConfig:function(e){var t,i,n,r,o,a=this,s={target:e.target,ignoreInputFields:e.ignoreInputFields,eventName:a.getKeyEvent("forceKeyDown"in e?e.forceKeyDown:a.forceKeyDown,e.eventName)};a.map&&a.map.destroy(),e.processEvent&&(s.processEvent=e.processEvent,s.processEventScope=e.processEventScope||a),t=a.map=new Ext.util.KeyMap(s),i=Ext.util.KeyNav.keyOptions,n=e.scope||a;for(r in i)i.hasOwnProperty(r)&&(o=e[r])&&("function"==typeof o&&(o={handler:o,defaultAction:void 0!==e.defaultEventAction?e.defaultEventAction:a.defaultEventAction}),t.addBinding({key:i[r],handler:Ext.Function.bind(a.handleEvent,o.scope||n,o.handler||o.fn,!0),defaultEventAction:void 0!==o.defaultEventAction?o.defaultAction:a.defaultEventAction}));t.disable(),e.disabled||t.enable()},handleEvent:function(e,t,i){return i.call(this,t)},disabled:!1,defaultEventAction:"stopEvent",forceKeyDown:!1,eventName:"keypress",destroy:function(e){this.map.destroy(e),delete this.map},enable:function(){this.map.enable(),this.disabled=!1},disable:function(){this.map.disable(),this.disabled=!0},setDisabled:function(e){this.map.setDisabled(e),this.disabled=e},getKeyEvent:function(e,t){return e||Ext.EventManager.useKeyDown&&!t?"keydown":t||this.eventName}}),Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(e,t,i){var n=this,r=n.shared;return r||(r=n.shared=new n(e,i)),r.bind(e),r.setFixedWidth(i||"auto"),r.getSize(t)},destroy:function(){var e=this;Ext.destroy(e.shared),e.shared=null}},constructor:function(e,t){var i=this.measure=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"textmetrics"});this.el=Ext.get(e),i.position("absolute"),i.setLeftTop(-1e3,-1e3),i.hide(),t&&i.setWidth(t)},getSize:function(e){var t,i=this.measure;return i.update(e),t=i.getSize(),i.update(""),t},bind:function(e){var t=this;t.el=Ext.get(e),t.measure.setStyle(t.el.getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(e){this.measure.setWidth(e)},getWidth:function(e){return this.measure.dom.style.width="auto",this.getSize(e).width},getHeight:function(e){return this.getSize(e).height},destroy:function(){var e=this;e.measure.remove(),delete e.el,delete e.measure}},function(){Ext.Element.addMethods({getTextWidth:function(e,t,i){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.value(e,this.dom.innerHTML,!0)).width,t||0,i||1e6)}})}),Ext.define("Ext.ElementLoader",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.data.Connection","Ext.Ajax"],statics:{Renderer:{Html:function(e,t,i){return e.getTarget().update(t.responseText,i.scripts===!0),!0}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(e){var t,i=this;e=e||{},Ext.apply(i,e),i.setTarget(i.target),i.addEvents("beforeload","exception","load"),i.mixins.observable.constructor.call(i),i.autoLoad&&(t=i.autoLoad,t===!0&&(t={}),i.load(t))},setTarget:function(e){var t=this;e=Ext.get(e),t.target&&t.target!=e&&t.abort(),t.target=e},getTarget:function(){return this.target||null},abort:function(){var e=this.active;void 0!==e&&(Ext.Ajax.abort(e.request),e.mask&&this.removeMask(),delete this.active)},removeMask:function(){this.target.unmask()},addMask:function(e){this.target.mask(e===!0?null:e)},load:function(e){e=Ext.apply({},e);var t,i=this,n=(i.target,Ext.isDefined(e.loadMask)?e.loadMask:i.loadMask),r=Ext.apply({},e.params),o=Ext.apply({},e.ajaxOptions),a=e.callback||i.callback,s=e.scope||i.scope||i;Ext.applyIf(o,i.ajaxOptions),Ext.applyIf(e,o),Ext.applyIf(r,i.params),Ext.apply(r,i.baseParams),Ext.applyIf(e,{url:i.url}),Ext.apply(e,{scope:i,params:r,callback:i.onComplete}),i.fireEvent("beforeload",i,e)!==!1&&(n&&i.addMask(n),t=Ext.Ajax.request(e),i.active={request:t,options:e,mask:n,scope:s,callback:a,success:e.success||i.success,failure:e.failure||i.failure,renderer:e.renderer||i.renderer,scripts:Ext.isDefined(e.scripts)?e.scripts:i.scripts},i.setOptions(i.active,e))},setOptions:Ext.emptyFn,onComplete:function(e,t,i){var n=this,r=n.active,o=r.scope,a=n.getRenderer(r.renderer);t&&(t=a.call(n,n,i,r)!==!1),t?(Ext.callback(r.success,o,[n,i,e]),n.fireEvent("load",n,i,e)):(Ext.callback(r.failure,o,[n,i,e]),n.fireEvent("exception",n,i,e)),Ext.callback(r.callback,o,[n,t,i,e]),r.mask&&n.removeMask(),delete n.active},getRenderer:function(e){return Ext.isFunction(e)?e:this.statics().Renderer.Html},startAutoRefresh:function(e,t){var i=this;i.stopAutoRefresh(),i.autoRefresh=setInterval(function(){i.load(t)},e)},stopAutoRefresh:function(){clearInterval(this.autoRefresh),delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var e=this;e.stopAutoRefresh(),delete e.target,e.abort(),e.clearListeners()}}),Ext.define("Ext.ComponentLoader",{extend:"Ext.ElementLoader",statics:{Renderer:{Data:function(e,t,i){var n=!0;try{e.getTarget().update(Ext.decode(t.responseText))}catch(e){n=!1}return n},Component:function(e,t,i){var n=!0,r=e.getTarget(),o=[];try{o=Ext.decode(t.responseText)}catch(e){n=!1}return n&&(r.suspendLayouts(),i.removeAll&&r.removeAll(),r.add(o),r.resumeLayouts(!0)),n}}},target:null,loadMask:!1,renderer:"html",setTarget:function(e){var t=this;Ext.isString(e)&&(e=Ext.getCmp(e)),t.target&&t.target!=e&&t.abort(),t.target=e},removeMask:function(){this.target.setLoading(!1)},addMask:function(e){this.target.setLoading(e)},setOptions:function(e,t){e.removeAll=Ext.isDefined(t.removeAll)?t.removeAll:this.removeAll},getRenderer:function(e){if(Ext.isFunction(e))return e;var t=this.statics().Renderer;switch(e){case"component":return t.Component;case"data":return t.Data;default:return Ext.ElementLoader.Renderer.Html}}}),Ext.define("Ext.XTemplateCompiler",{extend:"Ext.XTemplateParser",useEval:Ext.isGecko,useIndex:Ext.isIE6||Ext.isIE7,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(e){var t=this,i=t.generate(e);return t.useEval?t.evalTpl(i):new Function("Ext",i)(Ext)},generate:function(e){var t,i=this,n="var fm=Ext.util.Format,ts=Object.prototype.toString;";return i.maxLevel=0,i.body=["var c0=values, a0="+i.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, v;\n"],i.definitions?"string"==typeof i.definitions?i.definitions=[i.definitions,n]:i.definitions.push(n):i.definitions=[n],i.switches=[],i.parse(e),i.definitions.push((i.useEval?"$=":"return")+" function ("+i.fnArgs+") {",i.body.join(""),"}"),t=i.definitions.join("\n"),i.definitions.length=i.body.length=i.switches.length=0,delete i.definitions,delete i.body,delete i.switches,t},doText:function(e){var t=this,i=t.body;e=e.replace(t.aposRe,"\\'").replace(t.newLineRe,"\\n"),t.useIndex?i.push("out[out.length]='",e,"'\n"):i.push("out.push('",e,"')\n")},doExpr:function(e){var t=this.body;t.push("if ((v="+e+")!==undefined) out"),this.useIndex?t.push("[out.length]=v+''\n"):t.push(".push(v+'')\n")},doTag:function(e){this.doExpr(this.parseTag(e))},doElse:function(){this.body.push("} else {\n")},doEval:function(e){this.body.push(e,"\n")},doIf:function(e,t){var i=this;"."===e?i.body.push("if (values) {\n"):i.propNameRe.test(e)?i.body.push("if (",i.parseTag(e),") {\n"):i.body.push("if (",i.addFn(e),i.callFn,") {\n"),t.exec&&i.doExec(t.exec);
},doElseIf:function(e,t){var i=this;"."===e?i.body.push("else if (values) {\n"):i.propNameRe.test(e)?i.body.push("} else if (",i.parseTag(e),") {\n"):i.body.push("} else if (",i.addFn(e),i.callFn,") {\n"),t.exec&&i.doExec(t.exec)},doSwitch:function(e){var t=this;"."===e?t.body.push("switch (values) {\n"):t.propNameRe.test(e)?t.body.push("switch (",t.parseTag(e),") {\n"):t.body.push("switch (",t.addFn(e),t.callFn,") {\n"),t.switches.push(0)},doCase:function(e){var t,i,n=this,r=Ext.isArray(e)?e:[e],o=n.switches.length-1;for(n.switches[o]?n.body.push("break;\n"):n.switches[o]++,i=0,o=r.length;i<o;++i)t=n.intRe.exec(r[i]),r[i]=t?t[1]:"'"+r[i].replace(n.aposRe,"\\'")+"'";n.body.push("case ",r.join(": case "),":\n")},doDefault:function(){var e=this,t=e.switches.length-1;e.switches[t]?e.body.push("break;\n"):e.switches[t]++,e.body.push("default:\n")},doEnd:function(e,t){var i=this,n=i.level-1;"for"==e?(t.exec&&i.doExec(t.exec),i.body.push("}\n"),i.body.push("parent=p",n,";values=r",n+1,";xcount=n",n,";xindex=i",n,"\n")):"if"!=e&&"switch"!=e||i.body.push("}\n")},doFor:function(e,t){var i,n,r=this,o=r.level,a=o-1;i="."===e?"values":r.propNameRe.test(e)?r.parseTag(e):r.addFn(e)+r.callFn,r.maxLevel<o&&(r.maxLevel=o,r.body.push("var ")),n="."==e?"c"+o:"a"+a+"?c"+a+"[i"+a+"]:p"+o,r.body.push("i",o,"=0,n",o,"=0,c",o,"=",i,",a",o,"=",r.createArrayTest(o),",p",o,"=c",a,",r",o,"=values;\n","parent=",n,"\n","if (c",o,"){if(a",o,"){n",o,"=c",o,".length;}else if (c",o,".isMixedCollection){c",o,"=c",o,".items;n",o,"=c",o,".length;}else if(c",o,".isStore){c",o,"=c",o,".data.items;n",o,"=c",o,".length;}else{c",o,"=[c",o,"];n",o,"=1;}}\n","for (xcount=n",o,";i",o,"<n"+o+";++i",o,"){\n","values=c",o,"[i",o,"]"),t.propName&&r.body.push(".",t.propName),r.body.push("\n","xindex=i",o,"+1\n")},createArrayTest:"isArray"in Array?function(e){return"Array.isArray(c"+e+")"}:function(e){return"ts.call(c"+e+')==="[object Array]"'},doExec:function(e,t){var i=this,n="f"+i.definitions.length;i.definitions.push("function "+n+"("+i.fnArgs+") {"," try { with(values) {","  "+e," }} catch(e) {","}","}"),i.body.push(n+i.callFn+"\n")},addFn:function(e){var t=this,i="f"+t.definitions.length;return"."===e?t.definitions.push("function "+i+"("+t.fnArgs+") {"," return values","}"):".."===e?t.definitions.push("function "+i+"("+t.fnArgs+") {"," return parent","}"):t.definitions.push("function "+i+"("+t.fnArgs+") {"," try { with(values) {","  return("+e+")"," }} catch(e) {","}","}"),i},parseTag:function(e){var t,i=this,n=i.tagRe.exec(e),r=n[1],o=n[2],a=n[3],s=n[4];return"."==r?(i.validTypes||(i.definitions.push("var validTypes={string:1,number:1,boolean:1};"),i.validTypes=!0),t='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'):t="#"==r?"xindex":"parent."==r.substr(0,7)?r:isNaN(r)&&r.indexOf("-")==-1&&r.indexOf(".")!=-1?"values."+r:"values['"+r+"']",s&&(t="("+t+s+")"),o&&i.useFormat?(a=a?","+a:"","this."!=o.substr(0,5)?o="fm."+o+"(":o+="(",o+t+a+")"):t},evalTpl:function($){return eval($),$},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?/},function(){var e=this.prototype;e.fnArgs="out,values,parent,xindex,xcount",e.callFn=".call(this,"+e.fnArgs+")"}),Ext.define("Ext.XTemplate",{extend:"Ext.Template",requires:"Ext.XTemplateCompiler",emptyObj:{},apply:function(e,t){return this.applyOut(e,[],t).join("")},applyOut:function(e,t,i){var n,r=this;r.fn||(n=new Ext.XTemplateCompiler({useFormat:r.disableFormats!==!0,definitions:r.definitions}),r.fn=n.compile(r.html));try{r.fn.call(r,t,e,i||r.emptyObj,1,1)}catch(e){}return t},compile:function(){return this},statics:{getTpl:function(e,t){var i,n=e[t];if(n&&!n.isTemplate)if(n=Ext.ClassManager.dynInstantiate("Ext.XTemplate",n),e.hasOwnProperty(t))e[t]=n;else for(i=e.self.prototype;i;i=i.superclass)if(i.hasOwnProperty(t)){i[t]=n;break}return n||null}}}),Ext.define("Ext.app.Controller",{mixins:{observable:"Ext.util.Observable"},onClassExtended:function(e,t,i){var n,r,o,a,s,l=Ext.getClassName(e),d=l.match(/^(.*)\.controller\./);null!==d&&(n=Ext.Loader.getPrefix(l)||d[1],r=i.onBeforeCreated,o=[],a=["model","view","store"],i.onBeforeCreated=function(e,t){var i,l,d,u,c,h,g;for(i=0,l=a.length;i<l;i++)for(d=a[i],s=n+"."+d+".",u=Ext.Array.from(t[d+"s"]),c=0,h=u.length;c<h;c++)g=u[c],g.indexOf(".")!==-1&&(Ext.ClassManager.isCreated(g)||Ext.Loader.isAClassNameWithAKnownPrefix(g))?o.push(g):o.push(s+g);Ext.require(o,Ext.Function.pass(r,arguments,this))})},constructor:function(e){this.mixins.observable.constructor.call(this,e),Ext.apply(this,e||{}),this.createGetters("model",this.models),this.createGetters("store",this.stores),this.createGetters("view",this.views),this.refs&&this.ref(this.refs)},init:Ext.emptyFn,onLaunch:Ext.emptyFn,createGetters:function(e,t){e=Ext.String.capitalize(e);for(var i,n,r,o,a,s=0,l=t?t.length:0;s<l;s++){for(i="get",n=t[s],r=n.split("."),a=r.length,o=0;o<a;o++)i+=Ext.String.capitalize(r[o]);i+=e,this[i]||(this[i]=Ext.Function.pass(this["get"+e],[n],this)),this[i](n)}},ref:function(e){e=Ext.Array.from(e);var t,i,n,r=this,o=0,a=e.length;for(r.references=r.references||[];o<a;o++)t=e[o],i=t.ref,n="get"+Ext.String.capitalize(i),r[n]||(r[n]=Ext.Function.pass(r.getRef,[i,t],r)),r.references.push(i.toLowerCase())},addRef:function(e){return this.ref([e])},getRef:function(e,t,i){if(this.refCache=this.refCache||{},t=t||{},i=i||{},Ext.apply(t,i),t.forceCreate)return Ext.ComponentManager.create(t,"component");var n=this,r=n.refCache[e];return r||(n.refCache[e]=r=Ext.ComponentQuery.query(t.selector)[0],!r&&t.autoCreate&&(n.refCache[e]=r=Ext.ComponentManager.create(t,"component")),r&&r.on("beforedestroy",function(){n.refCache[e]=null})),r},hasRef:function(e){return this.references&&this.references.indexOf(e.toLowerCase())!==-1},control:function(e,t){this.application.control(e,t,this)},getController:function(e){return this.application.getController(e)},getStore:function(e){return this.application.getStore(e)},getModel:function(e){return this.application.getModel(e)},getView:function(e){return this.application.getView(e)}}),Ext.define("Ext.chart.Label",{requires:["Ext.draw.Color"],colorStringRe:/url\s*\(\s*#([^\/)]+)\s*\)/,constructor:function(e){var t=this;t.label=Ext.applyIf(t.label||{},{display:"none",color:"#000",field:"name",minMargin:50,font:"11px Helvetica, sans-serif",orientation:"horizontal",renderer:function(e){return e}}),"none"!==t.label.display&&(t.labelsGroup=t.chart.surface.getGroup(t.seriesId+"-labels"))},renderLabels:function(){var e,t,i,n,r,o,a,s,l,d,u,c,h,g,p,f,m,x,y=this,v=y.chart,E=v.gradients,b=y.items,w=v.animate,C=y.label,S=C.display,_=(C.color,[].concat(C.field)),k=y.labelsGroup,P=(k||0)&&k.length,T=y.chart.getChartStore(),I=T.getCount(),D=(b||0)&&b.length,A=D/I,M=(E||0)&&E.length,R=Ext.draw.Color,F=[];if("none"!=S){if(0==D)for(;P--;)F.push(P);else{for(t=0,i=0,n=0;t<I;t++)for(r=0,o=0;o<A;o++){for(u=b[i],c=k.getAt(n),h=T.getAt(t);this.__excludes&&this.__excludes[r];)r++;if(!u&&c&&(c.hide(!0),n++),u&&_[o]&&(c||(c=y.onCreateLabel(h,u,t,S,o,r)),y.onPlaceLabel(c,h,u,t,S,w,o,r),n++,C.contrast&&u.sprite)){if(g=u.sprite,x=g._endStyle?g._endStyle.fill:g._to?g._to.fill:g.attr.fill,x=x||g.attr.fill,p=R.fromString(x),x&&!p){for(x=x.match(y.colorStringRe)[1],a=0;a<M;a++)if(e=E[a],e.id==x){d=0,s=0;for(l in e.stops)d++,s+=R.fromString(e.stops[l].color).getGrayscale();f=s/d/255;break}}else f=p.getGrayscale()/255;c.isOutside&&(f=1),m=R.fromString(c.attr.color||c.attr.fill).getHSL(),m[2]=f>.5?.2:.8,c.setAttributes({fill:String(R.fromHSL.apply({},m))},!0)}i++,r++}for(P=k.length;P>n;)F.push(n),n++}y.hideLabels(F)}},hideLabels:function(e){var t=this.labelsGroup,i=!!e&&e.length;if(t)if(i===!1)for(i=t.getCount();i--;)t.getAt(i).hide(!0);else for(;i--;)t.getAt(e[i]).hide(!0)}}),Ext.define("Ext.chart.theme.Theme",{requires:["Ext.draw.Color"],theme:"Base",themeAttrs:!1,initTheme:function(e){var t,i,n=this,r=Ext.chart.theme;if(e){e=e.split(":");for(t in r)if(t==e[0])return i="gradients"==e[1],n.themeAttrs=new r[t]({useGradients:i}),i&&(n.gradients=n.themeAttrs.gradients),void(n.themeAttrs.background&&(n.background=n.themeAttrs.background))}}},function(){!function(){Ext.chart.theme=function(e,t){e=e||{};var i,n,r,o,a,s,l,d,u,c,h=0,g=+new Date,p=[];if(e.baseColor&&(u=Ext.draw.Color.fromString(e.baseColor),c=u.getHSL()[2],c<.15?u=u.getLighter(.3):c<.3?u=u.getLighter(.15):c>.85?u=u.getDarker(.3):c>.7&&(u=u.getDarker(.15)),e.colors=[u.getDarker(.3).toString(),u.getDarker(.15).toString(),u.toString(),u.getLighter(.15).toString(),u.getLighter(.3).toString()],delete e.baseColor),e.colors){for(n=e.colors.slice(),a=t.markerThemes,o=t.seriesThemes,i=n.length,t.colors=n;h<i;h++)r=n[h],l=a[h]||{},s=o[h]||{},l.fill=s.fill=l.stroke=s.stroke=r,a[h]=l,o[h]=s;t.markerThemes=a.slice(0,i),t.seriesThemes=o.slice(0,i)}for(d in t)d in e&&(Ext.isObject(e[d])&&Ext.isObject(t[d])?Ext.apply(t[d],e[d]):t[d]=e[d]);if(e.useGradients){for(n=t.colors||function(){var e=[];for(h=0,o=t.seriesThemes,i=o.length;h<i;h++)e.push(o[h].fill||o[h].stroke);return e}(),h=0,i=n.length;h<i;h++)u=Ext.draw.Color.fromString(n[h]),u&&(r=u.getDarker(.1).toString(),u=u.toString(),d="theme-"+u.substr(1)+"-"+r.substr(1)+"-"+g,p.push({id:d,angle:45,stops:{0:{color:u.toString()},100:{color:r.toString()}}}),n[h]="url(#"+d+")");t.gradients=p,t.colors=n}Ext.apply(this,t)}}()}),Ext.define("Ext.chart.theme.Base",{requires:["Ext.chart.theme.Theme"],constructor:function(e){Ext.chart.theme.call(this,e,{background:!1,axis:{stroke:"#444","stroke-width":1},axisLabelTop:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(e){return e}},axisLabelRight:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(e){return e}},axisLabelBottom:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(e){return e}},axisLabelLeft:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(e){return e}},axisTitleTop:{font:"bold 18px Arial",fill:"#444"},axisTitleRight:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},axisTitleBottom:{font:"bold 18px Arial",fill:"#444"},axisTitleLeft:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},series:{"stroke-width":0},seriesLabel:{font:"12px Arial",fill:"#333"},marker:{stroke:"#555",radius:3,size:3},colors:["#94ae0a","#115fa6","#a61120","#ff8809","#ffd13e","#a61187","#24ad9a","#7c7474","#a66111"],seriesThemes:[{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#a66111"}],markerThemes:[{fill:"#115fa6",type:"circle"},{fill:"#94ae0a",type:"cross"},{fill:"#115fa6",type:"plus"},{fill:"#94ae0a",type:"circle"},{fill:"#a61120",type:"cross"}]})}},function(){for(var e=["#b1da5a","#4ce0e7","#e84b67","#da5abd","#4d7fe6","#fec935"],t=["Green","Sky","Red","Purple","Blue","Yellow"],i=0,n=e.length,r=Ext.chart.theme,o=[["#f0a50a","#c20024","#2044ba","#810065","#7eae29"],["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"],["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"],["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"],["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"],["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"]],a=o.length;i<n;i++)r[t[i]]=function(e){return Ext.extend(r.Base,{constructor:function(t){r.Base.prototype.constructor.call(this,Ext.apply({baseColor:e},t))}})}(e[i]);for(i=0;i<a;i++)r["Category"+(i+1)]=function(e){return Ext.extend(r.Base,{constructor:function(t){r.Base.prototype.constructor.call(this,Ext.apply({colors:e},t))}})}(o[i])}),Ext.define("Ext.data.Batch",{mixins:{observable:"Ext.util.Observable"},autoStart:!1,pauseOnException:!1,current:-1,total:0,isRunning:!1,isComplete:!1,hasException:!1,constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e),t.operations=[],t.exceptions=[]},add:function(e){return this.total++,e.setBatch(this),this.operations.push(e),this},start:function(e){var t=this;return t.isRunning?t:(t.exceptions.length=0,t.hasException=!1,t.isRunning=!0,t.runOperation(Ext.isDefined(e)?e:t.current+1))},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.runOperation(this.current+1)},pause:function(){return this.isRunning=!1,this},runOperation:function(e){var t,i=this,n=i.operations,r=n[e];return void 0===r?(i.isRunning=!1,i.isComplete=!0,i.fireEvent("complete",i,n[n.length-1])):(i.current=e,t=function(e){var t=e.hasException();t&&(i.hasException=!0,i.exceptions.push(e),i.fireEvent("exception",i,e)),t&&i.pauseOnException?i.pause():(e.setCompleted(),i.fireEvent("operationcomplete",i,e),i.runNextOperation())},r.setStarted(),i.proxy[r.action](r,t,i)),i}}),Ext.define("Ext.data.Connection",{mixins:{observable:"Ext.util.Observable"},statics:{requestId:0},url:null,async:!0,method:null,username:"",password:"",disableCaching:!0,withCredentials:!1,cors:!1,disableCachingParam:"_dc",timeout:3e4,useDefaultHeader:!0,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest",constructor:function(e){e=e||{},Ext.apply(this,e),this.requests={},this.mixins.observable.constructor.call(this)},request:function(e){e=e||{};var t,i,n,r,o,a=this,s=e.scope||window,l=e.username||a.username,d=e.password||a.password||"";return a.fireEvent("beforerequest",a,e)!==!1?(i=a.setOptions(e,s),a.isFormUpload(e)?(a.upload(e.form,i.url,i.data,e),null):((e.autoAbort||a.autoAbort)&&a.abort(),t=e.async!==!1&&(e.async||a.async),o=a.openRequest(e,i,t,l,d),r=a.setupHeaders(o,e,i.data,i.params),n={id:++Ext.data.Connection.requestId,xhr:o,headers:r,options:e,async:t,timeout:setTimeout(function(){n.timedout=!0,a.abort(n)},e.timeout||a.timeout)},a.requests[n.id]=n,a.latestId=n.id,t&&(o.onreadystatechange=Ext.Function.bind(a.onStateChange,a,[n])),o.send(i.data),t?n:a.onComplete(n))):(Ext.callback(e.callback,e.scope,[e,void 0,void 0]),null)},upload:function(e,t,i,n){e=Ext.getDom(e),n=n||{};var r,o,a,s,l,d,u,c,h=Ext.id(),g=document.createElement("iframe"),p=[],f="multipart/form-data",m={target:e.target,method:e.method,encoding:e.encoding,enctype:e.enctype,action:e.action},x=function(t,i){r=document.createElement("input"),Ext.fly(r).set({type:"hidden",value:i,name:t}),e.appendChild(r),p.push(r)};if(Ext.fly(g).set({id:h,name:h,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL}),document.body.appendChild(g),document.frames&&(document.frames[h].name=h),Ext.fly(e).set({target:h,method:"POST",enctype:f,encoding:f,action:t||m.action}),i){o=Ext.Object.fromQueryString(i)||{};for(s in o)if(o.hasOwnProperty(s))if(a=o[s],Ext.isArray(a))for(l=a.length,d=0;d<l;d++)x(s,a[d]);else x(s,a)}for(Ext.fly(g).on("load",Ext.Function.bind(this.onUploadComplete,this,[g,n]),null,{single:!0}),e.submit(),Ext.fly(e).set(m),u=p.length,c=0;c<u;c++)Ext.removeNode(p[c])},onUploadComplete:function(e,t){var i,n,r=this,o={responseText:"",responseXML:null};try{i=e.contentWindow.document||e.contentDocument||window.frames[e.id].document,i&&(i.body&&((n=i.body.firstChild)&&/pre/i.test(n.tagName)?o.responseText=n.innerText:(n=i.getElementsByTagName("textarea")[0])?o.responseText=n.value:o.responseText=i.body.textContent||i.body.innerText),o.responseXML=i.XMLDocument||i)}catch(e){}r.fireEvent("requestcomplete",r,o,t),Ext.callback(t.success,t.scope,[o,t]),Ext.callback(t.callback,t.scope,[t,!0,o]),setTimeout(function(){Ext.removeNode(e)},100)},isFormUpload:function(e){var t=this.getForm(e);return!!t&&(e.isUpload||/multipart\/form-data/i.test(t.getAttribute("enctype")))},getForm:function(e){return Ext.getDom(e.form)||null},setOptions:function(e,t){var i,n,r,o=this,a=e.params||{},s=o.extraParams,l=e.urlParams,d=e.url||o.url,u=e.jsonData;return Ext.isFunction(a)&&(a=a.call(t,e)),Ext.isFunction(d)&&(d=d.call(t,e)),d=this.setupUrl(e,d),r=e.rawData||e.xmlData||u||null,u&&!Ext.isPrimitive(u)&&(r=Ext.encode(r)),Ext.isObject(a)&&(a=Ext.Object.toQueryString(a)),Ext.isObject(s)&&(s=Ext.Object.toQueryString(s)),a+=s?(a?"&":"")+s:"",l=Ext.isObject(l)?Ext.Object.toQueryString(l):l,a=this.setupParams(e,a),i=(e.method||o.method||(a||r?"POST":"GET")).toUpperCase(),this.setupMethod(e,i),n=e.disableCaching!==!1&&(e.disableCaching||o.disableCaching),"GET"===i&&n&&(d=Ext.urlAppend(d,(e.disableCachingParam||o.disableCachingParam)+"="+(new Date).getTime())),("GET"==i||r)&&a&&(d=Ext.urlAppend(d,a),a=null),l&&(d=Ext.urlAppend(d,l)),{url:d,method:i,data:r||a||null}},setupUrl:function(e,t){var i=this.getForm(e);return i&&(t=t||i.action),t},setupParams:function(e,t){var i,n=this.getForm(e);return n&&!this.isFormUpload(e)&&(i=Ext.Element.serializeForm(n),t=t?t+"&"+i:i),t},setupMethod:function(e,t){return this.isFormUpload(e)?"POST":t},setupHeaders:function(e,t,i,n){var r,o,a=this,s=Ext.apply({},t.headers||{},a.defaultHeaders||{}),l=a.defaultPostHeader,d=t.jsonData,u=t.xmlData;s["Content-Type"]||!i&&!n||(i&&(t.rawData?l="text/plain":u&&Ext.isDefined(u)?l="text/xml":d&&Ext.isDefined(d)&&(l="application/json")),s["Content-Type"]=l),a.useDefaultXhrHeader&&!s["X-Requested-With"]&&(s["X-Requested-With"]=a.defaultXhrHeader);try{for(r in s)s.hasOwnProperty(r)&&(o=s[r],e.setRequestHeader(r,o))}catch(e){a.fireEvent("exception",r,o)}return s},newRequest:function(e){var t;return t=(e.cors||this.cors)&&Ext.isIE&&Ext.ieVersion>=8?new XDomainRequest:this.getXhrInstance()},openRequest:function(e,t,i,n,r){var o=this.newRequest(e);return n?o.open(t.method,t.url,i,n,r):o.open(t.method,t.url,i),(e.withCredentials||this.withCredentials)&&(o.withCredentials=!0),o},getXhrInstance:function(){for(var e,t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],i=0,n=t.length;i<n;++i)try{e=t[i],e();break}catch(e){}return e}(),isLoading:function(e){if(e||(e=this.getLatest()),!e||!e.xhr)return!1;var t=e.xhr.readyState;return!(0===t||4==t)},abort:function(e){var t,i=this;if(e||(e=i.getLatest()),e&&i.isLoading(e)){t=e.xhr;try{t.onreadystatechange=null}catch(e){t=Ext.emptyFn}t.abort(),i.clearTimeout(e),e.timedout||(e.aborted=!0),i.onComplete(e),i.cleanup(e)}},abortAll:function(){var e,t=this.requests;for(e in t)t.hasOwnProperty(e)&&this.abort(t[e])},getLatest:function(){var e,t=this.latestId;return t&&(e=this.requests[t]),e||null},onStateChange:function(e){4==e.xhr.readyState&&(this.clearTimeout(e),this.onComplete(e),this.cleanup(e))},clearTimeout:function(e){clearTimeout(e.timeout),delete e.timeout},cleanup:function(e){e.xhr=null,delete e.xhr},onComplete:function(e){var t,i,n,r=this,o=e.options;try{t=r.parseStatus(e.xhr.status)}catch(e){t={success:!1,isException:!1}}return i=t.success,i?(n=r.createResponse(e),r.fireEvent("requestcomplete",r,n,o),Ext.callback(o.success,o.scope,[n,o])):(n=t.isException||e.aborted||e.timedout?r.createException(e):r.createResponse(e),r.fireEvent("requestexception",r,n,o),Ext.callback(o.failure,o.scope,[n,o])),Ext.callback(o.callback,o.scope,[o,i,n]),delete r.requests[e.id],n},parseStatus:function(e){e=1223==e?204:e;var t=e>=200&&e<300||304==e,i=!1;if(!t)switch(e){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:i=!0}return{success:t,isException:i}},createResponse:function(e){for(var t,i,n,r,o=e.xhr,a={},s=o.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),l=s.length;l--;)t=s[l],i=t.indexOf(":"),i>=0&&(n=t.substr(0,i).toLowerCase()," "==t.charAt(i+1)&&++i,a[n]=t.substr(i+1));return e.xhr=null,delete e.xhr,r={request:e,requestId:e.id,status:o.status,statusText:o.statusText,getResponseHeader:function(e){return a[e.toLowerCase()]},getAllResponseHeaders:function(){return a},responseText:o.responseText,responseXML:o.responseXML},o=null,r},createException:function(e){return{request:e,requestId:e.id,status:e.aborted?-1:0,statusText:e.aborted?"transaction aborted":"communication failure",aborted:e.aborted,timedout:e.timedout}}}),Ext.define("Ext.Ajax",{extend:"Ext.data.Connection",singleton:!0,autoAbort:!1}),Ext.define("Ext.data.Field",{requires:["Ext.data.Types","Ext.data.SortTypes"],alias:"data.field",isField:!0,constructor:function(e){var t,i=this,n=Ext.data.Types;Ext.isString(e)&&(e={name:e}),Ext.apply(i,e),t=i.sortType,i.type?Ext.isString(i.type)&&(i.type=n[i.type.toUpperCase()]||n.AUTO):i.type=n.AUTO,Ext.isString(t)?i.sortType=Ext.data.SortTypes[t]:Ext.isEmpty(t)&&(i.sortType=i.type.sortType),e.hasOwnProperty("convert")?i.convert||!i.type.convert||e.hasOwnProperty("defaultValue")||(i.defaultValue=i.type.convert(i.defaultValue)):i.convert=i.type.convert,e.convert&&(i.hasCustomConvert=!0)},dateFormat:null,useNull:!1,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:!0,persist:!0}),Ext.define("Ext.data.NodeInterface",{requires:["Ext.data.Field"],statics:{decorate:function(e){var t,i;"string"==typeof e?e=Ext.ModelManager.getModel(e):e.isModel&&(e=Ext.ModelManager.getModel(e.modelName)),e.prototype.isNode||(t=e.prototype.idProperty,idField=e.prototype.fields.get(t),i=e.prototype.fields.get(t).type.type,e.override(this.getPrototypeBody()),this.applyFields(e,[{name:"parentId",type:i,defaultValue:null,useNull:idField.useNull},{name:"index",type:"int",defaultValue:null,persist:!1},{name:"depth",type:"int",defaultValue:0,persist:!1},{name:"expanded",type:"bool",defaultValue:!1,persist:!1},{name:"expandable",type:"bool",defaultValue:!0,persist:!1},{name:"checked",type:"auto",defaultValue:null,persist:!1},{name:"leaf",type:"bool",defaultValue:!1},{name:"cls",type:"string",defaultValue:null,persist:!1},{name:"iconCls",type:"string",defaultValue:null,persist:!1},{name:"icon",type:"string",defaultValue:null,persist:!1},{name:"root",type:"boolean",defaultValue:!1,persist:!1},{name:"isLast",type:"boolean",defaultValue:!1,persist:!1},{name:"isFirst",type:"boolean",defaultValue:!1,persist:!1},{name:"allowDrop",type:"boolean",defaultValue:!0,persist:!1},{name:"allowDrag",type:"boolean",defaultValue:!0,persist:!1},{name:"loaded",type:"boolean",defaultValue:!1,persist:!1},{name:"loading",type:"boolean",defaultValue:!1,persist:!1},{name:"href",type:"string",defaultValue:null,persist:!1},{name:"hrefTarget",type:"string",defaultValue:null,persist:!1},{name:"qtip",type:"string",defaultValue:null,persist:!1},{name:"qtitle",type:"string",defaultValue:null,persist:!1},{name:"children",type:"auto",defaultValue:null,persist:!1}]))},applyFields:function(e,t){var i,n,r=e.prototype,o=r.fields,a=o.keys,s=t.length;for(n=0;n<s;n++)i=t[n],Ext.Array.contains(a,i.name)||o.add(new Ext.data.Field(i))},getPrototypeBody:function(){return{isNode:!0,constructor:function(){var e=this;return this.callParent(arguments),Ext.applyIf(e,{firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,childNodes:[]}),e.enableBubble(["append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","sort"]),e},createNode:function(e){return Ext.isObject(e)&&!e.isModel&&(e=Ext.ModelManager.create(e,this.modelName)),e.childNodes||Ext.applyIf(e,{firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,childNodes:[]}),e},isLeaf:function(){return this.get("leaf")===!0},setFirstChild:function(e){this.firstChild=e},setLastChild:function(e){this.lastChild=e},updateInfo:function(e){for(var t=this,i=t.isRoot(),n=t.parentNode,r=!(n&&!i)||n.firstChild===t,o=!(n&&!i)||n.lastChild===t,a=0,s=t,l=t.childNodes,d=l.length,u=0,c=t.phantom;s.parentNode;)++a,s=s.parentNode;for(t.beginEdit(),t.set({isFirst:r,isLast:o,depth:a,index:n?n.indexOf(t):0,parentId:n?n.getId():null}),t.endEdit(!0),e&&(t.commit(),t.phantom=c),u=0;u<d;u++)l[u].updateInfo(e)},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var e=this;return!!e.get("expandable")&&!(e.isLeaf()||e.isLoaded()&&!e.hasChildNodes())},triggerUIUpdate:function(){this.afterEdit([])},appendChild:function(e,t,i){var n,r,o,a,s,l=this;if(!Ext.isArray(e)){if(e=l.createNode(e),t!==!0&&(!l.hasListeners.beforeappend||l.fireEvent("beforeappend",l,e)===!1))return!1;if(o=l.childNodes.length,a=e.parentNode){if(t!==!0&&(!l.hasListeners.beforeremove||e.fireEvent("beforemove",e,a,l,o)===!1))return!1;a.removeChild(e,!1,!1,!0)}return o=l.childNodes.length,0===o&&l.setFirstChild(e),l.childNodes.push(e),e.parentNode=l,e.nextSibling=null,l.setLastChild(e),s=l.childNodes[o-1],s?(e.previousSibling=s,s.nextSibling=e,s.updateInfo(i)):e.previousSibling=null,e.updateInfo(i),l.isLoaded()?1===l.childNodes.length&&l.triggerUIUpdate():l.set("loaded",!0),!e.isLeaf()&&e.phantom&&e.set("loaded",!0),t!==!0&&(l.fireEvent("append",l,e,o),a&&e.fireEvent("move",e,a,l,o)),e}for(l.callStore("suspendAutoSync"),n=0,r=e.length-1;n<r;n++)l.appendChild(e[n]);l.callStore("resumeAutoSync"),l.appendChild(e[r])},getBubbleTarget:function(){return this.parentNode},removeChild:function(e,t,i,n){var r,o,a=this,s=a.indexOf(e);if(s==-1||i!==!0&&(!a.hasListeners.beforeremove||a.fireEvent("beforeremove",a,e,!!n)===!1))return!1;for(Ext.Array.erase(a.childNodes,s,1),a.firstChild==e&&a.setFirstChild(e.nextSibling),a.lastChild==e&&a.setLastChild(e.previousSibling),e.previousSibling&&(e.previousSibling.nextSibling=e.nextSibling),e.nextSibling&&(e.nextSibling.previousSibling=e.previousSibling),r=s>0?s-1:0,o=a.childNodes.length;r<o;r++)a.childNodes[r].updateInfo();return a.childNodes.length||a.triggerUIUpdate(),i!==!0&&a.hasListeners.remove&&a.fireEvent("remove",a,e,!!n),t?e.destroy(!0):e.clear(),e},copy:function(e,t){var i,n=this,r=n.callOverridden(arguments),o=n.childNodes?n.childNodes.length:0;if(t)for(i=0;i<o;i++)r.appendChild(n.childNodes[i].copy(!0));return r},clear:function(e){var t=this;t.parentNode=t.previousSibling=t.nextSibling=null,e&&(t.firstChild=t.lastChild=null)},destroy:function(e){var t,i=this,n=i.destroyOptions,r=i.childNodes,o=r.length;if(e===!0){for(i.clear(!0),t=0;t<o;t++)r[t].destroy(!0);i.childNodes=null,delete i.destroyOptions,i.callOverridden([n])}else i.destroyOptions=e,i.remove(!0)},insertBefore:function(e,t,i){var n,r,o,a=this,s=a.indexOf(t),l=e.parentNode,d=s;if(!t)return a.appendChild(e);if(e==t)return!1;if(e=a.createNode(e),i!==!0&&(!a.hasListeners.beforeinsert||a.fireEvent("beforeinsert",a,e,t)===!1))return!1;if(l==a&&a.indexOf(e)<s&&d--,l){if(i!==!0&&(!a.hasListeners.beforeremove||e.fireEvent("beforemove",e,l,a,s,t)===!1))return!1;l.removeChild(e,!1,!1,!0)}for(0===d&&a.setFirstChild(e),Ext.Array.splice(a.childNodes,d,0,e),e.parentNode=a,e.nextSibling=t,t.previousSibling=e,r=a.childNodes[d-1],r?(e.previousSibling=r,r.nextSibling=e):e.previousSibling=null,o=d>0?d-1:0,n=a.childNodes.length;o<n;o++)a.childNodes[o].updateInfo();return a.isLoaded()?1===a.childNodes.length&&a.triggerUIUpdate():a.set("loaded",!0),!e.isLeaf()&&e.phantom&&e.set("loaded",!0),i!==!0&&(a.hasListeners.insert&&a.fireEvent("insert",a,e,t),l&&a.hasListeners.move&&e.fireEvent("move",e,l,a,d,t)),e},insertChild:function(e,t){var i=this.childNodes[e];return i?this.insertBefore(t,i):this.appendChild(t)},remove:function(e,t){var i=this.parentNode;return i&&i.removeChild(this,e,t),this},removeAll:function(e,t){for(var i,n=this.childNodes;i=n[0];)this.removeChild(i,e,t);return this},getChildAt:function(e){return this.childNodes[e]},replaceChild:function(e,t,i){var n=t?t.nextSibling:null;return this.removeChild(t,!1,i),this.insertBefore(e,n,i),t},indexOf:function(e){return Ext.Array.indexOf(this.childNodes,e)},indexOfId:function(e){for(var t=this.childNodes,i=t.length,n=0;n<i;++n)if(t[n].getId()===e)return n;return-1},getPath:function(e,t){e=e||this.idProperty,t=t||"/";for(var i=[this.get(e)],n=this.parentNode;n;)i.unshift(n.get(e)),n=n.parentNode;return t+i.join(t)},getDepth:function(){return this.get("depth")},bubble:function(e,t,i){for(var n=this;n&&e.apply(t||n,i||[n])!==!1;)n=n.parentNode},cascade:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead."),this.cascadeBy.apply(this,arguments)},cascadeBy:function(e,t,i){if(e.apply(t||this,i||[this])!==!1){var n,r=this.childNodes,o=r.length;for(n=0;n<o;n++)r[n].cascadeBy(e,t,i)}},eachChild:function(e,t,i){var n,r=this.childNodes,o=r.length;for(n=0;n<o&&e.apply(t||this,i||[r[n]])!==!1;n++);},findChild:function(e,t,i){return this.findChildBy(function(){return this.get(e)==t},null,i)},findChildBy:function(e,t,i){for(var n,r,o=this.childNodes,a=o.length,s=0;s<a;s++){if(n=o[s],e.call(t||n,n)===!0)return n;if(i&&(r=n.findChildBy(e,t,i),null!==r))return r}return null},contains:function(e){return e.isAncestor(this)},isAncestor:function(e){for(var t=this.parentNode;t;){if(t==e)return!0;t=t.parentNode}return!1},sort:function(e,t,i){var n,r,o=this.childNodes,a=o.length;if(a>0){for(Ext.Array.sort(o,e),n=0;n<a;n++)r=o[n],r.previousSibling=o[n-1],r.nextSibling=o[n+1],0===n&&this.setFirstChild(r),n==a-1&&this.setLastChild(r),r.updateInfo(),t&&!r.isLeaf()&&r.sort(e,!0,!0);i!==!0&&this.fireEvent("sort",this,o)}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){for(var e=this.parentNode;e;){if(!e.isExpanded())return!1;e=e.parentNode}return!0},expand:function(e,t,i){var n=this;n.isLeaf()?Ext.callback(t,i||n):n.isLoading()?n.on("expand",function(){n.expand(e,t,i)},n,{single:!0}):n.isExpanded()?e?n.expandChildren(!0,t,i):Ext.callback(t,i||n,[n.childNodes]):n.fireEvent("beforeexpand",n,function(){n.set("expanded",!0),n.hasListeners.expand&&n.fireEvent("expand",n,n.childNodes,!1),e?n.expandChildren(!0,t,i):Ext.callback(t,i||n,[n.childNodes])},n)},expandChildren:function(e,t,i){for(var n,r=this,o=0,a=r.childNodes,s=a.length,l=0;o<s;++o)n=a[o],n.isLeaf()||(l++,a[o].expand(e,function(){l--,t&&!l&&Ext.callback(t,i||r,[r.childNodes])}));!l&&t&&Ext.callback(t,i||r,[r.childNodes])},collapse:function(e,t,i){var n=this;n.isLeaf()?Ext.callback(t,i||n,[n.childNodes]):!n.collapsing&&n.isExpanded()?n.fireEvent("beforecollapse",n,function(){n.set("expanded",!1),n.hasListeners.collapse&&n.fireEvent("collapse",n,n.childNodes,!1),e?n.collapseChildren(!0,t,i):Ext.callback(t,i||n,[n.childNodes])},n):e?n.collapseChildren(!0,t,i):Ext.callback(t,i||n,[n.childNodes])},collapseChildren:function(e,t,i){for(var n,r=this,o=0,a=r.childNodes,s=a.length,l=0;o<s;++o)n=a[o],n.isLeaf()||(l++,a[o].collapse(e,function(){l--,t&&!l&&Ext.callback(t,i||r,[r.childNodes])}));!l&&t&&Ext.callback(t,i||r,[r.childNodes])}}}}}),Ext.define("Ext.data.Tree",{alias:"data.tree",mixins:{observable:"Ext.util.Observable"},root:null,constructor:function(e){var t=this;t.mixins.observable.constructor.call(t),e&&t.setRootNode(e)},getRootNode:function(){return this.root},setRootNode:function(e){var t=this;return t.root=e,t.fireEvent("beforeappend",null,e)!==!1&&(e.set("root",!0),e.updateInfo(),e.commit(),e.on({scope:t,insert:t.onNodeInsert,append:t.onNodeAppend,remove:t.onNodeRemove}),t.relayEvents(e,["append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","sort","rootchange"]),t.nodeHash={},t.registerNode(e),t.fireEvent("append",null,e),t.fireEvent("rootchange",e)),e},flatten:function(){return Ext.Object.getValues(this.nodeHash)},onNodeInsert:function(e,t){this.registerNode(t,!0)},onNodeAppend:function(e,t){this.registerNode(t,!0)},onNodeRemove:function(e,t){this.unregisterNode(t,!0)},onNodeIdChanged:function(e,t,i){var n=this.nodeHash;n[i]=e,delete n[t||e.internalId]},getNodeById:function(e){return this.nodeHash[e]},registerNode:function(e,t){
var i=this;i.nodeHash[e.getId()||e.internalId]=e,e.on("idchanged",i.onNodeIdChanged,i),t===!0&&e.eachChild(function(e){i.registerNode(e,!0)})},unregisterNode:function(e,t){delete this.nodeHash[e.getId()||e.internalId],t===!0&&e.eachChild(function(e){this.unregisterNode(e,!0)},this)},sort:function(e,t){this.getRootNode().sort(e,t)},filter:function(e,t){this.getRootNode().filter(e,t)}}),Ext.define("Ext.data.association.HasMany",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.HasManyAssociation",requires:["Ext.util.Inflector"],alias:"association.hasmany",constructor:function(e){var t,i,n=this;n.callParent(arguments),n.name=n.name||Ext.util.Inflector.pluralize(n.associatedName.toLowerCase()),t=n.ownerModel.prototype,i=n.name,Ext.applyIf(n,{storeName:i+"Store",foreignKey:n.ownerName.toLowerCase()+"_id"}),t[i]=n.createStore()},createStore:function(){var e=this,t=e.associatedModel,i=e.storeName,n=e.foreignKey,r=e.primaryKey,o=e.filterProperty,a=e.autoLoad,s=e.storeConfig||{};return function(){var e,l,d=this,u={};return void 0===d[i]&&(l=o?{property:o,value:d.get(o),exactMatch:!0}:{property:n,value:d.get(r),exactMatch:!0},u[n]=d.get(r),e=Ext.apply({},s,{model:t,filters:[l],remoteFilter:!1,modelDefaults:u}),d[i]=Ext.data.AbstractStore.create(e),a&&d[i].load()),d[i]}},read:function(e,t,i){var n,r,o,a,s=e[this.name]();if(s.add(t.read(i).records),n=this.associatedModel.prototype.associations.findBy(function(t){return"belongsTo"===t.type&&t.associatedName===e.$className}))for(r=s.data.items,o=r.length,a=0;a<o;a++)r[a][n.instanceName]=e}}),Ext.define("Ext.data.proxy.Proxy",{alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],uses:["Ext.data.Batch","Ext.data.Operation","Ext.data.Model"],mixins:{observable:"Ext.util.Observable"},batchOrder:"create,update,destroy",batchActions:!0,defaultReaderType:"json",defaultWriterType:"json",isProxy:!0,constructor:function(e){e=e||{},void 0===e.model&&delete e.model,this.mixins.observable.constructor.call(this,e),void 0===this.model||this.model instanceof Ext.data.Model||this.setModel(this.model)},setModel:function(e,t){this.model=Ext.ModelManager.getModel(e);var i=this.reader,n=this.writer;this.setReader(i),this.setWriter(n),t&&this.store&&this.store.setModel(this.model)},getModel:function(){return this.model},setReader:function(e){var t=this,i=!0;return void 0!==e&&"string"!=typeof e||(e={type:e},i=!1),e.isReader?e.setModel(t.model):(i&&(e=Ext.apply({},e)),Ext.applyIf(e,{proxy:t,model:t.model,type:t.defaultReaderType}),e=Ext.createByAlias("reader."+e.type,e)),e.onMetaChange&&(e.onMetaChange=Ext.Function.createSequence(e.onMetaChange,this.onMetaChange,this)),t.reader=e,t.reader},getReader:function(){return this.reader},onMetaChange:function(e){this.fireEvent("metachange",this,e)},setWriter:function(e){var t=this,i=!0;return void 0!==e&&"string"!=typeof e||(e={type:e},i=!1),e.isWriter||(i&&(e=Ext.apply({},e)),Ext.applyIf(e,{model:t.model,type:t.defaultWriterType}),e=Ext.createByAlias("writer."+e.type,e)),t.writer=e,t.writer},getWriter:function(){return this.writer},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(e,t){var i,n,r,o,a,s,l,d,u,c=this,h=c.batchActions;for(void 0===e.operations&&(e={operations:e,listeners:t}),e.batch?Ext.isDefined(e.batch.runOperation)&&(i=Ext.applyIf(e.batch,{proxy:c,listeners:{}})):e.batch={proxy:c,listeners:e.listeners||{}},i||(i=new Ext.data.Batch(e.batch)),i.on("complete",Ext.bind(c.onBatchComplete,c,[e],0)),r=c.batchOrder.split(","),o=r.length,s=0;s<o;s++)if(a=r[s],n=e.operations[a])if(h)i.add(new Ext.data.Operation({action:a,records:n}));else for(d=n.length,l=0;l<d;l++)u=n[l],i.add(new Ext.data.Operation({action:a,records:[u]}));return i.start(),i},onBatchComplete:function(e,t){var i=e.scope||this;t.hasException?Ext.isFunction(e.failure)&&Ext.callback(e.failure,i,[t,e]):Ext.isFunction(e.success)&&Ext.callback(e.success,i,[t,e]),Ext.isFunction(e.callback)&&Ext.callback(e.callback,i,[t,e])}},function(){Ext.data.DataProxy=this}),Ext.define("Ext.data.proxy.Client",{extend:"Ext.data.proxy.Proxy",alternateClassName:"Ext.data.ClientProxy",isSynchronous:!0,clear:function(){}}),Ext.define("Ext.data.proxy.Memory",{extend:"Ext.data.proxy.Client",alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",constructor:function(e){this.callParent([e]),this.setReader(this.reader)},updateOperation:function(e,t,i){var n=0,r=e.getRecords(),o=r.length;for(n;n<o;n++)r[n].commit();e.setCompleted(),e.setSuccessful(),Ext.callback(t,i||this,[e])},create:function(){this.updateOperation.apply(this,arguments)},update:function(){this.updateOperation.apply(this,arguments)},destroy:function(){this.updateOperation.apply(this,arguments)},read:function(e,t,i){var n=this;e.resultSet=n.getReader().read(n.data),e.setCompleted(),e.setSuccessful(),Ext.callback(t,i||n,[e])},clear:Ext.emptyFn}),Ext.define("Ext.data.proxy.Server",{extend:"Ext.data.proxy.Proxy",alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",uses:["Ext.data.Request"],pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:"_dc",timeout:3e4,constructor:function(e){var t=this;e=e||{},t.callParent([e]),t.extraParams=e.extraParams||{},t.api=Ext.apply({},e.api||t.api),t.nocache=t.noCache},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(e,t){this.extraParams[e]=t},buildRequest:function(e){var t,i=this,n=Ext.applyIf(e.params||{},i.extraParams||{});return n=Ext.applyIf(n,i.getParams(e)),void 0!==e.id&&void 0===n.id&&(n.id=e.id),t=new Ext.data.Request({params:n,action:e.action,records:e.records,operation:e,url:e.url,proxy:i}),t.url=i.buildUrl(t),e.request=t,t},processResponse:function(e,t,i,n,r,o){var a,s,l=this;e===!0?(a=l.getReader(),a.applyDefaults="read"===t.action,s=a.read(l.extractResponseData(n)),s.success!==!1?(Ext.apply(t,{response:n,resultSet:s}),t.commitRecords(s.records),t.setCompleted(),t.setSuccessful()):(t.setException(s.message),l.fireEvent("exception",this,n,t))):(l.setException(t,n),l.fireEvent("exception",this,n,t)),"function"==typeof r&&r.call(o||l,t),l.afterRequest(i,e)},setException:function(e,t){e.setException({status:t.status,statusText:t.statusText})},extractResponseData:function(e){return e},applyEncoding:function(e){return Ext.encode(e)},encodeSorters:function(e){for(var t=[],i=e.length,n=0;n<i;n++)t[n]={property:e[n].property,direction:e[n].direction};return this.applyEncoding(t)},encodeFilters:function(e){for(var t=[],i=e.length,n=0;n<i;n++)t[n]={property:e[n].property,value:e[n].value};return this.applyEncoding(t)},getParams:function(e){var t=this,i={},n=Ext.isDefined,r=e.groupers,o=e.sorters,a=e.filters,s=e.page,l=e.start,d=e.limit,u=t.simpleSortMode,c=t.simpleGroupMode,h=t.pageParam,g=t.startParam,p=t.limitParam,f=t.groupParam,m=t.groupDirectionParam,x=t.sortParam,y=t.filterParam,v=t.directionParam;return h&&n(s)&&(i[h]=s),g&&n(l)&&(i[g]=l),p&&n(d)&&(i[p]=d),f&&r&&r.length>0&&(c?(i[f]=r[0].property,i[m]=r[0].direction||"ASC"):i[f]=t.encodeSorters(r)),x&&o&&o.length>0&&(u?(i[x]=o[0].property,i[v]=o[0].direction):i[x]=t.encodeSorters(o)),y&&a&&a.length>0&&(i[y]=t.encodeFilters(a)),i},buildUrl:function(e){var t=this,i=t.getUrl(e);return t.noCache&&(i=Ext.urlAppend(i,Ext.String.format("{0}={1}",t.cacheString,Ext.Date.now()))),i},getUrl:function(e){return e.url||this.api[e.action]||this.url},doRequest:function(e,t,i){},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer)}}),Ext.define("Ext.data.proxy.JsonP",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.ScriptTagProxy",alias:["proxy.jsonp","proxy.scripttag"],requires:["Ext.data.JsonP"],defaultWriterType:"base",callbackKey:"callback",recordParam:"records",autoAppendParams:!0,constructor:function(){this.addEvents("exception"),this.callParent(arguments)},doRequest:function(e,t,i){var n=this,r=n.getWriter(),o=n.buildRequest(e),a=o.params;return e.allowWrite()&&(o=r.write(o)),Ext.apply(o,{callbackKey:n.callbackKey,timeout:n.timeout,scope:n,disableCaching:!1,callback:n.createRequestCallback(o,e,t,i)}),n.autoAppendParams&&(o.params={}),o.jsonp=Ext.data.JsonP.request(o),o.params=a,e.setStarted(),n.lastRequest=o,o},createRequestCallback:function(e,t,i,n){var r=this;return function(o,a,s){delete r.lastRequest,r.processResponse(o,t,e,a,i,n)}},setException:function(e,t){e.setException(e.request.jsonp.errorType)},buildUrl:function(e){var t,i,n,r=this,o=r.callParent(arguments),a=Ext.apply({},e.params),s=a.filters;if(delete a.filters,r.autoAppendParams&&(o=Ext.urlAppend(o,Ext.Object.toQueryString(a))),s&&s.length)for(n=0;n<s.length;n++)i=s[n],i.value&&(o=Ext.urlAppend(o,i.property+"="+i.value));return t=e.records,Ext.isArray(t)&&t.length>0&&(o=Ext.urlAppend(o,Ext.String.format("{0}={1}",r.recordParam,r.encodeRecords(t)))),o},destroy:function(){this.abort(),this.callParent(arguments)},abort:function(){var e=this.lastRequest;e&&Ext.data.JsonP.abort(e.jsonp)},encodeRecords:function(e){for(var t="",i=0,n=e.length;i<n;i++)t+=Ext.Object.toQueryString(e[i].getData());return t}}),Ext.define("Ext.data.proxy.WebStorage",{extend:"Ext.data.proxy.Client",alternateClassName:"Ext.data.WebStorageProxy",requires:["Ext.data.SequentialIdGenerator"],id:void 0,constructor:function(e){this.callParent(arguments),this.cache={},this.id=this.id||(this.store?this.store.storeId:void 0),this.initialize()},create:function(e,t,i){var n,r,o,a=this,s=e.records,l=s.length,d=a.getIds();for(e.setStarted(),void 0===a.isHierarchical&&(a.isHierarchical=!!s[0].isNode,a.isHierarchical&&a.getStorageObject().setItem(a.getTreeKey(),!0)),o=0;o<l;o++)r=s[o],r.phantom?(r.phantom=!1,n=a.getNextId()):n=r.getId(),a.setRecord(r,n),r.commit(),d.push(n);a.setIds(d),e.setCompleted(),e.setSuccessful(),"function"==typeof t&&t.call(i||a,e)},read:function(e,t,i){var n,r,o,a,s,l=this,d=[],u=0,c=!0,h=l.model;if(e.setStarted(),l.isHierarchical)d=l.getTreeData();else if(n=l.getIds(),r=n.length,s=e.id)a=l.getRecord(s),null!==a&&(o=new h(a,s,a)),o?d.push(o):c=!1;else for(;u<r;u++)s=n[u],a=l.getRecord(s),d.push(new h(a,s,a));c&&e.setSuccessful(),e.setCompleted(),e.resultSet=Ext.create("Ext.data.ResultSet",{records:d,total:d.length,loaded:!0}),"function"==typeof t&&t.call(i||l,e)},update:function(e,t,i){var n,r,o,a=e.records,s=a.length,l=this.getIds();for(e.setStarted(),o=0;o<s;o++)n=a[o],this.setRecord(n),n.commit(),r=n.getId(),void 0!==r&&Ext.Array.indexOf(l,r)==-1&&l.push(r);this.setIds(l),e.setCompleted(),e.setSuccessful(),"function"==typeof t&&t.call(i||this,e)},destroy:function(e,t,i){var n,r=this,o=e.records,a=r.getIds(),s=a.length,l=[],d={},u=o.length;for(e.setStarted();u--;)Ext.apply(d,r.removeRecord(o[u]));for(u=0;u<s;u++)n=a[u],d[n]||l.push(n);r.setIds(l),e.setCompleted(),e.setSuccessful(),"function"==typeof t&&t.call(i||r,e)},getRecord:function(e){var t=this,i=t.cache,n=i[e]?i[e]:Ext.decode(t.getStorageObject().getItem(t.getRecordKey(e)));return n?(i[e]=n,n[t.model.prototype.idProperty]=e,n):null},setRecord:function(e,t){t?e.setId(t):t=e.getId();for(var i,n,r,o,a=this,s=e.data,l={},d=a.model,u=d.prototype.fields.items,c=u.length,h=0;h<c;h++)i=u[h],n=i.name,i.persist&&(l[n]=s[n]);delete l[a.model.prototype.idProperty],e.isNode&&1===e.get("depth")&&delete l.parentId,r=a.getStorageObject(),o=a.getRecordKey(t),a.cache[t]=l,r.removeItem(o),r.setItem(o,Ext.encode(l))},removeRecord:function(e){var t,i,n=this,r=e.getId(),o={};if(o[r]=e,n.getStorageObject().removeItem(n.getRecordKey(r)),delete n.cache[r],e.childNodes)for(i=e.childNodes,t=i.length;t--;)Ext.apply(o,n.removeRecord(i[t]));return o},getRecordKey:function(e){return e.isModel&&(e=e.getId()),Ext.String.format("{0}-{1}",this.id,e)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.id)},getTreeKey:function(){return Ext.String.format("{0}-tree",this.id)},getIds:function(){var e,t=this,i=(t.getStorageObject().getItem(t.id)||"").split(","),n=t.model,r=i.length,o="string"===n.prototype.fields.get(n.prototype.idProperty).type.type;if(1==r&&""===i[0])i=[];else for(e=0;e<r;e++)i[e]=o?i[e]:+i[e];return i},setIds:function(e){var t=this.getStorageObject(),i=e.join(",");t.removeItem(this.id),Ext.isEmpty(i)||t.setItem(this.id,i)},getNextId:function(){var e,t=this,i=t.getStorageObject(),n=t.getRecordCounterKey(),r=t.model,o="string"===r.prototype.fields.get(r.prototype.idProperty).type.type;return e=t.idGenerator.generate(),i.setItem(n,e),o||(e=+e),e},getTreeData:function(){for(var e,t,i,n,r,o,a=this,s=a.getIds(),l=s.length,d=[],u={},c=[],h=0,g=a.model,p=g.prototype.idProperty;h<l;h++)o=s[h],t=a.getRecord(o),d.push(t),u[o]=t,t.parentId||c.push(t);for(e=c.length,Ext.Array.sort(d,a.sortByParentId),h=e;h<l;h++)t=d[h],n=t.parentId,i&&i[p]===n||(i=u[n],i.children=r=[]),r.push(t);for(h=l;h--;)t=d[h],t.children||t.leaf||(t.loaded=!0);for(h=e;h--;)t=c[h],c[h]=new g(t,t[p],t);return c},sortByParentId:function(e,t){return(e.parentId||0)-(t.parentId||0)},initialize:function(){var e=this,t=e.getStorageObject(),i=+t.getItem(e.getRecordCounterKey());t.setItem(e.id,t.getItem(e.id)||""),t.getItem(e.getTreeKey())&&(e.isHierarchical=!0),e.idGenerator=new Ext.data.SequentialIdGenerator({seed:i?i+1:1})},clear:function(){var e,t=this,i=t.getStorageObject(),n=t.getIds(),r=n.length;for(e=0;e<r;e++)i.removeItem(t.getRecordKey(n[e]));i.removeItem(t.getRecordCounterKey()),i.removeItem(t.getTreeKey()),i.removeItem(t.id),t.cache={}},getStorageObject:function(){}}),Ext.define("Ext.data.proxy.LocalStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.localstorage",alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}}),Ext.define("Ext.data.proxy.SessionStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.sessionstorage",alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}}),Ext.define("Ext.data.reader.Reader",{requires:["Ext.data.ResultSet","Ext.XTemplate"],alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:{observable:"Ext.util.Observable"},totalProperty:"total",successProperty:"success",root:"",implicitIncludes:!0,readRecordsOnFailure:!0,isReader:!0,applyDefaults:!0,lastFieldGeneration:null,constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e),t.fieldCount=0,t.model=Ext.ModelManager.getModel(t.model),t.accessExpressionFn=Ext.Function.bind(t.createFieldAccessExpression,t),t.model&&t.model.prototype.fields&&t.buildExtractors(),this.addEvents("exception")},setModel:function(e,t){var i=this;i.model=Ext.ModelManager.getModel(e),i.buildExtractors(!0),t&&i.proxy&&i.proxy.setModel(i.model,!0)},read:function(e){var t;return e&&(t=e.responseText?this.getResponseData(e):this.readRecords(e)),t||this.nullResultSet},readRecords:function(e){var t,i,n,r,o,a,s,l=this;return l.lastFieldGeneration!==l.model.prototype.fields.generation&&l.buildExtractors(!0),l.rawData=e,e=l.getData(e),t=!0,i=0,n=[],l.successProperty&&(a=l.getSuccess(e),a!==!1&&"false"!==a||(t=!1)),l.messageProperty&&(s=l.getMessage(e)),(l.readRecordsOnFailure||t)&&(r=Ext.isArray(e)?e:l.getRoot(e),r&&(o=r.length),l.totalProperty&&(a=parseInt(l.getTotal(e),10),isNaN(a)||(o=a)),r&&(n=l.extractData(r),i=n.length)),new Ext.data.ResultSet({total:o||i,count:i,records:n,success:t,message:s})},extractData:function(e){var t,i,n,r,o=this,a=[],s=o.model,l=e.length;for(!e.length&&Ext.isObject(e)&&(e=[e],l=1),r=0;r<l;r++)i=e[r],i.isModel?a.push(i):(n=new s(void 0,o.getId(i),i,t={}),n.phantom=!1,o.convertRecordData(t,i,n),a.push(n),o.implicitIncludes&&o.readAssociated(n,i));return a},readAssociated:function(e,t){for(var i,n,r,o,a=e.associations.items,s=0,l=a.length;s<l;s++)i=a[s],n=this.getAssociatedDataRoot(t,i.associationKey||i.name),n&&(o=i.getReader(),o||(r=i.associatedModel.proxy,o=r?r.getReader():new this.constructor({model:i.associatedName})),i.read(e,o,n))},getAssociatedDataRoot:function(e,t){return e[t]},getFields:function(){return this.model.prototype.fields.items},getData:function(e){return e},getRoot:function(e){return e},getResponseData:function(e){},onMetaChange:function(e){var t,i,n=this,r=e.fields||n.getFields();n.metaData=e,n.root=e.root||n.root,n.idProperty=e.idProperty||n.idProperty,n.totalProperty=e.totalProperty||n.totalProperty,n.successProperty=e.successProperty||n.successProperty,n.messageProperty=e.messageProperty||n.messageProperty,i=e.clientIdProperty,n.model?(n.model.setFields(r,n.idProperty,i),n.setModel(n.model,!0)):(t=Ext.define("Ext.data.reader.Json-Model"+Ext.id(),{extend:"Ext.data.Model",fields:r,clientIdProperty:i}),n.idProperty&&(t.idProperty=n.idProperty),n.setModel(t,!0))},getIdProperty:function(){return this.idProperty||this.model.prototype.idProperty},buildExtractors:function(e){var t,i,n,r=this,o=r.getIdProperty(),a=r.totalProperty,s=r.successProperty,l=r.messageProperty;e===!0&&delete r.convertRecordData,r.convertRecordData||(a&&(r.getTotal=r.createAccessor(a)),s&&(r.getSuccess=r.createAccessor(s)),l&&(r.getMessage=r.createAccessor(l)),o?(i=r.model.prototype.fields.get(o),i&&(n=i.mapping,o=void 0!==n&&null!==n?n:o),t=r.createAccessor(o),r.getId=function(e){var i=t.call(r,e);return void 0===i||""===i?null:i}):r.getId=function(){return null},r.convertRecordData=r.buildRecordDataExtractor(),r.lastFieldGeneration=r.model.prototype.fields.generation)},recordDataExtractorTemplate:["var me = this\n","    ,fields = me.model.prototype.fields\n","    ,value\n","    ,internalId\n",'<tpl for="fields">','    ,__field{#} = fields.get("{name}")\n',"</tpl>",";\n","return function(dest, source, record) {\n",'<tpl for="fields">','    value = {[ this.createFieldAccessExpression(values, "__field" + xindex, "source") ]};\n','<tpl if="hasCustomConvert">','    dest["{name}"] = value === undefined ? __field{#}.convert(__field{#}.defaultValue, record) : __field{#}.convert(value, record);\n','<tpl elseif="defaultValue !== undefined">',"    if (value === undefined) {\n","        if (me.applyDefaults) {\n",'<tpl if="convert">','            dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'            dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","        };\n","    } else {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    };","<tpl else>","    if (value !== undefined) {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    }\n","</tpl>","</tpl>",'<tpl if="clientIdProp">','    if (record && (internalId = {[ this.createFieldAccessExpression({mapping: values.clientIdProp}, null, "source") ]})) {\n','        record.{["internalId"]} = internalId;\n',"    }\n","</tpl>","};"],buildRecordDataExtractor:function(){var e=this,t=e.model.prototype,i={clientIdProp:t.clientIdProperty,fields:t.fields.items};return e.recordDataExtractorTemplate.createFieldAccessExpression=e.accessExpressionFn,Ext.functionFactory(e.recordDataExtractorTemplate.apply(i)).call(e)},destroyReader:function(){var e=this;delete e.proxy,delete e.model,delete e.convertRecordData,delete e.getId,delete e.getTotal,delete e.getSuccess,delete e.getMessage}},function(){var e=this.prototype;Ext.apply(e,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0}),recordDataExtractorTemplate:new Ext.XTemplate(e.recordDataExtractorTemplate)})}),Ext.define("Ext.data.reader.Json",{extend:"Ext.data.reader.Reader",alternateClassName:"Ext.data.JsonReader",alias:"reader.json",root:"",useSimpleAccessors:!1,readRecords:function(e){return e.metaData&&this.onMetaChange(e.metaData),this.jsonData=e,this.callParent([e])},getResponseData:function(e){var t,i;try{return t=Ext.decode(e.responseText),this.readRecords(t)}catch(t){return i=new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:t.message}),this.fireEvent("exception",this,e,i),Ext.Logger.warn("Unable to parse the JSON returned by the server"),i}},buildExtractors:function(){var e=this;e.callParent(arguments),e.root?e.getRoot=e.createAccessor(e.root):e.getRoot=function(e){return e}},extractData:function(e){var t,i,n=this.record,r=[];if(n)for(t=e.length,!t&&Ext.isObject(e)&&(t=1,e=[e]),i=0;i<t;i++)r[i]=e[i][n];else r=e;return this.callParent([r])},createAccessor:function(){var e=/[\[\.]/;return function(t){if(Ext.isEmpty(t))return Ext.emptyFn;if(Ext.isFunction(t))return t;if(this.useSimpleAccessors!==!0){var i=String(t).search(e);if(i>=0)return Ext.functionFactory("obj","return obj"+(i>0?".":"")+t)}return function(e){return e[t]}}}(),createFieldAccessExpression:function(){var e=/[\[\.]/;return function(t,i,n){var r,o,a=null!==t.mapping,s=a?t.mapping:t.name;return"function"==typeof s?r=i+".mapping("+n+", this)":this.useSimpleAccessors===!0||(o=String(s).search(e))<0?(a&&!isNaN(s)||(s='"'+s+'"'),r=n+"["+s+"]"):r=n+(o>0?".":"")+s,r}}()}),Ext.define("Ext.data.reader.Array",{extend:"Ext.data.reader.Json",alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",totalProperty:void 0,successProperty:void 0,createFieldAccessExpression:function(e,t,i){var n,r=null==e.mapping?e.originalIndex:e.mapping;return"function"==typeof r?n=t+".mapping("+i+", this)":(isNaN(r)&&(r='"'+r+'"'),n=i+"["+r+"]"),n}}),Ext.define("Ext.data.reader.Xml",{extend:"Ext.data.reader.Reader",alternateClassName:"Ext.data.XmlReader",alias:"reader.xml",createAccessor:function(e){var t=this;return Ext.isEmpty(e)?Ext.emptyFn:Ext.isFunction(e)?e:function(i){return t.getNodeValue(Ext.DomQuery.selectNode(e,i))}},getNodeValue:function(e){if(e&&e.firstChild)return e.firstChild.nodeValue},getResponseData:function(e){var t,i,n=e.responseXML;return n?this.readRecords(n):(i="XML data not found in the response",t=new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:i}),this.fireEvent("exception",this,e,t),Ext.Logger.warn(i),t)},getData:function(e){return e.documentElement||e},getRoot:function(e){var t=e.nodeName,i=this.root;return!i||t&&t==i?e:Ext.DomQuery.isXml(e)?Ext.DomQuery.selectNode(i,e):void 0},extractData:function(e){var t=this.record;return e=t!=e.nodeName?Ext.DomQuery.select(t,e):[e],this.callParent([e])},getAssociatedDataRoot:function(e,t){return Ext.DomQuery.select(t,e)[0]},readRecords:function(e){return Ext.isArray(e)&&(e=e[0]),this.xmlData=e,this.callParent([e])},createFieldAccessExpression:function(e,t,i){var n,r=e.mapping||e.name;return n="function"==typeof r?t+".mapping("+i+", this)":'me.getNodeValue(Ext.DomQuery.selectNode("'+r+'", '+i+"))"}}),Ext.define("Ext.data.writer.Json",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",root:void 0,encode:!1,allowSingle:!0,writeRecords:function(e,t){var i=this.root;return this.allowSingle&&1==t.length&&(t=t[0]),this.encode?i&&(e.params[i]=Ext.encode(t)):(e.jsonData=e.jsonData||{},i?e.jsonData[i]=t:e.jsonData=t),e}}),Ext.define("Ext.direct.Provider",{alias:"direct.provider",mixins:{observable:"Ext.util.Observable"},constructor:function(e){var t=this;Ext.apply(t,e),t.addEvents("connect","disconnect","data","exception"),t.mixins.observable.constructor.call(t,e)},isConnected:function(){return!1},connect:Ext.emptyFn,disconnect:Ext.emptyFn}),Ext.define("Ext.direct.JsonProvider",{extend:"Ext.direct.Provider",alias:"direct.jsonprovider",uses:["Ext.direct.ExceptionEvent"],parseResponse:function(e){return Ext.isEmpty(e.responseText)?null:Ext.isObject(e.responseText)?e.responseText:Ext.decode(e.responseText)},createEvents:function(e){var t,i,n=null,r=[],o=0;try{n=this.parseResponse(e)}catch(i){return t=new Ext.direct.ExceptionEvent({data:i,xhr:e,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+n}),[t]}if(Ext.isArray(n))for(i=n.length;o<i;++o)r.push(this.createEvent(n[o]));else r.push(this.createEvent(n));return r},createEvent:function(e){return Ext.create("direct."+e.type,e)}}),Ext.define("Ext.direct.PollingProvider",{extend:"Ext.direct.JsonProvider",alias:"direct.pollingprovider",uses:["Ext.direct.ExceptionEvent"],requires:["Ext.Ajax","Ext.util.DelayedTask"],interval:3e3,constructor:function(e){this.callParent(arguments),this.addEvents("beforepoll","poll")},isConnected:function(){return!!this.pollTask},connect:function(){var e=this,t=e.url;t&&!e.pollTask&&(e.pollTask=Ext.TaskManager.start({run:function(){e.fireEvent("beforepoll",e)!==!1&&(Ext.isFunction(t)?t(e.baseParams):Ext.Ajax.request({url:t,callback:e.onData,scope:e,params:e.baseParams}))},interval:e.interval,scope:e}),e.fireEvent("connect",e))},disconnect:function(){var e=this;e.pollTask&&(Ext.TaskManager.stop(e.pollTask),delete e.pollTask,e.fireEvent("disconnect",e))},onData:function(e,t,i){var n,r,o=this,a=0;if(t)for(r=o.createEvents(i),n=r.length;a<n;++a)o.fireEvent("data",o,r[a]);else o.fireEvent("data",o,new Ext.direct.ExceptionEvent({data:null,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:i}))}}),Ext.ns("Ext.fx"),Ext.require("Ext.fx.CubicBezier",function(){var e=Math,t=e.PI,i=e.pow,n=e.sin,r=e.sqrt,o=e.abs,a=1.70158;Ext.fx.Easing={},Ext.apply(Ext.fx.Easing,{linear:function(e){return e},ease:function(e){var t=.07813-e/2,n=r(.0066+t*t),a=n-t,s=i(o(a),1/3)*(a<0?-1:1),l=-n-t,d=i(o(l),1/3)*(l<0?-1:1),u=s+d+.25;return 3*i(1-u,2)*u*.1+3*(1-u)*u*u+u*u*u},easeIn:function(e){return i(e,1.7)},easeOut:function(e){return i(e,.48)},easeInOut:function(e){var t=.48-e/1.04,n=r(.1734+t*t),a=n-t,s=i(o(a),1/3)*(a<0?-1:1),l=-n-t,d=i(o(l),1/3)*(l<0?-1:1),u=s+d+.5;return 3*(1-u)*u*u+u*u*u},backIn:function(e){return e*e*((a+1)*e-a)},backOut:function(e){return e-=1,e*e*((a+1)*e+a)+1},elasticIn:function(e){if(0===e||1===e)return e;var r=.3,o=r/4;return i(2,-10*e)*n((e-o)*(2*t)/r)+1},elasticOut:function(e){return 1-Ext.fx.Easing.elasticIn(1-e)},bounceIn:function(e){return 1-Ext.fx.Easing.bounceOut(1-e)},bounceOut:function(e){var t,i=7.5625,n=2.75;return e<1/n?t=i*e*e:e<2/n?(e-=1.5/n,t=i*e*e+.75):e<2.5/n?(e-=2.25/n,t=i*e*e+.9375):(e-=2.625/n,t=i*e*e+.984375),t}}),Ext.apply(Ext.fx.Easing,{"back-in":Ext.fx.Easing.backIn,"back-out":Ext.fx.Easing.backOut,"ease-in":Ext.fx.Easing.easeIn,"ease-out":Ext.fx.Easing.easeOut,"elastic-in":Ext.fx.Easing.elasticIn,"elastic-out":Ext.fx.Easing.elasticIn,"bounce-in":Ext.fx.Easing.bounceIn,"bounce-out":Ext.fx.Easing.bounceOut,"ease-in-out":Ext.fx.Easing.easeInOut})}),Ext.define("Ext.fx.target.Component",{extend:"Ext.fx.target.Target",type:"component",getPropMethod:{top:function(){return this.getPosition(!0)[1]},left:function(){return this.getPosition(!0)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},compMethod:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(e,t){return[[this.target,void 0!==t?t:this.getPropMethod[e].call(this.target)]]},setAttr:function(e,t,i){var n,r,o,a,s,l,d,u,c,h,g,p=this,f=(p.target,e.length);for(a=0;a<f;a++){n=e[a].attrs;for(r in n){for(d=n[r].length,l={setPosition:{},setPagePosition:{},setSize:{},setOpacity:{}},s=0;s<d;s++)o=n[r][s],l[p.compMethod[r]].target=o[0],l[p.compMethod[r]][r]=o[1];l.setPosition.target&&(o=l.setPosition,u=void 0===o.left?void 0:parseFloat(o.left),c=void 0===o.top?void 0:parseFloat(o.top),o.target.setPosition(u,c)),l.setPagePosition.target&&(o=l.setPagePosition,o.target.setPagePosition(o.x,o.y)),l.setSize.target&&(o=l.setSize,h=void 0===o.width?o.target.getWidth():parseFloat(o.width),g=void 0===o.height?o.target.getHeight():parseFloat(o.height),i||p.dynamic?o.target.setSize(h,g):o.target.el.setSize(h,g)),l.setOpacity.target&&(o=l.setOpacity,o.target.el.setStyle("opacity",o.opacity))}}}}),Ext.define("Ext.fx.target.Element",{extend:"Ext.fx.target.Target",type:"element",getElVal:function(e,t,i){return void 0==i&&(i="x"===t?e.getX():"y"===t?e.getY():"scrollTop"===t?e.getScroll().top:"scrollLeft"===t?e.getScroll().left:"height"===t?e.getHeight():"width"===t?e.getWidth():e.getStyle(t)),i},getAttr:function(e,t){var i=this.target;return[[i,this.getElVal(i,e,t)]]},setAttr:function(e){var t,i,n,r,o,a,s,l,d=(this.target,e.length);for(r=0;r<d;r++){t=e[r].attrs;for(i in t)if(t.hasOwnProperty(i))for(a=t[i].length,o=0;o<a;o++)n=t[i][o],s=n[0],l=n[1],"x"===i?s.setX(l):"y"===i?s.setY(l):"scrollTop"===i?s.scrollTo("top",l):"scrollLeft"===i?s.scrollTo("left",l):"width"===i?s.setWidth(l):"height"===i?s.setHeight(l):s.setStyle(i,l)}}}),Ext.define("Ext.fx.target.CompositeElement",{extend:"Ext.fx.target.Element",isComposite:!0,constructor:function(e){e.id=e.id||Ext.id(null,"ext-composite-"),this.callParent([e])},getAttr:function(e,t){var i,n,r=[],o=this.target.elements,a=o.length;for(i=0;i<a;i++)n=o[i],n&&(n=this.target.getElement(n),r.push([n,this.getElVal(n,e,t)]));return r}}),Ext.define("Ext.fx.target.ElementCSS",{extend:"Ext.fx.target.Element",setAttr:function(e,t){var i,n,r,o,a,s,l,d,u,c={attrs:[],duration:[],easing:[]},h=e.length;for(l=0;l<h;l++){n=e[l],a=n.duration,o=n.easing,n=n.attrs;for(r in n)Ext.Array.indexOf(c.attrs,r)==-1&&(c.attrs.push(r.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})),c.duration.push(a+"ms"),c.easing.push(o))}for(i=c.attrs.join(","),a=c.duration.join(","),o=c.easing.join(", "),l=0;l<h;l++){n=e[l].attrs;for(r in n)for(u=n[r].length,d=0;d<u;d++)s=n[r][d],s[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",t?"":i),s[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",t?"":a),s[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",t?"":o),s[0].setStyle(r,s[1]),t?s=s[0].dom.offsetWidth:s[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},s[0],{single:!0})}}}),Ext.define("Ext.fx.target.CompositeElementCSS",{extend:"Ext.fx.target.CompositeElement",requires:["Ext.fx.target.ElementCSS"],setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}}),Ext.define("Ext.fx.target.Sprite",{extend:"Ext.fx.target.Target",type:"draw",getFromPrim:function(e,t){var i;switch(t){case"rotate":case"rotation":return i=e.attr.rotation,{x:i.x||0,y:i.y||0,degrees:i.degrees||0};case"scale":case"scaling":return i=e.attr.scaling,{x:i.x||1,y:i.y||1,cx:i.cx||0,cy:i.cy||0};case"translate":case"translation":return i=e.attr.translation,{x:i.x||0,y:i.y||0};default:return e.attr[t]}},getAttr:function(e,t){return[[this.target,void 0!=t?t:this.getFromPrim(this.target,e)]]},setAttr:function(e){var t,i,n,r,o,a,s,l,d,u,c,h,g=e.length,p=[];for(l=0;l<g;l++){t=e[l].attrs;for(i in t)for(n=t[i],h=n.length,d=0;d<h;d++)o=n[d][0],r=n[d][1],"translate"===i||"translation"===i?s={x:r.x,y:r.y}:"rotate"===i||"rotation"===i?(u=r.x,isNaN(u)&&(u=null),c=r.y,isNaN(c)&&(c=null),s={degrees:r.degrees,x:u,y:c}):"scale"===i||"scaling"===i?(u=r.x,isNaN(u)&&(u=null),c=r.y,isNaN(c)&&(c=null),s={x:u,y:c,cx:r.cx,cy:r.cy}):s="width"===i||"height"===i||"x"===i||"y"===i?parseFloat(r):r,a=Ext.Array.indexOf(p,o),a==-1&&(p.push([o,{}]),a=p.length-1),p[a][1][i]=s}for(g=p.length,l=0;l<g;l++)p[l][0].setAttributes(p[l][1]);this.target.redraw()}}),Ext.define("Ext.fx.target.CompositeSprite",{extend:"Ext.fx.target.Sprite",getAttr:function(e,t){var i,n,r=[],o=[].concat(this.target.items),a=o.length;for(i=0;i<a;i++)n=o[i],r.push([n,void 0!=t?t:this.getFromPrim(n,e)]);return r}}),Ext.define("Ext.layout.Layout",{requires:["Ext.XTemplate"],uses:["Ext.layout.Context"],
isLayout:!0,initialized:!1,running:!1,autoSizePolicy:{setsWidth:0,setsHeight:0},statics:{layoutsByType:{},create:function(e,t){var i,n,r,o,a,s,l=Ext.ClassManager,d=this.layoutsByType;if(e&&"string"!=typeof e){if(e.isLayout)return e;r=e,a=e.type||t}else a=e||t,r={};if(!(o=d[a])){if(i="layout."+a,n=l.getNameByAlias(i),n||(s=!0),o=l.get(n),s||!o)return l.instantiateByAlias(i,r||{});d[a]=o}return new o(r)}},constructor:function(e){var t=this;t.id=Ext.id(null,t.type+"-"),Ext.apply(t,e),t.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(e){var t,i=this,n=i.context;i.lastWidthModel!=e.widthModel&&(i.lastWidthModel&&(t=!0),i.lastWidthModel=e.widthModel),i.lastHeightModel!=e.heightModel&&(i.lastWidthModel&&(t=!0),i.lastHeightModel=e.heightModel),t&&((n=e.context).clearTriggers(i,!1),n.clearTriggers(i,!0),i.triggerCount=0)},finishedLayout:function(){this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(e){return this.autoSizePolicy},isItemBoxParent:function(e){return!1},isItemLayoutRoot:function(e){var t=e.getSizeModel(),i=t.width,n=t.height;return!(!e.componentLayout.lastComponentSize&&(i.calculated||n.calculated))&&(!i.shrinkWrap&&!n.shrinkWrap)},isItemShrinkWrap:function(e){return e.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(e,t){var i,n,r,o,a=e.length;if(a)for(o=[],i=0;i<a;++i)n=e[i],n.rendered||(t&&void 0!==t[n.id]?r=t[n.id]:(this.configureItem(n),r=n.getRenderTree(),t&&(t[n.id]=r)),r&&o.push(r));return o},finishRender:Ext.emptyFn,finishRenderItems:function(e,t){var i,n,r=t.length;for(i=0;i<r;i++)n=t[i],n.rendering&&(n.finishRender(i),this.afterRenderItem(n))},renderChildren:function(){var e=this,t=e.getLayoutItems(),i=e.getRenderTarget();e.renderItems(t,i)},renderItems:function(e,t){var i,n=this,r=e.length,o=0;if(r){for(Ext.suspendLayouts();o<r;o++)i=e[o],i&&!i.rendered?n.renderItem(i,t,o):n.isValidParent(i,t,o)?n.configureItem(i):n.moveItem(i,t,o);Ext.resumeLayouts(!0)}},isValidParent:function(e,t,i){var n=e.el?e.el.dom:Ext.getDom(e),r=t&&t.dom||t;return n.parentNode&&n.parentNode.className.indexOf(Ext.baseCSSPrefix+"resizable-wrap")!==-1&&(n=n.parentNode),!(!n||!r)&&("number"==typeof i?n===r.childNodes[i]:n.parentNode===r)},configureItem:function(e){e.ownerLayout=this},renderItem:function(e,t,i){var n=this;e.rendered||(n.configureItem(e),e.render(t,i),n.afterRenderItem(e))},moveItem:function(e,t,i){t=t.dom||t,"number"==typeof i&&(i=t.childNodes[i]),t.insertBefore(e.el.dom,i||null),e.container=Ext.get(t),this.configureItem(e)},onContentChange:function(){return this.owner.updateLayout(),!0},initLayout:function(){this.initialized=!0},setOwner:function(e){this.owner=e},getLayoutItems:function(){return[]},afterRenderItem:Ext.emptyFn,onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(e){var t,i=this,n=e.el,r=i.owner;e.rendered&&(t=[].concat(i.itemCls||[]),r.itemCls&&(t=Ext.Array.push(t,r.itemCls)),t.length&&n.removeCls(t)),delete e.ownerLayout},destroy:function(){var e,t=this;t.targetCls&&(e=t.getTarget(),e&&e.removeCls(t.targetCls)),t.onDestroy()},sortWeightedItems:function(e,t){for(var i=0,n=e.length;i<n;++i)e[i].$i=i;for(Ext.Array.sort(e,function(e,i){var n=i.weight-e.weight;return n||(n=e.$i-i.$i,e[t]&&(n=-n)),n}),i=0;i<n;++i)delete e[i].$i}},function(){var e,t,i,n,r,o=this,a={},s=[];o.prototype.sizeModels=o.sizeModels=a;var l=function(e){var t=this,i=e.name;Ext.apply(Ext.apply(t,d),e),t[i]=!0,l[i]=a[i]=t,t.fixed=!(t.auto=t.natural||t.shrinkWrap),t.ordinal=s.length,s.push(t)};Ext.layout.SizeModel=l;var d={calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null};for(new l({name:"calculated"}),new l({name:"configured",names:{width:"width",height:"height"}}),new l({name:"natural"}),new l({name:"shrinkWrap"}),new l({name:"calculatedFromConfigured",configured:!0,names:{width:"width",height:"height"}}),new l({name:"calculatedFromNatural",natural:!0}),new l({name:"calculatedFromShrinkWrap",shrinkWrap:!0}),new l({name:"constrainedMax",configured:!0,constrained:!0,names:{width:"maxWidth",height:"maxHeight"}}),new l({name:"constrainedMin",configured:!0,constrained:!0,names:{width:"minWidth",height:"minHeight"}}),e=0,i=s.length;e<i;++e)for(r=s[e],r.pairsByHeightOrdinal=n=[],t=0;t<i;++t)n.push({width:r,height:s[t]})}),Ext.define("Ext.layout.component.Component",{extend:"Ext.layout.Layout",type:"component",isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,beginLayoutCycle:function(e,t){var i,n,r,o,a=this,s=a.owner,l=e.ownerCtContext,d=e.heightModel,u=e.widthModel,c=s.el.dom===document.body,h=s.lastBox||a.nullBox,g=s.el.lastBox||a.nullBox,p=!c;a.callParent(arguments),t&&(a.usesContentWidth&&++e.consumersContentWidth,a.usesContentHeight&&++e.consumersContentHeight,a.usesWidth&&++e.consumersWidth,a.usesHeight&&++e.consumersHeight,l&&!l.hasRawContent&&(i=s.ownerLayout,i.usesWidth&&++e.consumersWidth,i.usesHeight&&++e.consumersHeight)),u.configured?(r=u.names.width,c||(p=t?s[r]!==g.width:u.constrained),e.setWidth(s[r],p)):e.isTopLevel&&(u.calculated&&(n=h.width,e.setWidth(n,n!=g.width)),n=h.x,e.setProp("x",n,n!=g.x)),d.configured?(o=d.names.height,c||(p=t?s[o]!==g.height:d.constrained),e.setHeight(s[o],p)):e.isTopLevel&&(d.calculated&&(n=h.height,e.setHeight(n,n!=g.height)),n=h.y,e.setProp("y",n,n!=g.y))},finishedLayout:function(e){var t,i,n,r,o,a,s=this,l=e.children,d=s.owner;if(l)for(t=l.length,i=0;i<t;i++)n=l[i],n.el.lastBox=n.props;e.previousSize=s.lastComponentSize,s.lastComponentSize=d.el.lastBox=o=e.props,d.lastBox=r={},a=o.x,void 0!==a&&(r.x=a),a=o.y,void 0!==a&&(r.y=a),a=o.width,void 0!==a&&(r.width=a),a=o.height,void 0!==a&&(r.height=a),s.callParent(arguments)},notifyOwner:function(e){var t=this,i=t.lastComponentSize,n=e.previousSize,r=[i.width,i.height];n&&r.push(n.width,n.height),t.owner.afterComponentLayout.apply(t.owner,r)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(e){var t,i=this,n=i.targetInfo;return n||(t=e.getEl("getTarget",i),i.targetInfo=n={padding:t.getPaddingInfo(),border:t.getBorderInfo()}),n},measureAutoDimensions:function(e,t){var i,n,r,o,a,s,l=this,d=l.owner,u=d.layout,c=e.heightModel,h=e.widthModel,g=e.boxParent,p=e.isBoxParent,f=e.props,m={gotWidth:!1,gotHeight:!1,isContainer:i=!e.hasRawContent},x=t||3,y=0,v=0;return h.shrinkWrap&&e.consumersContentWidth?(++y,n=!(1&x),i?n?(m.contentWidth=0,m.gotWidth=!0,++v):void 0!==(m.contentWidth=e.getProp("contentWidth"))&&(m.gotWidth=!0,++v):(a=f.contentWidth,"number"==typeof a?(m.contentWidth=a,m.gotWidth=!0,++v):(o=!!n||!!e.hasDomProp("containerChildrenDone")&&(!(!p&&g&&!g.widthModel.shrinkWrap)||g.hasDomProp("width")),o&&(s=n?0:u&&u.measureContentWidth?u.measureContentWidth(e):l.measureContentWidth(e),isNaN(m.contentWidth=s)||(e.setContentWidth(s,!0),m.gotWidth=!0,++v))))):h.natural&&e.consumersWidth&&(++y,a=f.width,"number"==typeof a?(m.width=a,m.gotWidth=!0,++v):(o=!(!p&&g)||g.hasDomProp("width"),o&&(isNaN(m.width=l.measureOwnerWidth(e))||(e.setWidth(m.width,!1),m.gotWidth=!0,++v)))),c.shrinkWrap&&e.consumersContentHeight?(++y,r=!(2&x),i?r?(m.contentHeight=0,m.gotHeight=!0,++v):void 0!==(m.contentHeight=e.getProp("contentHeight"))&&(m.gotHeight=!0,++v):(a=f.contentHeight,"number"==typeof a?(m.contentHeight=a,m.gotHeight=!0,++v):(o=!!r||!!e.hasDomProp("containerChildrenDone")&&(!!d.noWrap||(h.shrinkWrap?!(!p&&g&&!g.widthModel.shrinkWrap)||g.hasDomProp("width"):(e.bodyContext||e).hasDomProp("width"))),o&&(s=r?0:u&&u.measureContentHeight?u.measureContentHeight(e):l.measureContentHeight(e),isNaN(m.contentHeight=s)||(e.setContentHeight(s,!0),m.gotHeight=!0,++v))))):c.natural&&e.consumersHeight&&(++y,a=f.height,"number"==typeof a?(m.height=a,m.gotHeight=!0,++v):(o=!(!p&&g)||g.hasDomProp("width"),o&&(isNaN(m.height=l.measureOwnerHeight(e))||(e.setHeight(m.height,!1),m.gotHeight=!0,++v)))),g&&e.onBoxMeasured(),m.gotAll=v==y,m},measureContentWidth:function(e){return e.el.getWidth()-e.getFrameInfo().width},measureContentHeight:function(e){return e.el.getHeight()-e.getFrameInfo().height},measureOwnerHeight:function(e){return e.el.getHeight()},measureOwnerWidth:function(e){return e.el.getWidth()}}),Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:"Ext.layout.component.Component",type:"autocomponent",setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(e,t){var i=this,n=i.lastWidthModel,r=i.lastHeightModel,o=i.owner;i.callParent(arguments),n&&n.fixed&&e.widthModel.shrinkWrap&&o.el.setWidth(null),r&&r.fixed&&e.heightModel.shrinkWrap&&o.el.setHeight(null)},calculate:function(e){var t,i,n=this,r=n.measureAutoDimensions(e),o=e.heightModel,a=e.widthModel;r.gotWidth?a.shrinkWrap?n.publishOwnerWidth(e,r.contentWidth):n.publishInnerWidth&&n.publishInnerWidth(e,r.width):!a.auto&&n.publishInnerWidth&&(t=n.waitForOuterWidthInDom?e.getDomProp("width"):e.getProp("width"),void 0===t?n.done=!1:n.publishInnerWidth(e,t)),r.gotHeight?o.shrinkWrap?n.publishOwnerHeight(e,r.contentHeight):n.publishInnerHeight&&n.publishInnerHeight(e,r.height):!o.auto&&n.publishInnerHeight&&(i=n.waitForOuterHeightInDom?e.getDomProp("height"):e.getProp("height"),void 0===i?n.done=!1:n.publishInnerHeight(e,i)),r.gotAll||(n.done=!1)},calculateOwnerHeightFromContentHeight:function(e,t){return t+e.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(e,t){return t+e.getFrameInfo().width},publishOwnerHeight:function(e,t){var i,n,r,o=this,a=o.owner,s=o.calculateOwnerHeightFromContentHeight(e,t);isNaN(s)?o.done=!1:(i=Ext.Number.constrain(s,a.minHeight,a.maxHeight),i==s?n=o.setHeightInDom:(r=o.sizeModels[i<s?"constrainedMax":"constrainedMin"],s=i,e.heightModel.calculatedFromShrinkWrap?e.heightModel=r:e.invalidate({heightModel:r})),e.setHeight(s,n))},publishOwnerWidth:function(e,t){var i,n,r,o=this,a=o.owner,s=o.calculateOwnerWidthFromContentWidth(e,t);isNaN(s)?o.done=!1:(i=Ext.Number.constrain(s,a.minWidth,a.maxWidth),i==s?n=o.setWidthInDom:(r=o.sizeModels[i<s?"constrainedMax":"constrainedMin"],s=i,e.widthModel.calculatedFromShrinkWrap?e.widthModel=r:e.invalidate({widthModel:r})),e.setWidth(s,n))}}),Ext.define("Ext.layout.component.Draw",{alias:"layout.draw",extend:"Ext.layout.component.Auto",type:"draw",measureContentWidth:function(e){var t=e.target,i=e.getPaddingInfo(),n=this.getBBox(e);return t.viewBox?e.heightModel.shrinkWrap?i.width:n.width/n.height*(e.getProp("contentHeight")-i.height)+i.width:t.autoSize?n.width+i.width:n.x+n.width+i.width},measureContentHeight:function(e){var t=e.target,i=e.getPaddingInfo(),n=this.getBBox(e);return e.target.viewBox?e.widthModel.shrinkWrap?i.height:n.height/n.width*(e.getProp("contentWidth")-i.width)+i.height:t.autoSize?n.height+i.height:n.y+n.height+i.height},getBBox:function(e){var t=e.surfaceBBox;return t||(t=e.target.surface.items.getBBox(),t.width===-(1/0)&&t.height===-(1/0)&&(t.width=t.height=t.x=t.y=0),e.surfaceBBox=t),t},publishInnerWidth:function(e,t){e.setContentWidth(t-e.getFrameInfo().width,!0)},publishInnerHeight:function(e,t){e.setContentHeight(t-e.getFrameInfo().height,!0)},finishedLayout:function(e){var t=e.props,i=e.getPaddingInfo();this.owner.setSurfaceSize(t.contentWidth-i.width,t.contentHeight-i.height),this.callParent(arguments)}}),Ext.define("Ext.state.Provider",{mixins:{observable:"Ext.util.Observable"},prefix:"ext-",constructor:function(e){e=e||{};var t=this;Ext.apply(t,e),t.addEvents("statechange"),t.state={},t.mixins.observable.constructor.call(t)},get:function(e,t){return"undefined"==typeof this.state[e]?t:this.state[e]},clear:function(e){var t=this;delete t.state[e],t.fireEvent("statechange",t,e,null)},set:function(e,t){var i=this;i.state[e]=t,i.fireEvent("statechange",i,e,t)},decodeValue:function(e){var t,i,n,r,o,a,s=this,l=/^(a|n|d|b|s|o|e)\:(.*)$/,d=l.exec(unescape(e));if(d&&d[1])switch(i=d[1],e=d[2],i){case"e":return null;case"n":return parseFloat(e);case"d":return new Date(Date.parse(e));case"b":return"1"==e;case"a":if(t=[],""!=e)for(r=e.split("^"),o=r.length,a=0;a<o;a++)e=r[a],t.push(s.decodeValue(e));return t;case"o":if(t={},""!=e)for(r=e.split("^"),o=r.length,a=0;a<o;a++)e=r[a],n=e.split("="),t[n[0]]=s.decodeValue(n[1]);return t;default:return e}},encodeValue:function(e){var t,i,n,r="",o=0;if(null==e)return"e:1";if("number"==typeof e)t="n:"+e;else if("boolean"==typeof e)t="b:"+(e?"1":"0");else if(Ext.isDate(e))t="d:"+e.toGMTString();else if(Ext.isArray(e)){for(i=e.length;o<i;o++)r+=this.encodeValue(e[o]),o!=i-1&&(r+="^");t="a:"+r}else if("object"==typeof e){for(n in e)"function"!=typeof e[n]&&void 0!==e[n]&&(r+=n+"="+this.encodeValue(e[n])+"^");t="o:"+r.substring(0,r.length-1)}else t="s:"+e;return escape(t)}}),Ext.define("Ext.state.CookieProvider",{extend:"Ext.state.Provider",constructor:function(e){var t=this;t.path="/",t.expires=new Date((new Date).getTime()+6048e5),t.domain=null,t.secure=!1,t.callParent(arguments),t.state=t.readCookies()},set:function(e,t){var i=this;return"undefined"==typeof t||null===t?void i.clear(e):(i.setCookie(e,t),void i.callParent(arguments))},clear:function(e){this.clearCookie(e),this.callParent(arguments)},readCookies:function(){for(var e,t,i,n={},r=document.cookie+";",o=/\s?(.*?)=(.*?);/g,a=this.prefix,s=a.length;null!=(e=o.exec(r));)t=e[1],i=e[2],t&&t.substring(0,s)==a&&(n[t.substr(s)]=this.decodeValue(i));return n},setCookie:function(e,t){var i=this;document.cookie=i.prefix+e+"="+i.encodeValue(t)+(null==i.expires?"":"; expires="+i.expires.toGMTString())+(null==i.path?"":"; path="+i.path)+(null==i.domain?"":"; domain="+i.domain)+(1==i.secure?"; secure":"")},clearCookie:function(e){var t=this;document.cookie=t.prefix+e+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+(null==t.path?"":"; path="+t.path)+(null==t.domain?"":"; domain="+t.domain)+(1==t.secure?"; secure":"")}});Ext.define("Ext.state.LocalStorageProvider",{extend:"Ext.state.Provider",alias:"state.localstorage",constructor:function(){var e=this;e.callParent(arguments),e.store=e.getStorageObject(),e.state=e.readLocalStorage()},readLocalStorage:function(){for(var e,t=this.store,i=0,n=t.length,r=this.prefix,o=r.length,a={};i<n;++i)e=t.key(i),e.substring(0,o)==r&&(a[e.substr(o)]=this.decodeValue(t.getItem(e)));return a},set:function(e,t){var i=this;i.clear(e),"undefined"!=typeof t&&null!==t&&(i.store.setItem(i.prefix+e,i.encodeValue(t)),i.callParent(arguments))},clear:function(e){this.store.removeItem(this.prefix+e),this.callParent(arguments)},getStorageObject:function(){try{var e="localStorage"in window&&null!==window.localStorage;if(e)return window.localStorage}catch(e){return!1}}});Ext.define("Ext.state.Manager",{singleton:!0,requires:["Ext.state.Provider"],constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(e){this.provider=e},get:function(e,t){return this.provider.get(e,t)},set:function(e,t){this.provider.set(e,t)},clear:function(e){this.provider.clear(e)},getProvider:function(){return this.provider}}),Ext.define("Ext.state.Stateful",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.state.Manager"],stateful:!1,saveDelay:100,constructor:function(e){var t=this;e=e||{},void 0!==e.stateful&&(t.stateful=e.stateful),void 0!==e.saveDelay&&(t.saveDelay=e.saveDelay),t.stateId=t.stateId||e.stateId,t.stateEvents||(t.stateEvents=[]),e.stateEvents&&t.stateEvents.concat(e.stateEvents),this.addEvents("beforestaterestore","staterestore","beforestatesave","statesave"),t.mixins.observable.constructor.call(t),t.stateful!==!1&&(t.addStateEvents(t.stateEvents),t.initState())},addStateEvents:function(e){var t,i,n,r=this;if(r.stateful&&r.getStateId())for("string"==typeof e&&(e=Array.prototype.slice.call(arguments,0)),n=r.stateEventsByName||(r.stateEventsByName={}),t=e.length;t--;)i=e[t],n[i]||(n[i]=1,r.on(i,r.onStateChange,r))},onStateChange:function(){var e,t,i=this,n=i.saveDelay;i.stateful&&(n?(i.stateTask||(e=Ext.state.Stateful,t=e.runner||(e.runner=new Ext.util.TaskRunner),i.stateTask=t.newTask({run:i.saveState,scope:i,interval:n,repeat:1})),i.stateTask.start()):i.saveState())},saveState:function(){var e,t=this,i=t.stateful&&t.getStateId(),n=t.hasListeners;i&&(e=t.getState()||{},n.beforestatesave&&t.fireEvent("beforestatesave",t,e)===!1||(Ext.state.Manager.set(i,e),n.statesave&&t.fireEvent("statesave",t,e)))},getState:function(){return null},applyState:function(e){e&&Ext.apply(this,e)},getStateId:function(){var e=this;return e.stateId||(e.autoGenId?null:e.id)},initState:function(){var e,t=this,i=t.stateful&&t.getStateId(),n=t.hasListeners;i&&(e=Ext.state.Manager.get(i),e&&(e=Ext.apply({},e),n.beforestaterestore&&t.fireEvent("beforestaterestore",t,e)===!1||(t.applyState(e),n.staterestore&&t.fireEvent("staterestore",t,e))))},savePropToState:function(e,t,i){var n=this,r=n[e],o=n.initialConfig;return!(!n.hasOwnProperty(e)||o&&o[e]===r)&&(t&&(t[i||e]=r),!0)},savePropsToState:function(e,t){var i,n,r=this;if("string"==typeof e)r.savePropToState(e,t);else for(i=0,n=e.length;i<n;++i)r.savePropToState(e[i],t);return t},destroy:function(){var e=this,t=e.stateTask;t&&(t.destroy(),e.stateTask=null),e.clearListeners()}}),Ext.define("Ext.util.AbstractMixedCollection",{requires:["Ext.util.Filter"],mixins:{observable:"Ext.util.Observable"},isMixedCollection:!0,generation:0,constructor:function(e,t){var i=this;i.items=[],i.map={},i.keys=[],i.length=0,i.allowFunctions=e===!0,t&&(i.getKey=t),i.mixins.observable.constructor.call(i)},allowFunctions:!1,add:function(e,t){var i,n=this,r=t,o=e;if(1==arguments.length&&(r=o,o=n.getKey(r)),"undefined"!=typeof o&&null!==o){if(i=n.map[o],"undefined"!=typeof i)return n.replace(o,r);n.map[o]=r}return n.generation++,n.length++,n.items.push(r),n.keys.push(o),n.hasListeners.add&&n.fireEvent("add",n.length-1,r,o),r},getKey:function(e){return e.id},replace:function(e,t){var i,n,r=this;return 1==arguments.length&&(t=arguments[0],e=r.getKey(t)),i=r.map[e],"undefined"==typeof e||null===e||"undefined"==typeof i?r.add(e,t):(r.generation++,n=r.indexOfKey(e),r.items[n]=t,r.map[e]=t,r.hasListeners.replace&&r.fireEvent("replace",e,i,t),t)},addAll:function(e){var t,i,n,r=this,o=0;if(arguments.length>1||Ext.isArray(e))for(t=arguments.length>1?arguments:e,i=t.length;o<i;o++)r.add(t[o]);else for(n in e)e.hasOwnProperty(n)&&(r.allowFunctions||"function"!=typeof e[n])&&r.add(n,e[n])},each:function(e,t){for(var i,n=[].concat(this.items),r=0,o=n.length;r<o&&(i=n[r],e.call(t||i,i,r,o)!==!1);r++);},eachKey:function(e,t){for(var i=this.keys,n=this.items,r=0,o=i.length;r<o;r++)e.call(t||window,i[r],n[r],r,o)},findBy:function(e,t){for(var i=this.keys,n=this.items,r=0,o=n.length;r<o;r++)if(e.call(t||window,n[r],i[r]))return n[r];return null},find:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead."),this.findBy.apply(this,arguments)},insert:function(e,t,i){var n=this,r=t,o=i;return 2==arguments.length&&(o=r,r=n.getKey(o)),n.containsKey(r)&&(n.suspendEvents(),n.removeAtKey(r),n.resumeEvents()),e>=n.length?n.add(r,o):(n.generation++,n.length++,Ext.Array.splice(n.items,e,0,o),"undefined"!=typeof r&&null!==r&&(n.map[r]=o),Ext.Array.splice(n.keys,e,0,r),n.hasListeners.add&&n.fireEvent("add",e,o,r),o)},remove:function(e){return this.generation++,this.removeAt(this.indexOf(e))},removeAll:function(e){e=[].concat(e);var t,i=e.length;for(t=0;t<i;t++)this.remove(e[t]);return this},removeAt:function(e){var t,i,n=this;return e<n.length&&e>=0&&(n.length--,t=n.items[e],Ext.Array.erase(n.items,e,1),i=n.keys[e],"undefined"!=typeof i&&delete n.map[i],Ext.Array.erase(n.keys,e,1),n.hasListeners.remove&&n.fireEvent("remove",t,i),n.generation++,t)},removeAtKey:function(e){return this.removeAt(this.indexOfKey(e))},getCount:function(){return this.length},indexOf:function(e){return Ext.Array.indexOf(this.items,e)},indexOfKey:function(e){return Ext.Array.indexOf(this.keys,e)},get:function(e){var t=this,i=t.map[e],n=void 0!==i?i:"number"==typeof e?t.items[e]:void 0;return"function"!=typeof n||t.allowFunctions?n:null},getAt:function(e){return this.items[e]},getByKey:function(e){return this.map[e]},contains:function(e){return"undefined"!=typeof this.map[this.getKey(e)]},containsKey:function(e){return"undefined"!=typeof this.map[e]},clear:function(){var e=this;e.length=0,e.items=[],e.keys=[],e.map={},e.generation++,e.hasListeners.clear&&e.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(e,t,i,n){var r,o=this.extractValues(e,t),a=o.length,s=0;for(i=i||0,n=n||0===n?n:a-1,r=i;r<=n;r++)s+=o[r];return s},collect:function(e,t,i){var n,r,o,a=this.extractValues(e,t),s=a.length,l={},d=[];for(o=0;o<s;o++)n=a[o],r=String(n),!i&&Ext.isEmpty(n)||l[r]||(l[r]=!0,d.push(n));return d},extractValues:function(e,t){var i=this.items;return t&&(i=Ext.Array.pluck(i,t)),Ext.Array.pluck(i,e)},getRange:function(e,t){var i,n=this,r=n.items,o=[];if(r.length<1)return o;if(e=e||0,t=Math.min("undefined"==typeof t?n.length-1:t,n.length-1),e<=t)for(i=e;i<=t;i++)o[o.length]=r[i];else for(i=e;i>=t;i--)o[o.length]=r[i];return o},filter:function(e,t,i,n){var r,o=[];return Ext.isString(e)?o.push(new Ext.util.Filter({property:e,value:t,anyMatch:i,caseSensitive:n})):(Ext.isArray(e)||e instanceof Ext.util.Filter)&&(o=o.concat(e)),r=function(e){var t,i,n,r,a=!0,s=o.length;for(t=0;t<s;t++)i=o[t],n=i.filterFn,r=i.scope,a=a&&n.call(r,e);return a},this.filterBy(r)},filterBy:function(e,t){var i,n=this,r=new this.self,o=n.keys,a=n.items,s=a.length;for(r.getKey=n.getKey,i=0;i<s;i++)e.call(t||n,a[i],o[i])&&r.add(o[i],a[i]);return r},findIndex:function(e,t,i,n,r){return Ext.isEmpty(t,!1)?-1:(t=this.createValueMatcher(t,n,r),this.findIndexBy(function(i){return i&&t.test(i[e])},null,i))},findIndexBy:function(e,t,i){for(var n=this,r=n.keys,o=n.items,a=i||0,s=o.length;a<s;a++)if(e.call(t||n,o[a],r[a]))return a;return-1},createValueMatcher:function(e,t,i,n){if(!e.exec){var r=Ext.String.escapeRegex;e=String(e),t===!0?e=r(e):(e="^"+r(e),n===!0&&(e+="$")),e=new RegExp(e,i?"":"i")}return e},clone:function(){for(var e=this,t=new this.self,i=e.keys,n=e.items,r=0,o=n.length;r<o;r++)t.add(i[r],n[r]);return t.getKey=e.getKey,t}}),Ext.define("Ext.util.Grouper",{extend:"Ext.util.Sorter",isGrouper:!0,getGroupString:function(e){return e.get(this.property)}}),Ext.define("Ext.util.HashMap",{mixins:{observable:"Ext.util.Observable"},constructor:function(e){e=e||{};var t=this,i=e.keyFn;t.addEvents("add","clear","remove","replace"),t.mixins.observable.constructor.call(t,e),t.clear(!0),i&&(t.getKey=i)},getCount:function(){return this.length},getData:function(e,t){return void 0===t&&(t=e,e=this.getKey(t)),[e,t]},getKey:function(e){return e.id},add:function(e,t){var i=this;return void 0===t&&(t=e,e=i.getKey(t)),i.containsKey(e)?i.replace(e,t):(i.map[e]=t,++i.length,i.hasListeners.add&&i.fireEvent("add",i,e,t),t)},replace:function(e,t){var i,n=this,r=n.map;return void 0===t&&(t=e,e=n.getKey(t)),n.containsKey(e)||n.add(e,t),i=r[e],r[e]=t,n.hasListeners.replace&&n.fireEvent("replace",n,e,t,i),t},remove:function(e){var t=this.findKey(e);return void 0!==t&&this.removeAtKey(t)},removeAtKey:function(e){var t,i=this;return!!i.containsKey(e)&&(t=i.map[e],delete i.map[e],--i.length,i.hasListeners.remove&&i.fireEvent("remove",i,e,t),!0)},get:function(e){return this.map[e]},clear:function(e){var t=this;return t.map={},t.length=0,e!==!0&&t.hasListeners.clear&&t.fireEvent("clear",t),t},containsKey:function(e){return void 0!==this.map[e]},contains:function(e){return this.containsKey(this.findKey(e))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(e){var t,i=[],n=this.map;for(t in n)n.hasOwnProperty(t)&&i.push(e?t:n[t]);return i},each:function(e,t){var i,n=Ext.apply({},this.map),r=this.length;t=t||this;for(i in n)if(n.hasOwnProperty(i)&&e.call(t,i,n[i],r)===!1)break;return this},clone:function(){var e,t=new this.self,i=this.map;t.suspendEvents();for(e in i)i.hasOwnProperty(e)&&t.add(e,i[e]);return t.resumeEvents(),t},findKey:function(e){var t,i=this.map;for(t in i)if(i.hasOwnProperty(t)&&i[t]===e)return t}}),Ext.define("Ext.AbstractManager",{requires:["Ext.util.HashMap"],typeName:"type",constructor:function(e){Ext.apply(this,e||{}),this.all=new Ext.util.HashMap,this.types={}},get:function(e){return this.all.get(e)},register:function(e){this.all.add(e)},unregister:function(e){this.all.remove(e)},registerType:function(e,t){this.types[e]=t,t[this.typeName]=e},isRegistered:function(e){return void 0!==this.types[e]},create:function(e,t){var i=e[this.typeName]||e.type||t,n=this.types[i];return new n(e)},onAvailable:function(e,t,i){var n,r,o=this.all;o.containsKey(e)?(n=o.get(e),t.call(i||n,n)):(r=function(n,a,s){a==e&&(t.call(i||s,s),o.un("add",r))},o.on("add",r))},each:function(e,t){this.all.each(e,t||this)},getCount:function(){return this.all.getCount()}}),Ext.define("Ext.ComponentManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.ComponentMgr",singleton:!0,typeName:"xtype",create:function(e,t){return"string"==typeof e?Ext.widget(e):e.isComponent?e:Ext.widget(e.xtype||t,e)},registerType:function(e,t){this.types[e]=t,t[this.typeName]=e,t.prototype[this.typeName]=e}}),Ext.define("Ext.AbstractComponent",{requires:["Ext.ComponentQuery","Ext.ComponentManager","Ext.util.ProtoElement"],mixins:{observable:"Ext.util.Observable",animate:"Ext.util.Animate",elementCt:"Ext.util.ElementContainer",renderable:"Ext.util.Renderable",state:"Ext.state.Stateful"},uses:["Ext.PluginManager","Ext.Element","Ext.DomHelper","Ext.XTemplate","Ext.ComponentQuery","Ext.ComponentLoader","Ext.EventManager","Ext.layout.Context","Ext.layout.Layout","Ext.layout.component.Auto","Ext.LoadMask","Ext.ZIndexManager"],statics:{AUTO_ID:1e3,pendingLayouts:null,layoutSuspendCount:0,cancelLayout:function(e,t){var i=this.runningLayoutContext||this.pendingLayouts;i&&i.cancelComponent(e,!1,t)},flushLayouts:function(){var e=this,t=e.pendingLayouts;t&&t.invalidQueue.length&&(e.pendingLayouts=null,e.runningLayoutContext=t,Ext.override(t,{runComplete:function(){return e.runningLayoutContext=null,this.callParent()}}),t.run())},resumeLayouts:function(e){this.layoutSuspendCount&&!--this.layoutSuspendCount&&e&&this.flushLayouts()},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(e,t){var i,n=this,r=n.runningLayoutContext;r?r.queueInvalidate(e):(i=n.pendingLayouts||(n.pendingLayouts=new Ext.layout.Context),i.queueInvalidate(e),t||n.layoutSuspendCount||e.isLayoutSuspended()||n.flushLayouts())}},isComponent:!0,getAutoId:function(){return this.autoGenId=!0,++Ext.AbstractComponent.AUTO_ID},deferLayouts:!1,autoGenId:!1,renderTpl:"{%this.renderContent(out,values)%}",frameSize:{left:0,top:0,right:0,bottom:0,width:0,height:0},tplWriteMode:"overwrite",baseCls:Ext.baseCSSPrefix+"component",disabledCls:Ext.baseCSSPrefix+"item-disabled",ui:"default",uiCls:[],hidden:!1,disabled:!1,draggable:!1,floating:!1,hideMode:"display",styleHtmlContent:!1,styleHtmlCls:Ext.baseCSSPrefix+"html",autoShow:!1,autoRender:!1,allowDomMove:!0,rendered:!1,componentLayoutCounter:0,shrinkWrap:2,weight:0,maskOnDisable:!0,_isLayoutRoot:!1,constructor:function(e){var t,i,n,r=this;if(e?(Ext.apply(r,e),n=r.xhooks,n&&(delete r.xhooks,Ext.override(r,n))):e={},r.initialConfig=e,r.mixins.elementCt.constructor.call(r),r.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","boxready","beforedestroy","destroy","resize","move","focus","blur"),r.getId(),r.setupProtoEl(),r.cls&&(r.initialCls=r.cls,r.protoEl.addCls(r.cls)),r.style&&(r.initialStyle=r.style,r.protoEl.setStyle(r.style)),r.mons=[],r.renderData=r.renderData||{},r.renderSelectors=r.renderSelectors||{},r.plugins&&(r.plugins=r.constructPlugins()),r.hasListeners||(r.hasListeners=new r.HasListeners),r.initComponent(),Ext.ComponentManager.register(r),r.mixins.observable.constructor.call(r),r.mixins.state.constructor.call(r,e),this.addStateEvents("resize"),r.plugins)for(t=0,i=r.plugins.length;t<i;t++)r.plugins[t]=r.initPlugin(r.plugins[t]);r.loader=r.getLoader(),r.renderTo&&r.render(r.renderTo),r.autoShow&&!r.isContained&&r.show()},initComponent:function(){this.plugins=this.constructPlugins(),this.setSize(this.width,this.height)},getState:function(){var e=this,t=null,i=e.getSizeModel();return i.width.configured&&(t=e.addPropertyToState(t,"width")),i.height.configured&&(t=e.addPropertyToState(t,"height")),t},addPropertyToState:function(e,t,i){var n=this,r=arguments.length;return(3==r||n.hasOwnProperty(t))&&(r<3&&(i=n[t]),i!==n.initialConfig[t]&&((e||(e={}))[t]=i)),e},show:Ext.emptyFn,animate:function(e){var t,i,n,r,o,a,s,l,d,u,c,h,g=this;return e=e||{},o=e.to||{},Ext.fx.Manager.hasFxBlock(g.id)?g:(t=Ext.isDefined(o.width),t&&(r=Ext.Number.constrain(o.width,g.minWidth,g.maxWidth)),i=Ext.isDefined(o.height),i&&(n=Ext.Number.constrain(o.height,g.minHeight,g.maxHeight)),e.dynamic||!t&&!i||(l=(e.from?e.from.width:void 0)||g.getWidth(),d=l,u=(e.from?e.from.height:void 0)||g.getHeight(),c=u,h=!1,i&&n>u&&(c=n,h=!0),t&&r>l&&(d=r,h=!0),h&&(a=!Ext.isNumber(g.width),s=!Ext.isNumber(g.height),g.setSize(d,c),g.el.setSize(l,u),a&&delete g.width,s&&delete g.height),t&&(o.width=r),i&&(o.height=n)),g.mixins.animate.animate.apply(g,arguments))},onHide:function(){this.updateLayout({isRoot:!1})},onShow:function(){this.updateLayout({isRoot:!1})},constructPlugin:function(e){return e.ptype&&"function"!=typeof e.init?(e.cmp=this,e=Ext.PluginManager.create(e)):"string"==typeof e&&(e=Ext.PluginManager.create({ptype:e,cmp:this})),e},constructPlugins:function(){var e,t,i,n=this,r=[];if(n.plugins){for(e=Ext.isArray(n.plugins)?n.plugins:[n.plugins],t=0,i=e.length;t<i;t++)r[t]=n.constructPlugin(e[t]);return r}},initPlugin:function(e){return e.init(this),e},updateAria:Ext.emptyFn,registerFloatingItem:function(e){var t=this;t.floatingDescendants||(t.floatingDescendants=new Ext.ZIndexManager(t)),t.floatingDescendants.register(e)},unregisterFloatingItem:function(e){var t=this;t.floatingDescendants&&t.floatingDescendants.unregister(e)},layoutSuspendCount:0,suspendLayouts:function(){var e=this;e.rendered&&1==++e.layoutSuspendCount&&(e.suspendLayout=!0)},resumeLayouts:function(e){var t=this;t.rendered&&(--t.layoutSuspendCount||(t.suspendLayout=!1,e&&!t.isLayoutSuspended()&&t.updateLayout(e)))},setupProtoEl:function(){var e=this,t=[e.baseCls,e.getComponentLayout().targetCls];Ext.isDefined(e.cmpCls)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls."),e.componentCls=e.cmpCls,delete e.cmpCls),e.componentCls?t.push(e.componentCls):e.componentCls=e.baseCls,e.protoEl=new Ext.util.ProtoElement({cls:t.join(" ")})},setUI:function(e){var t,i,n=this,r=Ext.Array.clone(n.uiCls),o=[],a=[];for(i=0;i<r.length;i++)t=r[i],a=a.concat(n.removeClsWithUI(t,!0)),o.push(t);for(a.length&&n.removeCls(a),n.removeUIFromElement(),n.ui=e,n.addUIToElement(),a=[],i=0;i<o.length;i++)t=o[i],a=a.concat(n.addClsWithUI(t,!0));a.length&&n.addCls(a),n.rendered&&n.updateLayout()},addClsWithUI:function(e,t){var i,n,r=this,o=[],a=0;for("string"==typeof e&&(e=e.indexOf(" ")<0?[e]:Ext.String.splitWords(e)),i=e.length,r.uiCls=Ext.Array.clone(r.uiCls);a<i;a++)n=e[a],n&&!r.hasUICls(n)&&(r.uiCls.push(n),o=o.concat(r.addUIClsToElement(n)));return t!==!0&&r.addCls(o),o},removeClsWithUI:function(e,t){var i,n,r=this,o=[],a=0;for("string"==typeof e&&(e=e.indexOf(" ")<0?[e]:Ext.String.splitWords(e)),i=e.length,a=0;a<i;a++)n=e[a],n&&r.hasUICls(n)&&(r.uiCls=Ext.Array.remove(r.uiCls,n),o=o.concat(r.removeUIClsFromElement(n)));return t!==!0&&r.removeCls(o),o},hasUICls:function(e){var t=this,i=t.uiCls||[];
return Ext.Array.contains(i,e)},frameElementsArray:["tl","tc","tr","ml","mc","mr","bl","bc","br"],addUIClsToElement:function(e){var t,i,n,r,o,a,s=this,l=s.baseCls+"-"+s.ui+"-"+e,d=[Ext.baseCSSPrefix+e,s.baseCls+"-"+e,l],u=s.frameElementCls;if(s.frame&&!Ext.supports.CSS3BorderRadius)for(t=s.frameElementsArray,i=t.length,n=0;n<i;n++)o=t[n],r=s["frame"+o.toUpperCase()],a=l+"-"+o,r&&r.dom?r.addCls(a):Ext.Array.indexOf(u[o],a)==-1&&u[o].push(a);return s.frameElementCls=u,d},removeUIClsFromElement:function(e){var t,i,n,r,o,a,s=this,l=s.baseCls+"-"+s.ui+"-"+e,d=[Ext.baseCSSPrefix+e,s.baseCls+"-"+e,l],u=s.frameElementCls;if(s.frame&&!Ext.supports.CSS3BorderRadius)for(t=s.frameElementsArray,i=t.length,n=0;n<i;n++)o=t[n],r=s["frame"+o.toUpperCase()],a=l+"-"+o,r&&r.dom?r.addCls(a):Ext.Array.remove(u[o],a);return s.frameElementCls=u,d},addUIToElement:function(){var e,t,i,n,r,o,a=this,s=a.baseCls+"-"+a.ui,l=a.frameElementCls;if(a.addCls(s),a.frame&&!Ext.supports.CSS3BorderRadius)for(e=a.frameElementsArray,t=e.length,i=0;i<t;i++)r=e[i],n=a["frame"+r.toUpperCase()],o=s+"-"+r,n?n.addCls(o):Ext.Array.contains(l[r],o)||l[r].push(o)},removeUIFromElement:function(){var e,t,i,n,r,o,a=this,s=a.baseCls+"-"+a.ui,l=a.frameElementCls;if(a.removeCls(s),a.frame&&!Ext.supports.CSS3BorderRadius)for(e=a.frameElementsArray,t=e.length,i=0;i<t;i++)r=e[i],n=a["frame"+r.toUpperCase()],o=s+"-"+r,n?n.removeCls(o):Ext.Array.remove(l[r],o)},getTpl:function(e){return Ext.XTemplate.getTpl(this,e)},initStyles:function(e){var t,i,n=this,r=Ext.Element,o=n.padding,a=n.margin,s=n.x,l=n.y;void 0!==o&&e.setStyle("padding",r.unitizeBox(o===!0?5:o)),void 0!==a&&e.setStyle("margin",r.unitizeBox(a===!0?5:a)),void 0!==n.border&&n.setBorder(n.border,e),n.cls&&n.cls!=n.initialCls&&(e.addCls(n.cls),delete n.cls,delete n.initialCls),n.style&&n.style!=n.initialStyle&&(e.setStyle(n.style),delete n.style,delete n.initialStyle),void 0!==s&&e.setStyle("left","number"==typeof s?s+"px":s),void 0!==l&&e.setStyle("top","number"==typeof l?l+"px":l),n.getFrameInfo()||(t=n.width,i=n.height,void 0!==t&&("number"==typeof t?Ext.isBorderBox&&e.setStyle("width",t+"px"):e.setStyle("width",t)),void 0!==i&&("number"==typeof i?Ext.isBorderBox&&e.setStyle("height",i+"px"):e.setStyle("height",i)))},initEvents:function(){var e,t,i=this,n=i.afterRenderEvents,r=function(t){i.mon(e,t)};if(n)for(t in n)n.hasOwnProperty(t)&&(e=i[t],e&&e.on&&Ext.each(n[t],r));i.addFocusListener()},addFocusListener:function(){var e,t=this,i=t.getFocusEl();if(i){if(i.isComponent)return i.addFocusListener();e=i.needsTabIndex(),t.focusListenerAdded||e&&!Ext.FocusManager.enabled||(e&&(i.dom.tabIndex=-1),i.on({focus:t.onFocus,blur:t.onBlur,scope:t}),t.focusListenerAdded=!0)}},getFocusEl:Ext.emptyFn,isFocusable:function(e){var t,i=this;if(i.focusable!==!1&&(t=i.getFocusEl())&&i.rendered&&!i.destroying&&!i.isDestroyed&&!i.disabled&&i.isVisible(!0))return t.isComponent?t.isFocusable():t&&t.dom&&t.isVisible()},preFocus:Ext.emptyFn,onFocus:function(e){var t=this,i=t.focusCls,n=t.getFocusEl();t.disabled||(t.preFocus(e),i&&n&&n.addCls(t.addClsWithUI(i,!0)),t.hasFocus||(t.hasFocus=!0,t.fireEvent("focus",t,e)))},beforeBlur:Ext.emptyFn,onBlur:function(e){var t=this,i=t.focusCls,n=t.getFocusEl();t.destroying||(t.beforeBlur(e),i&&n&&n.removeCls(t.removeClsWithUI(i,!0)),t.validateOnBlur&&t.validate(),t.hasFocus=!1,t.fireEvent("blur",t,e),t.postBlur(e))},postBlur:Ext.emptyFn,is:function(e){return Ext.ComponentQuery.is(this,e)},up:function(e){var t=this.getBubbleTarget();if(e)for(;t;t=t.getBubbleTarget())if(Ext.ComponentQuery.is(t,e))return t;return t},nextSibling:function(e){var t,i,n,r,o=this.ownerCt;if(o&&(t=o.items,n=t.indexOf(this)+1))if(e){for(i=t.getCount();n<i;n++)if((r=t.getAt(n)).is(e))return r}else if(n<t.getCount())return t.getAt(n);return null},previousSibling:function(e){var t,i,n,r=this.ownerCt;if(r&&(t=r.items,i=t.indexOf(this),i!=-1))if(e){for(--i;i>=0;i--)if((n=t.getAt(i)).is(e))return n}else if(i)return t.getAt(--i);return null},previousNode:function(e,t){var i,n,r,o,a=this,s=a.ownerCt;if(t&&a.is(e))return a;if(s){for(n=s.items.items,r=Ext.Array.indexOf(n,a)-1;r>-1;r--){if(o=n[r],o.query&&(i=o.query(e),i=i[i.length-1]))return i;if(o.is(e))return o}return s.previousNode(e,!0)}return null},nextNode:function(e,t){var i,n,r,o,a,s=this,l=s.ownerCt;if(t&&s.is(e))return s;if(l){for(n=l.items.items,o=Ext.Array.indexOf(n,s)+1,r=n.length;o<r;o++){if(a=n[o],a.is(e))return a;if(a.down&&(i=a.down(e)))return i}return l.nextNode(e)}return null},getId:function(){return this.id||(this.id="ext-comp-"+this.getAutoId())},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},getOverflowStyle:function(){var e=this,t=null;return"boolean"==typeof e.autoScroll?t={overflow:e.autoScroll?"auto":""}:void 0===e.overflowX&&void 0===e.overflowY||(t={"overflow-x":e.overflowX||"","overflow-y":e.overflowY||""}),t&&(Ext.isIE6||Ext.isIE7)&&(t.position="relative"),t},isXType:function(e,t){return t?this.xtype===e:this.xtypesMap[e]},getXTypes:function(){var e,t,i,n=this.self;if(!n.xtypes){for(e=[],t=this;t;)i=t.xtypes,void 0!==i&&e.unshift.apply(e,i),t=t.superclass;n.xtypeChain=e,n.xtypes=e.join("/")}return n.xtypes},update:function(e,t,i){var n=this;n.tpl&&!Ext.isString(e)?(n.data=e,n.rendered&&n.tpl[n.tplWriteMode](n.getTargetEl(),e||{})):(n.html=Ext.isObject(e)?Ext.DomHelper.markup(e):e,n.rendered&&n.getTargetEl().update(n.html,t,i)),n.rendered&&n.updateLayout()},setVisible:function(e){return this[e?"show":"hide"]()},isVisible:function(e){var t=this,i=t,n=t.rendered&&!t.hidden,r=t.ownerCt;if(t.hiddenAncestor=!1,t.destroyed)return!1;if(e&&n&&r)for(;r;){if(r.hidden||r.collapsed&&(!r.getDockedItems||!Ext.Array.contains(r.getDockedItems(),i))){t.hiddenAncestor=r,n=!1;break}i=r,r=r.ownerCt}return n},onBoxReady:function(){var e=this;e.disableOnBoxReady?e.onDisable():e.enableOnBoxReady&&e.onEnable(),e.resizable&&e.initResizable(e.resizable),e.draggable&&e.initDraggable()},enable:function(e){var t=this;return delete t.disableOnBoxReady,t.removeCls(t.disabledCls),t.rendered?t.onEnable():t.enableOnBoxReady=!0,t.disabled=!1,delete t.resetDisable,e!==!0&&t.fireEvent("enable",t),t},disable:function(e){var t=this;return delete t.enableOnBoxReady,t.addCls(t.disabledCls),t.rendered?t.onDisable():t.disableOnBoxReady=!0,t.disabled=!0,e!==!0&&(delete t.resetDisable,t.fireEvent("disable",t)),t},onEnable:function(){this.maskOnDisable&&(this.el.dom.disabled=!1,this.unmask())},onDisable:function(){var e=this,t=e.focusCls,i=e.getFocusEl();t&&i&&i.removeCls(e.removeClsWithUI(t,!0)),e.maskOnDisable&&(e.el.dom.disabled=!0,e.mask())},mask:function(){var e=this.lastBox,t=this.getMaskTarget(),i=[];e&&(i[2]=e.height),t.mask.apply(t,i)},unmask:function(){this.getMaskTarget().unmask()},getMaskTarget:function(){return this.el},isDisabled:function(){return this.disabled},setDisabled:function(e){return this[e?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(e){var t=this,i=t.rendered?t.el:t.protoEl;return i.addCls.apply(i,arguments),t},addClass:function(){return this.addCls.apply(this,arguments)},hasCls:function(e){var t=this,i=t.rendered?t.el:t.protoEl;return i.hasCls.apply(i,arguments)},removeCls:function(e){var t=this,i=t.rendered?t.el:t.protoEl;return i.removeCls.apply(i,arguments),t},addOverCls:function(){var e=this;e.disabled||e.el.addCls(e.overCls)},removeOverCls:function(){this.el.removeCls(this.overCls)},addListener:function(e,t,i,n){var r,o,a=this;if(Ext.isString(e)&&(Ext.isObject(t)||n&&n.element)){if(n.element){r=t,t={},t[e]=r,e=n.element,i&&(t.scope=i);for(o in n)n.hasOwnProperty(o)&&a.eventOptionsRe.test(o)&&(t[o]=n[o])}a[e]&&a[e].on?a.mon(a[e],t):(a.afterRenderEvents=a.afterRenderEvents||{},a.afterRenderEvents[e]||(a.afterRenderEvents[e]=[]),a.afterRenderEvents[e].push(t))}return a.mixins.observable.addListener.apply(a,arguments)},removeManagedListenerItem:function(e,t,i,n,r,o){var a=this,s=t.options?t.options.element:null;return s?(s=a[s],void(s&&s.un&&(!e&&(t.item!==i||t.ename!==n||r&&t.fn!==r||o&&t.scope!==o)||(s.un(t.ename,t.fn,t.scope),e||Ext.Array.remove(a.managedListeners,t))))):a.mixins.observable.removeManagedListenerItem.apply(a,arguments)},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},onAdded:function(e,t){var i=this;i.ownerCt=e,i.hasListeners.added&&i.fireEvent("added",i,e,t)},onRemoved:function(e){var t=this;t.hasListeners.removed&&t.fireEvent("removed",t,t.ownerCt),delete t.ownerCt,delete t.ownerLayout},beforeDestroy:Ext.emptyFn,onResize:Ext.emptyFn,setSize:function(e,t){var i=this;return e&&"object"==typeof e&&(t=e.height,e=e.width),"number"==typeof e?i.width=Ext.Number.constrain(e,i.minWidth,i.maxWidth):null===e&&delete i.width,"number"==typeof t?i.height=Ext.Number.constrain(t,i.minHeight,i.maxHeight):null===t&&delete i.height,i.rendered&&i.isVisible()&&i.updateLayout({isRoot:!1}),i},isLayoutRoot:function(){var e=this,t=e.ownerLayout;return!(t&&!e._isLayoutRoot&&!e.floating)||t.isItemLayoutRoot(e)},isLayoutSuspended:function(){for(var e,t=this;t;){if(t.layoutSuspendCount||t.suspendLayout)return!0;if(e=t.ownerLayout,!e)break;t=e.owner}return!1},updateLayout:function(e){var t,i=this,n=e&&e.isRoot;!i.rendered||i.layoutSuspendCount||i.suspendLayout||(i.hidden?Ext.AbstractComponent.cancelLayout(i):"boolean"!=typeof n&&(n=i.isLayoutRoot()),!n&&i.ownerLayout&&i.ownerLayout.onContentChange(i)||i.isLayoutSuspended()||(t=e&&e.hasOwnProperty("defer")?e.defer:i.deferLayouts,Ext.AbstractComponent.updateLayout(i,t)))},getSizeModel:function(e){var t,i,n,r,o,a,s,l,d,u,c=this,h=Ext.layout.SizeModel,g=c.componentLayout.ownerContext,p=c.width,f=c.height;return g&&(u=g.widthModel,o=g.heightModel),u&&o||(n="number"==(t=typeof p),r="number"==(i=typeof f),d=c.floating||!(a=c.ownerLayout),d?(s=Ext.layout.Layout.prototype.autoSizePolicy,l=c.floating?3:c.shrinkWrap,n&&(u=h.configured),r&&(o=h.configured)):(s=a.getItemSizePolicy(c,e),l=a.isItemShrinkWrap(c)),l=l===!0?3:l||0,d&&l&&(p&&"string"==t&&(l&=2),f&&"string"==i&&(l&=1)),3!==l&&(e||(e=c.ownerCt&&c.ownerCt.getSizeModel()),e&&(l|=(e.width.shrinkWrap?1:0)|(e.height.shrinkWrap?2:0))),u||(u=s.setsWidth?s.readsWidth?n?h.calculatedFromConfigured:1&l?h.calculatedFromShrinkWrap:h.calculatedFromNatural:h.calculated:n?h.configured:1&l?h.shrinkWrap:h.natural),o||(o=s.setsHeight?s.readsHeight?r?h.calculatedFromConfigured:2&l?h.calculatedFromShrinkWrap:h.calculatedFromNatural:h.calculated:r?h.configured:2&l?h.shrinkWrap:h.natural)),u.pairsByHeightOrdinal[o.ordinal]},isDescendant:function(e){if(e.isContainer)for(var t=this.ownerCt;t;t=t.ownerCt)if(t===e)return!0;return!1},doComponentLayout:function(){return this.updateLayout(),this},forceComponentLayout:function(){this.updateLayout()},setComponentLayout:function(e){var t=this.componentLayout;t&&t.isLayout&&t!=e&&t.setOwner(null),this.componentLayout=e,e.setOwner(this)},getComponentLayout:function(){var e=this;return e.componentLayout&&e.componentLayout.isLayout||e.setComponentLayout(Ext.layout.Layout.create(e.componentLayout,"autocomponent")),e.componentLayout},afterComponentLayout:function(e,t,i,n){var r,o,a,s,l=this;if(1===++l.componentLayoutCounter&&l.afterFirstLayout(e,t),l.floatingItems)for(r=l.floatingItems.items,o=r.length,a=0;a<o;a++)s=r[a],!s.rendered&&s.autoShow&&s.show();!l.hasListeners.resize||e===i&&t===n||l.fireEvent("resize",l,e,t,i,n)},beforeComponentLayout:function(e,t){return!0},setPosition:function(e,t,i){var n=this,r=n.beforeSetPosition.apply(n,arguments);return r&&n.rendered&&(r=n.convertPosition(r),r.left===n.el.getLeft()&&r.top===n.el.getTop()||(i?(n.stopAnimation(),n.animate(Ext.apply({duration:1e3,listeners:{afteranimate:Ext.Function.bind(n.afterSetPosition,n,[r.left,r.top])},to:r},i))):(void 0!==r.left&&void 0!==r.top?n.el.setLeftTop(r.left,r.top):void 0!==r.left?n.el.setLeft(r.left):void 0!==r.top&&n.el.setTop(r.top),n.afterSetPosition(r.left,r.top)))),n},beforeSetPosition:function(e,t,i){var n,r;return n=!e||Ext.isNumber(e)?{x:e,y:t,anim:i}:Ext.isNumber(r=e[0])?{x:r,y:e[1],anim:t}:{x:e.x,y:e.y,anim:t},n.hasX=Ext.isNumber(n.x),n.hasY=Ext.isNumber(n.y),this.x=n.x,this.y=n.y,n.hasX||n.hasY?n:null},afterSetPosition:function(e,t){var i=this;i.onPosition(e,t),i.hasListeners.move&&i.fireEvent("move",i,e,t)},convertPosition:function(e,t){var i={},n=Ext.Element;return e.hasX&&(i.left=t?n.addUnits(e.x):e.x),e.hasY&&(i.top=t?n.addUnits(e.y):e.y),i},onPosition:Ext.emptyFn,setWidth:function(e){return this.setSize(e)},setHeight:function(e){return this.setSize(void 0,e)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},getLoader:function(){var e=this,t=e.autoLoad?Ext.isObject(e.autoLoad)?e.autoLoad:{url:e.autoLoad}:null,i=e.loader||t;return i?(i.isLoader?i.setTarget(e):e.loader=new Ext.ComponentLoader(Ext.apply({target:e,autoLoad:t},i)),e.loader):null},setDocked:function(e,t){var i=this;return i.dock=e,t&&i.ownerCt&&i.rendered&&i.ownerCt.updateLayout(),i},setBorder:function(e,t){var i=this,n=!!t;(i.rendered||n)&&(n||(t=i.el),e=e?Ext.Element.unitizeBox(e===!0?1:e):0,t.setStyle("border-width",e),n||i.updateLayout()),i.border=e},onDestroy:function(){var e=this;e.monitorResize&&Ext.EventManager.resizeEvent&&Ext.EventManager.resizeEvent.removeListener(e.setSize,e),Ext.destroy(e.componentLayout,e.loadMask,e.floatingDescendants)},destroy:function(){var e,t,i=this,n=i.renderSelectors;if(!(i.isDestroyed||i.hasListeners.beforedestroy&&i.fireEvent("beforedestroy",i)===!1)){if(i.destroying=!0,i.beforeDestroy(),i.floating?(delete i.floatParent,i.zIndexManager&&i.zIndexManager.unregister(i)):i.ownerCt&&i.ownerCt.remove&&i.ownerCt.remove(i,!1),i.onDestroy(),Ext.destroy(i.plugins),i.hasListeners.destroy&&i.fireEvent("destroy",i),Ext.ComponentManager.unregister(i),i.mixins.state.destroy.call(i),i.clearListeners(),i.rendered){if(i.preserveElOnDestroy||i.el.remove(),i.mixins.elementCt.destroy.call(i),n)for(e in n)n.hasOwnProperty(e)&&(t=i[e],t&&(delete i[e],t.remove()));delete i.el,delete i.frameBody,delete i.rendered}i.destroying=!1,i.isDestroyed=!0}},getPlugin:function(e){for(var t=0,i=this.plugins,n=i.length;t<n;t++)if(i[t].pluginId===e)return i[t]},isDescendantOf:function(e){return!!this.findParentBy(function(t){return t===e})}},function(){var e=this;e.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"}),Ext.resumeLayouts=function(t){e.resumeLayouts(t)},Ext.suspendLayouts=function(){e.suspendLayouts()},Ext.batchLayouts=function(t,i){e.suspendLayouts(),t.call(i),e.resumeLayouts(!0)}}),Ext.define("Ext.ModelManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.ModelMgr",requires:["Ext.data.association.Association"],singleton:!0,typeName:"mtype",associationStack:[],registerType:function(e,t){var i,n=t.prototype;return n&&n.isModel?i=t:(t.extend||(t.extend="Ext.data.Model"),i=Ext.define(e,t)),this.types[e]=i,i},onModelDefined:function(e){var t,i,n,r=this.associationStack,o=r.length,a=[];for(i=0;i<o;i++)t=r[i],t.associatedModel==e.modelName&&a.push(t);for(i=0,o=a.length;i<o;i++)n=a[i],this.types[n.ownerModel].prototype.associations.add(Ext.data.association.Association.create(n)),Ext.Array.remove(r,n)},registerDeferredAssociation:function(e){this.associationStack.push(e)},getModel:function(e){var t=e;return"string"==typeof t&&(t=this.types[t]),t},create:function(e,t,i){var n="function"==typeof t?t:this.types[t||e.name];return new n(e,i)}},function(){Ext.regModel=function(){return this.ModelManager.registerType.apply(this.ModelManager,arguments)}}),Ext.define("Ext.PluginManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.PluginMgr",singleton:!0,typeName:"ptype",create:function(e,t){return e.init?e:Ext.createByAlias("plugin."+(e.ptype||t),e)},findByType:function(e,t){var i,n,r=[],o=this.types;for(i in o)o.hasOwnProperty(i)&&(n=o[i],n.type==e&&(!t||t===!0&&n.isDefault)&&r.push(n));return r}},function(){Ext.preg=function(){return Ext.PluginManager.registerType.apply(Ext.PluginManager,arguments)}}),Ext.define("Ext.fx.Queue",{requires:["Ext.util.HashMap"],constructor:function(){this.targets=new Ext.util.HashMap,this.fxQueue={}},getFxDefaults:function(e){var t=this.targets.get(e);return t?t.fxDefaults:{}},setFxDefaults:function(e,t){var i=this.targets.get(e);i&&(i.fxDefaults=Ext.apply(i.fxDefaults||{},t))},stopAnimation:function(e){for(var t=this,i=t.getFxQueue(e),n=i.length;n;)i[n-1].end(),n--},getActiveAnimation:function(e){var t=this.getFxQueue(e);return!(!t||!t.length)&&t[0]},hasFxBlock:function(e){var t=this.getFxQueue(e);return t&&t[0]&&t[0].block},getFxQueue:function(e){if(!e)return!1;var t=this,i=t.fxQueue[e],n=t.targets.get(e);return!!n&&(i||(t.fxQueue[e]=[],"element"!=n.type&&n.target.on("destroy",function(){t.fxQueue[e]=[]})),t.fxQueue[e])},queueFx:function(e){var t,i,n=this,r=e.target;r&&(t=n.getFxQueue(r.getId()),i=t.length,i?e.concurrent?e.paused=!1:t[i-1].on("afteranimate",function(){e.paused=!1}):e.paused=!1,e.on("afteranimate",function(){if(Ext.Array.remove(t,e),e.remove&&"element"==r.type){var i=Ext.get(r.id);i&&i.remove()}},this),t.push(e))}}),Ext.define("Ext.util.LruCache",{extend:"Ext.util.HashMap",constructor:function(e){Ext.apply(this,e),this.callParent([e])},add:function(e,t){var i,n=this,r=n.findKey(t);return r?(n.unlinkEntry(i=n.map[r]),i.prev=n.last,i.next=null):i={prev:n.last,next:null,key:e,value:t},n.last?n.last.next=i:n.first=i,n.last=i,n.callParent([e,i]),n.prune(),t},insertBefore:function(e,t,i){var n,r,o=this;return(i=this.map[this.findKey(i)])?(n=o.findKey(t),n?o.unlinkEntry(r=o.map[n]):r={prev:i.prev,next:i,key:e,value:t},i.prev?r.prev.next=r:o.first=r,r.next=i,i.prev=r,o.prune(),t):o.add(e,t)},get:function(e){var t=this.map[e];if(t)return t.next&&this.moveToEnd(t),t.value},removeAtKey:function(e){return this.unlinkEntry(this.map[e]),this.callParent(arguments)},clear:function(e){return this.first=this.last=null,this.callParent(arguments)},unlinkEntry:function(e){e&&(e.next?e.next.prev=e.prev:this.last=e.prev,e.prev?e.prev.next=e.next:this.first=e.next,e.prev=e.next=null)},moveToEnd:function(e){this.unlinkEntry(e),(e.prev=this.last)?this.last.next=e:this.first=e,this.last=e},getArray:function(e){for(var t=[],i=this.first;i;)t.push(e?i.key:i.value),i=i.next;return t},each:function(e,t,i){var n=this,r=i?n.last:n.first,o=n.length;for(t=t||n;r&&e.call(t,r.key,r.value,o)!==!1;)r=i?r.prev:r.next;return n},findKey:function(e){var t,i=this.map;for(t in i)if(i.hasOwnProperty(t)&&i[t].value===e)return t},prune:function(){var e=this,t=e.maxSize?e.length-e.maxSize:0;if(t>0)for(;e.first&&t;t--)e.removeAtKey(e.first.key)}}),Ext.define("Ext.util.Point",{extend:"Ext.util.Region",statics:{fromEvent:function(e){return e=e.changedTouches&&e.changedTouches.length>0?e.changedTouches[0]:e,new this(e.pageX,e.pageY)}},constructor:function(e,t){this.callParent([t,e,t,e])},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(e){return this.x==e.x&&this.y==e.y},isWithin:function(e,t){return Ext.isObject(t)||(t={x:t,y:t}),this.x<=e.x+t.x&&this.x>=e.x-t.x&&this.y<=e.y+t.y&&this.y>=e.y-t.y},roundedEquals:function(e){return Math.round(this.x)==Math.round(e.x)&&Math.round(this.y)==Math.round(e.y)}},function(){this.prototype.translate=Ext.util.Region.prototype.translateBy}),Ext.define("Ext.util.Sortable",{isSortable:!0,defaultSortDirection:"ASC",requires:["Ext.util.Sorter"],initSortable:function(){var e=this,t=e.sorters;e.sorters=new Ext.util.AbstractMixedCollection(!1,function(e){return e.id||e.property}),t&&e.sorters.addAll(e.decodeSorters(t))},sort:function(e,t,i,n){var r,o,a=this;return Ext.isArray(e)?(n=i,i=t,o=e):Ext.isObject(e)?(n=i,i=t,o=[e]):Ext.isString(e)&&(r=a.sorters.get(e),r?void 0===t?r.toggle():r.setDirection(t):(r={property:e,direction:t},o=[r])),o&&o.length&&(o=a.decodeSorters(o),Ext.isString(i)?"prepend"===i?(e=a.sorters.clone().items,a.sorters.clear(),a.sorters.addAll(o),a.sorters.addAll(e)):a.sorters.addAll(o):(a.sorters.clear(),a.sorters.addAll(o))),n!==!1&&(a.onBeforeSort(o),e=a.sorters.items,e.length&&a.doSort(a.generateComparator())),e},generateComparator:function(){var e=this.sorters.getRange();return e.length?this.createComparator(e):this.emptyComparator},createComparator:function(e){return function(t,i){for(var n=e[0].sort(t,i),r=e.length,o=1;o<r;o++)n=n||e[o].sort.call(this,t,i);return n}},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(e){Ext.isArray(e)||(e=void 0===e?[]:[e]);var t,i,n,r=e.length,o=Ext.util.Sorter,a=this.model?this.model.prototype.fields:null;for(n=0;n<r;n++)i=e[n],i instanceof o||(Ext.isString(i)&&(i={property:i}),Ext.applyIf(i,{root:this.sortRoot,direction:"ASC"}),i.fn&&(i.sorterFn=i.fn),"function"==typeof i&&(i={sorterFn:i}),a&&!i.transform&&(t=a.get(i.property),i.transform=t?t.sortType:void 0),e[n]=new Ext.util.Sorter(i));return e},getSorters:function(){return this.sorters.items},getFirstSorter:function(){for(var e,t=this.sorters.items,i=t.length,n=0;n<i;++n)if(e=t[n],!e.isGrouper)return e;return null}}),Ext.define("Ext.util.MixedCollection",{extend:"Ext.util.AbstractMixedCollection",mixins:{sortable:"Ext.util.Sortable"},constructor:function(){var e=this;e.callParent(arguments),e.addEvents("sort"),e.mixins.sortable.initSortable.call(e)},doSort:function(e){this.sortBy(e)},_sort:function(e,t,i){var n,r,o=this,a="DESC"==String(t).toUpperCase()?-1:1,s=[],l=o.keys,d=o.items;for(i=i||function(e,t){return e-t},n=0,r=d.length;n<r;n++)s[s.length]={key:l[n],value:d[n],index:n};for(Ext.Array.sort(s,function(t,n){var r=i(t[e],n[e])*a;return 0===r&&(r=t.index<n.index?-1:1),r}),n=0,r=s.length;n<r;n++)d[n]=s[n].value,l[n]=s[n].key;o.fireEvent("sort",o)},sortBy:function(e){var t,i=this,n=i.items,r=i.keys,o=n.length,a=[];for(t=0;t<o;t++)a[t]={key:r[t],value:n[t],index:t};for(Ext.Array.sort(a,function(t,i){var n=e(t.value,i.value);return 0===n&&(n=t.index<i.index?-1:1),n}),t=0;t<o;t++)n[t]=a[t].value,r[t]=a[t].key;i.fireEvent("sort",i,n,r)},findInsertionIndex:function(e,t){var i,n,r=this,o=r.items,a=0,s=o.length-1;for(t||(t=r.generateComparator());a<=s;)i=a+s>>1,n=t(e,o[i]),n>=0?a=i+1:n<0&&(s=i-1);return a},reorder:function(e){var t,i=this,n=i.items,r=0,o=n.length,a=[],s=[];i.suspendEvents();for(t in e)a[e[t]]=n[t];for(r=0;r<o;r++)void 0==e[r]&&s.push(n[r]);for(r=0;r<o;r++)void 0==a[r]&&(a[r]=s.shift());i.clear(),i.addAll(a),i.resumeEvents(),i.fireEvent("sort",i)},sortByKey:function(e,t){this._sort("key",e,t||function(e,t){var i=String(e).toUpperCase(),n=String(t).toUpperCase();return i>n?1:i<n?-1:0})}}),Ext.define("Ext.container.DockingContainer",{requires:["Ext.util.MixedCollection","Ext.Element"],isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},addDocked:function(e,t){var i,n,r=this,o=0;for(e=r.prepareItems(e),n=e.length;o<n;o++)i=e[o],i.dock=i.dock||"top",void 0!==t?r.dockedItems.insert(t+o,i):r.dockedItems.add(i),i.onAdded!==Ext.emptyFn&&i.onAdded(r,o),r.onDockedAdd!==Ext.emptyFn&&r.onDockedAdd(i);return r.rendered&&!r.suspendLayout&&r.updateLayout(),e},destroyDockedItems:function(){var e,t=this.dockedItems;if(t)for(;e=t.first();)this.removeDocked(e,!0)},doRenderDockedItems:function(e,t,i){var n,r,o=t.$comp,a=o.componentLayout;a.getDockedItems&&!t.$skipDockedItems&&(n=a.getDockedItems("render",!i),r=n&&a.getItemsRenderTree(n),r&&Ext.DomHelper.generateMarkup(r,e))},getDockedComponent:function(e){return Ext.isObject(e)&&(e=e.getItemId()),this.dockedItems.get(e)},getDockedItems:function(e,t){var i=this.getComponentLayout().getDockedItems("render",t);return e&&i.length&&(i=Ext.ComponentQuery.query(e,i)),i},getDockingRefItems:function(e,t){var i,n=e&&"*,* *",r=this.getDockedItems(n,!0);return r.push.apply(r,t),i=this.getDockedItems(n,!1),r.push.apply(r,i),r},initDockingItems:function(){var e=this,t=e.dockedItems;e.dockedItems=new Ext.util.AbstractMixedCollection(!1,e.getComponentId),t&&e.addDocked(t)},insertDocked:function(e,t){this.addDocked(t,e)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(e,t){var i,n,r=this;return r.dockedItems.contains(e)?(i=r.componentLayout,n=i&&r.rendered,n&&i.onRemove(e),r.dockedItems.remove(e),e.onRemoved(),r.onDockedRemove(e),t===!0||t!==!1&&r.autoDestroy?e.destroy():n&&i.afterRemove(e),r.destroying||r.suspendLayout||r.updateLayout(),e):e},setupDockingRenderTpl:function(e){e.renderDockedItems=this.doRenderDockedItems}}),Ext.define("Ext.data.AbstractStore",{requires:["Ext.util.MixedCollection","Ext.data.proxy.Proxy","Ext.data.Operation","Ext.util.Filter"],mixins:{observable:"Ext.util.Observable",sortable:"Ext.util.Sortable"},statics:{create:function(e){return e.isStore||(e.type||(e.type="store"),e=Ext.createByAlias("store."+e.type,e)),e}},remoteSort:!1,remoteFilter:!1,autoLoad:void 0,autoSync:!1,batchUpdateMode:"operation",filterOnLoad:!0,sortOnLoad:!0,implicitModel:!1,defaultProxyType:"memory",isDestroyed:!1,isStore:!0,sortRoot:"data",constructor:function(e){var t,i=this;Ext.apply(i,e),i.removed=[],i.mixins.observable.constructor.apply(i,arguments),i.model=Ext.ModelManager.getModel(i.model),Ext.applyIf(i,{modelDefaults:{}}),!i.model&&i.fields&&(i.model=Ext.define("Ext.data.Store.ImplicitModel-"+(i.storeId||Ext.id()),{extend:"Ext.data.Model",fields:i.fields,proxy:i.proxy||i.defaultProxyType}),delete i.fields,i.implicitModel=!0),i.setProxy(i.proxy||i.model.getProxy()),i.proxy.on("metachange",i.onMetaChange,i),i.id&&!i.storeId&&(i.storeId=i.id,delete i.id),i.storeId&&Ext.data.StoreManager.register(i),i.mixins.sortable.initSortable.call(i),t=i.decodeFilters(i.filters),i.filters=new Ext.util.MixedCollection,i.filters.addAll(t)},setProxy:function(e){var t=this;return e instanceof Ext.data.proxy.Proxy?e.setModel(t.model):(Ext.isString(e)&&(e={type:e}),Ext.applyIf(e,{model:t.model}),e=Ext.createByAlias("proxy."+e.type,e)),t.proxy=e,t.proxy},getProxy:function(){return this.proxy},onMetaChange:function(e,t){this.fireEvent("metachange",this,t)},create:function(e,t){var i,n=this,r=Ext.ModelManager.create(Ext.applyIf(e,n.modelDefaults),n.model.modelName);return t=t||{},Ext.applyIf(t,{action:"create",records:[r]}),i=new Ext.data.Operation(t),n.proxy.create(i,n.onProxyWrite,n),r},read:function(){return this.load.apply(this,arguments)},update:function(e){var t,i=this;return e=e||{},Ext.applyIf(e,{action:"update",records:i.getUpdatedRecords()}),t=new Ext.data.Operation(e),i.proxy.update(t,i.onProxyWrite,i)},onProxyWrite:function(e){var t=this,i=e.wasSuccessful(),n=e.getRecords();switch(e.action){case"create":t.onCreateRecords(n,e,i);break;case"update":t.onUpdateRecords(n,e,i);break;case"destroy":t.onDestroyRecords(n,e,i)}i&&(t.fireEvent("write",t,e),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),Ext.callback(e.callback,e.scope||t,[n,e,i])},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(e,t,i){i&&(this.removed=[])},destroy:function(e){var t,i=this;return e=e||{},Ext.applyIf(e,{action:"destroy",records:i.getRemovedRecords()}),t=new Ext.data.Operation(e),i.proxy.destroy(t,i.onProxyWrite,i)},onBatchOperationComplete:function(e,t){return this.onProxyWrite(t)},onBatchComplete:function(e,t){var i,n=this,r=e.operations,o=r.length;for(n.suspendEvents(),i=0;i<o;i++)n.onProxyWrite(r[i]);n.resumeEvents(),n.fireEvent("datachanged",n),n.fireEvent("refresh",n)},onBatchException:function(e,t){},filterNew:function(e){return e.phantom===!0&&e.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(e){return e.dirty===!0&&e.phantom!==!0&&e.isValid()},getRemovedRecords:function(){return this.removed},filter:function(e,t){},decodeFilters:function(e){Ext.isArray(e)||(e=void 0===e?[]:[e]);var t,i,n=e.length,r=Ext.util.Filter;for(i=0;i<n;i++)t=e[i],t instanceof r||(Ext.apply(t,{root:"data"}),t.fn&&(t.filterFn=t.fn),"function"==typeof t&&(t={filterFn:t}),e[i]=new r(t));return e},clearFilter:function(e){},isFiltered:function(){},filterBy:function(e,t){},sync:function(e){var t=this,i={},n=t.getNewRecords(),r=t.getUpdatedRecords(),o=t.getRemovedRecords(),a=!1;return n.length>0&&(i.create=n,a=!0),r.length>0&&(i.update=r,a=!0),o.length>0&&(i.destroy=o,a=!0),a&&t.fireEvent("beforesync",i)!==!1&&(e=e||{},t.proxy.batch(Ext.apply(e,{operations:i,listeners:t.getBatchListeners()}))),t},getBatchListeners:function(){var e=this,t={scope:e,exception:e.onBatchException};return"operation"==e.batchUpdateMode?t.operationcomplete=e.onBatchOperationComplete:t.complete=e.onBatchComplete,t},save:function(){return this.sync.apply(this,arguments)},load:function(e){var t,i=this;return e=Ext.apply({action:"read",filters:i.filters.items,sorters:i.getSorters()},e),i.lastOptions=e,t=new Ext.data.Operation(e),i.fireEvent("beforeload",i,t)!==!1&&(i.loading=!0,i.proxy.read(t,i.onProxyLoad,i)),i},reload:function(e){return this.load(Ext.apply(this.lastOptions,e))},afterEdit:function(e,t){var i,n,r=this;if(r.autoSync&&!r.autoSyncSuspended){for(i=t.length;i--;)if(e.fields.get(t[i]).persist){n=!0;break}n&&r.sync()}r.fireEvent("update",r,e,Ext.data.Model.EDIT,t)},afterReject:function(e){this.fireEvent("update",this,e,Ext.data.Model.REJECT,null)},afterCommit:function(e){this.fireEvent("update",this,e,Ext.data.Model.COMMIT,null)},destroyStore:function(){var e=this;e.isDestroyed||(e.storeId&&Ext.data.StoreManager.unregister(e),e.clearData(),e.data=e.tree=e.sorters=e.filters=e.groupers=null,e.reader&&e.reader.destroyReader(),e.proxy=e.reader=e.writer=null,e.clearListeners(),e.isDestroyed=!0,e.implicitModel?Ext.destroy(e.model):e.model=null)},doSort:function(e){var t=this;t.remoteSort?t.load():(t.data.sortBy(e),t.fireEvent("datachanged",t),t.fireEvent("refresh",t))},clearData:Ext.emptyFn,getCount:Ext.emptyFn,getById:Ext.emptyFn,removeAll:Ext.emptyFn,isLoading:function(){return!!this.loading},suspendAutoSync:function(){this.autoSyncSuspended=!0},resumeAutoSync:function(){this.autoSyncSuspended=!1}}),Ext.define("Ext.data.Errors",{extend:"Ext.util.MixedCollection",isValid:function(){return 0===this.length},getByField:function(e){var t,i,n=[];for(i=0;i<this.length;i++)t=this.items[i],t.field==e&&n.push(t);return n}}),Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",mixins:{observable:"Ext.util.Observable"},requires:["Ext.ModelManager","Ext.data.IdGenerator","Ext.data.Field","Ext.data.Errors","Ext.data.Operation","Ext.data.validations","Ext.util.MixedCollection"],compareConvertFields:function(e,t){var i=e.convert&&e.type&&e.convert!==e.type.convert,n=t.convert&&t.type&&t.convert!==t.type.convert;return i&&!n?1:!i&&n?-1:0},itemNameFn:function(e){return e.name},onClassExtended:function(e,t,i){var n=i.onBeforeCreated;i.onBeforeCreated=function(e,t){var r,o,a,s,l=this,d=Ext.getClassName(e),u=e.prototype,c=e.prototype.superclass,h=t.validations||[],g=t.fields||[],p=t.associations||[],f=function(e,t){var i,n,r=0;if(e)for(e=Ext.Array.from(e),i=e.length;r<i;++r)n=e[r],Ext.isObject(n)||(n={model:n}),n.type=t,p.push(n)},m=t.idgen,x=new Ext.util.MixedCollection(!1,u.itemNameFn),y=new Ext.util.MixedCollection(!1,u.itemNameFn),v=c.validations,E=c.fields,b=c.associations,w=[],C=t.idProperty||e.prototype.idProperty,S=function(e,t,i){var n,r;x.events.add.firing?(r=e,n=t):(n=i,r=t.originalIndex),n.originalIndex=r,(n.mapping===C||null==n.mapping&&n.name===C)&&(n.defaultValue=void 0)},_=t.proxy||e.prototype.proxy||e.prototype.defaultProxyType,k=function(){x.sortBy(u.compareConvertFields)};for(e.modelName=d,u.modelName=d,v&&(h=v.concat(h)),t.validations=h,E&&(g=E.items.concat(g)),x.on({add:S,replace:S}),a=0,s=g.length;a<s;++a)r=g[a],x.add(r.isField?r:new Ext.data.Field(r));for(x.get(C)||x.add(new Ext.data.Field(C)),k(),
x.on({add:k,replace:k}),t.fields=x,m&&(t.idgen=Ext.data.IdGenerator.get(m)),f(t.belongsTo,"belongsTo"),delete t.belongsTo,f(t.hasMany,"hasMany"),delete t.hasMany,f(t.hasOne,"hasOne"),delete t.hasOne,b&&(p=b.items.concat(p)),a=0,s=p.length;a<s;++a)w.push("association."+p[a].type.toLowerCase());_&&!_.isProxy&&w.push("proxy."+("string"==typeof _?_:_.type)),Ext.require(w,function(){for(Ext.ModelManager.registerType(d,e),a=0,s=p.length;a<s;++a)o=p[a],o.isAssociation?o=Ext.applyIf({ownerModel:d,associatedModel:o.model},o.initialConfig):Ext.apply(o,{ownerModel:d,associatedModel:o.model}),void 0===Ext.ModelManager.getModel(o.model)?Ext.ModelManager.registerDeferredAssociation(o):y.add(Ext.data.association.Association.create(o));t.associations=y,n.call(l,e,t,i),e.setProxy(_),Ext.ModelManager.onModelDefined(e)})}},inheritableStatics:{setProxy:function(e){return e.isProxy||("string"==typeof e&&(e={type:e}),e=Ext.createByAlias("proxy."+e.type,e)),e.setModel(this),this.proxy=this.prototype.proxy=e,e},getProxy:function(){return this.proxy},setFields:function(e,t,i){var n=this,r=n.prototype,o=r.fields,a=e?e.length:0,s=0;for(t&&(r.idProperty=t),i&&(r.clientIdProperty=i),o?o.clear():o=n.prototype.fields=new Ext.util.MixedCollection(!1,function(e){return e.name});s<a;s++)o.add(new Ext.data.Field(e[s]));return o.get(r.idProperty)||o.add(new Ext.data.Field(r.idProperty)),n.fields=o,o},getFields:function(){return this.prototype.fields.items},load:function(e,t){t=Ext.apply({},t),t=Ext.applyIf(t,{action:"read",id:e});var i,n=new Ext.data.Operation(t),r=t.scope||this,o=null;i=function(e){e.wasSuccessful()?(o=e.getRecords()[0],Ext.callback(t.success,r,[o,e])):Ext.callback(t.failure,r,[o,e]),Ext.callback(t.callback,r,[o,e])},this.proxy.read(n,i,this)}},statics:{PREFIX:"ext-record",AUTO_ID:1,EDIT:"edit",REJECT:"reject",COMMIT:"commit",id:function(e){var t=[this.PREFIX,"-",this.AUTO_ID++].join("");return e.phantom=!0,e.internalId=t,t}},idgen:{isGenerator:!0,type:"default",generate:function(){return null},getRecId:function(e){return e.modelName+"-"+e.internalId}},editing:!1,dirty:!1,persistenceProperty:"data",evented:!1,isModel:!0,phantom:!1,idProperty:"id",clientIdProperty:null,defaultProxyType:"ajax",constructor:function(e,t,i,n){e=e||{};var r,o,a,s,l,d,u,c,h=this;if(h.internalId=t||0===t?t:Ext.data.Model.id(h),h.raw=i||e,h.data||(h.data={}),h.modified={},h.persistanceProperty&&(h.persistenceProperty=h.persistanceProperty),h[h.persistenceProperty]=n||{},h.mixins.observable.constructor.call(h),!n)if(r=h.fields.items,o=r.length,c=0,u=h[h.persistenceProperty],Ext.isArray(e))for(;c<o;c++)a=r[c],s=a.name,l=e[a.originalIndex],void 0===l&&(l=a.defaultValue),a.convert&&(l=a.convert(l,h)),void 0!==l&&(u[s]=l);else for(;c<o;c++)a=r[c],s=a.name,l=e[s],void 0===l&&(l=a.defaultValue),a.convert&&(l=a.convert(l,h)),void 0!==l&&(u[s]=l);h.stores=[],h.getId()?h.phantom=!1:h.phantom&&(d=h.idgen.generate(),null!==d&&h.setId(d)),h.dirty=!1,h.modified={},"function"==typeof h.init&&h.init(),h.id=h.idgen.getRecId(h)},get:function(e){return this[this.persistenceProperty][e]},_singleProp:{},set:function(e,t){var i,n,r,o,a,s,l,d,u,c,h=this,g=h[h.persistenceProperty],p=h.fields,f=h.modified,m="string"==typeof e;m?(c=h._singleProp,c[e]=t):c=e;for(s in c)if(c.hasOwnProperty(s)){if(u=c[s],p&&(n=p.get(s))&&n.convert&&(u=n.convert(u,h)),i=g[s],h.isEqual(i,u))continue;if(g[s]=u,(a||(a=[])).push(s),n&&n.persist)if(f.hasOwnProperty(s)){if(h.isEqual(f[s],u)){delete f[s],h.dirty=!1;for(o in f)if(f.hasOwnProperty(o)){h.dirty=!0;break}}}else h.dirty=!0,f[s]=i;s==h.idProperty&&(r=!0,l=i,d=u)}return m&&delete c[e],r&&h.fireEvent("idchanged",h,l,d),!h.editing&&a&&h.afterEdit(a),a||null},copyFrom:function(e){if(e){for(var t,i,n=this,r=n.fields.items,o=r.length,a=0,s=n[n.persistenceProperty],l=e[e.persistenceProperty];a<o;a++)t=r[a],i=l[t.name],void 0!==i&&(s[t.name]=i);n.phantom&&!e.phantom&&n.setId(e.getId())}},isEqual:function(e,t){return Ext.isDate(e)&&Ext.isDate(t)?Ext.Date.isEqual(e,t):e===t},beginEdit:function(){var e=this;e.editing||(e.editing=!0,e.dirtySave=e.dirty,e.dataSave=Ext.apply({},e[e.persistenceProperty]),e.modifiedSave=Ext.apply({},e.modified))},cancelEdit:function(){var e=this;e.editing&&(e.editing=!1,e.modified=e.modifiedSave,e[e.persistenceProperty]=e.dataSave,e.dirty=e.dirtySave,delete e.modifiedSave,delete e.dataSave,delete e.dirtySave)},endEdit:function(e,t){var i,n=this;n.editing&&(n.editing=!1,t||(t=n.getModifiedFieldNames()),i=n.dirty||t.length>0,delete n.modifiedSave,delete n.dataSave,delete n.dirtySave,i&&e!==!0&&n.afterEdit(t))},getModifiedFieldNames:function(){var e,t=this,i=t.dataSave,n=t[t.persistenceProperty],r=[];for(e in n)n.hasOwnProperty(e)&&(t.isEqual(n[e],i[e])||r.push(e));return r},getChanges:function(){var e,t=this.modified,i={};for(e in t)t.hasOwnProperty(e)&&(i[e]=this.get(e));return i},isModified:function(e){return this.modified.hasOwnProperty(e)},setDirty:function(){var e,t,i,n=this,r=n.fields.items,o=r.length;for(n.dirty=!0,i=0;i<o;i++)e=r[i],e.persist&&(t=e.name,n.modified[t]=n.get(t))},reject:function(e){var t,i=this,n=i.modified;for(t in n)n.hasOwnProperty(t)&&"function"!=typeof n[t]&&(i[i.persistenceProperty][t]=n[t]);i.dirty=!1,i.editing=!1,i.modified={},e!==!0&&i.afterReject()},commit:function(e){var t=this;t.phantom=t.dirty=t.editing=!1,t.modified={},e!==!0&&t.afterCommit()},copy:function(e){var t=this;return new t.self(t.raw,e,null,Ext.apply({},t[t.persistenceProperty]))},setProxy:function(e){return e.isProxy||("string"==typeof e&&(e={type:e}),e=Ext.createByAlias("proxy."+e.type,e)),e.setModel(this.self),this.proxy=e,e},getProxy:function(){return this.proxy},validate:function(){var e,t,i,n,r,o,a=new Ext.data.Errors,s=this.validations,l=Ext.data.validations;if(s)for(e=s.length,o=0;o<e;o++)t=s[o],i=t.field||t.name,r=t.type,n=l[r](t,this.get(i)),n||a.add({field:i,message:t.message||l[r+"Message"]});return a},isValid:function(){return this.validate().isValid()},save:function(e){e=Ext.apply({},e);var t,i,n,r,o,a=this,s=a.phantom?"create":"update",l=e.scope||a,d=a.stores,u=0;return Ext.apply(e,{records:[a],action:s}),r=new Ext.data.Operation(e),o=function(r){if(n=[a,r],r.wasSuccessful()){for(t=d.length;u<t;u++)i=d[u],i.fireEvent("write",i,r),i.fireEvent("datachanged",i);Ext.callback(e.success,l,n)}else Ext.callback(e.failure,l,n);Ext.callback(e.callback,l,n)},a.getProxy()[s](r,o,a),a},destroy:function(e){e=Ext.apply({},e);var t,i,n,r,o,a=this,s=e.scope||a,l=a.stores,d=0;return Ext.apply(e,{records:[a],action:"destroy"}),r=new Ext.data.Operation(e),o=function(r){if(n=[a,r],r.wasSuccessful()){for(t=l.length;d<t;d++)i=l[d],i.fireEvent("write",i,r),i.fireEvent("datachanged",i);a.clearListeners(),Ext.callback(e.success,s,n)}else Ext.callback(e.failure,s,n);Ext.callback(e.callback,s,n)},a.getProxy().destroy(r,o,a),a},getId:function(){return this.get(this.idProperty)},getObservableId:function(){return this.id},setId:function(e){this.set(this.idProperty,e),this.phantom=!(e||0===e)},join:function(e){Ext.Array.include(this.stores,e),this.store=this.stores[0]},unjoin:function(e){Ext.Array.remove(this.stores,e),this.store=this.stores[0]||null},afterEdit:function(e){this.callStore("afterEdit",e)},afterReject:function(){this.callStore("afterReject")},afterCommit:function(){this.callStore("afterCommit")},callStore:function(e){var t,i,n=Ext.Array.clone(arguments),r=this.stores,o=0,a=r.length;for(n[0]=this;o<a;++o)t=r[o],t&&"function"==typeof t[e]&&t[e].apply(t,n),i=t.treeStore,i&&"function"==typeof i[e]&&i[e].apply(i,n)},getData:function(e){var t,i,n=this,r=n.fields.items,o=r.length,a={};for(i=0;i<o;i++)t=r[i].name,a[t]=n.get(t);return e===!0&&Ext.apply(a,n.getAssociatedData()),a},getAssociatedData:function(){return this.prepareAssociatedData({},1)},prepareAssociatedData:function(e,t){var i,n,r,o,a,s,l,d,u,c,h,g,p,f,m=this,x=m.associations.items,y=x.length,v={},E=[],b=[],w=[];for(h=0;h<y;h++)if(c=x[h],d=c.associationId,l=e[d],!l||l===t)if(e[d]=t,p=c.type,f=c.name,"hasMany"==p){if(i=m[c.storeName],v[f]=[],i&&i.getCount()>0)for(n=i.data.items,u=n.length,g=0;g<u;g++)r=n[g],v[f][g]=r.getData(),E.push(r),b.push(f),w.push(g)}else"belongsTo"!=p&&"hasOne"!=p||(r=m[c.instanceName],void 0!==r&&(v[f]=r.getData(),E.push(r),b.push(f),w.push(-1)));for(h=0,u=E.length;h<u;++h)r=E[h],o=v[b[h]],a=w[h],s=r.prepareAssociatedData(e,t+1),a===-1?Ext.apply(o,s):Ext.apply(o[a],s);return v}}),Ext.define("Ext.data.StoreManager",{extend:"Ext.util.MixedCollection",alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,uses:["Ext.data.ArrayStore"],register:function(){for(var e,t=0;e=arguments[t];t++)this.add(e)},unregister:function(){for(var e,t=0;e=arguments[t];t++)this.remove(this.lookup(e))},lookup:function(e){if(Ext.isArray(e)){var t,i,n=["field1"],r=!Ext.isArray(e[0]),o=e;if(r)for(o=[],t=0,i=e.length;t<i;++t)o.push([e[t]]);else for(t=2,i=e[0].length;t<=i;++t)n.push("field"+t);return new Ext.data.ArrayStore({data:o,fields:n,autoDestroy:!0,autoCreated:!0,expanded:r})}return Ext.isString(e)?this.get(e):Ext.data.AbstractStore.create(e)},getKey:function(e){return e.storeId}},function(){Ext.regStore=function(e,t){var i;return Ext.isObject(e)?t=e:t.storeId=e,i=t instanceof Ext.data.Store?t:new Ext.data.Store(t),Ext.data.StoreManager.register(i)},Ext.getStore=function(e){return Ext.data.StoreManager.lookup(e)}}),Ext.define("Ext.data.TreeStore",{extend:"Ext.data.AbstractStore",alias:"store.tree",requires:["Ext.util.Sorter","Ext.data.Tree","Ext.data.NodeInterface"],clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:"node",defaultRootId:"root",defaultRootProperty:"children",rootProperty:"children",folderSort:!1,constructor:function(e){var t,i,n,r=this;e=Ext.apply({},e),i=e.fields||r.fields,i||(e.fields=[{name:"text",type:"string"}],n=e.defaultRootProperty||r.defaultRootProperty,n!==r.defaultRootProperty&&e.fields.push({name:n,type:"auto",defaultValue:null,persist:!1})),r.callParent([e]),r.tree=new Ext.data.Tree,r.relayEvents(r.tree,["append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","sort","rootchange"]),r.tree.on({scope:r,remove:r.onNodeRemove,beforeexpand:r.onBeforeNodeExpand,beforecollapse:r.onBeforeNodeCollapse,append:r.onNodeAdded,insert:r.onNodeAdded,sort:r.onNodeSort}),r.onBeforeSort(),t=r.root,t&&(delete r.root,r.setRootNode(t)),Ext.isDefined(r.nodeParameter)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead."),r.nodeParam=r.nodeParameter,delete r.nodeParameter)},setProxy:function(e){var t,i;e instanceof Ext.data.proxy.Proxy?i=Ext.isEmpty(e.getReader().root):Ext.isString(e)?i=!0:(t=e.reader,i=!(t&&!Ext.isEmpty(t.root))),e=this.callParent(arguments),i&&(t=e.getReader(),t.root=this.defaultRootProperty,t.buildExtractors(!0))},onBeforeSort:function(){this.folderSort&&this.sort({property:"leaf",direction:"ASC"},"prepend",!1)},onBeforeNodeExpand:function(e,t,i){e.isLoaded()?Ext.callback(t,i||e,[e.childNodes]):e.isLoading()?this.on("load",function(){Ext.callback(t,i||e,[e.childNodes])},this,{single:!0}):this.read({node:e,callback:function(){Ext.callback(t,i||e,[e.childNodes])}})},getNewRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterUpdated)},onBeforeNodeCollapse:function(e,t,i){t.call(i||e,e.childNodes)},onNodeRemove:function(e,t,i){var n=this,r=n.removed;t.isReplace||Ext.Array.indexOf(r,t)!=-1||r.push(t),!n.autoSync||n.autoSyncSuspended||i||n.sync()},onNodeAdded:function(e,t){var i,n=this,r=n.getProxy(),o=r.getReader(),a=t.raw||t[t.persistenceProperty];Ext.Array.remove(n.removed,t),t.isLeaf()||(i=o.getRoot(a),i&&(n.fillNode(t,o.extractData(i)),delete a[o.root])),n.autoSync&&!n.autoSyncSuspended&&(t.phantom||t.dirty)&&n.sync()},onNodeSort:function(){this.autoSync&&!this.autoSyncSuspended&&this.sync()},setRootNode:function(e,t){var i=this,n=i.model,r=n.prototype.idProperty;return e=e||{},e.isModel?e.isModel&&!e.isNode&&Ext.data.NodeInterface.decorate(n):(Ext.applyIf(e,{id:i.defaultRootId,text:"Root",allowDrag:!1}),void 0===e[r]&&(e[r]=i.defaultRootId),Ext.data.NodeInterface.decorate(n),e=Ext.ModelManager.create(e,n)),i.getProxy().getReader().buildExtractors(!0),i.tree.setRootNode(e),t===!0||e.isLoaded()||i.autoLoad!==!0&&!e.isExpanded()||i.load({node:e}),e},getRootNode:function(){return this.tree.getRootNode()},getNodeById:function(e){return this.tree.getNodeById(e)},getById:function(e){return this.getNodeById(e)},load:function(e){e=e||{},e.params=e.params||{};var t=this,i=e.node||t.tree.getRootNode();return i||(i=t.setRootNode({expanded:!0},!0)),e.id=i.getId(),t.clearOnLoad&&(t.clearRemovedOnLoad&&t.clearRemoved(i),t.tree.un("remove",t.onNodeRemove,t),i.removeAll(!1),t.tree.on("remove",t.onNodeRemove,t)),Ext.applyIf(e,{node:i}),e.params[t.nodeParam]=i?i.getId():"root",i&&i.set("loading",!0),t.callParent([e])},clearRemoved:function(e){var t,i,n,r=this,o=r.removed,a=e.getId(),s=o.length,l=s,d={},u=[],c={};if(e===r.getRootNode())return void(r.removed=[]);for(;l--;)t=o[l],c[t.getId()]=t;for(l=s;l--;){for(t=o[l],i=t;i&&i.getId()!==a;)n=i.get("parentId"),i=i.parentNode||r.getNodeById(n)||c[n];i&&(d[t.getId()]=t)}for(l=0;l<s;l++)t=o[l],d[t.getId()]||u.push(t);r.removed=u},fillNode:function(e,t){var i,n,r,o,a=this,s=t?t.length:0,l=a.sorters,d=!1,u=s&&a.sortOnLoad&&!a.remoteSort&&l&&l.items&&l.items.length;for(i=1;i<s&&(r=t[i],o=t[i-1],!(d=r[r.persistenceProperty].index!=o[o.persistenceProperty].index));i++);for(u?(d&&a.sorters.insert(0,a.indexSorter),n=new Ext.util.MixedCollection,n.addAll(t),n.sort(a.sorters.items),t=n.items,a.sorters.remove(a.indexSorter)):d&&Ext.Array.sort(t,a.sortByIndex),e.set("loaded",!0),i=0;i<s;i++)e.appendChild(t[i],void 0,!0);return t},sortByIndex:function(e,t){return e[e.persistenceProperty].index-t[t.persistenceProperty].index},onProxyLoad:function(e){var t=this,i=e.wasSuccessful(),n=e.getRecords(),r=e.node;t.loading=!1,r.set("loading",!1),i&&(t.clearOnLoad||(n=t.cleanRecords(r,n)),n=t.fillNode(r,n)),t.fireEvent("read",t,e.node,n,i),t.fireEvent("load",t,e.node,n,i),Ext.callback(e.callback,e.scope||t,[n,e,i])},onCreateRecords:function(e){this.callParent(arguments);for(var t,i=0,n=e.length,r=this.tree;i<n;++i)t=e[i],r.onNodeIdChanged(t,null,t.getId())},cleanRecords:function(e,t){for(var i,n={},r=e.childNodes,o=0,a=r.length,s=[];o<a;++o)n[r[o].getId()]=!0;for(o=0,a=t.length;o<a;++o)i=t[o],n[i.getId()]||s.push(i);return s},removeAll:function(){var e=this.getRootNode();e&&e.destroy(!0),this.fireEvent("clear",this)},doSort:function(e){var t=this;t.remoteSort?t.load():(t.tree.sort(e,!0),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),t.fireEvent("sort",t)}},function(){var e=this.prototype;e.indexSorter=new Ext.util.Sorter({sorterFn:e.sortByIndex})}),Ext.define("Ext.data.proxy.Ajax",{requires:["Ext.util.MixedCollection","Ext.Ajax"],extend:"Ext.data.proxy.Server",alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},doRequest:function(e,t,i){var n=this.getWriter(),r=this.buildRequest(e,t,i);return e.allowWrite()&&(r=n.write(r)),Ext.apply(r,{headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(r,e,t,i),method:this.getMethod(r),disableCaching:!1}),Ext.Ajax.request(r),r},getMethod:function(e){return this.actionMethods[e.action]},createRequestCallback:function(e,t,i,n){var r=this;return function(o,a,s){r.processResponse(a,t,e,s,i,n)}}},function(){Ext.data.HttpProxy=this}),Ext.define("Ext.data.Store",{extend:"Ext.data.AbstractStore",alias:"store.store",requires:["Ext.data.StoreManager","Ext.data.Model","Ext.data.proxy.Ajax","Ext.data.proxy.Memory","Ext.data.reader.Json","Ext.data.writer.Json","Ext.util.LruCache"],uses:["Ext.ModelManager","Ext.util.Grouper"],remoteSort:!1,remoteFilter:!1,remoteGroup:!1,groupField:void 0,groupDir:"ASC",trailingBufferZone:25,leadingBufferZone:200,pageSize:void 0,currentPage:1,clearOnPageLoad:!0,loading:!1,sortOnFilter:!0,buffered:!1,purgePageCount:5,clearRemovedOnLoad:!0,defaultPageSize:25,addRecordsOptions:{addRecords:!0},statics:{recordIdFn:function(e){return e.internalId},recordIndexFn:function(e){return e.index}},onClassExtended:function(e,t,i){var n,r=t.model;"string"==typeof r&&(n=i.onBeforeCreated,i.onBeforeCreated=function(){var e=this,t=arguments;Ext.require(r,function(){n.apply(e,t)})})},constructor:function(e){e=Ext.Object.merge({},e);var t,i,n=this,r=e.groupers||n.groupers,o=e.groupField||n.groupField;i=e.data||n.data,n.data=new Ext.util.MixedCollection(!1,Ext.data.Store.recordIdFn),i&&(n.inlineData=i,delete e.data),!r&&o&&(r=[{property:o,direction:e.groupDir||n.groupDir}]),delete e.groupers,n.groupers=new Ext.util.MixedCollection,n.groupers.addAll(n.decodeGroupers(r)),this.callParent([e]),n.buffered&&(n.pageMap=new n.PageMap({pageSize:n.pageSize,maxSize:n.purgePageCount,listeners:{clear:n.cancelAllPrefetches,scope:n}}),n.pageRequests={},n.sortOnLoad=!1,n.filterOnLoad=!1),n.remoteGroup&&(n.remoteSort=!0),n.groupers.items.length&&!n.remoteGroup&&n.sort(n.groupers.items,"prepend",!1),t=n.proxy,i=n.inlineData,n.buffered||n.pageSize||(n.pageSize=n.defaultPageSize),i?(t instanceof Ext.data.proxy.Memory?(t.data=i,n.read()):n.add.apply(n,[i]),n.sort(),delete n.inlineData):n.autoLoad&&Ext.defer(n.load,10,n,["object"==typeof n.autoLoad?n.autoLoad:void 0])},destroyStore:function(){this.callParent(arguments),this.pageMap&&this.pageMap.clear()},onBeforeSort:function(){var e=this.groupers;e.getCount()>0&&this.sort(e.items,"prepend",!1)},decodeGroupers:function(e){Ext.isArray(e)||(e=void 0===e?[]:[e]);var t,i,n=e.length,r=Ext.util.Grouper,o=[];for(i=0;i<n;i++)t=e[i],t instanceof r?o.push(t):(Ext.isString(t)&&(t={property:t}),t=Ext.apply({root:"data",direction:"ASC"},t),t.fn&&(t.sorterFn=t.fn),"function"==typeof t&&(t={sorterFn:t}),o.push(new r(t)));return o},group:function(e,t){var i,n,r=this,o=!1;Ext.isArray(e)?n=e:Ext.isObject(e)?n=[e]:Ext.isString(e)&&(i=r.groupers.get(e),i?void 0===t?i.toggle():i.setDirection(t):(i={property:e,direction:t},n=[i])),n&&n.length&&(o=!0,n=r.decodeGroupers(n),r.groupers.clear(),r.groupers.addAll(n)),r.remoteGroup?r.buffered?(r.pageMap.clear(),r.loadPage(1,{groupChange:!0})):r.load({scope:r,callback:r.fireGroupChange}):(r.sort(null,null,null,o),r.fireGroupChange())},clearGrouping:function(){var e,t,i=this,n=i.groupers.items,r=n.length;for(t=0;t<r;t++)e=n[t],i.sorters.remove(e);i.groupers.clear(),i.remoteGroup?i.buffered?(i.pageMap.clear(),i.loadPage(1,{groupChange:!0})):i.load({scope:i,callback:i.fireGroupChange}):(i.sort(),i.fireGroupChange())},isGrouped:function(){return this.groupers.getCount()>0},fireGroupChange:function(){this.fireEvent("groupchange",this,this.groupers)},getGroups:function(e){var t,i,n,r,o=this.data.items,a=o.length,s=[],l={};for(r=0;r<a;r++)t=o[r],i=this.getGroupString(t),n=l[i],void 0===n&&(n={name:i,children:[]},s.push(n),l[i]=n),n.children.push(t);return e?l[e]:s},getGroupsForGrouper:function(e,t){var i,n,r,o,a,s=e.length,l=[];for(a=0;a<s;a++)r=e[a],n=t.getGroupString(r),n!==i&&(o={name:n,grouper:t,records:[]},l.push(o)),o.records.push(r),i=n;return l},getGroupsForGrouperIndex:function(e,t){var i,n=this,r=n.groupers,o=r.getAt(t),a=n.getGroupsForGrouper(e,o),s=a.length;if(t+1<r.length)for(i=0;i<s;i++)a[i].children=n.getGroupsForGrouperIndex(a[i].records,t+1);for(i=0;i<s;i++)a[i].depth=t;return a},getGroupData:function(e){var t=this;return e!==!1&&t.sort(),t.getGroupsForGrouperIndex(t.data.items,0)},getGroupString:function(e){var t=this.groupers.first();return t?e.get(t.property):""},insert:function(e,t){var i,n,r,o=this,a=!1;for(t=[].concat(t),i=0,r=t.length;i<r;i++)n=o.createModel(t[i]),n.set(o.modelDefaults),t[i]=n,o.data.insert(e+i,n),n.join(o),a=a||n.phantom===!0;o.snapshot&&o.snapshot.addAll(t),o.requireSort&&(o.suspendEvents(),o.sort(),o.resumeEvents()),o.fireEvent("add",o,t,e),o.fireEvent("datachanged",o),o.autoSync&&a&&!o.autoSyncSuspended&&o.sync()},add:function(e){e=Ext.isArray(e)?e.slice(0):Array.prototype.slice.apply(arguments);var t,i=this,n=0,r=e.length,o=!i.remoteSort&&i.sorters&&i.sorters.items.length;if(o&&1===r)return[i.addSorted(i.createModel(e[0]))];for(;n<r;n++)t=i.createModel(e[n]),e[n]=t;return o&&(i.requireSort=!0),i.insert(i.data.length,e),delete i.requireSort,e},addSorted:function(e){var t=this,i=t.data.findInsertionIndex(e,t.generateComparator());return t.insert(i,e),e},createModel:function(e){return e.isModel||(e=Ext.ModelManager.create(e,this.model)),e},each:function(e,t){var i,n,r=this.data.items,o=r.length;for(n=0;n<o&&(i=r[n],e.call(t||i,i,n,o)!==!1);n++);},remove:function(e,t){Ext.isArray(e)||(e=[e]),t=t===!0;for(var i,n,r,o=this,a=!1,s=0,l=e.length;s<l;s++)r=e[s],n=o.data.indexOf(r),o.snapshot&&o.snapshot.remove(r),n>-1&&(i=r.phantom!==!0,!t&&i&&(r.removedFrom=n,o.removed.push(r)),r.unjoin(o),o.data.remove(r),a=a||i,o.fireEvent("remove",o,r,n));o.fireEvent("datachanged",o),!t&&o.autoSync&&a&&!o.autoSyncSuspended&&o.sync()},removeAt:function(e){var t=this.getAt(e);t&&this.remove(t)},load:function(e){var t=this;return e=e||{},"function"==typeof e&&(e={callback:e}),e.groupers=e.groupers||t.groupers.items,e.page=e.page||t.currentPage,e.start=void 0!==e.start?e.start:(e.page-1)*t.pageSize,e.limit=e.limit||t.pageSize,e.addRecords=e.addRecords||!1,t.buffered?t.loadToPrefetch(e):t.callParent([e])},reload:function(e){var t,i,n,r,o,a,s,l,d=this;if(e||(e={}),!d.buffered)return d.callParent(arguments);if(delete d.totalCount,a=function(){d.rangeCached(t,i)&&(d.loading=!1,d.pageMap.un("pageAdded",a),l=d.pageMap.getRange(t,i),d.loadRecords(l,{start:t}),d.fireEvent("load",d,l,!0))},s=Math.ceil((d.leadingBufferZone+d.trailingBufferZone)/2),t=e.start||d.getAt(0).index,i=t+(e.count||d.getCount())-1,n=d.getPageFromRecordIndex(Math.max(t-s,0)),r=d.getPageFromRecordIndex(i+s),d.pageMap.clear(!0),d.fireEvent("beforeload",d,e)!==!1){for(d.loading=!0,o=n;o<=r;o++)d.prefetchPage(o,e);d.pageMap.on("pageAdded",a)}},onProxyLoad:function(e){var t=this,i=e.getResultSet(),n=e.getRecords(),r=e.wasSuccessful();i&&(t.totalCount=i.total),r&&t.loadRecords(n,e),t.loading=!1,t.hasListeners.load&&t.fireEvent("load",t,n,r),t.hasListeners.read&&t.fireEvent("read",t,n,r),Ext.callback(e.callback,e.scope||t,[n,e,r])},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterUpdated).items},filter:function(e,t){Ext.isString(e)&&(e={property:e,value:t});for(var i=this,n=i.decodeFilters(e),r=0,o=i.sorters.length&&i.sortOnFilter&&!i.remoteSort,a=n.length;r<a;r++)i.filters.replace(n[r]);i.remoteFilter?(delete i.totalCount,i.buffered?(i.pageMap.clear(),i.loadPage(1)):(i.currentPage=1,i.load())):i.filters.getCount()&&(i.snapshot=i.snapshot||i.data.clone(),i.data=i.data.filter(i.filters.items),o?i.sort():(i.fireEvent("datachanged",i),i.fireEvent("refresh",i)))},clearFilter:function(e){var t=this;if(t.filters.clear(),t.remoteFilter){if(e)return;delete t.totalCount,t.buffered?(t.pageMap.clear(),t.loadPage(1)):(t.currentPage=1,t.load())}else t.isFiltered()&&(t.data=t.snapshot.clone(),delete t.snapshot,e!==!0&&(t.fireEvent("datachanged",t),t.fireEvent("refresh",t)))},isFiltered:function(){var e=this.snapshot;return!!e&&e!==this.data},filterBy:function(e,t){var i=this;i.snapshot=i.snapshot||i.data.clone(),i.data=i.queryBy(e,t||i),i.fireEvent("datachanged",i),i.fireEvent("refresh",i)},queryBy:function(e,t){var i=this,n=i.snapshot||i.data;return n.filterBy(e,t||i)},query:function(e,t,i,n,r){var o=this,a=o.createFilterFn(e,t,i,n,r),s=o.queryBy(a);return s||(s=new Ext.util.MixedCollection),s},loadData:function(e,t){var i,n,r=this,o=r.model,a=e.length,s=[];for(i=0;i<a;i++)n=e[i],n.isModel||(n=Ext.ModelManager.create(n,o)),s.push(n);r.loadRecords(s,t?r.addRecordsOptions:void 0)},loadRawData:function(e,t){var i=this,n=i.proxy.reader.read(e),r=n.records;n.success&&(i.totalCount=n.total,i.loadRecords(r,t?i.addRecordsOptions:void 0),i.fireEvent("load",i,r,!0))},loadRecords:function(e,t){var i,n,r=this,o=0,a=e.length,s=r.snapshot;if(t&&(i=t.start,n=t.addRecords),n?s&&s.addAll(e):(delete r.snapshot,r.clearData(!0)),r.data.addAll(e),void 0!==i)for(;o<a;o++)e[o].index=i+o,e[o].join(r);else for(;o<a;o++)e[o].join(r);r.suspendEvents(),r.filterOnLoad&&!r.remoteFilter&&r.filter(),r.sortOnLoad&&!r.remoteSort&&r.sort(void 0,void 0,void 0,!0),r.resumeEvents(),r.fireEvent("datachanged",r),r.fireEvent("refresh",r)},loadPage:function(e,t){var i=this;return i.currentPage=e,t=Ext.apply({page:e,start:(e-1)*i.pageSize,limit:i.pageSize,addRecords:!i.clearOnPageLoad},t),i.buffered?i.loadToPrefetch(t):void i.read(t)},nextPage:function(e){this.loadPage(this.currentPage+1,e)},previousPage:function(e){this.loadPage(this.currentPage-1,e)},clearData:function(e){for(var t=this,i=t.data.items,n=i.length;n--;)i[n].unjoin(t);t.data.clear(),(e!==!0||t.clearRemovedOnLoad)&&(t.removed.length=0)},loadToPrefetch:function(e){var t,i,n=this,r=e.start,o=e.start+e.limit-1,a=e.start+(n.viewSize||e.limit)-1,s=n.getPageFromRecordIndex(Math.max(r-n.trailingBufferZone,0)),l=n.getPageFromRecordIndex(o+n.leadingBufferZone),d=function(){n.rangeCached(r,a)&&(n.loading=!1,i=n.pageMap.getRange(r,a),n.pageMap.un("pageAdded",d),n.hasListeners.guaranteedrange?n.guaranteeRange(r,a,e.callback,e.scope):n.loadRecords(i,{start:r}),n.fireEvent("load",n,i,!0),e.groupChange&&n.fireGroupChange())};n.fireEvent("beforeload",n,e)!==!1&&(delete n.totalCount,n.loading=!0,n.pageMap.on("pageAdded",d),n.on("prefetch",function(){for(t=s+1;t<=l;++t)n.prefetchPage(t,e)},null,{single:!0}),n.prefetchPage(s,e))},prefetch:function(e){var t,i,n=this,r=n.pageSize;return r?(n.lastPageSize&&r!=n.lastPageSize&&Ext.error.raise("pageSize cannot be dynamically altered"),n.pageMap.pageSize||(n.pageMap.pageSize=r)):n.pageSize=n.pageMap.pageSize=r=e.limit,n.lastPageSize=r,e.page||(e.page=n.getPageFromRecordIndex(e.start),e.start=(e.page-1)*r,e.limit=Math.ceil(e.limit/r)*r),n.pageRequests[e.page]||(e=Ext.apply({action:"read",filters:n.filters.items,sorters:n.sorters.items,groupers:n.groupers.items,generation:n.pageMap.generation},e),i=new Ext.data.Operation(e),n.fireEvent("beforeprefetch",n,i)!==!1&&(n.loading=!0,t=n.proxy,n.pageRequests[e.page]=t.read(i,n.onProxyPrefetch,n),t.isSynchronous&&delete n.pageRequests[e.page])),n},cancelAllPrefetches:function(){var e,t,i=this,n=i.pageRequests;i.pageMap.events.pageadded&&i.pageMap.events.pageadded.clearListeners();for(t in n)n.hasOwnProperty(t)&&(e=n[t],delete n[t],delete e.callback)},prefetchPage:function(e,t){var i=this,n=i.pageSize||i.defaultPageSize,r=(e-1)*i.pageSize,o=i.totalCount;void 0!==o&&i.getCount()===o||i.prefetch(Ext.applyIf({page:e,start:r,limit:n},t))},onProxyPrefetch:function(e){var t=this,i=e.getResultSet(),n=e.getRecords(),r=e.wasSuccessful(),o=e.page;e.generation===t.pageMap.generation&&(i&&(t.totalCount=i.total,t.fireEvent("totalcountchange",t.totalCount)),void 0!==o&&delete t.pageRequests[o],r&&t.cachePage(n,e.page),t.loading=!1,t.fireEvent("prefetch",t,n,r,e),Ext.callback(e.callback,e.scope||t,[n,e,r]))},cachePage:function(e,t){var i=this;Ext.isDefined(i.totalCount)||(i.totalCount=e.length,i.fireEvent("totalcountchange",i.totalCount)),i.pageMap.addPage(t,e)},rangeCached:function(e,t){return this.pageMap&&this.pageMap.hasRange(e,t)},pageCached:function(e){return this.pageMap&&this.pageMap.hasPage(e)},rangeSatisfied:function(e,t){return this.rangeCached(e,t)},getPageFromRecordIndex:function(e){return Math.floor(e/this.pageSize)+1},onGuaranteedRange:function(e){var t,i=this,n=i.getTotalCount(),r=e.prefetchStart,o=n-1<e.prefetchEnd?n-1:e.prefetchEnd;o=Math.max(0,o),t=i.pageMap.getRange(r,o),i.fireEvent("guaranteedrange",t,r,o),e.cb&&e.cb.call(e.scope||i,t,r,o)},prefetchRange:function(e,t){var i,n,r,o=this;if(!o.rangeCached(e,t))for(i=o.getPageFromRecordIndex(e),n=o.getPageFromRecordIndex(t),o.pageMap.maxSize=o.purgePageCount?n-i+1+o.purgePageCount:0,r=i;r<=n;r++)o.pageCached(r)||o.prefetchPage(r)},guaranteeRange:function(e,t,i,n){t=t>this.totalCount?this.totalCount-1:t;var r,o=this,a=o.lastRequestStart,s={prefetchStart:e,prefetchEnd:t,cb:i,scope:n};o.lastRequestStart=e,o.rangeCached(e,t)?(e<a?(e=Math.max(e-o.leadingBufferZone,0),t=Math.min(t+o.trailingBufferZone,o.totalCount-1)):(e=Math.max(Math.min(e-o.trailingBufferZone,o.totalCount-o.pageSize),0),t=Math.min(t+o.leadingBufferZone,o.totalCount-1)),o.rangeCached(e,t)||o.prefetchRange(e,t),o.onGuaranteedRange(s)):(o.fireEvent("cachemiss",o,e,t),e=Math.min(Math.max(Math.floor(e-(o.leadingBufferZone+o.trailingBufferZone)/2),0),o.totalCount-o.pageSize),t=Math.min(Math.max(Math.ceil(t+(o.leadingBufferZone+o.trailingBufferZone)/2),0),o.totalCount-1),r=function(i,n){o.rangeCached(s.prefetchStart,s.prefetchEnd)&&(o.fireEvent("cachefilled",o,e,t),o.pageMap.un("pageAdded",r),o.onGuaranteedRange(s))},o.pageMap.on("pageAdded",r),o.prefetchRange(s.prefetchStart,s.prefetchEnd),o.prefetchRange(e,t))},sort:function(){var e=this,t=e.pageMap;e.buffered&&e.remoteSort?(t.clear(),e.callParent(arguments)):e.callParent(arguments)},doSort:function(e){var t,i,n,r=this;if(r.remoteSort)r.buffered?(r.pageMap.clear(),r.loadPage(1)):r.load();else{if(r.data.sortBy(e),!r.buffered)for(t=r.getRange(),i=t.length,n=0;n<i;n++)t[n].index=n;r.fireEvent("datachanged",r),r.fireEvent("refresh",r)}},find:function(e,t,i,n,r,o){var a=this.createFilterFn(e,t,n,r,o);return a?this.data.findIndexBy(a,null,i):-1},findRecord:function(){var e=this,t=e.find.apply(e,arguments);return t!==-1?e.getAt(t):null},createFilterFn:function(e,t,i,n,r){return!Ext.isEmpty(t)&&(t=this.data.createValueMatcher(t,i,n,r),function(i){return t.test(i.data[e])})},findExact:function(e,t,i){return this.data.findIndexBy(function(i){return i.isEqual(i.get(e),t)},this,i)},findBy:function(e,t,i){return this.data.findIndexBy(e,t,i)},collect:function(e,t,i){var n=this,r=i===!0&&n.snapshot?n.snapshot:n.data;return r.collect(e,"data",t)},getCount:function(){return this.data.length||0},getTotalCount:function(){return this.totalCount||0},getAt:function(e){return this.data.getAt(e)},getRange:function(e,t){return this.data.getRange(e,t)},getById:function(e){return(this.snapshot||this.data).findBy(function(t){return t.getId()===e})},indexOf:function(e){return this.data.indexOf(e)},indexOfTotal:function(e){var t=e.index;return t||0===t?t:this.indexOf(e)},indexOfId:function(e){return this.indexOf(this.getById(e))},removeAll:function(e){var t=this;t.clearData(),t.snapshot&&t.snapshot.clear(),t.pageMap&&t.pageMap.clear(),e!==!0&&t.fireEvent("clear",t)},first:function(e){var t=this;return e&&t.isGrouped()?t.aggregate(function(e){return e.length?e[0]:void 0},t,!0):t.data.first()},last:function(e){var t=this;return e&&t.isGrouped()?t.aggregate(function(e){var t=e.length;return t?e[t-1]:void 0},t,!0):t.data.last()},sum:function(e,t){var i=this;return t&&i.isGrouped()?i.aggregate(i.getSum,i,!0,[e]):i.getSum(i.data.items,e)},getSum:function(e,t){for(var i=0,n=0,r=e.length;n<r;++n)i+=e[n].get(t);return i},count:function(e){var t=this;return e&&t.isGrouped()?t.aggregate(function(e){return e.length},t,!0):t.getCount()},min:function(e,t){var i=this;return t&&i.isGrouped()?i.aggregate(i.getMin,i,!0,[e]):i.getMin(i.data.items,e)},getMin:function(e,t){var i,n,r=1,o=e.length;for(o>0&&(n=e[0].get(t));r<o;++r)i=e[r].get(t),i<n&&(n=i);return n},max:function(e,t){var i=this;return t&&i.isGrouped()?i.aggregate(i.getMax,i,!0,[e]):i.getMax(i.data.items,e)},getMax:function(e,t){var i,n,r=1,o=e.length;for(o>0&&(n=e[0].get(t));r<o;++r)i=e[r].get(t),i>n&&(n=i);return n},average:function(e,t){var i=this;return t&&i.isGrouped()?i.aggregate(i.getAverage,i,!0,[e]):i.getAverage(i.data.items,e)},getAverage:function(e,t){var i=0,n=e.length,r=0;if(e.length>0){for(;i<n;++i)r+=e[i].get(t);return r/n}return 0},aggregate:function(e,t,i,n){if(n=n||[],
i&&this.isGrouped()){for(var r,o=this.getGroups(),a=0,s=o.length,l={};a<s;++a)r=o[a],l[r.name]=e.apply(t||this,[r.children].concat(n));return l}return e.apply(t||this,[this.data.items].concat(n))},commitChanges:function(){for(var e=this,t=e.getModifiedRecords(),i=t.length,n=0;n<i;n++)t[n].commit();e.removed.length=0},filterNewOnly:function(e){return e.phantom===!0},getRejectRecords:function(){return Ext.Array.push(this.data.filterBy(this.filterNewOnly).items,this.getUpdatedRecords())},rejectChanges:function(){for(var e,t=this,i=t.getRejectRecords(),n=i.length,r=0;r<n;r++)e=i[r],e.reject(),e.phantom&&t.remove(e);for(i=t.removed,n=i.length,r=0;r<n;r++)e=i[r],t.insert(e.removedFrom||0,e),e.reject();t.removed.length=0}},function(){Ext.regStore("ext-empty-store",{fields:[],proxy:"memory"}),this.prototype.PageMap=new Ext.Class({extend:"Ext.util.LruCache",clear:function(e){this.generation=(this.generation||0)+1,this.callParent(arguments)},getPageFromRecordIndex:this.prototype.getPageFromRecordIndex,addPage:function(e,t){this.add(e,t),this.fireEvent("pageAdded",e,t)},getPage:function(e){return this.get(e)},hasRange:function(e,t){for(var i=this.getPageFromRecordIndex(e),n=this.getPageFromRecordIndex(t);i<=n;i++)if(!this.hasPage(i))return!1;return!0},hasPage:function(e){return!!this.get(e)},getRange:function(e,t){this.hasRange(e,t)||Ext.Error.raise("PageMap asked for range which it does not have");for(var i,n,r,o,a=this,s=a.getPageFromRecordIndex(e),l=a.getPageFromRecordIndex(t),d=(s-1)*a.pageSize,u=l*a.pageSize-1,c=s,h=[],g=0;c<=l;c++)c==s?(i=e-d,r=!0):(i=0,r=!1),c==l&&(n=a.pageSize-(u-t),r=!0),r?Ext.Array.push(h,Ext.Array.slice(a.getPage(c),i,n)):Ext.Array.push(h,a.getPage(c));for(o=h.length;g<o;g++)h[g].index=e++;return h}})}),Ext.define("Ext.data.ArrayStore",{extend:"Ext.data.Store",alias:"store.array",requires:["Ext.data.proxy.Memory","Ext.data.reader.Array"],constructor:function(e){e=Ext.apply({proxy:{type:"memory",reader:"array"}},e),this.callParent([e])},loadData:function(e,t){if(this.expandData===!0){for(var i=[],n=0,r=e.length;n<r;n++)i[i.length]=[e[n]];e=i}this.callParent([e,t])}},function(){Ext.data.SimpleStore=Ext.data.ArrayStore}),Ext.define("Ext.data.BufferStore",{extend:"Ext.data.Store",alias:"store.buffer",sortOnLoad:!1,filterOnLoad:!1,constructor:function(){Ext.Error.raise("The BufferStore class has been deprecated. Instead, specify the buffered config option on Ext.data.Store")}}),Ext.define("Ext.data.JsonPStore",{extend:"Ext.data.Store",alias:"store.jsonp",requires:["Ext.data.proxy.JsonP","Ext.data.reader.Json"],constructor:function(e){e=Ext.apply({proxy:{type:"jsonp",reader:"json"}},e),this.callParent([e])}}),Ext.define("Ext.data.JsonStore",{extend:"Ext.data.Store",alias:"store.json",requires:["Ext.data.proxy.Ajax","Ext.data.reader.Json","Ext.data.writer.Json"],constructor:function(e){e=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},e),this.callParent([e])}}),Ext.define("Ext.data.NodeStore",{extend:"Ext.data.Store",alias:"store.node",requires:["Ext.data.NodeInterface"],node:null,recursive:!1,rootVisible:!1,constructor:function(e){var t,i=this;e=e||{},Ext.apply(i,e),e.proxy={type:"proxy"},i.callParent([e]),t=i.node,t&&(i.node=null,i.setNode(t))},setNode:function(e){var t=this;t.node&&t.node!=e&&(t.mun(t.node,{expand:t.onNodeExpand,collapse:t.onNodeCollapse,append:t.onNodeAppend,insert:t.onNodeInsert,remove:t.onNodeRemove,sort:t.onNodeSort,scope:t}),t.node=null),e&&(Ext.data.NodeInterface.decorate(e.self),t.removeAll(),t.rootVisible?t.add(e):e.isExpanded()||t.treeStore.autoLoad===!1||e.expand(),t.mon(e,{expand:t.onNodeExpand,collapse:t.onNodeCollapse,append:t.onNodeAppend,insert:t.onNodeInsert,remove:t.onNodeRemove,sort:t.onNodeSort,scope:t}),t.node=e,e.isExpanded()&&e.isLoaded()&&t.onNodeExpand(e,e.childNodes,!0))},onNodeSort:function(e,t){var i=this;(i.indexOf(e)!==-1||e===i.node&&!i.rootVisible&&e.isExpanded())&&(i.onNodeCollapse(e,t,!0),i.onNodeExpand(e,t,!0))},onNodeExpand:function(e,t,i){var n,r,o=this,a=o.indexOf(e)+1,s=t?t.length:0;if((o.recursive||e===o.node)&&(e===this.node||o.isVisible(e))&&(i||o.fireEvent("beforeexpand",e,t,a)!==!1)){if(s)for(o.insert(a,t),n=0;n<s;n++)r=t[n],r.isExpanded()&&(r.isLoaded()?o.onNodeExpand(r,r.childNodes,!0):(r.set("expanded",!1),r.expand()));i||o.fireEvent("expand",e,t)}},onNodeCollapse:function(e,t,i){var n,r,o=this,a=t.length,s=o.indexOf(e)+1;if((o.recursive||e===o.node)&&(i||o.fireEvent("beforecollapse",e,t,s)!==!1)){for(n=0;n<a;n++)r=t[n],o.remove(r),r.isExpanded()&&o.onNodeCollapse(r,r.childNodes,!0);i||o.fireEvent("collapse",e,t,s)}},onNodeAppend:function(e,t,i){var n,r,o=this;if(o.isVisible(t)){if(0===i)n=e;else{for(r=t.previousSibling;r.isExpanded()&&r.lastChild;)r=r.lastChild;n=r}o.insert(o.indexOf(n)+1,t),!t.isLeaf()&&t.isExpanded()&&(t.isLoaded()?o.onNodeExpand(t,t.childNodes,!0):(t.set("expanded",!1),t.expand()))}},onNodeInsert:function(e,t,i){var n=this,r=this.indexOf(i);r!=-1&&n.isVisible(t)&&(n.insert(r,t),!t.isLeaf()&&t.isExpanded()&&(t.isLoaded()?n.onNodeExpand(t,t.childNodes,!0):(t.set("expanded",!1),t.expand())))},onNodeRemove:function(e,t,i){var n=this;n.indexOf(t)!=-1&&(!t.isLeaf()&&t.isExpanded()&&n.onNodeCollapse(t,t.childNodes,!0),n.remove(t))},isVisible:function(e){for(var t=e.parentNode;t;){if(t===this.node&&!this.rootVisible&&t.isExpanded())return!0;if(this.indexOf(t)===-1||!t.isExpanded())return!1;t=t.parentNode}return!0}}),Ext.define("Ext.data.XmlStore",{extend:"Ext.data.Store",alias:"store.xml",requires:["Ext.data.proxy.Ajax","Ext.data.reader.Xml","Ext.data.writer.Xml"],constructor:function(e){e=Ext.apply({proxy:{type:"ajax",reader:"xml",writer:"xml"}},e),this.callParent([e])}}),Ext.define("Ext.data.proxy.Rest",{extend:"Ext.data.proxy.Ajax",alternateClassName:"Ext.data.RestProxy",alias:"proxy.rest",appendId:!0,batchActions:!1,buildUrl:function(e){var t=this,i=e.operation,n=i.records||[],r=n[0],o=t.format,a=t.getUrl(e),s=r?r.getId():i.id;return t.appendId&&s&&(a.match(/\/$/)||(a+="/"),a+=s),o&&(a.match(/\.$/)||(a+="."),a+=o),e.url=a,t.callParent(arguments)}},function(){Ext.apply(this.prototype,{actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"}})}),Ext.define("Ext.direct.Manager",{singleton:!0,mixins:{observable:"Ext.util.Observable"},requires:["Ext.util.MixedCollection"],exceptions:{TRANSPORT:"xhr",PARSE:"parse",LOGIN:"login",SERVER:"exception"},constructor:function(){var e=this;e.addEvents("event","exception"),e.transactions=new Ext.util.MixedCollection,e.providers=new Ext.util.MixedCollection,e.mixins.observable.constructor.call(e)},addProvider:function(e){var t,i=this,n=arguments,r=0;{if(!(n.length>1))return e.isProvider||(e=Ext.create("direct."+e.type+"provider",e)),i.providers.add(e),e.on("data",i.onProviderData,i),e.isConnected()||e.connect(),e;for(t=n.length;r<t;++r)i.addProvider(n[r])}},getProvider:function(e){return e.isProvider?e:this.providers.get(e)},removeProvider:function(e){var t=this,i=t.providers;return e=e.isProvider?e:i.get(e),e?(e.un("data",t.onProviderData,t),i.remove(e),e):null},addTransaction:function(e){return this.transactions.add(e),e},removeTransaction:function(e){return e=this.getTransaction(e),this.transactions.remove(e),e},getTransaction:function(e){return Ext.isObject(e)?e:this.transactions.get(e)},onProviderData:function(e,t){var i,n=this,r=0;if(Ext.isArray(t))for(i=t.length;r<i;++r)n.onProviderData(e,t[r]);else t.name&&"event"!=t.name&&"exception"!=t.name?n.fireEvent(t.name,t):t.status===!1&&n.fireEvent("exception",t),n.fireEvent("event",t,e)},parseMethod:function(e){if(Ext.isString(e)){for(var t=e.split("."),i=0,n=t.length,r=window;r&&i<n;)r=r[t[i]],++i;e=Ext.isFunction(r)?r:null}return e||null}},function(){Ext.Direct=Ext.direct.Manager}),Ext.define("Ext.data.proxy.Direct",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.DirectProxy",alias:"proxy.direct",requires:["Ext.direct.Manager"],paramOrder:void 0,paramsAsHash:!0,directFn:void 0,paramOrderRe:/[\s,|]/,constructor:function(e){var t,i,n,r=this;r.callParent(arguments),t=r.paramOrder,Ext.isString(t)&&(r.paramOrder=t.split(r.paramOrderRe)),i=r.directFn,i&&(r.directFn=Ext.direct.Manager.parseMethod(i)),n=r.api;for(i in n)n.hasOwnProperty(i)&&(n[i]=Ext.direct.Manager.parseMethod(n[i]))},doRequest:function(e,t,i){var n,r=this,o=r.getWriter(),a=r.buildRequest(e,t,i),s=r.api[a.action]||r.directFn,l=a.params,d=[];e.allowWrite()&&(a=o.write(a)),"read"==e.action?(n=s.directCfg.method,d=n.getArgs(l,r.paramOrder,r.paramsAsHash)):d.push(a.jsonData),Ext.apply(a,{args:d,directFn:s}),d.push(r.createRequestCallback(a,e,t,i),r),s.apply(window,d)},applyEncoding:function(e){return e},createRequestCallback:function(e,t,i,n){var r=this;return function(o,a){r.processResponse(a.status,t,e,a,i,n)}},extractResponseData:function(e){return Ext.isDefined(e.result)?e.result:e.data},setException:function(e,t){e.setException(t.message)},buildUrl:function(){return""}}),Ext.define("Ext.data.DirectStore",{extend:"Ext.data.Store",alias:"store.direct",requires:["Ext.data.proxy.Direct"],constructor:function(e){if(e=Ext.apply({},e),!e.proxy){var t={type:"direct",reader:{type:"json"}};Ext.copyTo(t,e,"paramOrder,paramsAsHash,directFn,api,simpleSortMode"),Ext.copyTo(t.reader,e,"totalProperty,root,idProperty"),e.proxy=t}this.callParent([e])}}),Ext.define("Ext.direct.Event",{alias:"direct.event",requires:["Ext.direct.Manager"],status:!0,constructor:function(e){Ext.apply(this,e)},getData:function(){return this.data}}),Ext.define("Ext.direct.RemotingEvent",{extend:"Ext.direct.Event",alias:"direct.rpc",getTransaction:function(){return this.transaction||Ext.direct.Manager.getTransaction(this.tid)}}),Ext.define("Ext.direct.ExceptionEvent",{extend:"Ext.direct.RemotingEvent",alias:"direct.exception",status:!1}),Ext.define("Ext.direct.RemotingProvider",{alias:"direct.remotingprovider",extend:"Ext.direct.JsonProvider",requires:["Ext.util.MixedCollection","Ext.util.DelayedTask","Ext.direct.Transaction","Ext.direct.RemotingMethod"],enableBuffer:10,maxRetries:1,timeout:void 0,constructor:function(e){var t=this;t.callParent(arguments),t.addEvents("beforecall","call"),t.namespace=Ext.isString(t.namespace)?Ext.ns(t.namespace):t.namespace||window,t.transactions=new Ext.util.MixedCollection,t.callBuffer=[]},initAPI:function(){var e,t,i,n,r,o,a=this.actions,s=this.namespace;for(e in a)if(a.hasOwnProperty(e))for(t=s[e],t||(t=s[e]={}),i=a[e],n=0,r=i.length;n<r;++n)o=new Ext.direct.RemotingMethod(i[n]),t[o.name]=this.createHandler(e,o)},createHandler:function(e,t){var i,n=this;return i=t.formHandler?function(i,r,o){n.configureFormRequest(e,t,i,r,o)}:function(){n.configureRequest(e,t,Array.prototype.slice.call(arguments,0))},i.directCfg={action:e,method:t},i},isConnected:function(){return!!this.connected},connect:function(){var e=this;e.url?(e.initAPI(),e.connected=!0,e.fireEvent("connect",e)):!e.url},disconnect:function(){var e=this;e.connected&&(e.connected=!1,e.fireEvent("disconnect",e))},runCallback:function(e,t){var i,n,r=!!t.status,o=r?"success":"failure";e&&e.callback&&(i=e.callback,n=Ext.isDefined(t.result)?t.result:t.data,Ext.isFunction(i)?i(n,t,r):(Ext.callback(i[o],i.scope,[n,t,r]),Ext.callback(i.callback,i.scope,[n,t,r])))},onData:function(e,t,i){var n,r,o,a,s,l=this,d=0;if(t)for(r=l.createEvents(i),n=r.length;d<n;++d)o=r[d],a=l.getTransaction(o),l.fireEvent("data",l,o),a&&(l.runCallback(a,o,!0),Ext.direct.Manager.removeTransaction(a));else for(s=[].concat(e.transaction),n=s.length;d<n;++d)a=l.getTransaction(s[d]),a&&a.retryCount<l.maxRetries?a.retry():(o=new Ext.direct.ExceptionEvent({data:null,transaction:a,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:i}),l.fireEvent("data",l,o),a&&(l.runCallback(a,o,!1),Ext.direct.Manager.removeTransaction(a)))},getTransaction:function(e){return e&&e.tid?Ext.direct.Manager.getTransaction(e.tid):null},configureRequest:function(e,t,i){var n,r=this,o=t.getCallData(i),a=o.data,s=o.callback,l=o.scope;n=new Ext.direct.Transaction({provider:r,args:i,action:e,method:t.name,data:a,callback:l&&Ext.isFunction(s)?Ext.Function.bind(s,l):s}),r.fireEvent("beforecall",r,n,t)!==!1&&(Ext.direct.Manager.addTransaction(n),r.queueTransaction(n),r.fireEvent("call",r,n,t))},getCallData:function(e){return{action:e.action,method:e.method,data:e.data,type:"rpc",tid:e.id}},sendRequest:function(e){var t,i,n,r=this,o={url:r.url,callback:r.onData,scope:r,transaction:e,timeout:r.timeout},a=r.enableUrlEncode,s=0;if(Ext.isArray(e))for(t=[],i=e.length;s<i;++s)t.push(r.getCallData(e[s]));else t=r.getCallData(e);a?(n={},n[Ext.isString(a)?a:"data"]=Ext.encode(t),o.params=n):o.jsonData=t,Ext.Ajax.request(o)},queueTransaction:function(e){var t=this,i=t.enableBuffer;return e.form?void t.sendFormRequest(e):(t.callBuffer.push(e),void(i?(t.callTask||(t.callTask=new Ext.util.DelayedTask(t.combineAndSend,t)),t.callTask.delay(Ext.isNumber(i)?i:10)):t.combineAndSend()))},combineAndSend:function(){var e=this.callBuffer,t=e.length;t>0&&(this.sendRequest(1==t?e[0]:e),this.callBuffer=[])},configureFormRequest:function(e,t,i,n,r){var o,a,s=this,l=new Ext.direct.Transaction({provider:s,action:e,method:t.name,args:[i,n,r],callback:r&&Ext.isFunction(n)?Ext.Function.bind(n,r):n,isForm:!0});s.fireEvent("beforecall",s,l,t)!==!1&&(Ext.direct.Manager.addTransaction(l),o="multipart/form-data"==String(i.getAttribute("enctype")).toLowerCase(),a={extTID:l.id,extAction:e,extMethod:t.name,extType:"rpc",extUpload:String(o)},Ext.apply(l,{form:Ext.getDom(i),isUpload:o,params:n&&Ext.isObject(n.params)?Ext.apply(a,n.params):a}),s.fireEvent("call",s,l,t),s.sendFormRequest(l))},sendFormRequest:function(e){Ext.Ajax.request({url:this.url,params:e.params,callback:this.onData,scope:this,form:e.form,isUpload:e.isUpload,transaction:e})}}),Ext.define("Ext.draw.CompositeSprite",{extend:"Ext.util.MixedCollection",mixins:{animate:"Ext.util.Animate"},autoDestroy:!1,isCompositeSprite:!0,constructor:function(e){var t=this;e=e||{},Ext.apply(t,e),t.addEvents("mousedown","mouseup","mouseover","mouseout","click"),t.id=Ext.id(null,"ext-sprite-group-"),t.callParent()},onClick:function(e){this.fireEvent("click",e)},onMouseUp:function(e){this.fireEvent("mouseup",e)},onMouseDown:function(e){this.fireEvent("mousedown",e)},onMouseOver:function(e){this.fireEvent("mouseover",e)},onMouseOut:function(e){this.fireEvent("mouseout",e)},attachEvents:function(e){var t=this;e.on({scope:t,mousedown:t.onMouseDown,mouseup:t.onMouseUp,mouseover:t.onMouseOver,mouseout:t.onMouseOut,click:t.onClick})},add:function(e,t){var i=this.callParent(arguments);return this.attachEvents(i),i},insert:function(e,t,i){return this.callParent(arguments)},remove:function(e){var t=this;return e.un({scope:t,mousedown:t.onMouseDown,mouseup:t.onMouseUp,mouseover:t.onMouseOver,mouseout:t.onMouseOut,click:t.onClick}),t.callParent(arguments)},getBBox:function(){for(var e,t,i=0,n=this.items,r=this.length,o=1/0,a=o,s=-o,l=o,d=-o;i<r;i++)e=n[i],e.el&&!e.bboxExcluded&&(t=e.getBBox(),a=Math.min(a,t.x),l=Math.min(l,t.y),s=Math.max(s,t.height+t.y),d=Math.max(d,t.width+t.x));return{x:a,y:l,height:s-l,width:d-a}},setAttributes:function(e,t){for(var i=0,n=this.items,r=this.length;i<r;i++)n[i].setAttributes(e,t);return this},hide:function(e){for(var t=0,i=this.items,n=this.length;t<n;t++)i[t].hide(e);return this},show:function(e){for(var t=0,i=this.items,n=this.length;t<n;t++)i[t].show(e);return this},redraw:function(){var e=this,t=0,i=e.items,n=e.getSurface(),r=e.length;if(n)for(;t<r;t++)n.renderItem(i[t]);return e},setStyle:function(e){for(var t,i,n=0,r=this.items,o=this.length;n<o;n++)t=r[n],i=t.el,i&&i.setStyle(e)},addCls:function(e){var t=0,i=this.items,n=this.getSurface(),r=this.length;if(n)for(;t<r;t++)n.addCls(i[t],e)},removeCls:function(e){var t=0,i=this.items,n=this.getSurface(),r=this.length;if(n)for(;t<r;t++)n.removeCls(i[t],e)},getSurface:function(){var e=this.first();return e?e.surface:null},destroy:function(){var e,t=this,i=t.getSurface(),n=t.autoDestroy;if(i)for(;t.getCount()>0;)e=t.first(),t.remove(e),i.remove(e,n);t.clearListeners()}}),Ext.define("Ext.chart.LegendItem",{extend:"Ext.draw.CompositeSprite",requires:["Ext.chart.Shape"],x:0,y:0,zIndex:500,boldRe:/bold\s\d{1,}.*/i,constructor:function(e){this.callParent(arguments),this.createLegend(e)},createLegend:function(e){function t(e){var t=l[e];return Ext.isArray(t)?t[u]:t}var i,n,r,o,a=this,s=e.yFieldIndex,l=a.series,d=l.type,u=a.yFieldIndex,c=a.legend,h=a.surface,g=(c.x+a.x,c.y+a.y,a.zIndex),p=!1,f=Ext.apply(l.seriesStyle,l.style);r=a.add("label",h.add({type:"text",x:20,y:0,zIndex:(g||0)+2,fill:c.labelColor,font:c.labelFont,text:t("title")||t("yField"),style:{cursor:"pointer"}})),"line"===d||"scatter"===d?("line"===d&&a.add("line",h.add({type:"path",path:"M0.5,0.5L16.5,0.5",zIndex:(g||0)+2,"stroke-width":l.lineWidth,"stroke-linejoin":"round","stroke-dasharray":l.dash,stroke:f.stroke||l.getLegendColor(s)||"#000",style:{cursor:"pointer"}})),(l.showMarkers||"scatter"===d)&&(n=Ext.apply(l.markerStyle,l.markerConfig||{},{fill:l.getLegendColor(s)}),a.add("marker",Ext.chart.Shape[n.type](h,{fill:n.fill,x:8.5,y:.5,zIndex:(g||0)+2,radius:n.radius||n.size,style:{cursor:"pointer"}})))):a.add("box",h.add({type:"rect",zIndex:(g||0)+2,x:0,y:0,width:12,height:12,fill:l.getLegendColor(s),style:{cursor:"pointer"}})),a.setAttributes({hidden:!1},!0),i=a.getBBox(),o=a.add("mask",h.add({type:"rect",x:i.x,y:i.y,width:i.width||20,height:i.height||20,zIndex:(g||0)+1,fill:a.legend.boxFill,style:{cursor:"pointer"}})),a.on("mouseover",function(){r.setStyle({"font-weight":"bold"}),o.setStyle({cursor:"pointer"}),l._index=s,l.highlightItem()},a),a.on("mouseout",function(){r.setStyle({"font-weight":c.labelFont&&a.boldRe.test(c.labelFont)?"bold":"normal"}),l._index=s,l.unHighlightItem()},a),l.visibleInLegend(s)||(p=!0,r.setAttributes({opacity:.5},!0)),a.on("mousedown",function(){p?(l.showAll(s),r.setAttributes({opacity:1},!0)):(l.hideAll(s),r.setAttributes({opacity:.5},!0)),p=!p,a.legend.chart.redraw()},a),a.updatePosition({x:0,y:0})},updatePosition:function(e){var t,i=this,n=i.items,r=n.length,o=0;for(e||(e=i.legend);o<r;o++)switch(t=n[o],t.type){case"text":t.setAttributes({x:20+e.x+i.x,y:e.y+i.y},!0);break;case"rect":t.setAttributes({translate:{x:e.x+i.x,y:e.y+i.y-6}},!0);break;default:t.setAttributes({translate:{x:e.x+i.x,y:e.y+i.y}},!0)}}}),Ext.define("Ext.chart.Legend",{requires:["Ext.chart.LegendItem"],visible:!0,update:!0,position:"bottom",x:0,y:0,labelColor:"#000",labelFont:"12px Helvetica, sans-serif",boxStroke:"#000",boxStrokeWidth:1,boxFill:"#FFF",itemSpacing:10,padding:5,width:0,height:0,boxZIndex:100,constructor:function(e){var t=this;e&&Ext.apply(t,e),t.items=[],t.isVertical="left|right|float".indexOf(t.position)!==-1,t.origX=t.x,t.origY=t.y},create:function(){var e,t,i,n=this,r=n.chart.series.items;if(n.createBox(),n.rebuild!==!1&&n.createItems(),!n.created&&n.isDisplayed())for(n.created=!0,e=0,t=r.length;e<t;e++)i=r[e],i.on("titlechange",function(){n.create(),n.updatePosition()})},isDisplayed:function(){return this.visible&&this.chart.series.findIndex("showInLegend",!0)!==-1},createItems:function(){var e,t,i,n,r,o,a,s,l,d,u,c=this,h=c.chart,g=h.series.items,p=(h.surface,c.items),f=c.padding,m=c.itemSpacing,x=2,y=0,v=0,E=0,b=0,w=c.isVertical,C=Math,S=C.floor,_=C.max,k=0,P=p?p.length:0;if(P)for(;k<P;k++)p[k].destroy();for(p.length=[],k=0,e=g.length;k<e;k++)if(t=g[k],t.showInLegend)for(s=[].concat(t.yField),u=0,d=s.length;u<d;u++)l=s[u],n=new Ext.chart.LegendItem({legend:this,series:t,surface:h.surface,yFieldIndex:u}),r=n.getBBox(),a=r.width,o=r.height,i=k+u===0?w?f+o/2:f:m/(w?2:1),n.x=S(w?f:E+i),n.y=S(w?b+i:f+o/2),E+=a+i,b+=o+i,y=_(y,a),v=_(v,o),p.push(n);c.width=S((w?y:E)+2*f),w&&1===p.length&&(x=1),c.height=S((w?b-x*i:v)+2*f),c.itemHeight=v},getBBox:function(){var e=this;return{x:Math.round(e.x)-e.boxStrokeWidth/2,y:Math.round(e.y)-e.boxStrokeWidth/2,width:e.width,height:e.height}},createBox:function(){var e,t,i=this;return i.boxSprite&&i.boxSprite.destroy(),t=i.getBBox(),isNaN(t.width)||isNaN(t.height)?void(i.boxSprite=!1):(e=i.boxSprite=i.chart.surface.add(Ext.apply({type:"rect",stroke:i.boxStroke,"stroke-width":i.boxStrokeWidth,fill:i.boxFill,zIndex:i.boxZIndex},t)),void e.redraw())},updatePosition:function(){var e,t,i,n,r,o=this,a=o.items,s=o.width||0,l=o.height||0,d=(o.padding,o.chart),u=d.chartBBox,c=d.insetPadding,h=u.width-2*c,g=u.height-2*c,p=u.x+c,f=u.y+c,m=d.surface,x=Math.floor;if(o.isDisplayed()){switch(o.position){case"left":i=c,n=x(f+g/2-l/2);break;case"right":i=x(m.width-s)-c,n=x(f+g/2-l/2);break;case"top":i=x(p+h/2-s/2),n=c;break;case"bottom":i=x(p+h/2-s/2),n=x(m.height-l)-c;break;default:i=x(o.origX)+c,n=x(o.origY)+c}for(o.x=i,o.y=n,e=0,t=a.length;e<t;e++)a[e].updatePosition();r=o.getBBox(),isNaN(r.width)||isNaN(r.height)?o.boxSprite&&o.boxSprite.hide(!0):(o.boxSprite||o.createBox(),o.boxSprite.setAttributes(r,!0),o.boxSprite.show(!0))}},toggle:function(e){var t=this,i=0,n=t.items,r=n.length;for(t.boxSprite&&(e?t.boxSprite.show(!0):t.boxSprite.hide(!0));i<r;++i)e?n[i].show(!0):n[i].hide(!0);t.visible=e}}),Ext.define("Ext.draw.Surface",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.draw.CompositeSprite"],uses:["Ext.draw.engine.Svg","Ext.draw.engine.Vml","Ext.draw.engine.SvgExporter","Ext.draw.engine.ImageExporter"],separatorRe:/[, ]+/,statics:{create:function(e,t){t=t||["Svg","Vml"];for(var i=0,n=t.length;i<n;i++)if(Ext.supports[t[i]]!==!1)return Ext.create("Ext.draw.engine."+t[i],e);return!1},save:function(e,t){t=t||{};var i={"image/png":"Image","image/jpeg":"Image","image/svg+xml":"Svg"},n=i[t.type]||"Svg",r=Ext.draw.engine[n+"Exporter"];return r.generate(e,t)}},availableAttrs:{blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,"dominant-baseline":"auto",fill:"none","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:"",height:0,hidden:!1,href:"http://sencha.com/",opacity:1,path:"M0,0",radius:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"none","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank",text:"","text-anchor":"middle",title:"Ext Draw",width:0,x:0,y:0,zIndex:0},container:void 0,height:352,width:512,x:0,y:0,orderSpritesByZIndex:!0,constructor:function(e){var t=this;e=e||{},Ext.apply(t,e),t.domRef=Ext.getDoc().dom,t.customAttributes={},t.addEvents("mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","click","dblclick"),t.mixins.observable.constructor.call(t),t.getId(),t.initGradients(),t.initItems(),t.renderTo&&(t.render(t.renderTo),delete t.renderTo),t.initBackground(e.background)},initSurface:Ext.emptyFn,renderItem:Ext.emptyFn,renderItems:Ext.emptyFn,setViewBox:function(e,t,i,n){isFinite(e)&&isFinite(t)&&isFinite(i)&&isFinite(n)&&(this.viewBox={x:e,y:t,width:i,height:n},this.applyViewBox())},addCls:Ext.emptyFn,removeCls:Ext.emptyFn,setStyle:Ext.emptyFn,initGradients:function(){if(this.hasOwnProperty("gradients")){var e,t=this.gradients,i=t.length,n=this.addGradient;if(t)for(e=0;e<i&&n.call(this,t[e],e,i)!==!1;e++);}},initItems:function(){var e=this.items;this.items=new Ext.draw.CompositeSprite,this.items.autoDestroy=!0,this.groups=new Ext.draw.CompositeSprite,e&&this.add(e)},initBackground:function(e){var t,i,n=this,r=n.width,o=n.height;Ext.isString(e)&&(e={fill:e}),e&&(e.gradient?(i=e.gradient,t=i.id,n.addGradient(i),n.background=n.add({type:"rect",x:0,y:0,width:r,height:o,fill:"url(#"+t+")",zIndex:-1})):e.fill?n.background=n.add({type:"rect",x:0,y:0,width:r,height:o,fill:e.fill,zIndex:-1}):e.image&&(n.background=n.add({type:"image",x:0,y:0,width:r,height:o,src:e.image,zIndex:-1})),n.background.bboxExcluded=!0)},setSize:function(e,t){this.applyViewBox()},scrubAttrs:function(e){var t,i={},n={},r=e.attr;for(t in r)this.translateAttrs.hasOwnProperty(t)?(i[this.translateAttrs[t]]=r[t],n[this.translateAttrs[t]]=!0):this.availableAttrs.hasOwnProperty(t)&&!n[t]&&(i[t]=r[t]);return i},onClick:function(e){this.processEvent("click",e)},onDblClick:function(e){this.processEvent("dblclick",e)},onMouseUp:function(e){this.processEvent("mouseup",e)},onMouseDown:function(e){this.processEvent("mousedown",e)},onMouseOver:function(e){this.processEvent("mouseover",e)},onMouseOut:function(e){this.processEvent("mouseout",e)},onMouseMove:function(e){this.fireEvent("mousemove",e)},onMouseEnter:Ext.emptyFn,onMouseLeave:Ext.emptyFn,addGradient:Ext.emptyFn,add:function(){var e,t,i,n,r,o,a=Array.prototype.slice.call(arguments),s=a.length>1;if(s||Ext.isArray(a[0])){for(t=s?a:a[0],i=[],n=0,r=t.length;n<r;n++)o=t[n],o=this.add(o),i.push(o);return i}return e=this.prepareItems(a[0],!0)[0],this.insertByZIndex(e),this.onAdd(e),e},insertByZIndex:function(e){var t,i=this,n=i.items.items,r=n.length,o=Math.ceil,a=e.attr.zIndex,s=r,l=s-1,d=0;if(i.orderSpritesByZIndex&&r&&a<n[l].attr.zIndex){for(;d<=l;)if(s=o((d+l)/2),t=n[s].attr.zIndex,t>a)l=s-1;else{if(!(t<a))break;d=s+1}for(;s<r&&n[s].attr.zIndex<=a;)s++}return i.items.insert(s,e),s},onAdd:function(e){var t,i,n,r=e.group,o=e.draggable;if(r){for(t=[].concat(r),i=t.length,n=0;n<i;n++)r=t[n],this.getGroup(r).add(e);delete e.group}o&&e.initDraggable()},remove:function(e,t){if(e){this.items.remove(e);var i,n=[].concat(this.groups.items),r=n.length;for(i=0;i<r;i++)n[i].remove(e);e.onRemove(),t===!0&&e.destroy()}},removeAll:function(e){var t,i=this.items.items,n=i.length;for(t=n-1;t>-1;t--)this.remove(i[t],e)},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,applyViewBox:function(){var e,t,i,n,r,o,a,s=this,l=s.viewBox,d=s.width||1,u=s.height||1;l&&(d||u)?(e=l.x,t=l.y,i=l.width,n=l.height,r=u/n,o=d/i,a=Math.min(o,r),i*a<d&&(e-=(d-i*a)/2/a),n*a<u&&(t-=(u-n*a)/2/a),s.viewBoxShift={dx:-e,dy:-t,scale:a},s.background&&s.background.setAttributes(Ext.apply({},{x:e,y:t,width:d/a,height:u/a},{hidden:!1}),!0)):s.background&&d&&u&&s.background.setAttributes(Ext.apply({x:0,y:0,width:d,height:u},{hidden:!1}),!0)},getBBox:function(e,t){var i=this["getPath"+e.type](e);return t?(e.bbox.plain=e.bbox.plain||Ext.draw.Draw.pathDimensions(i),e.bbox.plain):(e.dirtyTransform&&this.applyTransformations(e,!0),e.bbox.transform=e.bbox.transform||Ext.draw.Draw.pathDimensions(Ext.draw.Draw.mapPath(i,e.matrix)),e.bbox.transform)},transformToViewBox:function(e,t){if(this.viewBoxShift){var i=this,n=i.viewBoxShift;return[e/n.scale-n.dx,t/n.scale-n.dy]}return[e,t]},applyTransformations:function(e,t){"text"==e.type&&(e.bbox.transform=0,this.transform(e,!1)),e.dirtyTransform=!1;var i=this,n=e.attr;null==n.translation.x&&null==n.translation.y||i.translate(e),null==n.scaling.x&&null==n.scaling.y||i.scale(e),null!=n.rotation.degrees&&i.rotate(e),e.bbox.transform=0,this.transform(e,t),e.transformations=[]},rotate:function(e){var t,i=e.attr.rotation.degrees,n=e.attr.rotation.x,r=e.attr.rotation.y;Ext.isNumber(n)&&Ext.isNumber(r)||(t=this.getBBox(e,!0),n=Ext.isNumber(n)?n:t.x+t.width/2,r=Ext.isNumber(r)?r:t.y+t.height/2),e.transformations.push({type:"rotate",degrees:i,x:n,y:r})},translate:function(e){var t=e.attr.translation.x||0,i=e.attr.translation.y||0;e.transformations.push({type:"translate",x:t,y:i})},scale:function(e){var t,i=e.attr.scaling.x||1,n=e.attr.scaling.y||1,r=e.attr.scaling.centerX,o=e.attr.scaling.centerY;Ext.isNumber(r)&&Ext.isNumber(o)||(t=this.getBBox(e,!0),r=Ext.isNumber(r)?r:t.x+t.width/2,o=Ext.isNumber(o)?o:t.y+t.height/2),e.transformations.push({type:"scale",x:i,y:n,centerX:r,centerY:o})},rectPath:function(e,t,i,n,r){return r?[["M",e+r,t],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]]:[["M",e,t],["l",i,0],["l",0,n],["l",-i,0],["z"]]},ellipsePath:function(e,t,i,n){return null==n&&(n=i),[["M",e,t],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},getPathpath:function(e){return e.attr.path},getPathcircle:function(e){var t=e.attr;return this.ellipsePath(t.x,t.y,t.radius,t.radius)},getPathellipse:function(e){var t=e.attr;return this.ellipsePath(t.x,t.y,t.radiusX||t.width/2||0,t.radiusY||t.height/2||0)},getPathrect:function(e){var t=e.attr;return this.rectPath(t.x||0,t.y||0,t.width||0,t.height||0,t.r||0)},getPathimage:function(e){var t=e.attr;return this.rectPath(t.x||0,t.y||0,t.width,t.height)},getPathtext:function(e){var t=this.getBBoxText(e);return this.rectPath(t.x,t.y,t.width,t.height)},createGroup:function(e){var t=this.groups.get(e);return t||(t=new Ext.draw.CompositeSprite({surface:this}),t.id=e||Ext.id(null,"ext-surface-group-"),this.groups.add(t)),t},getGroup:function(e){var t;return"string"==typeof e?(t=this.groups.get(e),t||(t=this.createGroup(e))):t=e,t},prepareItems:function(e,t){e=[].concat(e);var i,n,r;for(n=0,r=e.length;n<r;n++)i=e[n],i instanceof Ext.draw.Sprite?i.surface=this:(i.surface=this,e[n]=this.createItem(i));return e},setText:Ext.emptyFn,createItem:Ext.emptyFn,getId:function(){return this.id||(this.id=Ext.id(null,"ext-surface-"))},destroy:function(){var e=this;delete e.domRef,e.background&&e.background.destroy(),e.removeAll(!0),Ext.destroy(e.groups.items)}}),Ext.define("Ext.fx.Manager",{singleton:!0,requires:["Ext.util.MixedCollection","Ext.fx.target.Element","Ext.fx.target.ElementCSS","Ext.fx.target.CompositeElement","Ext.fx.target.CompositeElementCSS","Ext.fx.target.Sprite","Ext.fx.target.CompositeSprite","Ext.fx.target.Component"],mixins:{queue:"Ext.fx.Queue"},constructor:function(){this.items=new Ext.util.MixedCollection,this.mixins.queue.constructor.call(this)},interval:16,forceJS:!0,createTarget:function(e){var t,i=this,n=!i.forceJS&&Ext.supports.Transitions;if(i.useCSS3=n,e){if(e.tagName||Ext.isString(e)||e.isFly)e=Ext.get(e),t=new Ext.fx.target["Element"+(n?"CSS":"")](e);else if(e.dom)t=new Ext.fx.target["Element"+(n?"CSS":"")](e);else if(e.isComposite)t=new Ext.fx.target["CompositeElement"+(n?"CSS":"")](e);else if(e.isSprite)t=new Ext.fx.target.Sprite(e);else if(e.isCompositeSprite)t=new Ext.fx.target.CompositeSprite(e);else{if(!e.isComponent)return e.isAnimTarget?e:null;t=new Ext.fx.target.Component(e)}return i.targets.add(t),t}return null},addAnim:function(e){var t=this.items,i=this.task;t.add(e.id,e),!i&&t.length&&(i=this.task={run:this.runner,interval:this.interval,scope:this},Ext.TaskManager.start(i))},removeAnim:function(e){var t=this,i=t.items,n=t.task;i.removeAtKey(e.id),n&&!i.length&&(Ext.TaskManager.stop(n),delete t.task)},runner:function(){var e,t=this,i=t.items.getRange(),n=0,r=i.length;for(t.targetArr={},t.timestamp=new Date;n<r;n++)e=i[n],e.isReady()&&t.startAnim(e);for(n=0;n<r;n++)e=i[n],e.isRunning()&&t.runAnim(e);t.applyPendingAttrs()},startAnim:function(e){e.start(this.timestamp)},runAnim:function(e){if(e){var t,i,n=this,r=(e.target.getId(),n.useCSS3&&"element"==e.target.type),o=n.timestamp-e.startTime,a=o>=e.duration;t=this.collectTargetData(e,o,r,a),r&&(e.target.setAttr(t.anims[e.id].attributes,!0),n.collectTargetData(e,e.duration,r,a),e.paused=!0,t=e.target.target,e.target.isComposite&&(t=e.target.target.last()),i={},i[Ext.supports.CSS3TransitionEnd]=e.lastFrame,i.scope=e,i.single=!0,t.on(i))}},collectTargetData:function(e,t,i,n){var r=e.target.getId(),o=this.targetArr[r];return o||(o=this.targetArr[r]={id:r,el:e.target,anims:{}}),o.anims[e.id]={id:e.id,anim:e,elapsed:t,isLastFrame:n,attributes:[{duration:e.duration,easing:i&&e.reverse?e.easingFn.reverse().toCSS3():e.easing,attrs:e.runAnim(t)}]},o},applyPendingAttrs:function(){var e,t,i,n,r,o=this.targetArr;for(t in o)if(o.hasOwnProperty(t)){e=o[t];for(r in e.anims)e.anims.hasOwnProperty(r)&&(i=e.anims[r],n=i.anim,i.attributes&&n.isRunning()&&(e.el.setAttr(i.attributes,!1,i.isLastFrame),i.isLastFrame&&n.lastFrame()))}}}),Ext.define("Ext.fx.Animator",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager"],isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(e){
var t=this;e=Ext.apply(t,e||{}),t.config=e,t.id=Ext.id(null,"ext-animator-"),t.addEvents("beforeanimate","keyframe","afteranimate"),t.mixins.observable.constructor.call(t,e),t.timeline=[],t.createTimeline(t.keyframes),t.target&&(t.applyAnimator(t.target),Ext.fx.Manager.addAnim(t))},sorter:function(e,t){return e.pct-t.pct},createTimeline:function(e){var t,i,n,r,o,a,s=this,l=[],d=s.to||{},u=s.duration;for(o in e)e.hasOwnProperty(o)&&s.animKeyFramesRE.test(o)&&(a={attrs:Ext.apply(e[o],d)},"from"==o?o=0:"to"==o&&(o=100),a.pct=parseInt(o,10),l.push(a));for(Ext.Array.sort(l,s.sorter),r=l.length,n=0;n<r;n++)t=l[n-1]?u*(l[n-1].pct/100):0,i=u*(l[n].pct/100),s.timeline.push({duration:i-t,attrs:l[n].attrs})},applyAnimator:function(e){var t,i,n,r,o,a=this,s=[],l=a.timeline,d=(a.reverse,l.length);if(a.fireEvent("beforeanimate",a)!==!1){for(o=0;o<d;o++)t=l[o],r=t.attrs,i=r.easing||a.easing,n=r.damper||a.damper,delete r.easing,delete r.damper,t=new Ext.fx.Anim({target:e,easing:i,damper:n,duration:t.duration,paused:!0,to:r}),s.push(t);for(a.animations=s,a.target=t.target,o=0;o<d-1;o++)t=s[o],t.nextAnim=s[o+1],t.on("afteranimate",function(){this.nextAnim.paused=!1}),t.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},a);s[d-1].on("afteranimate",function(){this.lastFrame()},a)}},start:function(e){var t,i=this,n=i.delay,r=i.delayStart;if(n){if(!r)return void(i.delayStart=e);if(t=e-r,t<n)return;e=new Date(r.getTime()+n)}i.fireEvent("beforeanimate",i)!==!1&&(i.startTime=e,i.running=!0,i.animations[i.keyframeStep].paused=!1)},lastFrame:function(){var e=this,t=e.iterations,i=e.currentIteration;i++,i<t?(e.startTime=new Date,e.currentIteration=i,e.keyframeStep=0,e.applyAnimator(e.target),e.animations[e.keyframeStep].paused=!1):(e.currentIteration=0,e.end())},end:function(){var e=this;e.fireEvent("afteranimate",e,e.startTime,new Date-e.startTime)},isReady:function(){return this.paused===!1&&this.running===!1&&this.iterations>0},isRunning:function(){return!1}}),Ext.define("Ext.fx.Anim",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager","Ext.fx.Animator","Ext.fx.Easing","Ext.fx.CubicBezier","Ext.fx.PropertyHandler"],isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(e){var t,i=this;return e=e||{},e.keyframes?new Ext.fx.Animator(e):(Ext.apply(i,e),void 0===i.from&&(i.from={}),i.propHandlers={},i.config=e,i.target=Ext.fx.Manager.createTarget(i.target),i.easingFn=Ext.fx.Easing[i.easing],i.target.dynamic=i.dynamic,i.easingFn||(i.easingFn=String(i.easing).match(i.bezierRE),i.easingFn&&5==i.easingFn.length&&(t=i.easingFn,i.easingFn=Ext.fx.CubicBezier.cubicBezier(+t[1],+t[2],+t[3],+t[4]))),i.id=Ext.id(null,"ext-anim-"),i.addEvents("beforeanimate","afteranimate","lastframe"),i.mixins.observable.constructor.call(i),void Ext.fx.Manager.addAnim(i))},setAttr:function(e,t){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,e,t)},initAttrs:function(){var e,t,i,n,r=this,o=r.from,a=r.to,s=r.initialFrom||{},l={};for(n in a)a.hasOwnProperty(n)&&(e=r.target.getAttr(n,o[n]),t=a[n],i=Ext.fx.PropertyHandler[n]?r.propHandlers[n]=Ext.fx.PropertyHandler[n]:Ext.isObject(t)?r.propHandlers[n]=Ext.fx.PropertyHandler.object:r.propHandlers[n]=Ext.fx.PropertyHandler.defaultHandler,l[n]=i.get(e,t,r.damper,s[n],n));r.currentAttrs=l},start:function(e){var t,i=this,n=i.delay,r=i.delayStart;if(n){if(!r)return void(i.delayStart=e);if(t=e-r,t<n)return;e=new Date(r.getTime()+n)}i.fireEvent("beforeanimate",i)!==!1&&(i.startTime=e,i.paused||i.currentAttrs||i.initAttrs(),i.running=!0,i.frameCount=0)},runAnim:function(e){var t,i,n,r,o=this,a=o.currentAttrs,s=o.duration,l=o.easingFn,d=o.propHandlers,u={};e>=s&&(e=s,r=!0),o.reverse&&(e=s-e);for(n in a)a.hasOwnProperty(n)&&(i=a[n],t=r?1:l(e/s),u[n]=d[n].set(i,t));return o.frameCount++,u},lastFrame:function(){var e=this,t=e.iterations,i=e.currentIteration;i++,i<t?(e.alternate&&(e.reverse=!e.reverse),e.startTime=new Date,e.currentIteration=i,e.paused=!1):(e.currentIteration=0,e.end(),e.fireEvent("lastframe",e,e.startTime))},endWasCalled:0,end:function(){if(!this.endWasCalled++){var e=this;e.startTime=0,e.paused=!1,e.running=!1,Ext.fx.Manager.removeAnim(e),e.fireEvent("afteranimate",e,e.startTime),Ext.callback(e.callback,e.scope,[e,e.startTime])}},isReady:function(){return this.paused===!1&&this.running===!1&&this.iterations>0},isRunning:function(){return this.paused===!1&&this.running===!0&&this.isAnimator!==!0}}),Ext.enableFx=!0,Ext.define("Ext.chart.Highlight",{requires:["Ext.fx.Anim"],highlight:!1,highlightCfg:{fill:"#fdd","stroke-width":5,stroke:"#f55"},constructor:function(e){e.highlight&&e.highlight!==!0&&(this.highlightCfg=Ext.merge(this.highlightCfg,e.highlight))},highlightItem:function(e){if(e){var t,i,n,r,o=this,a=e.sprite,s=Ext.merge({},o.highlightCfg,o.highlight),l=o.chart.surface,d=o.chart.animate;if(o.highlight&&a&&!a._highlighted){if(a._anim&&(a._anim.paused=!0),a._highlighted=!0,!a._defaults){a._defaults=Ext.apply({},a.attr),i={},n={};for(t in s)if(t in a._defaults||(a._defaults[t]=l.availableAttrs[t]),i[t]=a._defaults[t],n[t]=s[t],Ext.isObject(s[t])){i[t]={},n[t]={},Ext.apply(a._defaults[t],a.attr[t]),Ext.apply(i[t],a._defaults[t]);for(r in a._defaults[t])r in s[t]?n[t][r]=s[t][r]:n[t][r]=i[t][r];for(r in s[t])r in n[t]||(n[t][r]=s[t][r])}a._from=i,a._to=n,a._endStyle=n}d?a._anim=new Ext.fx.Anim({target:a,from:a._from,to:a._to,duration:150}):a.setAttributes(a._to,!0)}}},unHighlightItem:function(){if(this.highlight&&this.items)for(var e,t,i,n=this,r=n.items,o=r.length,a=Ext.merge({},n.highlightCfg,n.highlight),s=n.chart.animate,l=0;l<o;l++)if(r[l]&&(i=r[l].sprite,i&&i._highlighted)){i._anim&&(i._anim.paused=!0),e={};for(t in a)Ext.isObject(i._defaults[t])?(e[t]={},Ext.apply(e[t],i._defaults[t])):e[t]=i._defaults[t];s?(i._endStyle=e,i._anim=new Ext.fx.Anim({target:i,to:e,duration:150})):i.setAttributes(e,!0),delete i._highlighted}},cleanHighlights:function(){if(this.highlight){var e,t=this.group,i=this.markerGroup,n=0;for(e=t.getCount();n<e;n++)delete t.getAt(n)._defaults;if(i)for(e=i.getCount();n<e;n++)delete i.getAt(n)._defaults}}}),Ext.define("Ext.layout.Context",{requires:["Ext.util.Queue","Ext.layout.ContextItem","Ext.layout.Layout","Ext.fx.Anim","Ext.fx.Manager"],remainingLayouts:0,state:0,constructor:function(e){var t=this;Ext.apply(t,e),t.items={},t.layouts={},t.blockCount=0,t.cycleCount=0,t.flushCount=0,t.calcCount=0,t.animateQueue=t.newQueue(),t.completionQueue=t.newQueue(),t.finalizeQueue=t.newQueue(),t.finishQueue=t.newQueue(),t.flushQueue=t.newQueue(),t.invalidateData={},t.layoutQueue=t.newQueue(),t.invalidQueue=[],t.triggers={data:{},dom:{}}},callLayout:function(e,t){this.currentLayout=e,e[t](this.getCmp(e.owner))},cancelComponent:function(e,t,i){var n,r,o,a,s,l,d,u,c,h,g=this,p=e,f=!e.isComponent,m=f?p.length:1;for(n=0;n<m;++n){if(f&&(e=p[n]),i&&e.ownerCt&&(h=this.items[e.ownerCt.el.id],h&&Ext.Array.remove(h.childItems,g.getCmp(e))),!t&&(d=g.invalidQueue,o=d.length))for(g.invalidQueue=l=[],r=0;r<o;++r)u=d[r],c=u.item.target,c==e||c.isDescendant(e)||l.push(u);s=e.componentLayout,g.cancelLayout(s),s.getLayoutItems&&(a=s.getLayoutItems(),a.length&&g.cancelComponent(a,!0)),e.isContainer&&!e.collapsed&&(s=e.layout,g.cancelLayout(s),a=s.getVisibleItems(),a.length&&g.cancelComponent(a,!0))}},cancelLayout:function(e){var t=this;t.completionQueue.remove(e),t.finalizeQueue.remove(e),t.finishQueue.remove(e),t.layoutQueue.remove(e),e.running&&t.layoutDone(e),e.ownerContext=null},clearTriggers:function(e,t){var i,n,r,o,a=e.id,i=this.triggers[t?"dom":"data"],s=i&&i[a],l=s&&s.length||0;for(n=0;n<l;++n)o=s[n],r=o.item,i=t?r.domTriggers:r.triggers,delete i[o.prop][a]},flush:function(){var e,t=this,i=t.flushQueue.clear(),n=i.length;if(n)for(++t.flushCount,e=0;e<n;++e)i[e].flush()},flushAnimations:function(){var e,t=this,i=t.animateQueue.clear(),n=i.length;if(n){for(e=0;e<n;e++)i[e].target.animate!==!1&&i[e].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var e,t,i,n,r=this,o=r.invalidQueue,a=o&&o.length;if(r.invalidQueue=[],a){for(t=[],n=0;n<a;++n)e=(i=o[n]).item.target,e.container.isDetachedBody||(t.push(e),i.options&&(r.invalidateData[e.id]=i.options));r.invalidate(t,null)}},flushLayouts:function(e,t,i){var n,r,o=this,a=i?o[e].items:o[e].clear(),s=a.length;if(s){for(n=0;n<s;++n)r=a[n],r.running||o.callLayout(r,t);o.currentLayout=null}},getCmp:function(e){return this.getItem(e,e.el)},getEl:function(e,t){var i=this.getItem(t,t);return i.parent||(i.parent=e,e.children.length?e.children.push(i):e.children=[i]),i},getItem:function(e,t){var i=t.id,n=this.items,r=n[i]||(n[i]=new Ext.layout.ContextItem({context:this,target:e,el:t}));return r},handleFailure:function(){var e,t,i=this.layouts;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(t in i)e=i[t],i.hasOwnProperty(t)&&(e.running=!1,e.ownerContext=null)},invalidate:function(e,t){var i,n,r,o,a,s,l,d,u,c,h,g,p,f=this,m=!e.isComponent;for(a=0,u=m?e.length:1;a<u;++a)s=m?e[a]:e,s.rendered&&!s.hidden&&(l=f.getCmp(s),c=s.componentLayout,o=!c.ownerContext,h=s.isContainer&&!s.collapsed?s.layout:null,g=f.invalidateData[l.id],delete f.invalidateData[l.id],p=l.init(t,g),g&&f.processInvalidate(g,l,"before"),c.beforeLayoutCycle&&c.beforeLayoutCycle(l),p=l.initContinue(p),i=n=r=!0,c.getLayoutItems&&(c.renderChildren(),d=c.getLayoutItems(),d.length&&(f.invalidate(d,!0),i=!1)),h&&(r=!1,h.renderChildren(),d=h.getVisibleItems(),d.length&&(f.invalidate(d,!0),n=!1)),l.initDone(p,i,n,r),f.resetLayout(c,l,o),h&&f.resetLayout(h,l,o),l.initAnimation(),g&&f.processInvalidate(g,l,"after"));f.currentLayout=null},layoutDone:function(e){var t,i=e.ownerContext;e.running=!1,e.isComponentLayout?(i.measuresBox&&i.onBoxMeasured(),i.setProp("done",!0),t=i.ownerCtContext,t&&(i.target.ownerLayout.isComponentLayout?--t.remainingComponentChildLayouts||t.setProp("componentChildrenDone",!0):--t.remainingContainerChildLayouts||t.setProp("containerChildrenDone",!0),--t.remainingChildLayouts||t.setProp("childrenDone",!0))):i.setProp("containerLayoutDone",!0),--this.remainingLayouts,++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(e,t,i){if(e[i]){var n=this,r=n.currentLayout;n.currentLayout=e.layout||null,e[i](t,e),n.currentLayout=r}},queueAnimation:function(e){this.animateQueue.add(e)},queueCompletion:function(e){this.completionQueue.add(e)},queueFinalize:function(e){this.finalizeQueue.add(e)},queueFlush:function(e){this.flushQueue.add(e)},chainFns:function(e,t,i){var n=this,r=e.layout,o=t.layout,a=e[i],s=t[i];return function(i){var l=n.currentLayout;a&&(n.currentLayout=r,a.call(e.scope||e,i,e)),n.currentLayout=o,s.call(t.scope||t,i,t),n.currentLayout=l}},queueInvalidate:function(e,t){var i,n,r,o,a,s=this,l=[],d=s.invalidQueue,u=d.length;for(e.isComponent?e=s.getCmp(i=e):i=e.target,e.invalid=!0;u--;){if(n=d[u],r=n.item.target,i.isDescendant(r))return;if(r==i)return void((o=n.options)?t&&(t.widthModel&&(o.widthModel=t.widthModel),t.heightModel&&(o.heightModel=t.heightModel),(a=o.state)?t.state&&Ext.apply(a,t.state):o.state=t.state,t.before&&(o.before=s.chainFns(o,t,"before")),t.after&&(o.after=s.chainFns(o,t,"after"))):n.options=t);r.isDescendant(i)||l.push(n)}l.push({item:e,options:t}),s.invalidQueue=l},queueItemLayouts:function(e){var t=e.isComponent?e:e.target,i=t.componentLayout;i.pending||i.invalid||i.done||this.queueLayout(i),i=t.layout,!i||i.pending||i.invalid||i.done||this.queueLayout(i)},queueLayout:function(e){this.layoutQueue.add(e),e.pending=!0},resetLayout:function(e,t,i){var n,r=this;r.currentLayout=e,e.done=!1,e.pending=!0,e.firedTriggers=0,r.layoutQueue.add(e),i?(r.layouts[e.id]=e,e.running=!0,e.finishedLayout&&r.finishQueue.add(e),++r.remainingLayouts,++e.layoutCount,e.ownerContext=t,e.beginCount=0,e.blockCount=0,e.calcCount=0,e.triggerCount=0,e.isComponentLayout&&(n=t.ownerCtContext)&&(t.target.ownerLayout.isComponentLayout?++n.remainingComponentChildLayouts:++n.remainingContainerChildLayouts,++n.remainingChildLayouts),e.initialized||e.initLayout(),e.beginLayout(t)):(++e.beginCount,e.running||(++r.remainingLayouts,e.running=!0,e.isComponentLayout&&(t.unsetProp("done"),n=t.ownerCtContext,n&&(t.target.ownerLayout.isComponentLayout?1==++n.remainingComponentChildLayouts&&n.unsetProp("componentChildrenDone"):1==++n.remainingContainerChildLayouts&&n.unsetProp("containerChildrenDone"),1==++n.remainingChildLayouts&&n.unsetProp("childrenDone"))),r.completionQueue.remove(e),r.finalizeQueue.remove(e))),e.beginLayoutCycle(t,i)},run:function(){var e=this,t=!1,i=100;for(e.flushInvalidates(),e.state=1,e.totalCount=e.layoutQueue.getCount(),e.flush();(e.remainingLayouts||e.invalidQueue.length)&&i--;){if(e.invalidQueue.length&&e.flushInvalidates(),e.runCycle())t=!1;else{if(t){e.state=2;break}e.flush(),t=!0,e.flushLayouts("completionQueue","completeLayout")}e.remainingLayouts||e.invalidQueue.length||(e.flush(),e.flushLayouts("completionQueue","completeLayout"),e.flushLayouts("finalizeQueue","finalizeLayout"))}return e.runComplete()},runComplete:function(){var e=this;return e.state=2,e.remainingLayouts?(e.handleFailure(),!1):(e.flush(),e.flushLayouts("finishQueue","finishedLayout",!0),e.flushLayouts("finishQueue","notifyOwner"),e.flush(),e.flushAnimations(),!0)},runCycle:function(){var e,t=this,i=t.layoutQueue.clear(),n=i.length;for(++t.cycleCount,t.progressCount=0,e=0;e<n;++e)t.runLayout(t.currentLayout=i[e]);return t.currentLayout=null,t.progressCount>0},runLayout:function(e){var t=this,i=t.getCmp(e.owner);e.pending=!1,i.state.blocks||(e.done=!0,++e.calcCount,++t.calcCount,e.calculate(i),e.done?(t.layoutDone(e),e.completeLayout&&t.queueCompletion(e),e.finalizeLayout&&t.queueFinalize(e)):e.pending||e.invalid||e.blockCount+e.triggerCount-e.firedTriggers||t.queueLayout(e))},setItemSize:function(e,t,i){var n,r,o=e,a=1;for(e.isComposite?(o=e.elements,a=o.length,e=o[0]):e.dom||e.el||(a=o.length,e=o[0]),r=0;r<a;)n=this.get(e),n.setSize(t,i),e=o[++r]}}),Ext.define("Ext.selection.Model",{extend:"Ext.util.Observable",alternateClassName:"Ext.AbstractSelectionModel",requires:["Ext.data.StoreManager"],mixins:{bindable:"Ext.util.Bindable"},allowDeselect:!1,selected:null,pruneRemoved:!0,constructor:function(e){var t=this;e=e||{},Ext.apply(t,e),t.addEvents("selectionchange","focuschange"),t.modes={SINGLE:!0,SIMPLE:!0,MULTI:!0},t.setSelectionMode(e.mode||t.mode),t.selected=new Ext.util.MixedCollection,t.callParent(arguments)},bindStore:function(e,t){var i=this;i.mixins.bindable.bindStore.apply(i,arguments),i.store&&!t&&i.refresh()},getStoreListeners:function(){var e=this;return{add:e.onStoreAdd,clear:e.onStoreClear,remove:e.onStoreRemove,update:e.onStoreUpdate}},selectAll:function(e){var t=this,i=t.store.getRange(),n=0,r=i.length,o=t.getSelection().length;for(t.bulkChange=!0;n<r;n++)t.doSelect(i[n],!0,e);delete t.bulkChange,t.maybeFireSelectionChange(t.getSelection().length!==o)},deselectAll:function(e){var t=this,i=t.getSelection(),n=0,r=i.length,o=t.getSelection().length;for(t.bulkChange=!0;n<r;n++)t.doDeselect(i[n],e);delete t.bulkChange,t.maybeFireSelectionChange(t.getSelection().length!==o)},selectWithEvent:function(e,t,i){var n=this;switch(n.selectionMode){case"MULTI":t.ctrlKey&&n.isSelected(e)?n.doDeselect(e,!1):t.shiftKey&&n.lastFocused?n.selectRange(n.lastFocused,e,t.ctrlKey):t.ctrlKey?n.doSelect(e,!0,!1):n.isSelected(e)&&!t.shiftKey&&!t.ctrlKey&&n.selected.getCount()>1?n.doSelect(e,i,!1):n.doSelect(e,!1);break;case"SIMPLE":n.isSelected(e)?n.doDeselect(e):n.doSelect(e,!0);break;case"SINGLE":n.allowDeselect&&n.isSelected(e)?n.doDeselect(e):n.doSelect(e,!1)}},selectRange:function(e,t,i,n){var r,o,a,s=this,l=s.store,d=0,u=[];if(!s.isLocked()){for(i||s.deselectAll(!0),Ext.isNumber(e)||(e=l.indexOf(e)),Ext.isNumber(t)||(t=l.indexOf(t)),e>t&&(o=t,t=e,e=o),r=e;r<=t;r++)s.isSelected(l.getAt(r))&&d++;for(a=n?"up"==n?e:t:-1,r=e;r<=t;r++)d==t-e+1?r!=a&&s.doDeselect(r,!0):u.push(l.getAt(r));s.doMultiSelect(u,!0)}},select:function(e,t,i){Ext.isDefined(e)&&this.doSelect(e,t,i)},deselect:function(e,t){this.doDeselect(e,t)},doSelect:function(e,t,i){var n,r=this;!r.locked&&r.store&&("number"==typeof e&&(e=[r.store.getAt(e)]),"SINGLE"==r.selectionMode&&e?(n=e.length?e[0]:e,r.doSingleSelect(n,i)):r.doMultiSelect(e,t,i))},doMultiSelect:function(e,t,i){function n(){s.add(o),l=!0}var r,o,a=this,s=a.selected,l=!1,d=0;if(!a.locked&&(e=Ext.isArray(e)?e:[e],r=e.length,t||!(s.getCount()>0)||a.doDeselect(a.getSelection(),i)!==!1)){for(;d<r;d++)o=e[d],t&&a.isSelected(o)||(a.lastSelected=o,a.onSelectChange(o,!0,i,n));a.preventFocus||a.setLastFocused(o,i),a.maybeFireSelectionChange(l&&!i)}},doDeselect:function(e,t){function i(){++d,a.remove(r)}var n,r,o=this,a=o.selected,s=0,l=0,d=0;if(o.locked||!o.store)return!1;for("number"==typeof e?e=[o.store.getAt(e)]:Ext.isArray(e)||(e=[e]),n=e.length;s<n;s++)r=e[s],o.isSelected(r)&&(o.lastSelected==r&&(o.lastSelected=a.last()),++l,o.onSelectChange(r,!1,t,i));return o.maybeFireSelectionChange(d>0&&!t),d===l},doSingleSelect:function(e,t){function i(){return n.bulkChange=!0,o.getCount()>0&&n.doDeselect(n.lastSelected,t)===!1?(delete n.bulkChange,!1):(delete n.bulkChange,o.add(e),n.lastSelected=e,void(r=!0))}var n=this,r=!1,o=n.selected;n.locked||n.isSelected(e)||(n.onSelectChange(e,!0,t,i),r&&(t||n.setLastFocused(e),n.maybeFireSelectionChange(!t)))},setLastFocused:function(e,t){var i=this,n=i.lastFocused;i.lastFocused=e,e!==n&&i.onLastFocusChanged(n,e,t)},isFocused:function(e){return e===this.getLastFocused()},maybeFireSelectionChange:function(e){var t=this;e&&!t.bulkChange&&t.fireEvent("selectionchange",t,t.getSelection())},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(e){e=e?e.toUpperCase():"SINGLE",this.selectionMode=this.modes[e]?e:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(e){this.locked=!!e},isSelected:function(e){return e=Ext.isNumber(e)?this.store.getAt(e):e,this.selected.indexOf(e)!==-1},hasSelection:function(){return this.selected.getCount()>0},refresh:function(){var e,t,i=this,n=i.store,r=[],o=i.getSelection(),a=o.length,s=0,l=i.getLastFocused();if(n){for(;s<a;s++)e=o[s],i.pruneRemoved&&n.indexOf(e)===-1||r.push(e);i.selected.getCount()!=r.length&&(t=!0),i.clearSelections(),n.indexOf(l)!==-1&&i.setLastFocused(l,!0),r.length&&i.doSelect(r,!1,!0),i.maybeFireSelectionChange(t)}},clearSelections:function(){this.selected.clear(),this.lastSelected=null,this.setLastFocused(null)},onStoreAdd:Ext.emptyFn,onStoreClear:function(){this.selected.getCount>0&&(this.clearSelections(),this.maybeFireSelectionChange(!0))},onStoreRemove:function(e,t,i){var n=this,r=n.selected;!n.locked&&n.pruneRemoved&&r.remove(t)&&(n.lastSelected==t&&(n.lastSelected=null),n.getLastFocused()==t&&n.setLastFocused(null),n.maybeFireSelectionChange(!0))},getCount:function(){return this.selected.getCount()},destroy:Ext.emptyFn,onStoreUpdate:Ext.emptyFn,onStoreLoad:Ext.emptyFn,onSelectChange:Ext.emptyFn,onLastFocusChanged:function(e,t){this.fireEvent("focuschange",this,e,t)},onEditorKey:Ext.emptyFn,bindComponent:Ext.emptyFn,beforeViewRender:Ext.emptyFn}),Ext.define("Ext.selection.DataViewModel",{extend:"Ext.selection.Model",requires:["Ext.util.KeyNav"],deselectOnContainerClick:!0,enableKeyNav:!0,constructor:function(e){this.addEvents("beforedeselect","beforeselect","deselect","select"),this.callParent(arguments)},bindComponent:function(e){var t=this,i={refresh:t.refresh,scope:t};t.view=e,t.bindStore(e.getStore()),i[e.triggerEvent]=t.onItemClick,i[e.triggerCtEvent]=t.onContainerClick,e.on(i),t.enableKeyNav&&t.initKeyNav(e)},onItemClick:function(e,t,i,n,r){this.selectWithEvent(t,r)},onContainerClick:function(){this.deselectOnContainerClick&&this.deselectAll()},initKeyNav:function(e){var t=this;return e.rendered?(e.el.set({tabIndex:-1}),void(t.keyNav=new Ext.util.KeyNav({target:e.el,ignoreInputFields:!0,down:Ext.pass(t.onNavKey,[1],t),right:Ext.pass(t.onNavKey,[1],t),left:Ext.pass(t.onNavKey,[-1],t),up:Ext.pass(t.onNavKey,[-1],t),scope:t}))):void e.on({render:Ext.Function.bind(t.initKeyNav,t,[e]),single:!0})},onNavKey:function(e){e=e||1;var t,i=this,n=i.view,r=i.getSelection()[0],o=i.view.store.getCount();t=r?n.indexOf(n.getNode(r))+e:0,t<0?t=o-1:t>=o&&(t=0),i.select(t)},onSelectChange:function(e,t,i,n){var r=this,o=r.view,a=t?"select":"deselect";(i||r.fireEvent("before"+a,r,e))!==!1&&n()!==!1&&(o&&(t?o.onItemSelect(e):o.onItemDeselect(e)),i||r.fireEvent(a,r,e))},destroy:function(){Ext.destroy(this.keyNav),this.callParent()}}),Ext.define("Ext.Component",{alias:["widget.component","widget.box"],extend:"Ext.AbstractComponent",requires:["Ext.util.DelayedTask"],uses:["Ext.Layer","Ext.resizer.Resizer","Ext.util.ComponentDragger"],mixins:{floating:"Ext.util.Floating"},statics:{DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g},resizeHandles:"all",floating:!1,toFrontOnShow:!0,hideMode:"display",bubbleEvents:[],monPropRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,constructor:function(e){var t=this;e=e||{},e.initialConfig?(e.isAction&&(t.baseAction=e),e=e.initialConfig):(e.tagName||e.dom||Ext.isString(e))&&(e={applyTo:e,id:e.id||e}),t.callParent([e]),t.baseAction&&t.baseAction.addComponent(t)},initComponent:function(){var e=this;e.callParent(),e.listeners&&(e.on(e.listeners),e.listeners=null),e.enableBubble(e.bubbleEvents),e.mons=[]},afterRender:function(){var e=this;e.callParent(),e.x&&e.y||!e.pageX&&!e.pageY||e.setPagePosition(e.pageX,e.pageY)},setAutoScroll:function(e){var t=this;return t.autoScroll=!!e,t.rendered&&t.getTargetEl().setStyle(t.getOverflowStyle()),t.updateLayout(),t},setOverflowXY:function(e,t){var i=this,n=arguments.length;return n&&(i.overflowX=e||"",n>1&&(i.overflowY=t||"")),i.rendered&&i.getTargetEl().setStyle(i.getOverflowStyle()),i.updateLayout(),i},beforeRender:function(){var e,t=this,i=t.floating;return i&&(t.addCls(Ext.baseCSSPrefix+"layer"),e=i.cls,e&&t.addCls(e)),t.callParent()},afterComponentLayout:function(){this.callParent(arguments),this.floating&&this.onAfterFloatLayout()},makeFloating:function(e){this.mixins.floating.constructor.call(this,e)},wrapPrimaryEl:function(e){this.floating?this.makeFloating(e):this.callParent(arguments)},initResizable:function(e){var t=this;e=Ext.apply({target:t,dynamic:!1,constrainTo:t.constrainTo||(t.floatParent?t.floatParent.getTargetEl():null),handles:t.resizeHandles},e),e.target=t,t.resizer=new Ext.resizer.Resizer(e)},getDragEl:function(){return this.el},initDraggable:function(){var e=this,t=e.resizer&&e.resizer.el!==e.el?e.resizerComponent=new Ext.Component({el:e.resizer.el,rendered:!0,container:e.container}):e,i=Ext.applyIf({el:t.getDragEl(),constrainTo:e.constrain?e.constrainTo||(e.floatParent?e.floatParent.getTargetEl():e.el.getScopeParent()):void 0},e.draggable);(e.constrain||e.constrainDelegate)&&(i.constrain=e.constrain,i.constrainDelegate=e.constrainDelegate),e.dd=new Ext.util.ComponentDragger(t,i)},scrollBy:function(e,t,i){var n;(n=this.getTargetEl())&&n.dom&&n.scrollBy.apply(n,arguments)},setLoading:function(e,t){var i,n=this;return n.rendered&&(Ext.destroy(n.loadMask),n.loadMask=null,e===!1||n.collapsed||(i=Ext.isObject(e)?Ext.apply({},e):Ext.isString(e)?{msg:e}:{},t&&Ext.applyIf(i,{useTargetEl:!0}),n.loadMask=new Ext.LoadMask(n,i),n.loadMask.show())),n.loadMask},beforeSetPosition:function(){var e,t=this,i=t.callParent(arguments);return i&&(e=t.adjustPosition(i.x,i.y),i.x=e.x,i.y=e.y),i||null},afterSetPosition:function(e,t){this.onPosition(e,t),this.fireEvent("move",this,e,t)},showAt:function(e,t,i){var n=this;n.rendered||!n.autoRender&&!n.floating||(n.doAutoRender(),n.hidden=!0),n.floating?n.setPosition(e,t,i):n.setPagePosition(e,t,i),n.show()},setPagePosition:function(e,t,i){var n,r,o=this;return Ext.isArray(e)&&(t=e[1],e=e[0]),o.pageX=e,o.pageY=t,o.floating?(o.isContainedFloater()?(r=o.floatParent.getTargetEl().getViewRegion(),Ext.isNumber(e)&&Ext.isNumber(r.left)&&(e-=r.left),Ext.isNumber(t)&&Ext.isNumber(r.top)&&(t-=r.top)):(n=o.el.translatePoints(e,t),e=n.left,t=n.top),o.setPosition(e,t,i)):(n=o.el.translatePoints(e,t),o.setPosition(n.left,n.top,i)),o},isContainedFloater:function(){return this.floating&&this.floatParent},getBox:function(e){var t=e?this.getPosition(e):this.el.getXY(),i=this.getSize();return i.x=t[0],i.y=t[1],i},updateBox:function(e){return this.setSize(e.width,e.height),this.setPagePosition(e.x,e.y),this},getOuterSize:function(){var e=this.el;return{width:e.getWidth()+e.getMargin("lr"),height:e.getHeight()+e.getMargin("tb")}},adjustPosition:function(e,t){var i,n=this;return n.isContainedFloater()&&(i=n.floatParent.getTargetEl().getViewRegion(),e+=i.left,t+=i.top),{x:e,y:t}},getPosition:function(e){var t,i,n=this,r=n.el,o=n.isContainedFloater();return e!==!0||o?(t=n.el.getXY(),e===!0&&o&&(i=n.floatParent.getTargetEl().getViewRegion(),t[0]-=i.left,t[1]-=i.top),t):[r.getLocalX(),r.getLocalY()]},getId:function(){var e,t=this;return t.id||(e=t.getXType(),e=e?e.replace(Ext.Component.INVALID_ID_CHARS_Re,"-"):Ext.name.toLowerCase()+"-comp",t.id=e+"-"+t.getAutoId()),t.id},show:function(e,t,i){var n=this,r=n.rendered;return r&&n.isVisible()?n.toFrontOnShow&&n.floating&&n.toFront():n.fireEvent("beforeshow",n)!==!1?(n.hidden=!1,r||!n.autoRender&&!n.floating||(n.doAutoRender(),r=n.rendered),r&&(n.beforeShow(),n.onShow.apply(n,arguments),n.afterShow.apply(n,arguments))):n.onShowVeto(),n},onShowVeto:Ext.emptyFn,beforeShow:Ext.emptyFn,onShow:function(){var e=this;e.el.show(),e.callParent(arguments),e.floating&&(e.maximized?e.fitContainer():e.constrain&&e.doConstrain())},afterShow:function(e,t,i){var n,r,o,a=this;e=e||a.animateTarget,a.ghost||(e=null),e?(e=e.el?e.el:Ext.get(e),r=a.el.getBox(),n=e.getBox(),a.el.addCls(Ext.baseCSSPrefix+"hide-offsets"),o=a.ghost(),o.el.stopAnimation(),o.el.setX(-1e4),o.el.animate({from:n,to:r,listeners:{afteranimate:function(){delete o.componentLayout.lastComponentSize,a.unghost(),a.el.removeCls(Ext.baseCSSPrefix+"hide-offsets"),a.onShowComplete(t,i)}}})):a.onShowComplete(t,i)},onShowComplete:function(e,t){var i=this;i.floating&&(i.toFront(),i.onFloatShow()),Ext.callback(e,t||i),i.fireEvent("show",i),delete i.hiddenByLayout},hide:function(){var e=this;return e.showOnParentShow=!1,e.rendered&&!e.isVisible()||e.fireEvent("beforehide",e)===!1||(e.hidden=!0,e.rendered&&e.onHide.apply(e,arguments)),e},onHide:function(e,t,i){var n,r,o=this;e=e||o.animateTarget,o.ghost||(e=null),e&&(e=e.el?e.el:Ext.get(e),n=o.ghost(),n.el.stopAnimation(),r=e.getBox(),r.width+="px",r.height+="px",n.el.animate({to:r,listeners:{afteranimate:function(){delete n.componentLayout.lastComponentSize,n.el.hide(),o.afterHide(t,i)}}})),o.el.hide(),e||o.afterHide(t,i)},afterHide:function(e,t){var i=this;delete i.hiddenByLayout,Ext.AbstractComponent.prototype.onHide.call(this),Ext.callback(e,t||i),i.fireEvent("hide",i)},onDestroy:function(){var e=this;e.rendered&&Ext.destroy(e.proxy,e.proxyWrap,e.resizer,e.resizerComponent),delete e.focusTask,e.callParent()},deleteMembers:function(){for(var e=arguments,t=e.length,i=0;i<t;++i)delete this[e[i]]},focus:function(e,t){var i,n,r,o=this;if(t)return o.focusTask||(o.focusTask=new Ext.util.DelayedTask(o.focus)),o.focusTask.delay(Ext.isNumber(t)?t:10,null,o,[e,!1]),o;if(o.rendered&&!o.isDestroyed&&o.isVisible(!0)&&(i=o.getFocusEl())){if(i.isComponent)return i.focus(e,t);(n=i.dom)&&(i.needsTabIndex()&&(n.tabIndex=-1),o.floating&&(r=o.container.dom.scrollTop),i.focus(),e===!0&&n.select()),o.floating&&(o.toFront(!0),void 0!==r&&(o.container.dom.scrollTop=r))}return o},cancelFocus:function(){var e=this.focusTask;e&&e.cancel()},blur:function(){var e;return this.rendered&&(e=this.getFocusEl())&&e.blur(),this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},onResize:Ext.emptyFn,getBubbleTarget:function(){return this.ownerCt||this.floatParent},getContentTarget:function(){return this.el},cloneConfig:function(e){e=e||{};var t,i=e.id||Ext.id(),n=Ext.applyIf(e,this.initialConfig);return n.id=i,new(t=Ext.getClass(this))(n)},getXType:function(){return this.self.xtype},findParentBy:function(e){var t;for(t=this.getBubbleTarget();t&&!e(t,this);t=t.getBubbleTarget());return t||null},findParentByType:function(e){return Ext.isFunction(e)?this.findParentBy(function(t){return t.constructor===e}):this.up(e)},bubble:function(e,t,i){for(var n=this;n&&e.apply(t||n,i||[n])!==!1;)n=n.getBubbleTarget();return this},getProxy:function(){var e,t=this;return t.proxy||(e=Ext.getBody(),Ext.scopeResetCSS&&(t.proxyWrap=e=Ext.getBody().createChild({cls:Ext.resetCls})),t.proxy=t.el.createProxy(Ext.baseCSSPrefix+"proxy-el",e,!0)),t.proxy}}),Ext.define("Ext.app.EventBus",{requires:["Ext.util.Event","Ext.Component"],mixins:{observable:"Ext.util.Observable"},constructor:function(){this.mixins.observable.constructor.call(this),this.bus={};var e=this;Ext.override(Ext.Component,{fireEvent:function(t){return Ext.util.Observable.prototype.fireEvent.apply(this,arguments)!==!1&&e.dispatch.call(e,t,this,arguments)}})},dispatch:function(e,t,i){var n,r,o,a,s,l,d,u=this.bus,c=u[e];if(c)for(n in c)if(c.hasOwnProperty(n)&&t.is(n)){r=c[n];for(o in r)if(r.hasOwnProperty(o))for(a=r[o],l=0,d=a.length;l<d;l++)if(s=a[l],s.fire.apply(s,Array.prototype.slice.call(i,1))===!1)return!1}return!0},control:function(e,t,i){var n,r,o,a,s,l,d,u,c,h,g=this.bus;if(Ext.isString(e))return a=e,e={},e[a]=t,void this.control(e,null,i);n=Ext.util.Observable.HasListeners.prototype;for(a in e)if(e.hasOwnProperty(a)){c=e[a]||{};for(h in c)c.hasOwnProperty(h)&&(s={},l=c[h],d=i,u=new Ext.util.Event(i,h),Ext.isObject(l)&&(s=l,l=s.fn,d=s.scope||i,delete s.fn,delete s.scope),u.addListener(l,d,s),n[h]=1,r=g[h]||(g[h]={}),r=r[a]||(r[a]={}),o=r[i.id]||(r[i.id]=[]),o.push(u))}}}),Ext.define("Ext.chart.MaskLayer",{extend:"Ext.Component",constructor:function(e){e=Ext.apply(e||{},{style:"position:absolute;background-color:#888;cursor:move;opacity:0.6;border:1px solid #222;"}),this.callParent([e])},initComponent:function(){var e=this;e.callParent(arguments),e.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave")},initDraggable:function(){this.callParent(arguments),this.dd.onStart=function(e){var t=this,i=t.comp;this.startPosition=i.getPosition(!0),i.ghost&&!i.liveDrag&&(t.proxy=i.ghost(),t.dragTarget=t.proxy.header.el),(t.constrain||t.constrainDelegate)&&(t.constrainTo=t.calculateConstrainRegion())}}}),Ext.define("Ext.chart.Mask",{requires:["Ext.chart.MaskLayer"],constructor:function(e){var t,i=this;i.addEvents("select"),e&&Ext.apply(i,e),i.enableMask&&i.on("afterrender",function(){var e=new Ext.chart.MaskLayer({renderTo:i.el,hidden:!0});e.el.on({mousemove:function(e){i.onMouseMove(e)},mouseup:function(e){i.resized(e)}}),t=new Ext.resizer.Resizer({el:e.el,handles:"all",pinned:!0}),t.on({resize:function(e){i.resized(e)}}),e.initDraggable(),i.maskType=i.mask,i.mask=e,i.maskSprite=i.surface.add({type:"path",path:["M",0,0],zIndex:1001,opacity:.7,hidden:!0,stroke:"#444"})},i,{single:!0})},resized:function(e){var t=this,i=t.bbox||t.chartBBox,n=i.x,r=i.y,o=i.width,a=i.height,s=t.mask.getBox(!0),l=Math.max,d=Math.min,u=s.x-n,c=s.y-r;u=l(u,n),c=l(c,r),u=d(u,o),c=d(c,a),s.x=u,s.y=c,t.fireEvent("select",t,s)},onMouseUp:function(e){var t=this,i=t.bbox||t.chartBBox,n=t.maskSelection;t.maskMouseDown=!1,t.mouseDown=!1,t.mouseMoved&&(t.onMouseMove(e),t.mouseMoved=!1,t.fireEvent("select",t,{x:n.x-i.x,y:n.y-i.y,width:n.width,height:n.height}))},
onMouseDown:function(e){var t=this;t.mouseDown=!0,t.mouseMoved=!1,t.maskMouseDown={x:e.getPageX()-t.el.getX(),y:e.getPageY()-t.el.getY()}},onMouseMove:function(e){var t,i=this,n=i.maskType,r=i.bbox||i.chartBBox,o=r.x,a=r.y,s=Math,l=s.floor,d=s.abs,u=s.min,c=s.max,h=l(a+r.height),g=l(o+r.width),p=e.getPageX(),f=e.getPageY(),m=p-i.el.getX(),x=f-i.el.getY(),y=i.maskMouseDown;i.mouseMoved=i.mouseDown,m=c(m,o),x=c(x,a),m=u(m,g),x=u(x,h),y&&i.mouseDown?("horizontal"==n?(x=a,y.y=h,f=i.el.getY()+r.height+i.insetPadding):"vertical"==n&&(m=o,y.x=g),g=y.x-m,h=y.y-x,t=["M",m,x,"l",g,0,0,h,-g,0,"z"],i.maskSelection={x:g>0?m:m+g,y:h>0?x:x+h,width:d(g),height:d(h)},i.mask.updateBox(i.maskSelection),i.mask.show(),i.maskSprite.setAttributes({hidden:!0},!0)):(t="horizontal"==n?["M",m,a,"L",m,h]:"vertical"==n?["M",o,x,"L",g,x]:["M",m,a,"L",m,h,"M",o,x,"L",g,x],i.maskSprite.setAttributes({path:t,fill:!!i.maskMouseDown&&i.maskSprite.stroke,"stroke-width":n===!0?1:3,hidden:!1},!0))},onMouseLeave:function(e){var t=this;t.mouseMoved=!1,t.mouseDown=!1,t.maskMouseDown=!1,t.mask.hide(),t.maskSprite.hide(!0)}}),Ext.define("Ext.draw.Component",{alias:"widget.draw",extend:"Ext.Component",requires:["Ext.draw.Surface","Ext.layout.component.Draw"],enginePriority:["Svg","Vml"],baseCls:Ext.baseCSSPrefix+"surface",componentLayout:"draw",viewBox:!0,shrinkWrap:3,autoSize:!1,initComponent:function(){this.callParent(arguments),this.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave","click","dblclick")},onRender:function(){var e,t,i,n,r,o,a=this,s=a.viewBox,l=a.autoSize;a.callParent(arguments),a.createSurface()!==!1&&(t=a.surface.items,(s||l)&&(e=t.getBBox(),i=e.width,n=e.height,r=e.x,o=e.y,a.viewBox?a.surface.setViewBox(r,o,i,n):a.autoSizeSurface()))},autoSizeSurface:function(){var e=this.surface.items.getBBox();this.setSurfaceSize(e.width,e.height)},setSurfaceSize:function(e,t){if(this.surface.setSize(e,t),this.autoSize){var i=this.surface.items.getBBox();this.surface.setViewBox(i.x,i.y-+Ext.isOpera,e,t)}},createSurface:function(){function e(e){return function(t){i.fireEvent(e,t)}}var t,i=this,n=Ext.applyIf({renderTo:i.el,height:i.height,width:i.width,items:i.items},i.initialConfig);return delete n.listeners,!!(t=Ext.draw.Surface.create(n))&&(i.surface=t,void t.on({scope:i,mouseup:e("mouseup"),mousedown:e("mousedown"),mousemove:e("mousemove"),mouseenter:e("mouseenter"),mouseleave:e("mouseleave"),click:e("click"),dblclick:e("dblclick")}))},onDestroy:function(){Ext.destroy(this.surface),this.callParent(arguments)}}),Ext.define("Ext.chart.Chart",{alias:"widget.chart",extend:"Ext.draw.Component",mixins:{themeManager:"Ext.chart.theme.Theme",mask:"Ext.chart.Mask",navigation:"Ext.chart.Navigation",bindable:"Ext.util.Bindable",observable:"Ext.util.Observable"},uses:["Ext.chart.series.Series"],requires:["Ext.util.MixedCollection","Ext.data.StoreManager","Ext.chart.Legend","Ext.chart.theme.Base","Ext.chart.theme.Theme","Ext.util.DelayedTask"],viewBox:!1,animate:!1,legend:!1,insetPadding:10,enginePriority:["Svg","Vml"],background:!1,constructor:function(e){var t,i=this;e=Ext.apply({},e),i.initTheme(e.theme||i.theme),i.gradients&&Ext.apply(e,{gradients:i.gradients}),i.background&&Ext.apply(e,{background:i.background}),e.animate&&(t={easing:"ease",duration:500},Ext.isObject(e.animate)?e.animate=Ext.applyIf(e.animate,t):e.animate=t),i.mixins.observable.constructor.call(i,e),e.enableMask&&i.mixins.mask.constructor.call(i),i.mixins.navigation.constructor.call(i),i.callParent([e])},getChartStore:function(){return this.substore||this.store},initComponent:function(){var e,t,i=this;i.callParent(),i.addEvents("itemmousedown","itemmouseup","itemmouseover","itemmouseout","itemclick","itemdblclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh"),Ext.applyIf(i,{zoom:{width:1,height:1,x:0,y:0}}),i.maxGutter=[0,0],i.store=Ext.data.StoreManager.lookup(i.store),e=i.axes,i.axes=new Ext.util.MixedCollection(!1,function(e){return e.position}),e&&i.axes.addAll(e),t=i.series,i.series=new Ext.util.MixedCollection(!1,function(e){return e.seriesId||(e.seriesId=Ext.id(null,"ext-chart-series-"))}),t&&i.series.addAll(t),i.legend!==!1&&(i.legend=new Ext.chart.Legend(Ext.applyIf({chart:i},i.legend))),i.on({mousemove:i.onMouseMove,mouseleave:i.onMouseLeave,mousedown:i.onMouseDown,mouseup:i.onMouseUp,click:i.onClick,dblclick:i.onDblClick,scope:i})},afterComponentLayout:function(e,t){var i=this;Ext.isNumber(e)&&Ext.isNumber(t)&&(e!==i.curWidth||t!==i.curHeight?(i.curWidth=e,i.curHeight=t,i.redraw(!0)):i.needsRedraw&&(delete i.needsRedraw,i.redraw())),this.callParent(arguments)},redraw:function(e){var t,i=this,n=i.series.items,r=n.length,o=i.axes.items,a=o.length,s=i.chartBBox={x:0,y:0,height:i.curHeight,width:i.curWidth},l=i.legend;for(i.surface.setSize(s.width,s.height),t=0;t<r;t++)i.initializeSeries(n[t],t);for(t=0;t<a;t++)i.initializeAxis(o[t]);for(t=0;t<a;t++)o[t].processView();for(t=0;t<a;t++)o[t].drawAxis(!0);for(l!==!1&&l.visible&&(!l.update&&l.created||l.create()),i.alignAxes(),l!==!1&&l.visible&&l.updatePosition(),i.getMaxGutter(),i.resizing=!!e,t=0;t<a;t++)o[t].drawAxis();for(t=0;t<r;t++)i.drawCharts(n[t]);i.resizing=!1},afterRender:function(){var e,t=this;this.callParent(),t.categoryNames&&t.setCategoryNames(t.categoryNames),t.tipRenderer&&(e=t.getFunctionRef(t.tipRenderer),t.setTipRenderer(e.fn,e.scope)),t.bindStore(t.store,!0),t.refresh(),"Vml"===t.surface.engine&&(t.on("added",t.onAddedVml,t),t.mon(Ext.container.Container.hierarchyEventSource,"added",t.onContainerAddedVml,t))},onAddedVml:function(){this.needsRedraw=!0},onContainerAddedVml:function(e){this.isDescendantOf(e)&&(this.needsRedraw=!0)},getEventXY:function(e){var t=this.surface.getRegion(),i=e.getXY(),n=i[0]-t.left,r=i[1]-t.top;return[n,r]},onClick:function(e){this.handleClick("itemclick",e)},onDblClick:function(e){this.handleClick("itemdblclick",e)},handleClick:function(e,t){var i,n,r,o,a=this,s=a.getEventXY(t),l=a.series.items;for(i=0,n=l.length;i<n;i++)r=l[i],Ext.draw.Draw.withinBox(s[0],s[1],r.bbox)&&r.getItemForPoint&&(o=r.getItemForPoint(s[0],s[1]),o&&r.fireEvent(e,o))},onMouseDown:function(e){var t,i,n,r,o=this,a=o.getEventXY(e),s=o.series.items;for(o.enableMask&&o.mixins.mask.onMouseDown.call(o,e),t=0,i=s.length;t<i;t++)n=s[t],Ext.draw.Draw.withinBox(a[0],a[1],n.bbox)&&n.getItemForPoint&&(r=n.getItemForPoint(a[0],a[1]),r&&n.fireEvent("itemmousedown",r))},onMouseUp:function(e){var t,i,n,r,o=this,a=o.getEventXY(e),s=o.series.items;for(o.enableMask&&o.mixins.mask.onMouseUp.call(o,e),t=0,i=s.length;t<i;t++)n=s[t],Ext.draw.Draw.withinBox(a[0],a[1],n.bbox)&&n.getItemForPoint&&(r=n.getItemForPoint(a[0],a[1]),r&&n.fireEvent("itemmouseup",r))},onMouseMove:function(e){var t,i,n,r,o,a,s,l=this,d=l.getEventXY(e),u=l.series.items;for(l.enableMask&&l.mixins.mask.onMouseMove.call(l,e),t=0,i=u.length;t<i;t++)n=u[t],Ext.draw.Draw.withinBox(d[0],d[1],n.bbox)?n.getItemForPoint&&(r=n.getItemForPoint(d[0],d[1]),o=n._lastItemForPoint,a=n._lastStoreItem,s=n._lastStoreField,(r!==o||r&&(r.storeItem!=a||r.storeField!=s))&&(o&&(n.fireEvent("itemmouseout",o),delete n._lastItemForPoint,delete n._lastStoreField,delete n._lastStoreItem),r&&(n.fireEvent("itemmouseover",r),n._lastItemForPoint=r,n._lastStoreItem=r.storeItem,n._lastStoreField=r.storeField))):(o=n._lastItemForPoint,o&&(n.fireEvent("itemmouseout",o),delete n._lastItemForPoint,delete n._lastStoreField,delete n._lastStoreItem))},onMouseLeave:function(e){var t,i,n,r=this,o=r.series.items;for(r.enableMask&&r.mixins.mask.onMouseLeave.call(r,e),t=0,i=o.length;t<i;t++)n=o[t],delete n._lastItemForPoint},delayRefresh:function(){var e=this;e.refreshTask||(e.refreshTask=new Ext.util.DelayedTask(e.refresh,e)),e.refreshTask.delay(e.refreshBuffer)},refresh:function(){var e=this;if(e.rendered&&void 0!==e.curWidth&&void 0!==e.curHeight){if(!e.isVisible(!0)&&!e.refreshPending)return e.setShowListeners("mon"),void(e.refreshPending=!0);e.fireEvent("beforerefresh",e)!==!1&&(e.redraw(),e.fireEvent("refresh",e))}},onShow:function(){var e=this;e.callParent(arguments),e.refreshPending&&(e.delayRefresh(),e.setShowListeners("mun")),delete e.refreshPending},setShowListeners:function(e){var t=this;t[e](Ext.container.Container.hierarchyEventSource,{scope:t,single:!0,show:t.forceRefresh,expand:t.forceRefresh})},forceRefresh:function(e){var t=this;t.isDescendantOf(e)&&t.refreshPending&&(t.setShowListeners("mun"),t.delayRefresh()),delete t.refreshPending},bindStore:function(e,t){var i=this;i.mixins.bindable.bindStore.apply(i,arguments),i.store&&!t&&i.refresh()},getStoreListeners:function(){var e=this.refresh,t=this.delayRefresh;return{refresh:e,add:t,remove:t,update:t,clear:e}},initializeAxis:function(e){var t=this,i=t.chartBBox,n=i.width,r=i.height,o=i.x,a=i.y,s=t.themeAttrs,l={chart:t};switch(s&&(l.axisStyle=Ext.apply({},s.axis),l.axisLabelLeftStyle=Ext.apply({},s.axisLabelLeft),l.axisLabelRightStyle=Ext.apply({},s.axisLabelRight),l.axisLabelTopStyle=Ext.apply({},s.axisLabelTop),l.axisLabelBottomStyle=Ext.apply({},s.axisLabelBottom),l.axisTitleLeftStyle=Ext.apply({},s.axisTitleLeft),l.axisTitleRightStyle=Ext.apply({},s.axisTitleRight),l.axisTitleTopStyle=Ext.apply({},s.axisTitleTop),l.axisTitleBottomStyle=Ext.apply({},s.axisTitleBottom)),e.position){case"top":Ext.apply(l,{length:n,width:r,x:o,y:a});break;case"bottom":Ext.apply(l,{length:n,width:r,x:o,y:r});break;case"left":Ext.apply(l,{length:r,width:n,x:o,y:r});break;case"right":Ext.apply(l,{length:r,width:n,x:n,y:r})}e.chart?Ext.apply(e,l):(Ext.apply(l,e),e=t.axes.replace(Ext.createByAlias("axis."+e.type.toLowerCase(),l)))},alignAxes:function(){function e(e){var t=u.findIndex("position",e);return t<0?null:u.getAt(t)}var t,i,n,r,o,a,s,l,d=this,u=d.axes,c=u.items,h=d.legend,g=["top","right","bottom","left"],p=d.insetPadding,f={top:p,right:p,bottom:p,left:p};for(n=0,r=g.length;n<r;n++)i=g[n],a="left"===i||"right"===i,t=e(i),h!==!1&&h.position===i&&(s=h.getBBox(),f[i]+=(a?s.width:s.height)+f[i]),t&&t.bbox&&(s=t.bbox,f[i]+=a?s.width:s.height);for(o={x:f.left,y:f.top,width:d.curWidth-f.left-f.right,height:d.curHeight-f.top-f.bottom},d.chartBBox=o,n=0,r=c.length;n<r;n++)t=c[n],l=t.position,a="left"===l||"right"===l,t.x="right"===l?o.x+o.width:o.x,t.y="top"===l?o.y:o.y+o.height,t.width=a?o.width:o.height,t.length=a?o.height:o.width},initializeSeries:function(e,t){var i,n,r,o,a,s,l=this,d=l.themeAttrs,u=[],c=0,h={chart:l,seriesId:e.seriesId};if(d){if(r=d.seriesThemes,a=d.markerThemes,i=Ext.apply({},d.series),n=Ext.apply({},d.marker),h.seriesStyle=Ext.apply(i,r[t%r.length]),h.seriesLabelStyle=Ext.apply({},d.seriesLabel),h.markerStyle=Ext.apply(n,a[t%a.length]),d.colors)h.colorArrayStyle=d.colors;else{for(u=[],s=r.length;c<s;c++)o=r[c],(o.fill||o.stroke)&&u.push(o.fill||o.stroke);u.length&&(h.colorArrayStyle=u)}h.seriesIdx=t}e instanceof Ext.chart.series.Series?Ext.apply(e,h):(Ext.applyIf(h,e),e=l.series.replace(Ext.createByAlias("series."+e.type.toLowerCase(),h))),e.initialize&&e.initialize()},getMaxGutter:function(){var e,t,i,n,r=this,o=r.series.items,a=[0,0];for(e=0,t=o.length;e<t;e++)i=o[e],n=i.getGutters&&i.getGutters()||[0,0],a[0]=Math.max(a[0],n[0]),a[1]=Math.max(a[1],n[1]);r.maxGutter=a},drawAxis:function(e){e.drawAxis()},drawCharts:function(e){e.triggerafterrender=!1,e.drawSeries(),this.animate||e.fireEvent("afterrender")},save:function(e){return Ext.draw.Surface.save(this.surface,e)},destroy:function(){Ext.destroy(this.surface),this.bindStore(null),this.callParent(arguments)}}),Ext.define("Ext.chart.TipSurface",{extend:"Ext.draw.Component",spriteArray:!1,renderFirst:!0,constructor:function(e){this.callParent([e]),e.sprites&&(this.spriteArray=[].concat(e.sprites),delete e.sprites)},onRender:function(){var e,t,i=this,n=0,r=0;if(this.callParent(arguments),t=i.spriteArray,i.renderFirst&&t)for(i.renderFirst=!1,r=t.length;n<r;n++)e=i.surface.add(t[n]),e.setAttributes({hidden:!1},!0)}}),Ext.define("Ext.chart.axis.Abstract",{requires:["Ext.chart.Chart"],constructor:function(e){e=e||{};var t=this,i=e.position||"left";i=i.charAt(0).toUpperCase()+i.substring(1),e.label=Ext.apply(e["axisLabel"+i+"Style"]||{},e.label||{}),e.axisTitleStyle=Ext.apply(e["axisTitle"+i+"Style"]||{},e.labelTitle||{}),Ext.apply(t,e),t.fields=Ext.Array.from(t.fields),this.callParent(),t.labels=[],t.getId(),t.labelGroup=t.chart.surface.getGroup(t.axisId+"-labels")},alignment:null,grid:!1,steps:10,x:0,y:0,minValue:0,maxValue:0,getId:function(){return this.axisId||(this.axisId=Ext.id(null,"ext-axis-"))},processView:Ext.emptyFn,drawAxis:Ext.emptyFn,addDisplayAndLabels:Ext.emptyFn}),Ext.define("Ext.chart.axis.Axis",{extend:"Ext.chart.axis.Abstract",alternateClassName:"Ext.chart.Axis",requires:["Ext.draw.Draw"],forceMinMax:!1,dashSize:3,position:"bottom",skipFirst:!1,length:0,width:0,adjustEnd:!0,majorTickSteps:!1,applyData:Ext.emptyFn,getRange:function(){var e,t,i,n,r,o,a,s,l,d,u,c,h=this,g=h.chart,p=g.getChartStore(),f=p.data.items,m=g.series.items,x=h.position,y=Ext.chart.series,v=[],E=1/0,b=-(1/0),w="left"===h.position||"right"===h.position,C=f.length,S={},_={},k=!0;for(s=h.fields,r=0,i=s.length;r<i;r++)_[s[r]]=!0;for(t=0,i=m.length;t<i;t++)if(!m[t].seriesIsHidden&&m[t].getAxesForXAndYFields&&(e=m[t].getAxesForXAndYFields(),!e.xAxis||e.xAxis===x||!e.yAxis||e.yAxis===x)){if(s=y.Bar&&m[t]instanceof y.Bar&&!m[t].column?w?Ext.Array.from(m[t].xField):Ext.Array.from(m[t].yField):w?Ext.Array.from(m[t].yField):Ext.Array.from(m[t].xField),h.fields.length){for(r=0,n=s.length;r<n&&!_[s[r]];r++);if(r==n)continue}if((a=m[t].stacked)&&(y.Bar&&m[t]instanceof y.Bar?m[t].column!=w&&(a=!1,k=!1):w||(a=!1,k=!1)),a){for(l={},r=0;r<s.length;r++)k&&m[t].__excludes&&m[t].__excludes[r]||(_[s[r]]||Ext.Logger.warn("Field `"+s[r]+"` is not included in the "+x+" axis config."),_[s[r]]=l[s[r]]=!0);v.push({fields:l,value:0})}else for(s&&0!=s.length||(s=h.fields),r=0;r<s.length;r++)k&&m[t].__excludes&&m[t].__excludes[r]||(_[s[r]]=S[s[r]]=!0)}for(t=0;t<C;t++){for(d=f[t],o=0;o<v.length;o++)v[o].value=0;for(u in _)if(c=d.get(u),!isNaN(c))for(void 0===c&&(c=0),S[u]&&(E>c&&(E=c),b<c&&(b=c)),o=0;o<v.length;o++)v[o].fields[u]&&(v[o].value+=c,E>0&&(E=0),b<v[o].value&&(b=v[o].value))}return isFinite(b)||(b=h.prevMax||0),isFinite(E)||(E=h.prevMin||0),E!=b&&b!=Math.floor(b)&&(b=Math.floor(b)+1),isNaN(h.minimum)||(E=h.minimum),isNaN(h.maximum)||(b=h.maximum),E>=b&&(b=E+1),{min:E,max:b}},calcEnds:function(){var e,t,i,n,r=this,o=r.getRange(),a=o.min,s=o.max;return e=Ext.isNumber(r.majorTickSteps)?r.majorTickSteps+1:r.steps,t=!(Ext.isNumber(r.maximum)&&Ext.isNumber(r.minimum)&&Ext.isNumber(r.majorTickSteps)&&r.majorTickSteps>0),i=Ext.draw.Draw.snapEnds(a,s,e,t),Ext.isNumber(r.maximum)&&(i.to=r.maximum,n=!0),Ext.isNumber(r.minimum)&&(i.from=r.minimum,n=!0),r.adjustMaximumByMajorUnit&&(i.to=Math.ceil(i.to/i.step)*i.step,n=!0),r.adjustMinimumByMajorUnit&&(i.from=Math.floor(i.from/i.step)*i.step,n=!0),n&&(i.steps=Math.ceil((i.to-i.from)/i.step)),r.prevMin=a==s?0:a,r.prevMax=s,i},drawAxis:function(e){var t,i,n,r,o,a,s,l,d=this,u=d.x,c=d.y,h=d.chart.maxGutter[0],g=d.chart.maxGutter[1],p=d.dashSize,f=d.minorTickSteps||0,m=d.minorTickSteps||0,x=d.length,y=d.position,v=[],E=!1,b=d.applyData(),w=b.step,C=b.steps,S=b.from,_=b.to;if(!(d.hidden||isNaN(w)||S>_)){if(d.from=b.from,d.to=b.to,"left"==y||"right"==y?(n=Math.floor(u)+.5,o=["M",n,c,"l",0,-x],i=x-2*g):(r=Math.floor(c)+.5,o=["M",u,r,"l",x,0],i=x-2*h),l=C&&i/C,a=Math.max(f+1,0),s=Math.max(m+1,0),"Numeric"!=d.type&&"Time"!=d.type||(E=!0,d.labels=[b.from]),"right"==y||"left"==y){for(r=c-g,n=u-("left"==y)*p*2;r>=c-g-i;){if(o.push("M",n,Math.floor(r)+.5,"l",2*p+1,0),r!=c-g)for(t=1;t<s;t++)o.push("M",n+p,Math.floor(r+l*t/s)+.5,"l",p+1,0);if(v.push([Math.floor(u),Math.floor(r)]),r-=l,E&&d.labels.push(d.labels[d.labels.length-1]+w),0===l)break}if(Math.round(r+l-(c-g-i))){for(o.push("M",n,Math.floor(c-x+g)+.5,"l",2*p+1,0),t=1;t<s;t++)o.push("M",n+p,Math.floor(c-x+g+l*t/s)+.5,"l",p+1,0);v.push([Math.floor(u),Math.floor(r)]),E&&d.labels.push(d.labels[d.labels.length-1]+w)}}else{for(n=u+h,r=c-("top"==y)*p*2;n<=u+h+i;){if(o.push("M",Math.floor(n)+.5,r,"l",0,2*p+1),n!=u+h)for(t=1;t<a;t++)o.push("M",Math.floor(n-l*t/a)+.5,r,"l",0,p+1);if(v.push([Math.floor(n),Math.floor(c)]),n+=l,E&&d.labels.push(d.labels[d.labels.length-1]+w),0===l)break}if(Math.round(n-l-(u+h+i))){for(o.push("M",Math.floor(u+x-h)+.5,r,"l",0,2*p+1),t=1;t<a;t++)o.push("M",Math.floor(u+x-h-l*t/a)+.5,r,"l",0,p+1);v.push([Math.floor(n),Math.floor(c)]),E&&d.labels.push(d.labels[d.labels.length-1]+w)}}E&&(d.labels[v.length-1]=+d.labels[v.length-1].toFixed(10)),d.axis||(d.axis=d.chart.surface.add(Ext.apply({type:"path",path:o},d.axisStyle))),d.axis.setAttributes({path:o},!0),d.inflections=v,!e&&d.grid&&d.drawGrid(),d.axisBBox=d.axis.getBBox(),d.drawLabel()}},drawGrid:function(){var e,t,i,n,r,o=this,a=o.chart.surface,s=o.grid,l=s.odd,d=s.even,u=o.inflections,c=u.length-(l||d?0:1),h=o.position,g=o.chart.maxGutter,p=o.width-2,f=1,m=[],x=[],y=[];for((0===g[1]||"left"!=h&&"right"!=h)&&(0===g[0]||"top"!=h&&"bottom"!=h)||(f=0,c++);f<c;f++)e=u[f],t=u[f-1],l||d?(m=f%2?x:y,i=(f%2?l:d)||{},n=(i.lineWidth||i["stroke-width"]||0)/2,r=2*n,"left"==h?m.push("M",t[0]+1+n,t[1]+.5-n,"L",t[0]+1+p-n,t[1]+.5-n,"L",e[0]+1+p-n,e[1]+.5+n,"L",e[0]+1+n,e[1]+.5+n,"Z"):"right"==h?m.push("M",t[0]-n,t[1]+.5-n,"L",t[0]-p+n,t[1]+.5-n,"L",e[0]-p+n,e[1]+.5+n,"L",e[0]-n,e[1]+.5+n,"Z"):"top"==h?m.push("M",t[0]+.5+n,t[1]+1+n,"L",t[0]+.5+n,t[1]+1+p-n,"L",e[0]+.5-n,e[1]+1+p-n,"L",e[0]+.5-n,e[1]+1+n,"Z"):m.push("M",t[0]+.5+n,t[1]-n,"L",t[0]+.5+n,t[1]-p+n,"L",e[0]+.5-n,e[1]-p+n,"L",e[0]+.5-n,e[1]-n,"Z")):m="left"==h?m.concat(["M",e[0]+.5,e[1]+.5,"l",p,0]):"right"==h?m.concat(["M",e[0]-.5,e[1]+.5,"l",-p,0]):"top"==h?m.concat(["M",e[0]+.5,e[1]+.5,"l",0,p]):m.concat(["M",e[0]+.5,e[1]-.5,"l",0,-p]);l||d?(x.length&&(!o.gridOdd&&x.length&&(o.gridOdd=a.add({type:"path",path:x})),o.gridOdd.setAttributes(Ext.apply({path:x,hidden:!1},l||{}),!0)),y.length&&(o.gridEven||(o.gridEven=a.add({type:"path",path:y})),o.gridEven.setAttributes(Ext.apply({path:y,hidden:!1},d||{}),!0))):m.length?(o.gridLines||(o.gridLines=o.chart.surface.add({type:"path",path:m,"stroke-width":o.lineWidth||1,stroke:o.gridColor||"#ccc"})),o.gridLines.setAttributes({hidden:!1,path:m},!0)):o.gridLines&&o.gridLines.hide(!0)},getOrCreateLabel:function(e,t){var i=this,n=i.labelGroup,r=n.getAt(e),o=i.chart.surface;return r?t!=r.attr.text&&(r.setAttributes(Ext.apply({text:t},i.label),!0),r._bbox=r.getBBox()):(r=o.add(Ext.apply({group:n,type:"text",x:0,y:0,text:t},i.label)),o.renderItem(r),r._bbox=r.getBBox()),i.label.rotation?(r.setAttributes({rotation:{degrees:0}},!0),r._ubbox=r.getBBox(),r.setAttributes(i.label,!0)):r._ubbox=r._bbox,r},rect2pointArray:function(e){var t=this.chart.surface,i=t.getBBox(e,!0),n=[i.x,i.y],r=n.slice(),o=[i.x+i.width,i.y],a=o.slice(),s=[i.x+i.width,i.y+i.height],l=s.slice(),d=[i.x,i.y+i.height],u=d.slice(),c=e.matrix;return n[0]=c.x.apply(c,r),n[1]=c.y.apply(c,r),o[0]=c.x.apply(c,a),o[1]=c.y.apply(c,a),s[0]=c.x.apply(c,l),s[1]=c.y.apply(c,l),d[0]=c.x.apply(c,u),d[1]=c.y.apply(c,u),[n,o,s,d]},intersect:function(e,t){var i=this.rect2pointArray(e),n=this.rect2pointArray(t);return!!Ext.draw.Draw.intersect(i,n).length},drawHorizontalLabels:function(){var e,t,i,n,r,o,a,s,l,d,u,c,h=this,g=h.label,p=Math.floor,f=Math.max,m=h.chart.axes,x=h.chart.insetPadding,y=h.position,v=h.inflections,E=v.length,b=h.labels,w=0,C=h.adjustEnd,S=m.findIndex("position","left")!=-1,_=m.findIndex("position","right")!=-1;for(s=E-1,i=v[0],c=h.getOrCreateLabel(0,h.label.renderer(b[0])),e=Math.floor(Math.abs(Math.sin(g.rotate&&g.rotate.degrees*Math.PI/180||0))),u=0;u<E;u++){if(i=v[u],a=h.label.renderer(b[u]),o=h.getOrCreateLabel(u,a),t=o._bbox,w=f(w,t.height+h.dashSize+h.label.padding),l=p(i[0]-(e?t.height:t.width)/2),C&&0==h.chart.maxGutter[0]&&(0!=u||S?u!=s||_||(l=Math.min(l,i[0]-t.width+x)):l=i[0]),d="top"==y?i[1]-2*h.dashSize-h.label.padding-t.height/2:i[1]+2*h.dashSize+h.label.padding+t.height/2,o.setAttributes({hidden:!1,x:l,y:d},!0),0!=u&&(h.intersect(o,n)||h.intersect(o,c))){if(u!==s||0===r){o.hide(!0);continue}n.hide(!0)}n=o,r=u}return w},drawVerticalLabels:function(){var e,t,i,n,r,o,a,s,l,d=this,u=d.inflections,c=d.position,h=u.length,g=d.chart,p=g.insetPadding,f=d.labels,m=0,x=Math.max,y=Math.floor,v=Math.ceil,E=d.chart.axes,b=d.chart.maxGutter[1],w=E.findIndex("position","top")!=-1,C=E.findIndex("position","bottom")!=-1,S=d.adjustEnd,_=h-1;for(l=0;l<h;l++){if(t=u[l],o=d.label.renderer(f[l]),r=d.getOrCreateLabel(l,o),e=r._bbox,m=x(m,e.width+d.dashSize+d.label.padding),s=t[1],S&&b<e.height/2&&(l!=_||w?0!=l||C||(s=d.y+b-y(e.height/2)):s=Math.max(s,d.y-d.length+v(e.height/2)-p)),a="left"==c?t[0]-e.width-d.dashSize-d.label.padding-2:t[0]+d.dashSize+d.label.padding+2,r.setAttributes(Ext.apply({hidden:!1,x:a,y:s},d.label),!0),0!=l&&d.intersect(r,i)){if(l!==_||0===n){r.hide(!0);continue}i.hide(!0)}i=r,n=l}return m},drawLabel:function(){var e,t,i=this,n=i.position,r=i.labelGroup,o=i.inflections,a=0,s=0;for("left"==n||"right"==n?a=i.drawVerticalLabels():s=i.drawHorizontalLabels(),e=r.getCount(),t=o.length;t<e;t++)r.getAt(t).hide(!0);i.bbox={},Ext.apply(i.bbox,i.axisBBox),i.bbox.height=s,i.bbox.width=a,Ext.isString(i.title)&&i.drawTitle(a,s)},setTitle:function(e){this.title=e,this.drawLabel()},drawTitle:function(e,t){var i,n,r,o=this,a=o.position,s=o.chart.surface,l=o.displaySprite,d=o.title,u="left"==a||"right"==a,c=o.x,h=o.y;l?l.setAttributes({text:d},!0):(i={type:"text",x:0,y:0,text:d},l=o.displaySprite=s.add(Ext.apply(i,o.axisTitleStyle,o.labelTitle)),s.renderItem(l)),n=l.getBBox(),r=o.dashSize+o.label.padding,u?(h-=o.length/2-n.height/2,"left"==a?c-=e+r+n.width/2:c+=e+r+n.width-n.width/2,o.bbox.width+=n.width+10):(c+=o.length/2-.5*n.width,"top"==a?h-=t+r+.3*n.height:h+=t+r+.8*n.height,o.bbox.height+=n.height+10),l.setAttributes({translate:{x:c,y:h}},!0)}}),Ext.define("Ext.chart.axis.Category",{extend:"Ext.chart.axis.Axis",alternateClassName:"Ext.chart.CategoryAxis",alias:"axis.category",categoryNames:null,calculateCategoryCount:!1,setLabels:function(){var e,t,i,n,r=this.chart.getChartStore(),o=r.data.items,a=this.fields,s=a.length;for(this.labels=[],e=0,t=o.length;e<t;e++)for(i=o[e],n=0;n<s;n++)this.labels.push(i.get(a[n]))},applyData:function(){this.callParent(),this.setLabels();var e=this.chart.getChartStore().getCount();return{from:0,to:e-1,power:1,step:1,steps:e-1}}}),Ext.define("Ext.chart.axis.Gauge",{extend:"Ext.chart.axis.Abstract",position:"gauge",alias:"axis.gauge",drawAxis:function(e){var t,i,n=this.chart,r=n.surface,o=n.chartBBox,a=o.x+o.width/2,s=o.y+o.height,l=this.margin||10,d=Math.min(o.width,2*o.height)/2+l,u=[],c=this.steps,h=Math.PI,g=Math.cos,p=Math.sin;if(this.sprites&&!n.resizing)return void this.drawLabel();if(this.margin>=0)if(this.sprites)for(u=this.sprites,i=0;i<=c;i++)u[i].setAttributes({path:["M",a+(d-l)*g(i/c*h-h),s+(d-l)*p(i/c*h-h),"L",a+d*g(i/c*h-h),s+d*p(i/c*h-h),"Z"],stroke:"#ccc"},!0);else for(i=0;i<=c;i++)t=r.add({type:"path",path:["M",a+(d-l)*g(i/c*h-h),s+(d-l)*p(i/c*h-h),"L",a+d*g(i/c*h-h),s+d*p(i/c*h-h),"Z"],stroke:"#ccc"}),t.setAttributes({hidden:!1},!0),u.push(t);this.sprites=u,this.drawLabel(),this.title&&this.drawTitle()},drawTitle:function(){var e,t=this,i=t.chart,n=i.surface,r=i.chartBBox,o=t.titleSprite;o||(t.titleSprite=o=n.add({type:"text",zIndex:2})),o.setAttributes(Ext.apply({text:t.title},t.label||{}),!0),e=o.getBBox(),o.setAttributes({x:r.x+r.width/2-e.width/2,y:r.y+r.height-e.height/2-4},!0)},setTitle:function(e){this.title=e,this.drawTitle()},drawLabel:function(){var e,t,i=this.chart,n=i.surface,r=i.chartBBox,o=r.x+r.width/2,a=r.y+r.height,s=this.margin||10,l=Math.min(r.width,2*r.height)/2+2*s,d=Math.round,u=[],c=this.maximum||0,h=this.minimum||0,g=this.steps,p=0,f=Math.PI,m=Math.cos,x=Math.sin,y=this.label,v=y.renderer||function(e){return e};if(this.labelArray)for(u=this.labelArray,p=0;p<=g;p++)t=0===p||p===g?7:0,u[p].setAttributes({text:v(d(h+p/g*(c-h))),x:o+l*m(p/g*f-f),y:a+l*x(p/g*f-f)-t},!0);else for(p=0;p<=g;p++)t=0===p||p===g?7:0,e=n.add({type:"text",text:v(d(h+p/g*(c-h))),x:o+l*m(p/g*f-f),y:a+l*x(p/g*f-f)-t,"text-anchor":"middle","stroke-width":.2,zIndex:10,stroke:"#333"}),e.setAttributes({hidden:!1},!0),u.push(e);this.labelArray=u}}),Ext.define("Ext.chart.axis.Numeric",{extend:"Ext.chart.axis.Axis",alternateClassName:"Ext.chart.NumericAxis",type:"numeric",alias:"axis.numeric",uses:["Ext.data.Store"],constructor:function(e){var t,i=this,n=!(!e.label||!e.label.renderer);i.callParent([e]),t=i.label,null==e.constrain&&(i.constrain=null!=e.minimum&&null!=e.maximum),n||(t.renderer=function(e){return i.roundToDecimal(e,i.decimals)})},roundToDecimal:function(e,t){var i=Math.pow(10,t||0);return Math.round(e*i)/i},minimum:NaN,maximum:NaN,constrain:!0,decimals:2,scale:"linear",doConstrain:function(){var e,t,i,n,r,o,a,s=this,l=s.chart.store,d=l.data.items,u=s.chart.series.items,c=s.fields,h=c.length,g=s.calcEnds(),p=g.from,f=g.to,m=[];for(n=0,r=u.length;n<r;n++)if("bar"===u[n].type&&u[n].stacked)return;for(e=0,t=d.length;e<t;e++){for(a=!0,i=d[e],n=0;n<h;n++){if(o=i.get(c[n]),+o<+p){a=!1;break}if(+o>+f){a=!1;break}}a&&m.push(i)}s.chart.substore=Ext.create("Ext.data.Store",{model:l.model}),s.chart.substore.loadData(m)},position:"left",adjustMaximumByMajorUnit:!1,adjustMinimumByMajorUnit:!1,processView:function(){var e=this,t=e.constrain;t&&e.doConstrain()},applyData:function(){return this.callParent(),this.calcEnds()}}),Ext.define("Ext.chart.axis.Radial",{extend:"Ext.chart.axis.Abstract",position:"radial",alias:"axis.radial",drawAxis:function(e){var t,i,n,r=this.chart,o=r.surface,a=r.chartBBox,s=r.store,l=s.getCount(),d=a.x+a.width/2,u=a.y+a.height/2,c=Math.min(a.width,a.height)/2,h=[],g=this.steps,p=2*Math.PI,f=Math.cos,m=Math.sin;if(this.sprites&&!r.resizing)return void this.drawLabel();if(this.sprites){for(h=this.sprites,i=0;i<g;i++)h[i].setAttributes({x:d,y:u,radius:Math.max(c*(i+1)/g,0),stroke:"#ccc"},!0);for(n=0;n<l;n++)h[i+n].setAttributes({path:["M",d,u,"L",d+c*f(n/l*p),u+c*m(n/l*p),"Z"],stroke:"#ccc"},!0)}else{for(i=1;i<=g;i++)t=o.add({type:"circle",x:d,y:u,radius:Math.max(c*i/g,0),stroke:"#ccc"}),t.setAttributes({hidden:!1},!0),h.push(t);for(i=0;i<l;i++)t=o.add({type:"path",path:["M",d,u,"L",d+c*f(i/l*p),u+c*m(i/l*p),"Z"],stroke:"#ccc"}),t.setAttributes({hidden:!1},!0),h.push(t)}this.sprites=h,this.drawLabel()},drawLabel:function(){var e,t,i,n,r,o,a,s,l,d=this.chart,u=d.series.items,c=d.surface,h=d.chartBBox,g=d.store,p=g.data.items,f=h.x+h.width/2,m=h.y+h.height/2,x=Math.min(h.width,h.height)/2,y=Math.max,v=Math.round,E=[],b=[],w=[],C=!this.maximum,S=this.maximum||0,_=this.steps,k=0,P=2*Math.PI,T=Math.cos,I=Math.sin,D=this.label.display,A="none"!==D,M=10;if(A){for(k=0,t=u.length;k<t;k++)e=u[k],b.push(e.yField),o=e.xField;for(a=0,t=p.length;a<t;a++){if(i=p[a],C)for(k=0,r=b.length;k<r;k++)S=y(+i.get(b[k]),S);w.push(i.get(o))}if(this.labelArray){if(E=this.labelArray,"categories"!=D)for(k=0;k<_;k++)E[k].setAttributes({text:v((k+1)/_*S),x:f,y:m-x*(k+1)/_,"text-anchor":"middle","stroke-width":.1,stroke:"#333"},!0);if("scale"!=D)for(a=0,_=w.length;a<_;a++)s=T(a/_*P)*(x+M),l=I(a/_*P)*(x+M),E[k+a]&&E[k+a].setAttributes({type:"text",text:w[a],x:f+s,y:m+l,"text-anchor":s*s<=.001?"middle":s<0?"end":"start"},!0)}else{if("categories"!=D)for(k=1;k<=_;k++)n=c.add({type:"text",text:v(k/_*S),x:f,y:m-x*k/_,"text-anchor":"middle","stroke-width":.1,stroke:"#333"}),n.setAttributes({hidden:!1},!0),E.push(n);if("scale"!=D)for(a=0,_=w.length;a<_;a++)s=T(a/_*P)*(x+M),l=I(a/_*P)*(x+M),n=c.add({type:"text",text:w[a],x:f+s,y:m+l,"text-anchor":s*s<=.001?"middle":s<0?"end":"start"}),n.setAttributes({hidden:!1},!0),E.push(n)}this.labelArray=E}}}),Ext.define("Ext.chart.axis.Time",{extend:"Ext.chart.axis.Numeric",alternateClassName:"Ext.chart.TimeAxis",alias:"axis.time",uses:["Ext.data.Store"],dateFormat:!1,fromDate:!1,toDate:!1,step:[Ext.Date.DAY,1],constrain:!1,constructor:function(e){var t,i,n,r=this;r.callParent([e]),t=r.label||{},n=this.dateFormat,n&&(t.renderer?(i=t.renderer,t.renderer=function(e){return e=i(e),Ext.Date.format(new Date(i(e)),n)}):t.renderer=function(e){return Ext.Date.format(new Date(e>>0),n)})},processView:function(){var e=this;e.fromDate&&(e.minimum=+e.fromDate),e.toDate&&(e.maximum=+e.toDate),e.constrain&&e.doConstrain()},calcEnds:function(){var e,t=this,i=t.step;return i?(e=t.getRange(),e=Ext.draw.Draw.snapEndsByDateAndStep(new Date(e.min),new Date(e.max),Ext.isNumber(i)?[Date.MILLI,i]:i),t.minimum&&(e.from=t.minimum),t.maximum&&(e.to=t.maximum),e.step=(e.to-e.from)/e.steps,e):t.callParent(arguments)}}),Ext.define("Ext.draw.Text",{extend:"Ext.draw.Component",uses:["Ext.util.CSS"],alias:"widget.text",text:"",focusable:!1,viewBox:!1,autoSize:!0,baseCls:Ext.baseCSSPrefix+"surface "+Ext.baseCSSPrefix+"draw-text",initComponent:function(){var e=this;e.textConfig=Ext.apply({type:"text",text:e.text,rotate:{degrees:e.degrees||0}},e.textStyle),Ext.apply(e.textConfig,e.getStyles(e.styleSelectors||e.styleSelector)),e.initialConfig.items=[e.textConfig],e.callParent(arguments)},getStyles:function(e){e=Ext.Array.from(e);for(var t,i,n=0,r=e.length,o={};n<r;n++)t=Ext.util.CSS.getRule(e[n]),t&&(i=t.style,i&&Ext.apply(o,{"font-family":i.fontFamily,"font-weight":i.fontWeight,"line-height":i.lineHeight,"font-size":i.fontSize,fill:i.color}));return o},setAngle:function(e){var t,i,n=this;n.rendered?(t=n.surface,i=t.items.items[0],n.degrees=e,i.setAttributes({rotate:{degrees:e}},!0),(n.autoSize||n.viewBox)&&n.updateLayout()):n.degrees=e},setText:function(e){var t,i,n=this;n.rendered?(t=n.surface,i=t.items.items[0],n.text=e||"",t.remove(i),n.textConfig.type="text",n.textConfig.text=n.text,i=t.add(n.textConfig),i.setAttributes({rotate:{degrees:n.degrees}},!0),(n.autoSize||n.viewBox)&&n.updateLayout()):n.on({render:function(){n.setText(e)},single:!0})}}),Ext.define("Ext.FocusManager",{singleton:!0,alternateClassName:["Ext.FocusMgr"],mixins:{observable:"Ext.util.Observable"},requires:["Ext.AbstractComponent","Ext.Component","Ext.ComponentManager","Ext.ComponentQuery","Ext.util.HashMap","Ext.util.KeyNav"],enabled:!1,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],constructor:function(e){var t=this,i=Ext.ComponentQuery;t.mixins.observable.constructor.call(t,e),t.addEvents("beforecomponentfocus","componentfocus","disable","enable"),t.focusTask=new Ext.util.DelayedTask(t.handleComponentFocus,t),Ext.override(Ext.AbstractComponent,{onFocus:function(){this.callParent(arguments),t.enabled&&this.hasFocus&&(Array.prototype.unshift.call(arguments,this),t.onComponentFocus.apply(t,arguments))},onBlur:function(){this.callParent(arguments),t.enabled&&!this.hasFocus&&(Array.prototype.unshift.call(arguments,this),t.onComponentBlur.apply(t,arguments))},onDestroy:function(){this.callParent(arguments),t.enabled&&(Array.prototype.unshift.call(arguments,this),t.onComponentDestroy.apply(t,arguments))}}),Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments),t.enabled&&(Array.prototype.unshift.call(arguments,this),t.onComponentHide.apply(t,arguments))}}),t.keyNav=new Ext.util.KeyNav(Ext.getDoc(),{disabled:!0,scope:t,backspace:t.focusLast,enter:t.navigateIn,esc:t.navigateOut,tab:t.navigateSiblings,space:t.navigateIn,del:t.focusLast,left:t.navigateSiblings,right:t.navigateSiblings,down:t.navigateSiblings,up:t.navigateSiblings}),t.focusData={},t.subscribers=new Ext.util.HashMap,t.focusChain={},Ext.apply(i.pseudos,{focusable:function(e){for(var t,i=e.length,n=[],r=0;r<i;r++)t=e[r],t.isFocusable()&&n.push(t);return n},nextFocus:function(e,t,i){i=i||1,t=parseInt(t,10);for(var n,r=e.length,o=t;;){if((o+=i)>=r?o=0:o<0&&(o=r-1),o===t)return[];if((n=e[o]).isFocusable())return[n]}return[]},prevFocus:function(e,t){return this.nextFocus(e,t,-1)},root:function(e){for(var t,i=e.length,n=[],r=0;r<i;r++)t=e[r],t.ownerCt||n.push(t);return n}})},addXTypeToWhitelist:function(e){var t=this;return Ext.isArray(e)?void Ext.Array.forEach(e,t.addXTypeToWhitelist,t):void(Ext.Array.contains(t.whitelist,e)||t.whitelist.push(e));
},clearComponent:function(e){clearTimeout(this.cmpFocusDelay),e.isDestroyed||e.blur()},disable:function(){var e=this;e.enabled&&(delete e.options,e.enabled=!1,e.removeDOM(),e.keyNav.disable(),e.fireEvent("disable",e))},enable:function(e){var t=this;e===!0&&(e={focusFrame:!0}),t.options=e=e||{},t.enabled||(t.enabled=!0,t.initDOM(e),t.keyNav.enable(),t.focusEl.focus(),delete t.focusedCmp,t.fireEvent("enable",t))},focusLast:function(e){var t=this;return!!t.isWhitelisted(t.focusedCmp)||void(t.previousFocusedCmp&&t.previousFocusedCmp.focus())},getRootComponents:function(){var e=Ext.ComponentQuery,t=e.query(":focusable:root:not([floating])"),i=e.query(":focusable:root[floating]");return i.sort(function(e,t){return e.el.getZIndex()>t.el.getZIndex()}),i.concat(t)},initDOM:function(e){var t=this,i=t.focusFrameCls,n=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),r=0,o=n.length;if(!Ext.isReady)return Ext.onReady(t.initDOM,t);for(;r<o;r++)n[r].addFocusListener();t.focusEl||(t.focusEl=Ext.getBody(),t.focusEl.dom.tabIndex=-1),!t.focusFrame&&e.focusFrame&&(t.focusFrame=Ext.getBody().createChild({cls:i,children:[{cls:i+"-top"},{cls:i+"-bottom"},{cls:i+"-left"},{cls:i+"-right"}],style:"top: -100px; left: -100px;"}),t.focusFrame.setVisibilityMode(Ext.Element.DISPLAY),t.focusFrame.hide().setLeftTop(0,0))},isWhitelisted:function(e){return e&&Ext.Array.some(this.whitelist,function(t){return e.isXType(t)})},navigateIn:function(e){var t,i,n=this,r=n.focusedCmp;return!!n.isWhitelisted(r)||void(r?(i=r.hasFocus?Ext.ComponentQuery.query(">:focusable",r)[0]:r,i?i.focus():Ext.isFunction(r.onClick)&&(e.button=0,r.onClick(e),r.isVisible(!0)?r.focus():n.navigateOut())):(t=n.getRootComponents()[0],t&&(t.getFocusEl()===n.focusEl&&n.focusEl.blur(),t.focus())))},navigateOut:function(e){var t,i=this;return i.focusedCmp&&(t=i.focusedCmp.up(":focusable"))?t.focus():i.focusEl.focus(),!0},navigateSiblings:function(e,t,i){var n,r,o,a,s=this,l=t||s,d=e.getKey(),u=Ext.EventObject,c=e.shiftKey||d==u.LEFT||d==u.UP,h=d==u.LEFT||d==u.RIGHT||d==u.UP||d==u.DOWN,g=c?"prev":"next";return o=l.focusedCmp&&l.focusedCmp.comp||l.focusedCmp,!o&&!i||(!(!h||!s.isWhitelisted(o))||(!o||o.is(":root")?a=s.getRootComponents():(i=i||o.up(),i&&(a=i.getRefItems())),a&&(n=o?Ext.Array.indexOf(a,o):-1,r=Ext.ComponentQuery.query(":"+g+"Focus("+n+")",a)[0],r&&o!==r)?(r.focus(),r):void 0))},onComponentBlur:function(e,t){var i=this;i.focusedCmp===e&&(i.previousFocusedCmp=e,delete i.focusedCmp),i.focusFrame&&i.focusFrame.hide()},onComponentFocus:function(e,t){var i,n=this,r=n.focusChain;if(!e.isFocusable()){if(n.clearComponent(e),r[e.id])return;return i=e.up(),void(i&&(r[e.id]=!0,i.focus()))}n.focusChain={},n.focusTask.delay(10,null,null,[e,e.getFocusEl()])},handleComponentFocus:function(e,t){var i,n,r,o,a,s,l,d,u,c,h,g=this;return g.fireEvent("beforecomponentfocus",g,e,g.previousFocusedCmp)===!1?void g.clearComponent(e):(g.focusedCmp=e,g.shouldShowFocusFrame(e)&&(i="."+g.focusFrameCls+"-",n=g.focusFrame,r=t.getPageBox(),o=r.top,a=r.left,s=r.width,l=r.height,d=n.child(i+"top"),u=n.child(i+"bottom"),c=n.child(i+"left"),h=n.child(i+"right"),d.setWidth(s).setLeftTop(a,o),u.setWidth(s).setLeftTop(a,o+l-2),c.setHeight(l-2).setLeftTop(a,o+2),h.setHeight(l-2).setLeftTop(a+s-2,o+2),n.show()),void g.fireEvent("componentfocus",g,e,g.previousFocusedCmp))},onComponentHide:function(e){var t,i=this,n=!1,r=i.focusedCmp;r&&(n=e.hasFocus||e.isContainer&&e.isAncestor(i.focusedCmp)),i.clearComponent(e),n&&(t=e.up(":focusable"))?t.focus():i.focusEl.focus()},onComponentDestroy:function(){},removeDOM:function(){var e=this;e.enabled||e.subscribers.length||(Ext.destroy(e.focusFrame),delete e.focusEl,delete e.focusFrame)},removeXTypeFromWhitelist:function(e){var t=this;return Ext.isArray(e)?void Ext.Array.forEach(e,t.removeXTypeFromWhitelist,t):void Ext.Array.remove(t.whitelist,e)},setupSubscriberKeys:function(e,t){var i=this,n=e.getFocusEl(),r=t.scope,o={backspace:i.focusLast,enter:i.navigateIn,esc:i.navigateOut,scope:i},a=function(t){return i.focusedCmp===e?i.navigateSiblings(t,i,e):i.navigateSiblings(t)};return Ext.iterate(t,function(t,i){o[t]=function(t){var n=a(t);return!(!Ext.isFunction(i)||i.call(r||e,t,n)!==!0)||n}},i),new Ext.util.KeyNav(n,o)},shouldShowFocusFrame:function(e){var t=this,i=t.options||{},n=e.getFocusEl();Ext.getDom(n).tagName;return!(!t.focusFrame||!e)&&(!!i.focusFrame||!!t.focusData[e.id].focusFrame)}}),Ext.define("Ext.Img",{extend:"Ext.Component",alias:["widget.image","widget.imagecomponent"],autoEl:"img",src:"",alt:"",imgCls:"",getElConfig:function(){var e,t=this,i=t.callParent();return"img"==t.autoEl?e=i:i.cn=[e={tag:"img",id:t.id+"-img"}],t.imgCls&&(e.cls=(e.cls?e.cls+" ":"")+t.imgCls),e.src=t.src||Ext.BLANK_IMAGE_URL,t.alt&&(e.alt=t.alt),i},onRender:function(){var e,t=this;t.callParent(arguments),e=t.el,t.imgEl="img"==t.autoEl?e:e.getById(t.id+"-img")},onDestroy:function(){Ext.destroy(this.imgEl),this.imgEl=null,this.callParent()},setSrc:function(e){var t=this,i=t.imgEl;t.src=e,i&&(i.dom.src=e||Ext.BLANK_IMAGE_URL)}}),Ext.define("Ext.LoadMask",{extend:"Ext.Component",alias:"widget.loadmask",mixins:{floating:"Ext.util.Floating",bindable:"Ext.util.Bindable"},uses:["Ext.data.StoreManager"],msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",useMsg:!0,useTargetEl:!1,baseCls:Ext.baseCSSPrefix+"mask-msg",childEls:["msgEl"],renderTpl:'<div id="{id}-msgEl" style="position:relative" class="{[values.$comp.msgCls]}"></div>',floating:{shadow:"frame"},focusOnToFront:!1,bringParentToFront:!1,constructor:function(e,t){var i=this;e.isComponent||(e=Ext.get(e),this.isElement=!0),i.ownerCt=e,this.isElement||i.bindComponent(e),i.callParent([t]),i.store&&i.bindStore(i.store,!0)},bindComponent:function(e){var t=this,i={scope:this,resize:t.sizeMask,added:t.onComponentAdded,removed:t.onComponentRemoved},n=Ext.container.Container.hierarchyEventSource;e.floating?(i.move=t.sizeMask,t.activeOwner=e):e.ownerCt?t.onComponentAdded(e.ownerCt):t.preventBringToFront=!0,t.mon(e,i),t.mon(n,{show:t.onContainerShow,hide:t.onContainerHide,expand:t.onContainerExpand,collapse:t.onContainerCollapse,scope:t})},onComponentAdded:function(e){var t=this;delete t.activeOwner,t.floatParent=e,e.floating||(e=e.up("[floating]")),e&&(t.activeOwner=e,t.mon(e,"move",t.sizeMask,t)),e=t.floatParent.ownerCt,t.rendered&&t.isVisible()&&e&&(t.floatOwner=e,t.mon(e,"afterlayout",t.sizeMask,t,{single:!0}))},onComponentRemoved:function(e){var t=this,i=t.activeOwner,n=t.floatOwner;i&&t.mun(i,"move",t.sizeMask,t),n&&t.mun(n,"afterlayout",t.sizeMask,t),delete t.activeOwner,delete t.floatOwner},afterRender:function(){this.callParent(arguments),this.container=this.floatParent.getContentTarget()},onContainerShow:function(e){this.isActiveContainer(e)&&this.onComponentShow()},onContainerHide:function(e){this.isActiveContainer(e)&&this.onComponentHide()},onContainerExpand:function(e){this.isActiveContainer(e)&&this.onComponentShow()},onContainerCollapse:function(e){this.isActiveContainer(e)&&this.onComponentHide()},isActiveContainer:function(e){return this.isDescendantOf(e)},onComponentHide:function(){var e=this;e.rendered&&e.isVisible()&&(e.hide(),e.showNext=!0)},onComponentShow:function(){this.showNext&&this.show(),delete this.showNext},sizeMask:function(){var e,t=this;t.rendered&&t.isVisible()&&(t.center(),e=t.getMaskTarget(),t.getMaskEl().show().setSize(e.getSize()).alignTo(e,"tl-tl"))},bindStore:function(e,t){var i=this;i.mixins.bindable.bindStore.apply(i,arguments),e=i.store,e&&e.isLoading()&&i.onBeforeLoad()},getStoreListeners:function(){return{beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad,cachemiss:this.onBeforeLoad,cachefilled:this.onLoad}},onDisable:function(){this.callParent(arguments),this.loading&&this.onLoad()},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var e=this.getOwner();return this.useTargetEl?e.getTargetEl():e.getEl()},onBeforeLoad:function(){var e,t=this,i=t.getOwner();t.disabled||(t.loading=!0,i.componentLayoutCounter?t.maybeShow():(e=i.afterComponentLayout,i.afterComponentLayout=function(){i.afterComponentLayout=e,e.apply(i,arguments),t.maybeShow()}))},maybeShow:function(){var e=this,t=e.getOwner();t.isVisible(!0)?e.loading&&t.rendered&&e.show():e.showNext=!0},getMaskEl:function(){var e=this;return e.maskEl||(e.maskEl=e.el.insertSibling({cls:e.maskCls,style:{zIndex:e.el.getStyle("zIndex")-2}},"before"))},onShow:function(){var e=this,t=e.msgEl;e.callParent(arguments),e.loading=!0,e.useMsg?t.show().update(e.msg):t.parent().hide()},hide:function(){return this.isElement?(this.ownerCt.unmask(),void this.fireEvent("hide",this)):(delete this.showNext,this.callParent(arguments))},onHide:function(){this.callParent(),this.getMaskEl().hide()},show:function(){return this.isElement?(this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls),void this.fireEvent("show",this)):this.callParent(arguments)},afterShow:function(){this.callParent(arguments),this.sizeMask()},setZIndex:function(e){var t=this,i=t.activeOwner;return i&&(e=parseInt(i.el.getStyle("zIndex"),10)+1),t.getMaskEl().setStyle("zIndex",e-1),t.mixins.floating.setZIndex.apply(t,arguments)},onLoad:function(){this.loading=!1,this.hide()},onDestroy:function(){var e=this;e.isElement&&e.ownerCt.unmask(),Ext.destroy(e.maskEl),e.callParent()}}),Ext.define("Ext.view.AbstractView",{extend:"Ext.Component",requires:["Ext.LoadMask","Ext.data.StoreManager","Ext.CompositeElementLite","Ext.DomQuery","Ext.selection.DataViewModel"],mixins:{bindable:"Ext.util.Bindable"},inheritableStatics:{getRecord:function(e){return this.getBoundView(e).getRecord(e)},getBoundView:function(e){return Ext.getCmp(e.boundView)}},deferInitialRefresh:!0,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:!0,loadingUseMsg:!0,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,last:!1,triggerEvent:"itemclick",triggerCtEvent:"containerclick",addCmpEvents:function(){},initComponent:function(){var e=this,t=(Ext.isDefined,e.itemTpl),i={};t&&(Ext.isArray(t)?t=t.join(""):Ext.isObject(t)&&(i=Ext.apply(i,t.initialConfig),t=t.html),e.itemSelector||(e.itemSelector="."+e.itemCls),t=Ext.String.format('<tpl for="."><div class="{0}">{1}</div></tpl>',e.itemCls,t),e.tpl=new Ext.XTemplate(t,i)),e.callParent(),(Ext.isString(e.tpl)||Ext.isArray(e.tpl))&&(e.tpl=new Ext.XTemplate(e.tpl)),e.addEvents("beforerefresh","refresh","viewready","itemupdate","itemadd","itemremove"),e.addCmpEvents(),e.store=Ext.data.StoreManager.lookup(e.store||"ext-empty-store"),e.bindStore(e.store,!0),e.all=new Ext.CompositeElementLite,e.scrollState={top:0,left:0},e.on({scroll:e.onViewScroll,element:"el",scope:e})},onRender:function(){var e=this,t=e.loadMask,i={msg:e.loadingText,msgCls:e.loadingCls,useMsg:e.loadingUseMsg,store:e.getMaskStore()};e.callParent(arguments),t&&(Ext.isObject(t)&&(i=Ext.apply(i,t)),e.loadMask=new Ext.LoadMask(e,i),e.loadMask.on({scope:e,beforeshow:e.onMaskBeforeShow,hide:e.onMaskHide}))},finishRender:function(){var e=this;e.callParent(arguments),e.up("[collapsed],[hidden]")||e.doFirstRefresh(e.store)},onBoxReady:function(){var e=this;e.callParent(arguments),e.firstRefreshDone||e.doFirstRefresh(e.store)},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var e=this,t=e.loadingHeight;e.getSelectionModel().deselectAll(),e.all.clear(),t&&t>e.getHeight()&&(e.hasLoadingHeight=!0,e.oldMinHeight=e.minHeight,e.minHeight=t,e.updateLayout())},onMaskHide:function(){var e=this;!e.destroying&&e.hasLoadingHeight&&(e.minHeight=e.oldMinHeight,e.updateLayout(),delete e.hasLoadingHeight)},beforeRender:function(){this.callParent(arguments),this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments),this.getSelectionModel().bindComponent(this)},getSelectionModel:function(){var e=this,t="SINGLE";return e.selModel||(e.selModel={}),e.simpleSelect?t="SIMPLE":e.multiSelect&&(t="MULTI"),Ext.applyIf(e.selModel,{allowDeselect:e.allowDeselect,mode:t}),e.selModel.events||(e.selModel=new Ext.selection.DataViewModel(e.selModel)),e.selModel.hasRelaySetup||(e.relayEvents(e.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]),e.selModel.hasRelaySetup=!0),e.disableSelection&&(e.selModel.locked=!0),e.selModel},refresh:function(){var e,t,i,n,r,o,a=this;a.rendered&&!a.isDestroyed&&(a.hasListeners.beforerefresh&&a.fireEvent("beforerefresh",a)===!1||(e=a.getTargetEl(),o=a.store.getRange(),r=e.dom,a.preserveScrollOnRefresh||(t=r.parentNode,i=r.style.display,r.style.display="none",n=r.nextSibling,t.removeChild(r)),a.refreshCounter?a.clearViewEl():(a.fixedNodes=e.dom.childNodes.length,a.refreshCounter=1),a.tpl.append(e,a.collectData(o,0)),o.length<1?(a.deferEmptyText&&!a.hasSkippedEmptyText||Ext.core.DomHelper.insertHtml("beforeEnd",e.dom,a.emptyText),a.all.clear()):(a.all.fill(Ext.query(a.getItemSelector(),e.dom)),a.updateIndexes(0)),a.selModel.refresh(),a.hasSkippedEmptyText=!0,a.preserveScrollOnRefresh||(t.insertBefore(r,n),r.style.display=i),this.refreshSize(),a.fireEvent("refresh",a),a.viewReady||(a.viewReady=!0,a.fireEvent("viewready",a))))},refreshSize:function(){var e=this.getSizeModel();(e.height.shrinkWrap||e.width.shrinkWrap)&&this.updateLayout()},clearViewEl:function(){var e=this,t=e.getTargetEl();if(e.fixedNodes)for(;t.dom.childNodes[e.fixedNodes];)t.dom.removeChild(t.dom.childNodes[e.fixedNodes]);else t.update("");e.refreshCounter++},onViewScroll:Ext.emptyFn,saveScrollState:function(){if(this.rendered){var e=this.el.dom,t=this.scrollState;t.left=e.scrollLeft,t.top=e.scrollTop}},restoreScrollState:function(){if(this.rendered){var e=this.el.dom,t=this.scrollState;e.scrollLeft=t.left,e.scrollTop=t.top}},prepareData:function(e,t,i){var n,r;if(i){n=i.getAssociatedData();for(r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e},collectData:function(e,t){for(var i,n=[],r=0,o=e.length;r<o;r++)i=e[r],n[r]=this.prepareData(i.data,t+r,i);return n},bufferRender:function(e,t){var i=this,n=i.renderBuffer||(i.renderBuffer=document.createElement("div"));return i.tpl.overwrite(n,i.collectData(e,t)),Ext.query(i.getItemSelector(),n)},onUpdate:function(e,t){var i,n,r=this;if(r.viewReady&&(i=r.store.indexOf(t),i>-1&&(n=r.bufferRender([t],i)[0],r.getNode(t))))return r.all.replaceElement(i,n,!0),r.updateIndexes(i,i),r.selModel.refresh(),r.hasListeners.itemupdate&&r.fireEvent("itemupdate",t,i,n),n},onAdd:function(e,t,i){var n,r=this;if(r.rendered){if(0===r.all.getCount())return void r.refresh();n=r.bufferRender(t,i),r.doAdd(n,t,i),r.selModel.refresh(),r.updateIndexes(i),r.refreshSize(),r.hasListeners.itemadd&&r.fireEvent("itemadd",t,i,n)}},doAdd:function(e,t,i){var n=this.all,r=n.getCount();0===r?(this.clearViewEl(),this.getTargetEl().appendChild(e)):i<r?0===i?n.item(i).insertSibling(e,"before",!0):n.item(i-1).insertSibling(e,"after",!0):n.last().insertSibling(e,"after",!0),Ext.Array.insert(n.elements,i,e)},onRemove:function(e,t,i){var n=this;n.all.getCount()&&(0===n.store.getCount()?n.refresh():(n.doRemove(t,i),n.selModel.refreshOnRemove&&n.selModel.refresh(),n.updateIndexes(i)),this.refreshSize(),n.hasListeners.itemremove&&n.fireEvent("itemremove",t,i))},doRemove:function(e,t){this.all.removeElement(t,!0)},refreshNode:function(e){this.onUpdate(this.store,this.store.getAt(e))},updateIndexes:function(e,t){var i,n=this.all.elements,r=this.store.getRange();for(e=e||0,t=t||(0===t?0:n.length-1),i=e;i<=t;i++)n[i].viewIndex=i,n[i].viewRecordId=r[i].internalId,n[i].boundView||(n[i].boundView=this.id)},getStore:function(){return this.store},bindStore:function(e,t){var i=this;i.mixins.bindable.bindStore.apply(i,arguments),t||i.getSelectionModel().bindStore(i.store),i.componentLayoutCounter&&i.doFirstRefresh(e)},doFirstRefresh:function(e){var t=this;t.firstRefreshDone=!0,e&&!e.loading&&(t.deferInitialRefresh?t.applyFirstRefresh():t.refresh())},applyFirstRefresh:function(){var e=this;e.isDestroyed||(e.up("[isCollapsingOrExpanding]")?Ext.Function.defer(e.applyFirstRefresh,100,e):Ext.Function.defer(function(){e.isDestroyed||e.refresh()},1))},onUnbindStore:function(e){this.setMaskBind(null)},onBindStore:function(e){this.setMaskBind(e)},setMaskBind:function(e){var t=this.loadMask;t&&t.bindStore&&t.bindStore(e)},getStoreListeners:function(){var e=this;return{refresh:e.onDataRefresh,add:e.onAdd,remove:e.onRemove,update:e.onUpdate,clear:e.refresh}},onDataRefresh:function(){var e=this,t=!e.firstRefreshDone&&(!e.rendered||e.up("[collapsed],[isCollapsingOrExpanding],[hidden]"));t?e.deferInitialRefresh=!1:e.blockRefresh!==!0&&(e.firstRefreshDone=!0,e.refresh.apply(e,arguments))},findItemByChild:function(e){return Ext.fly(e).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(e){return e.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){for(var e=[],t=this.selModel.getSelection(),i=t.length,n=0;n<i;n++)e.push(this.getNode(t[n]));return e},getRecords:function(e){for(var t=[],i=0,n=e.length,r=this.store.data;i<n;i++)t[t.length]=r.getByKey(e[i].viewRecordId);return t},getRecord:function(e){return this.store.data.getByKey(Ext.getDom(e).viewRecordId)},isSelected:function(e){var t=this.getRecord(e);return this.selModel.isSelected(t)},select:function(e,t,i){this.selModel.select(e,t,i)},deselect:function(e,t){this.selModel.deselect(e,t)},getNode:function(e){return!e&&0!==e||!this.rendered?null:Ext.isString(e)?document.getElementById(e):Ext.isNumber(e)?this.all.elements[e]:e.isModel?this.getNodeByRecord(e):e},getNodeByRecord:function(e){for(var t=this.all.elements,i=t.length,n=0;n<i;n++)if(t[n].viewRecordId===e.internalId)return t[n];return null},getNodes:function(e,t){var i=this.all.elements;return void 0===t?t=i.length:t++,this.all.elements.slice(e||0,t)},indexOf:function(e){return e=this.getNode(e),e||0===e?Ext.isNumber(e.viewIndex)?e.viewIndex:this.all.indexOf(e):-1},onDestroy:function(){var e=this;e.all.clear(),e.callParent(),e.bindStore(null),e.selModel.destroy()},onItemSelect:function(e){var t=this.getNode(e);t&&Ext.fly(t).addCls(this.selectedItemCls)},onItemDeselect:function(e){var t=this.getNode(e);t&&Ext.fly(t).removeCls(this.selectedItemCls)},getItemSelector:function(){return this.itemSelector}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection().length},getSelectedRecords:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection()},select:function(e,t,i){Ext.global.console&&Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var n=this.getSelectionModel();return n.select.apply(n,arguments)},clearSelections:function(){Ext.global.console&&Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()");var e=this.getSelectionModel();return e.deselectAll()}})})}),Ext.define("Ext.Shadow",{requires:["Ext.ShadowPool"],constructor:function(e){var t,i,n,r=this;switch(Ext.apply(r,e),Ext.isString(r.mode)||(r.mode=r.defaultMode),i=r.offset,n=Math.floor(i/2),r.opacity=50,r.mode.toLowerCase()){case"drop":t=Ext.supports.CSS3BoxShadow?{t:i,l:i,h:-i,w:-i}:{t:-n,l:-n,h:-n,w:-n};break;case"sides":t=Ext.supports.CSS3BoxShadow?{t:i,l:0,h:-i,w:0}:{t:-(1+n),l:1+n-2*i,h:-1,w:n-1};break;case"frame":t=Ext.supports.CSS3BoxShadow?{t:0,l:0,h:0,w:0}:{t:1+n-2*i,l:1+n-2*i,h:i-n-1,w:i-n-1}}r.adjusts=t},getShadowSize:function(){var e=this,t=e.el?e.offset:0,i=[t,t,t,t],n=e.mode.toLowerCase();return e.el&&"frame"!==n&&(i[0]=0,"drop"==n&&(i[3]=0)),i},offset:4,defaultMode:"drop",boxShadowProperty:function(){var e="boxShadow",t=document.documentElement.style;return"boxShadow"in t||("WebkitBoxShadow"in t?e="WebkitBoxShadow":"MozBoxShadow"in t&&(e="MozBoxShadow")),e}(),show:function(e){var t,i=this;e=Ext.get(e),i.el||(i.el=Ext.ShadowPool.pull(),i.el.dom.nextSibling!=e.dom&&i.el.insertBefore(e)),t=parseInt(e.getStyle("z-index"),10)-1||0,i.el.setStyle("z-index",i.zIndex||t),Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(i.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+i.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+i.offset+")"),i.realign(e.getLocalX(),e.getLocalY(),e.dom.offsetWidth,e.dom.offsetHeight),i.el.dom.style.display="block"},isVisible:function(){return!!this.el},realign:function(e,t,i,n){if(this.el){var r,o,a,s,l=this.adjusts,d=this.el.dom,u=d.style;u.left=e+l.l+"px",u.top=t+l.t+"px",r=Math.max(i+l.w,0),o=Math.max(n+l.h,0),a=r+"px",s=o+"px",u.width==a&&u.height==s||(u.width=a,u.height=s,Ext.supports.CSS3BoxShadow&&(u[this.boxShadowProperty]="0 0 "+this.offset+"px #888"))}},hide:function(){var e=this;e.el&&(e.el.dom.style.display="none",Ext.ShadowPool.push(e.el),delete e.el)},setZIndex:function(e){this.zIndex=e,this.el&&this.el.setStyle("z-index",e)},setOpacity:function(e){this.el&&(Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(e=Math.floor(100*e/2)/100),this.opacity=e,this.el.setOpacity(e))}}),Ext.define("Ext.dd.DragDrop",{requires:["Ext.dd.DragDropManager"],constructor:function(e,t,i){e&&this.init(e,t,i)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,b4StartDrag:function(e,t){},startDrag:function(e,t){},b4Drag:function(e){},onDrag:function(e){},onDragEnter:function(e,t){},b4DragOver:function(e){},onDragOver:function(e,t){},b4DragOut:function(e){},onDragOut:function(e,t){},b4DragDrop:function(e){},onDragDrop:function(e,t){},onInvalidDrop:function(e){},b4EndDrag:function(e){},endDrag:function(e){},b4MouseDown:function(e){},onMouseDown:function(e){},onMouseUp:function(e){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(e,t,i){Ext.isNumber(t)&&(t={left:t,right:t,top:t,bottom:t}),t=t||this.defaultPadding;var n,r,o,a,s=Ext.get(this.getEl()).getBox(),l=Ext.get(e),d=l.getScroll(),u=l.dom;u==document.body?n={x:d.left,y:d.top,width:Ext.Element.getViewWidth(),height:Ext.Element.getViewHeight()}:(r=l.getXY(),n={x:r[0],y:r[1],width:u.clientWidth,height:u.clientHeight}),o=s.y-n.y,a=s.x-n.x,this.resetConstraints(),this.setXConstraint(a-(t.left||0),n.width-a-s.width-(t.right||0),this.xTickSize),this.setYConstraint(o-(t.top||0),n.height-o-s.height-(t.bottom||0),this.yTickSize)},getEl:function(){return this._domRef||(this._domRef=Ext.getDom(this.id)),this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(e,t,i){this.initTarget(e,t,i),Ext.EventManager.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(e,t,i){this.config=i||{},this.DDMInstance=Ext.dd.DragDropManager,this.groups={},"string"!=typeof e&&(e=Ext.id(e)),this.id=e,this.addToGroup(t?t:"default"),this.handleElId=e,this.setDragElId(e),this.invalidHandleTypes={A:"A"},this.invalidHandleIds={},this.invalidHandleClasses=[],this.applyConfig(),this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0],this.isTarget=this.config.isTarget!==!1,this.maintainOffset=this.config.maintainOffset,this.primaryButtonOnly=this.config.primaryButtonOnly!==!1},handleOnAvailable:function(){this.available=!0,this.resetConstraints(),this.onAvailable()},setPadding:function(e,t,i,n){t||0===t?i||0===i?this.padding=[e,t,i,n]:this.padding=[e,t,e,t]:this.padding=[e,e,e,e]},setInitPosition:function(e,t){var i,n,r,o=this.getEl();this.DDMInstance.verifyEl(o)&&(i=e||0,n=t||0,r=Ext.Element.getXY(o),this.initPageX=r[0]-i,this.initPageY=r[1]-n,this.lastPageX=r[0],this.lastPageY=r[1],this.setStartPosition(r))},setStartPosition:function(e){var t=e||Ext.Element.getXY(this.getEl());this.deltaSetXY=null,this.startPageX=t[0],this.startPageY=t[1]},addToGroup:function(e){this.groups[e]=!0,this.DDMInstance.regDragDrop(this,e)},removeFromGroup:function(e){this.groups[e]&&delete this.groups[e],this.DDMInstance.removeDDFromGroup(this,e)},setDragElId:function(e){this.dragElId=e},setHandleElId:function(e){"string"!=typeof e&&(e=Ext.id(e)),this.handleElId=e,this.DDMInstance.regHandle(this.id,e)},setOuterHandleElId:function(e){"string"!=typeof e&&(e=Ext.id(e)),Ext.EventManager.on(e,"mousedown",this.handleMouseDown,this),this.setHandleElId(e),this.hasOuterHandles=!0},unreg:function(){Ext.EventManager.un(this.id,"mousedown",this.handleMouseDown,this),this._domRef=null,this.DDMInstance._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(e,t){this.primaryButtonOnly&&0!=e.button||this.isLocked()||(this.DDMInstance.refreshCache(this.groups),(this.hasOuterHandles||this.DDMInstance.isOverTarget(e.getPoint(),this))&&this.clickValidator(e)&&(this.setStartPosition(),this.b4MouseDown(e),this.onMouseDown(e),this.DDMInstance.handleMouseDown(e,this),this.DDMInstance.stopEvent(e)))},clickValidator:function(e){var t=e.getTarget();return this.isValidHandleChild(t)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(t,this.id))},addInvalidHandleType:function(e){var t=e.toUpperCase();this.invalidHandleTypes[t]=t},addInvalidHandleId:function(e){"string"!=typeof e&&(e=Ext.id(e)),this.invalidHandleIds[e]=e},addInvalidHandleClass:function(e){this.invalidHandleClasses.push(e)},removeInvalidHandleType:function(e){var t=e.toUpperCase();delete this.invalidHandleTypes[t]},removeInvalidHandleId:function(e){"string"!=typeof e&&(e=Ext.id(e)),delete this.invalidHandleIds[e]},removeInvalidHandleClass:function(e){for(var t=0,i=this.invalidHandleClasses.length;t<i;++t)this.invalidHandleClasses[t]==e&&delete this.invalidHandleClasses[t]},isValidHandleChild:function(e){var t,i,n,r=!0;try{t=e.nodeName.toUpperCase()}catch(i){t=e.nodeName}for(r=r&&!this.invalidHandleTypes[t],r=r&&!this.invalidHandleIds[e.id],i=0,n=this.invalidHandleClasses.length;r&&i<n;++i)r=!Ext.fly(e).hasCls(this.invalidHandleClasses[i]);return r},setXTicks:function(e,t){this.xTicks=[],this.xTickSize=t;var i,n={};for(i=this.initPageX;i>=this.minX;i-=t)n[i]||(this.xTicks[this.xTicks.length]=i,n[i]=!0);for(i=this.initPageX;i<=this.maxX;i+=t)n[i]||(this.xTicks[this.xTicks.length]=i,n[i]=!0);Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(e,t){this.yTicks=[],this.yTickSize=t;var i,n={};for(i=this.initPageY;i>=this.minY;i-=t)n[i]||(this.yTicks[this.yTicks.length]=i,n[i]=!0);for(i=this.initPageY;i<=this.maxY;i+=t)n[i]||(this.yTicks[this.yTicks.length]=i,n[i]=!0);Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(e,t,i){this.leftConstraint=e,this.rightConstraint=t,this.minX=this.initPageX-e,this.maxX=this.initPageX+t,i&&this.setXTicks(this.initPageX,i),this.constrainX=!0},clearConstraints:function(){this.constrainX=!1,this.constrainY=!1,this.clearTicks()},clearTicks:function(){this.xTicks=null,this.yTicks=null,this.xTickSize=0,this.yTickSize=0},setYConstraint:function(e,t,i){this.topConstraint=e,this.bottomConstraint=t,this.minY=this.initPageY-e,this.maxY=this.initPageY+t,i&&this.setYTicks(this.initPageY,i),this.constrainY=!0},resetConstraints:function(){if(this.initPageX||0===this.initPageX){var e=this.maintainOffset?this.lastPageX-this.initPageX:0,t=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(e,t)}else this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize),this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(e,t){if(t){if(t[0]>=e)return t[0];var i,n,r,o,a;for(i=0,n=t.length;i<n;++i)if(r=i+1,t[r]&&t[r]>=e)return o=e-t[i],a=t[r]-e,a>o?t[i]:t[r];return t[t.length-1]}return e},toString:function(){return"DragDrop "+this.id}}),Ext.define("Ext.dd.DD",{extend:"Ext.dd.DragDrop",requires:["Ext.dd.DragDropManager"],constructor:function(e,t,i){e&&this.init(e,t,i)},scroll:!0,autoOffset:function(e,t){var i=e-this.startPageX,n=t-this.startPageY;this.setDelta(i,n)},setDelta:function(e,t){this.deltaX=e,this.deltaY=t},setDragElPos:function(e,t){var i=this.getDragEl();this.alignElWithMouse(i,e,t)},alignElWithMouse:function(e,t,i){var n,r,o,a,s=this.getTargetCoord(t,i),l=e.dom?e:Ext.fly(e,"_dd"),d=l.getSize(),u=Ext.Element;return this.deltaSetXY?(n=this.cachedViewportSize,l.setLeftTop(Math.max(0,Math.min(s.x+this.deltaSetXY[0],n.width-d.width)),Math.max(0,Math.min(s.y+this.deltaSetXY[1],n.height-d.height)))):(n=this.cachedViewportSize={width:u.getDocumentWidth(),height:u.getDocumentHeight()},r=[Math.max(0,Math.min(s.x,n.width-d.width)),Math.max(0,Math.min(s.y,n.height-d.height))],l.setXY(r),o=l.getLocalX(),a=l.getLocalY(),this.deltaSetXY=[o-s.x,a-s.y]),this.cachePosition(s.x,s.y),this.autoScroll(s.x,s.y,e.offsetHeight,e.offsetWidth),s},cachePosition:function(e,t){if(e)this.lastPageX=e,this.lastPageY=t;else{var i=Ext.Element.getXY(this.getEl());this.lastPageX=i[0],this.lastPageY=i[1]}},autoScroll:function(e,t,i,n){if(this.scroll){var r=Ext.Element.getViewHeight(),o=Ext.Element.getViewWidth(),a=this.DDMInstance.getScrollTop(),s=this.DDMInstance.getScrollLeft(),l=i+t,d=n+e,u=r+a-t-this.deltaY,c=o+s-e-this.deltaX,h=40,g=document.all?80:30;l>r&&u<h&&window.scrollTo(s,a+g),t<a&&a>0&&t-a<h&&window.scrollTo(s,a-g),d>o&&c<h&&window.scrollTo(s+g,a),e<s&&s>0&&e-s<h&&window.scrollTo(s-g,a)}},getTargetCoord:function(e,t){var i=e-this.deltaX,n=t-this.deltaY;return this.constrainX&&(i<this.minX&&(i=this.minX),i>this.maxX&&(i=this.maxX)),this.constrainY&&(n<this.minY&&(n=this.minY),n>this.maxY&&(n=this.maxY)),i=this.getTick(i,this.xTicks),n=this.getTick(n,this.yTicks),{x:i,y:n}},applyConfig:function(){this.callParent(),this.scroll=this.config.scroll!==!1},b4MouseDown:function(e){this.autoOffset(e.getPageX(),e.getPageY())},b4Drag:function(e){this.setDragElPos(e.getPageX(),e.getPageY())},toString:function(){return"DD "+this.id}}),Ext.define("Ext.dd.DDProxy",{extend:"Ext.dd.DD",statics:{dragElId:"ygddfdiv"},constructor:function(e,t,i){e&&(this.init(e,t,i),this.initFrame())},resizeFrame:!0,centerFrame:!1,createFrame:function(){var e,t,i=this,n=document.body;return n&&n.firstChild?(e=this.getDragEl(),void(e||(e=document.createElement("div"),e.id=this.dragElId,t=e.style,t.position="absolute",t.visibility="hidden",t.cursor="move",t.border="2px solid #aaa",t.zIndex=999,n.insertBefore(e,n.firstChild)))):void setTimeout(function(){i.createFrame()},50)},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent(),this.resizeFrame=this.config.resizeFrame!==!1,this.centerFrame=this.config.centerFrame,this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(e,t){var i=(this.getEl(),this.getDragEl()),n=i.style;this._resizeProxy(),this.centerFrame&&this.setDelta(Math.round(parseInt(n.width,10)/2),Math.round(parseInt(n.height,10)/2)),this.setDragElPos(e,t),Ext.fly(i).show()},_resizeProxy:function(){if(this.resizeFrame){var e=this.getEl();Ext.fly(this.getDragEl()).setSize(e.offsetWidth,e.offsetHeight)}},b4MouseDown:function(e){var t=e.getPageX(),i=e.getPageY();this.autoOffset(t,i),this.setDragElPos(t,i)},b4StartDrag:function(e,t){this.showFrame(e,t)},b4EndDrag:function(e){Ext.fly(this.getDragEl()).hide()},endDrag:function(e){var t=this.getEl(),i=this.getDragEl();i.style.visibility="",this.beforeMove(),
t.style.visibility="hidden",Ext.dd.DDM.moveToEl(t,i),i.style.visibility="hidden",t.style.visibility="",this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}}),Ext.define("Ext.dd.DDTarget",{extend:"Ext.dd.DragDrop",constructor:function(e,t,i){e&&this.initTarget(e,t,i)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}}),Ext.define("Ext.dd.DropTarget",{extend:"Ext.dd.DDTarget",requires:["Ext.dd.ScrollManager"],constructor:function(e,t){this.el=Ext.get(e),Ext.apply(this,t),this.containerScroll&&Ext.dd.ScrollManager.register(this.el),this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:!0}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(e,t,i){return this.overClass&&this.el.addCls(this.overClass),this.dropAllowed},notifyOver:function(e,t,i){return this.dropAllowed},notifyOut:function(e,t,i){this.overClass&&this.el.removeCls(this.overClass)},notifyDrop:function(e,t,i){return!1},destroy:function(){this.callParent(),this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el)}}),Ext.define("Ext.dd.DropZone",{extend:"Ext.dd.DropTarget",requires:["Ext.dd.Registry"],getTargetFromEvent:function(e){return Ext.dd.Registry.getTargetFromEvent(e)},onNodeEnter:function(e,t,i,n){},onNodeOver:function(e,t,i,n){return this.dropAllowed},onNodeOut:function(e,t,i,n){},onNodeDrop:function(e,t,i,n){return!1},onContainerOver:function(e,t,i){return this.dropNotAllowed},onContainerDrop:function(e,t,i){return!1},notifyEnter:function(e,t,i){return this.dropNotAllowed},notifyOver:function(e,t,i){var n=this.getTargetFromEvent(t);return n?(this.lastOverNode!=n&&(this.lastOverNode&&this.onNodeOut(this.lastOverNode,e,t,i),this.onNodeEnter(n,e,t,i),this.lastOverNode=n),this.onNodeOver(n,e,t,i)):(this.lastOverNode&&(this.onNodeOut(this.lastOverNode,e,t,i),this.lastOverNode=null),this.onContainerOver(e,t,i))},notifyOut:function(e,t,i){this.lastOverNode&&(this.onNodeOut(this.lastOverNode,e,t,i),this.lastOverNode=null)},notifyDrop:function(e,t,i){this.lastOverNode&&(this.onNodeOut(this.lastOverNode,e,t,i),this.lastOverNode=null);var n=this.getTargetFromEvent(t);return n?this.onNodeDrop(n,e,t,i):this.onContainerDrop(e,t,i)},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}}),Ext.define("Ext.dd.StatusProxy",{extend:"Ext.Component",animRepair:!1,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon"></div><div id="{id}-ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost"></div>'],constructor:function(e){var t=this;e=e||{},Ext.apply(t,{hideMode:"visibility",hidden:!0,floating:!0,id:t.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:e.shadow||!1,renderTo:Ext.getDetachedBody()}),t.callParent(arguments),this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(e){e=e||this.dropNotAllowed,this.dropStatus!=e&&(this.el.replaceCls(this.dropStatus,e),this.dropStatus=e)},reset:function(e){var t=this,i=Ext.baseCSSPrefix+"dd-drag-proxy ";t.el.replaceCls(i+t.dropAllowed,i+t.dropNotAllowed),t.dropStatus=t.dropNotAllowed,e&&t.ghost.update("")},update:function(e){"string"==typeof e?this.ghost.update(e):(this.ghost.update(""),e.style.margin="0",this.ghost.dom.appendChild(e));var t=this.ghost.dom.firstChild;t&&Ext.fly(t).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(e){this.callParent(),e&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},sync:function(){this.el.sync()},repair:function(e,t,i){var n=this;n.callback=t,n.scope=i,e&&n.animRepair!==!1?(n.el.addCls(Ext.baseCSSPrefix+"dd-drag-repair"),n.el.hideUnders(!0),n.anim=n.el.animate({duration:n.repairDuration||500,easing:"ease-out",to:{x:e[0],y:e[1]},stopAnimation:!0,callback:n.afterRepair,scope:n})):n.afterRepair()},afterRepair:function(){var e=this;e.hide(!0),e.el.removeCls(Ext.baseCSSPrefix+"dd-drag-repair"),"function"==typeof e.callback&&e.callback.call(e.scope||e),delete e.callback,delete e.scope}}),Ext.define("Ext.dd.DragSource",{extend:"Ext.dd.DDProxy",requires:["Ext.dd.StatusProxy","Ext.dd.DragDropManager"],dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:!0,repairHighlightColor:"c3daf9",constructor:function(e,t){this.el=Ext.get(e),this.dragData||(this.dragData={}),Ext.apply(this,t),this.proxy||(this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})),this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,scroll:this.scroll===!0}]),this.dragging=!1},getDragData:function(e){return this.dragData},onDragEnter:function(e,t){var i,n=Ext.dd.DragDropManager.getDDById(t);this.cachedTarget=n,this.beforeDragEnter(n,e,t)!==!1&&(n.isNotifyTarget?(i=n.notifyEnter(this,e,this.dragData),this.proxy.setStatus(i)):this.proxy.setStatus(this.dropAllowed),this.afterDragEnter&&this.afterDragEnter(n,e,t))},beforeDragEnter:function(e,t,i){return!0},onDragOver:function(e,t){var i,n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);this.beforeDragOver(n,e,t)!==!1&&(n.isNotifyTarget&&(i=n.notifyOver(this,e,this.dragData),this.proxy.setStatus(i)),this.afterDragOver&&this.afterDragOver(n,e,t))},beforeDragOver:function(e,t,i){return!0},onDragOut:function(e,t){var i=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);this.beforeDragOut(i,e,t)!==!1&&(i.isNotifyTarget&&i.notifyOut(this,e,this.dragData),this.proxy.reset(),this.afterDragOut&&this.afterDragOut(i,e,t)),this.cachedTarget=null},beforeDragOut:function(e,t,i){return!0},onDragDrop:function(e,t){var i=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);this.beforeDragDrop(i,e,t)!==!1&&(i.isNotifyTarget?i.notifyDrop(this,e,this.dragData)!==!1?this.onValidDrop(i,e,t):this.onInvalidDrop(i,e,t):this.onValidDrop(i,e,t),this.afterDragDrop&&this.afterDragDrop(i,e,t)),delete this.cachedTarget},beforeDragDrop:function(e,t,i){return!0},onValidDrop:function(e,t,i){this.hideProxy(),this.afterValidDrop&&this.afterValidDrop(e,t,i)},getRepairXY:function(e,t){return this.el.getXY()},onInvalidDrop:function(e,t,i){t||(t=e,e=null,i=t.getTarget().id),this.beforeInvalidDrop(e,t,i),this.cachedTarget&&(this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,t,this.dragData),this.cacheTarget=null),this.proxy.repair(this.getRepairXY(t,this.dragData),this.afterRepair,this),this.afterInvalidDrop&&this.afterInvalidDrop(t,i)},afterRepair:function(){var e=this;Ext.enableFx&&e.el.highlight(e.repairHighlightColor),e.dragging=!1},beforeInvalidDrop:function(e,t,i){return!0},handleMouseDown:function(e){if(!this.dragging){var t=this.getDragData(e);t&&this.onBeforeDrag(t,e)!==!1&&(this.dragData=t,this.proxy.stop(),this.callParent(arguments))}},onBeforeDrag:function(e,t){return!0},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){return this.proxy.ensureAttachedToBody(!0),this.callParent(arguments)},startDrag:function(e,t){this.proxy.reset(),this.proxy.hidden=!1,this.dragging=!0,this.proxy.update(""),this.onInitDrag(e,t),this.proxy.show()},onInitDrag:function(e,t){var i=this.el.dom.cloneNode(!0);return i.id=Ext.id(),this.proxy.update(i),this.onStartDrag(e,t),!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide(),this.proxy.reset(!0),this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(e){},endDrag:function(e){this.onEndDrag(this.dragData,e)},onEndDrag:function(e,t){},autoOffset:function(e,t){this.setDelta(-12,-20)},destroy:function(){this.callParent(),Ext.destroy(this.proxy)}}),Ext.define("Ext.draw.SpriteDD",{extend:"Ext.dd.DragSource",constructor:function(e,t){var i=this,n=e.el;i.sprite=e,i.el=n,i.dragData={el:n,sprite:e},i.callParent([n,t]),i.sprite.setStyle("cursor","move")},showFrame:Ext.emptyFn,createFrame:Ext.emptyFn,getDragEl:function(e){return this.el},getRegion:function(){var e,t,i,n,r,o,a,s=this,l=s.el;a=s.sprite,o=a.getBBox();try{e=Ext.Element.getXY(l)}catch(e){}return e?(t=e[0],i=t+o.width,n=e[1],r=n+o.height,new Ext.util.Region(n,i,r,t)):null},startDrag:function(e,t){var i=this;i.sprite.attr;i.prev=i.sprite.surface.transformToViewBox(e,t)},onDrag:function(e){var t,i,n=e.getXY(),r=this,o=r.sprite,a=o.attr;n=r.sprite.surface.transformToViewBox(n[0],n[1]),t=n[0]-r.prev[0],i=n[1]-r.prev[1],o.setAttributes({translate:{x:a.translation.x+t,y:a.translation.y+i}},!0),r.prev=n},setDragElPos:function(){return!1}}),Ext.define("Ext.draw.Sprite",{mixins:{observable:"Ext.util.Observable",animate:"Ext.util.Animate"},requires:["Ext.draw.SpriteDD"],dirty:!1,dirtyHidden:!1,dirtyTransform:!1,dirtyPath:!0,dirtyFont:!0,zIndexDirty:!0,isSprite:!0,zIndex:0,fontProperties:["font","font-size","font-weight","font-style","font-family","text-anchor","text"],pathProperties:["x","y","d","path","height","width","radius","r","rx","ry","cx","cy"],constructor:function(e){var t=this;e=Ext.merge({},e||{}),t.id=Ext.id(null,"ext-sprite-"),t.transformations=[],Ext.copyTo(this,e,"surface,group,type,draggable"),t.bbox={},t.attr={zIndex:0,translation:{x:null,y:null},rotation:{degrees:null,x:null,y:null},scaling:{x:null,y:null,cx:null,cy:null}},delete e.surface,delete e.group,delete e.type,delete e.draggable,t.setAttributes(e),t.addEvents("beforedestroy","destroy","render","mousedown","mouseup","mouseover","mouseout","mousemove","click"),t.mixins.observable.constructor.apply(this,arguments)},initDraggable:function(){var e=this;e.draggable=!0,e.el||e.surface.createSpriteElement(e),e.dd=new Ext.draw.SpriteDD(e,Ext.isBoolean(e.draggable)?null:e.draggable),e.on("beforedestroy",e.dd.destroy,e.dd)},setAttributes:function(e,t){var i,n,r,o,a,s,l,d,u=this,c=u.fontProperties,h=c.length,g=u.pathProperties,p=g.length,f=!!u.surface,m=f&&u.surface.customAttributes||{},x=u.attr,y=!1;e=Ext.apply({},e);for(i in m)e.hasOwnProperty(i)&&"function"==typeof m[i]&&Ext.apply(e,m[i].apply(u,[].concat(e[i])));for(!!e.hidden!=!!x.hidden&&(u.dirtyHidden=!0),n=0;n<p;n++)if(i=g[n],i in e&&e[i]!==x[i]){u.dirtyPath=!0,y=!0;break}"zIndex"in e&&(u.zIndexDirty=!0),"text"in e&&(u.dirtyFont=!0,y=!0);for(n=0;n<h;n++)if(i=c[n],i in e&&e[i]!==x[i]){u.dirtyFont=!0,y=!0;break}return r=e.translation||e.translate,delete e.translate,delete e.translation,o=x.translation,r&&("x"in r&&r.x!==o.x||"y"in r&&r.y!==o.y)&&(u.dirtyTransform=!0,o.x=r.x,o.y=r.y),a=e.rotation||e.rotate,s=x.rotation,delete e.rotate,delete e.rotation,a&&("x"in a&&a.x!==s.x||"y"in a&&a.y!==s.y||"degrees"in a&&a.degrees!==s.degrees)&&(u.dirtyTransform=!0,s.x=a.x,s.y=a.y,s.degrees=a.degrees),l=e.scaling||e.scale,d=x.scaling,delete e.scale,delete e.scaling,l&&("x"in l&&l.x!==d.x||"y"in l&&l.y!==d.y||"cx"in l&&l.cx!==d.cx||"cy"in l&&l.cy!==d.cy)&&(u.dirtyTransform=!0,d.x=l.x,d.y=l.y,d.cx=l.cx,d.cy=l.cy),!u.dirtyTransform&&y&&(null!==x.scaling.x&&null!==x.scaling.y&&null!==x.rotation.y&&null!==x.rotation.y||(u.dirtyTransform=!0)),Ext.apply(x,e),u.dirty=!0,t===!0&&f&&u.redraw(),this},getBBox:function(){return this.surface.getBBox(this)},setText:function(e){return this.surface.setText(this,e)},hide:function(e){return this.setAttributes({hidden:!0},e),this},show:function(e){return this.setAttributes({hidden:!1},e),this},remove:function(){return!!this.surface&&(this.surface.remove(this),!0)},onRemove:function(){this.surface.onRemove(this)},destroy:function(){var e=this;e.fireEvent("beforedestroy",e)!==!1&&(e.remove(),e.surface.onDestroy(e),e.clearListeners(),e.fireEvent("destroy"))},redraw:function(){return this.surface.renderItem(this),this},setStyle:function(){return this.el.setStyle.apply(this.el,arguments),this},addCls:function(e){return this.surface.addCls(this,e),this},removeCls:function(e){return this.surface.removeCls(this,e),this}}),Ext.define("Ext.draw.engine.Svg",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Sprite","Ext.draw.Matrix","Ext.Element"],engine:"Svg",trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,xlink:"http://www.w3.org/1999/xlink",translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",path:"d",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},parsers:{},minDefaults:{circle:{cx:0,cy:0,r:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start","font-family":null,"font-size":null,"font-weight":null,"font-style":null,fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},createSvgElement:function(e,t){var i,n=this.domRef.createElementNS("http://www.w3.org/2000/svg",e);if(t)for(i in t)n.setAttribute(i,String(t[i]));return n},createSpriteElement:function(e){var t=this.createSvgElement(e.type);return t.id=e.id,t.style&&(t.style.webkitTapHighlightColor="rgba(0,0,0,0)"),e.el=Ext.get(t),this.applyZIndex(e),e.matrix=new Ext.draw.Matrix,e.bbox={plain:0,transform:0},this.applyAttrs(e),this.applyTransformations(e),e.fireEvent("render",e),t},getBBoxText:function(e){var t,i,n,r,o,a,s={};if(e&&e.el){a=e.el.dom;try{return s=a.getBBox()}catch(e){}for(s={x:s.x,y:1/0,width:0,height:0},o=a.getNumberOfChars(),r=0;r<o;r++)t=a.getExtentOfChar(r),s.y=Math.min(t.y,s.y),i=t.y+t.height-s.y,s.height=Math.max(s.height,i),n=t.x+t.width-s.x,s.width=Math.max(s.width,n);return s}},hide:function(){Ext.get(this.el).hide()},show:function(){Ext.get(this.el).show()},hidePrim:function(e){this.addCls(e,Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(e){this.removeCls(e,Ext.baseCSSPrefix+"hide-visibility")},getDefs:function(){return this._defs||(this._defs=this.createSvgElement("defs"))},transform:function(e,t){for(var i,n,r=new Ext.draw.Matrix,o=e.transformations,a=o.length,s=0;s<a;s++)i=o[s],n=i.type,"translate"==n?r.translate(i.x,i.y):"rotate"==n?r.rotate(i.degrees,i.x,i.y):"scale"==n&&r.scale(i.x,i.y,i.centerX,i.centerY);e.matrix=r,t||e.el.set({transform:r.toSvg()})},setSize:function(e,t){var i=this,n=i.el;e=+e||i.width,t=+t||i.height,i.width=e,i.height=t,n.setSize(e,t),n.set({width:e,height:t}),i.callParent([e,t])},getRegion:function(){var e=this.el.getXY(),t=this.bgRect.getXY(),i=Math.max,n=i(e[0],t[0]),r=i(e[1],t[1]);return{left:n,top:r,right:n+this.width,bottom:r+this.height}},onRemove:function(e){e.el&&(e.el.destroy(),delete e.el),this.callParent(arguments)},setViewBox:function(e,t,i,n){isFinite(e)&&isFinite(t)&&isFinite(i)&&isFinite(n)&&(this.callParent(arguments),this.el.dom.setAttribute("viewBox",[e,t,i,n].join(" ")))},render:function(e){var t,i,n,r,o,a,s=this;s.el||(t=s.width||0,i=s.height||0,n=s.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:t,height:i}),r=s.getDefs(),o=s.createSvgElement("rect",{width:"100%",height:"100%",fill:"#000",stroke:"none",opacity:0}),Ext.isSafari3&&(a=s.createSvgElement("rect",{x:-10,y:-10,width:"110%",height:"110%",fill:"none",stroke:"#000"})),n.appendChild(r),Ext.isSafari3&&n.appendChild(a),n.appendChild(o),e.appendChild(n),s.el=Ext.get(n),s.bgRect=Ext.get(o),Ext.isSafari3&&(s.webkitRect=Ext.get(a),s.webkitRect.hide()),s.el.on({scope:s,mouseup:s.onMouseUp,mousedown:s.onMouseDown,mouseover:s.onMouseOver,mouseout:s.onMouseOut,mousemove:s.onMouseMove,mouseenter:s.onMouseEnter,mouseleave:s.onMouseLeave,click:s.onClick,dblclick:s.onDblClick})),s.renderAll()},onMouseEnter:function(e){this.el.parent().getRegion().contains(e.getPoint())&&this.fireEvent("mouseenter",e)},onMouseLeave:function(e){this.el.parent().getRegion().contains(e.getPoint())||this.fireEvent("mouseleave",e)},processEvent:function(e,t){var i,n=t.getTarget();this.surface;this.fireEvent(e,t),"tspan"==n.nodeName&&n.parentNode&&(n=n.parentNode),i=this.items.get(n.id),i&&i.fireEvent(e,i,t)},tuneText:function(e,t){var i,n,r,o,a,s,l=(e.el.dom,[]);if(t.hasOwnProperty("text")&&(n=e.tspans&&Ext.Array.map(e.tspans,function(e){return e.textContent}).join(""),e.tspans&&t.text==n?l=e.tspans||[]:(l=this.setText(e,t.text),e.tspans=l)),l.length){for(i=this.getBBoxText(e).height,s=e.el.dom.getAttribute("x"),r=0,o=l.length;r<o;r++)a=Ext.isFF3_0||Ext.isFF3_5?2:4,l[r].setAttribute("x",s),l[r].setAttribute("dy",r?1.2*i:i/a);e.dirty=!0}},setText:function(e,t){for(var i,n,r,o,a,s=this,l=e.el.dom,d=[];l.firstChild;)l.removeChild(l.firstChild);for(a=String(t).split("\n"),r=0,o=a.length;r<o;r++)n=a[r],n&&(i=s.createSvgElement("tspan"),i.appendChild(document.createTextNode(Ext.htmlDecode(n))),l.appendChild(i),d[r]=i);return d},renderAll:function(){this.items.each(this.renderItem,this)},renderItem:function(e){this.el&&(e.el||this.createSpriteElement(e),e.zIndexDirty&&this.applyZIndex(e),e.dirty&&(this.applyAttrs(e),e.dirtyTransform&&this.applyTransformations(e)))},redraw:function(e){e.dirty=e.zIndexDirty=!0,this.renderItem(e)},applyAttrs:function(e){var t,i,n,r,o,a,s=this,l=e.el,d=e.group,u=e.attr,c=s.parsers,h=s.gradientsMap||{},g=Ext.isSafari&&!Ext.isStrict;if(d){for(t=[].concat(d),n=t.length,i=0;i<n;i++)d=t[i],s.getGroup(d).add(e);delete e.group}r=s.scrubAttrs(e)||{},e.bbox.plain=0,e.bbox.transform=0,"circle"==e.type||"ellipse"==e.type?(r.cx=r.cx||r.x,r.cy=r.cy||r.y):"rect"==e.type?r.rx=r.ry=r.r:"path"==e.type&&r.d&&(r.d=Ext.draw.Draw.pathToString(Ext.draw.Draw.pathToAbsolute(r.d))),e.dirtyPath=!1,r["clip-rect"]&&(s.setClip(e,r),delete r["clip-rect"]),"text"==e.type&&r.font&&e.dirtyFont&&l.set({style:"font: "+r.font}),"image"==e.type&&l.dom.setAttributeNS(s.xlink,"href",r.src),Ext.applyIf(r,s.minDefaults[e.type]),e.dirtyHidden&&(u.hidden?s.hidePrim(e):s.showPrim(e),e.dirtyHidden=!1);for(o in r)if(r.hasOwnProperty(o)&&null!=r[o]){if(g&&"color|stroke|fill".indexOf(o)>-1&&r[o]in h&&(r[o]=h[r[o]]),"hidden"==o&&"text"==e.type)continue;o in c?l.dom.setAttribute(o,c[o](r[o],e,s)):l.dom.setAttribute(o,r[o])}"text"==e.type&&s.tuneText(e,r),e.dirtyFont=!1,a=u.style,a&&l.setStyle(a),e.dirty=!1,Ext.isSafari3&&(s.webkitRect.show(),setTimeout(function(){s.webkitRect.hide()}))},setClip:function(e,t){var i,n,r=this,o=t["clip-rect"];o&&(e.clip&&e.clip.parentNode.parentNode.removeChild(e.clip.parentNode),i=r.createSvgElement("clipPath"),n=r.createSvgElement("rect"),i.id=Ext.id(null,"ext-clip-"),n.setAttribute("x",o.x),n.setAttribute("y",o.y),n.setAttribute("width",o.width),n.setAttribute("height",o.height),i.appendChild(n),r.getDefs().appendChild(i),e.el.dom.setAttribute("clip-path","url(#"+i.id+")"),e.clip=n)},applyZIndex:function(e){var t,i=this,n=i.items,r=n.indexOf(e),o=e.el;if(i.el.dom.childNodes[r+2]!==o.dom){if(r>0)do t=n.getAt(--r).el;while(!t&&r>0);o.insertAfter(t||i.bgRect)}e.zIndexDirty=!1},createItem:function(e){var t=new Ext.draw.Sprite(e);return t.surface=this,t},addGradient:function(e){e=Ext.draw.Draw.parseGradient(e);var t,i,n,r,o,a=this,s=e.stops.length,l=e.vector,d=Ext.isSafari&&!Ext.isStrict;if(o=a.gradientsMap||{},d)o["url(#"+e.id+")"]=e.stops[0].color;else for("linear"==e.type?(t=a.createSvgElement("linearGradient"),t.setAttribute("x1",l[0]),t.setAttribute("y1",l[1]),t.setAttribute("x2",l[2]),t.setAttribute("y2",l[3])):(t=a.createSvgElement("radialGradient"),t.setAttribute("cx",e.centerX),t.setAttribute("cy",e.centerY),t.setAttribute("r",e.radius),Ext.isNumber(e.focalX)&&Ext.isNumber(e.focalY)&&(t.setAttribute("fx",e.focalX),t.setAttribute("fy",e.focalY))),t.id=e.id,a.getDefs().appendChild(t),r=0;r<s;r++)i=e.stops[r],n=a.createSvgElement("stop"),n.setAttribute("offset",i.offset+"%"),n.setAttribute("stop-color",i.color),n.setAttribute("stop-opacity",i.opacity),t.appendChild(n);a.gradientsMap=o},hasCls:function(e,t){return t&&(" "+(e.el.dom.getAttribute("class")||"")+" ").indexOf(" "+t+" ")!=-1},addCls:function(e,t){var i,n,r,o=e.el,a=[],s=o.getAttribute("class")||"";if(Ext.isArray(t)){for(i=0,n=t.length;i<n;i++)r=t[i],"string"==typeof r&&(" "+s+" ").indexOf(" "+r+" ")==-1&&a.push(r);a.length&&o.set({class:" "+a.join(" ")})}else"string"!=typeof t||this.hasCls(e,t)||o.set({class:s+" "+t})},removeCls:function(e,t){var i,n,r,o,a,s=this,l=e.el,d=l.getAttribute("class")||"";if(Ext.isArray(t)||(t=[t]),d){for(a=d.replace(s.trimRe," ").split(s.spacesRe),i=0,r=t.length;i<r;i++)o=t[i],"string"==typeof o&&(o=o.replace(s.trimRe,""),n=Ext.Array.indexOf(a,o),n!=-1&&Ext.Array.erase(a,n,1));l.set({class:a.join(" ")})}},destroy:function(){var e=this;e.callParent(),e.el&&e.el.remove(),e._defs&&Ext.get(e._defs).destroy(),e.bgRect&&Ext.get(e.bgRect).destroy(),e.webkitRect&&Ext.get(e.webkitRect).destroy(),delete e.el}}),Ext.define("Ext.draw.engine.Vml",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Color","Ext.draw.Sprite","Ext.draw.Matrix","Ext.Element"],engine:"Vml",map:{M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bitesRe:/([clmz]),?([^clmz]*)/gi,valRe:/-?[^,\s\-]+/g,fillUrlRe:/^url\(\s*['"]?([^\)]+?)['"]?\s*\)$/i,pathlike:/^(path|rect)$/,NonVmlPathRe:/[ahqstv]/gi,partialPathRe:/[clmz]/g,fontFamilyRe:/^['"]+|['"]+$/g,baseVmlCls:Ext.baseCSSPrefix+"vml-base",vmlGroupCls:Ext.baseCSSPrefix+"vml-group",spriteCls:Ext.baseCSSPrefix+"vml-sprite",measureSpanCls:Ext.baseCSSPrefix+"vml-measure-span",zoom:21600,coordsize:1e3,coordorigin:"0 0",zIndexShift:0,orderSpritesByZIndex:!1,path2vml:function(e){var t,i,n,r,o,a,s,l,d=this,u=d.NonVmlPathRe,c=d.map,h=d.valRe,g=d.zoom,p=d.bitesRe,f=Ext.Function.bind(Ext.draw.Draw.pathToAbsolute,Ext.draw.Draw);if(String(e).match(u))f=Ext.Function.bind(Ext.draw.Draw.path2curve,Ext.draw.Draw);else if(!String(e).match(d.partialPathRe))return t=String(e).replace(p,function(e,t,i){var n=[],r="m"==t.toLowerCase(),o=c[t];return i.replace(h,function(e){r&&2===n.length&&(o+=n+c["m"==t?"l":"L"],n=[]),n.push(Math.round(e*g))}),o+n});for(i=f(e),t=[],o=0,a=i.length;o<a;o++){for(n=i[o],r=i[o][0].toLowerCase(),"z"==r&&(r="x"),s=1,l=n.length;s<l;s++)r+=Math.round(n[s]*d.zoom)+(s!=l-1?",":"");t.push(r)}return t.join(" ")},translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},minDefaults:{circle:{fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start",font:'10px "Arial"',fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},onMouseEnter:function(e){this.fireEvent("mouseenter",e)},onMouseLeave:function(e){this.fireEvent("mouseleave",e)},processEvent:function(e,t){var i,n=t.getTarget();this.surface;this.fireEvent(e,t),i=this.items.get(n.id),i&&i.fireEvent(e,i,t)},createSpriteElement:function(e){var t,i,n,r=this,o=e.attr,a=e.type,s=r.zoom,l=e.vml||(e.vml={}),d=(Math.round,"image"===a?r.createNode("image"):r.createNode("shape"));return d.coordsize=s+" "+s,d.coordorigin=o.coordorigin||"0 0",Ext.get(d).addCls(r.spriteCls),"text"==a&&(l.path=t=r.createNode("path"),t.textpathok=!0,l.textpath=n=r.createNode("textpath"),n.on=!0,d.appendChild(n),d.appendChild(t)),d.id=e.id,e.el=Ext.get(d),e.el.setStyle("zIndex",-r.zIndexShift),r.el.appendChild(d),"image"!==a&&(i=r.createNode("skew"),i.on=!0,d.appendChild(i),e.skew=i),e.matrix=new Ext.draw.Matrix,e.bbox={plain:null,transform:null},this.applyAttrs(e),this.applyTransformations(e),e.fireEvent("render",e),e.el},getBBoxText:function(e){var t=e.vml;return{x:t.X+(t.bbx||0)-t.W/2,y:t.Y-t.H/2,width:t.W,height:t.H}},applyAttrs:function(e){var t,i,n,r,o,a,s,l,d,u=this,c=(e.vml,e.group),h=e.attr,g=e.el,p=g.dom;if(c){for(i=[].concat(c),r=i.length,n=0;n<r;n++)c=i[n],u.getGroup(c).add(e);delete e.group}o=u.scrubAttrs(e)||{},e.zIndexDirty&&u.setZIndex(e),Ext.applyIf(o,u.minDefaults[e.type]),"image"==e.type&&(Ext.apply(e.attr,{x:o.x,y:o.y,width:o.width,height:o.height}),g.setStyle({width:o.width+"px",height:o.height+"px"}),p.src=o.src),p.href&&(p.href=o.href),p.title&&(p.title=o.title),p.target&&(p.target=o.target),p.cursor&&(p.cursor=o.cursor),e.dirtyHidden&&(o.hidden?u.hidePrim(e):u.showPrim(e),e.dirtyHidden=!1),e.dirtyPath&&("circle"==e.type||"ellipse"==e.type?(a=o.x,s=o.y,l=o.rx||o.r||0,d=o.ry||o.r||0,p.path=Ext.String.format("ar{0},{1},{2},{3},{4},{1},{4},{1}",Math.round((a-l)*u.zoom),Math.round((s-d)*u.zoom),Math.round((a+l)*u.zoom),Math.round((s+d)*u.zoom),Math.round(a*u.zoom)),e.dirtyPath=!1):"text"!==e.type&&"image"!==e.type&&(e.attr.path=o.path=u.setPaths(e,o)||o.path,p.path=u.path2vml(o.path),e.dirtyPath=!1)),"clip-rect"in o&&u.setClip(e,o),"text"==e.type&&u.setTextAttributes(e,o),(o.opacity||o["stroke-opacity"]||o.fill)&&u.setFill(e,o),(o.stroke||o["stroke-opacity"]||o.fill)&&u.setStroke(e,o),t=h.style,t&&g.setStyle(t),e.dirty=!1},setZIndex:function(e){var t,i,n,r,o=this,a=e.attr.zIndex,s=o.zIndexShift;if(a<s){for(t=o.items.items,i=t.length,r=0;r<i;r++)(a=t[r].attr.zIndex)&&a<s&&(s=a);for(o.zIndexShift=s,r=0;r<i;r++)n=t[r],n.el&&n.el.setStyle("zIndex",n.attr.zIndex-s),n.zIndexDirty=!1}else e.el&&(e.el.setStyle("zIndex",a-s),e.zIndexDirty=!1)},setPaths:function(e,t){var i=e.attr;e.attr["stroke-width"]||1;return e.bbox.plain=null,e.bbox.transform=null,"circle"==e.type?(i.rx=i.ry=t.r,Ext.draw.Draw.ellipsePath(e)):"ellipse"==e.type?(i.rx=t.rx,i.ry=t.ry,Ext.draw.Draw.ellipsePath(e)):"rect"==e.type?(i.rx=i.ry=t.r,Ext.draw.Draw.rectPath(e)):!("path"!=e.type||!i.path)&&Ext.draw.Draw.pathToAbsolute(i.path)},setFill:function(e,t){var i,n,r,o,a=this,s=e.el.dom,l=s.fill,d=!1;l||(l=s.fill=a.createNode("fill"),d=!0),Ext.isArray(t.fill)&&(t.fill=t.fill[0]),"none"==t.fill?l.on=!1:("number"==typeof t.opacity&&(l.opacity=t.opacity),"number"==typeof t["fill-opacity"]&&(l.opacity=t["fill-opacity"]),l.on=!0,"string"==typeof t.fill&&(n=t.fill.match(a.fillUrlRe),n?(n=n[1],"#"==n.charAt(0)&&(i=a.gradientsColl.getByKey(n.substring(1))),i?(r=t.rotation,o=-(i.angle+270+(r?r.degrees:0))%360,0===o&&(o=180),l.angle=o,l.type="gradient",l.method="sigma",l.colors?l.colors.value=i.colors:l.colors=i.colors):(l.src=n,l.type="tile")):(l.color=Ext.draw.Color.toHex(t.fill),l.src="",l.type="solid"))),d&&s.appendChild(l)},setStroke:function(e,t){var i,n,r=this,o=e.el.dom,a=e.strokeEl,s=!1;a||(a=e.strokeEl=r.createNode("stroke"),s=!0),Ext.isArray(t.stroke)&&(t.stroke=t.stroke[0]),t.stroke&&"none"!=t.stroke&&0!=t.stroke&&0!=t["stroke-width"]?(a.on=!0,t.stroke&&!t.stroke.match(r.fillUrlRe)&&(a.color=Ext.draw.Color.toHex(t.stroke)),a.dashstyle=t["stroke-dasharray"]?"dash":"solid",a.joinstyle=t["stroke-linejoin"],a.endcap=t["stroke-linecap"]||"round",a.miterlimit=t["stroke-miterlimit"]||8,i=.75*parseFloat(t["stroke-width"]||1),n=t["stroke-opacity"]||1,Ext.isNumber(i)&&i<1?(a.weight=1,a.opacity=n*i):(a.weight=i,a.opacity=n)):a.on=!1,s&&o.appendChild(a)},setClip:function(e,t){var i=this,n=(e.el,e.clipEl),r=String(t["clip-rect"]).split(i.separatorRe);n||(n=e.clipEl=i.el.insertFirst(Ext.getDoc().dom.createElement("div")),n.addCls(Ext.baseCSSPrefix+"vml-sprite")),4==r.length?(r[2]=+r[2]+ +r[0],r[3]=+r[3]+ +r[1],n.setStyle("clip",Ext.String.format("rect({1}px {2}px {3}px {0}px)",r[0],r[1],r[2],r[3])),n.setSize(i.el.width,i.el.height)):n.setStyle("clip","")},setTextAttributes:function(e,t){var i,n,r=this,o=e.vml,a=o.textpath.style,s=r.span.style,l=r.zoom,d=(Math.round,{fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style"});if(e.dirtyFont){t.font&&(a.font=s.font=t.font),t["font-family"]&&(a.fontFamily='"'+t["font-family"].split(",")[0].replace(r.fontFamilyRe,"")+'"',s.fontFamily=t["font-family"]);for(i in d)n=t[d[i]],n&&(a[i]=s[i]=n);r.setText(e,t.text),o.textpath.string&&(r.span.innerHTML=String(o.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br/>")),o.W=r.span.offsetWidth,o.H=r.span.offsetHeight+2,"middle"==t["text-anchor"]?a["v-text-align"]="center":"end"==t["text-anchor"]?(a["v-text-align"]="right",o.bbx=-Math.round(o.W/2)):(a["v-text-align"]="left",o.bbx=Math.round(o.W/2))}o.X=t.x,o.Y=t.y,o.path.v=Ext.String.format("m{0},{1}l{2},{1}",Math.round(o.X*l),Math.round(o.Y*l),Math.round(o.X*l)+1),e.bbox.plain=null,e.bbox.transform=null,e.dirtyFont=!1},setText:function(e,t){e.vml.textpath.string=Ext.htmlDecode(t)},hide:function(){this.el.hide()},show:function(){this.el.show()},hidePrim:function(e){e.el.addCls(Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(e){e.el.removeCls(Ext.baseCSSPrefix+"hide-visibility")},setSize:function(e,t){var i=this;e=e||i.width,t=t||i.height,i.width=e,i.height=t,i.el&&(void 0!=e&&i.el.setWidth(e),void 0!=t&&i.el.setHeight(t)),i.callParent(arguments)},applyViewBox:function(){var e,t,i,n=this,r=n.viewBox,o=n.width,a=n.height;if(n.callParent(),r&&(o||a))for(e=n.items.items,t=e.length,i=0;i<t;i++)n.applyTransformations(e[i])},onAdd:function(e){this.callParent(arguments),this.el&&this.renderItem(e)},onRemove:function(e){e.el&&(e.el.remove(),delete e.el),this.callParent(arguments)},render:function(e){var t,i=this,n=Ext.getDoc().dom;if(!i.createNode)try{n.namespaces.rvml||n.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),i.createNode=function(e){return n.createElement("<rvml:"+e+' class="rvml">')}}catch(e){i.createNode=function(e){return n.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}i.el||(t=n.createElement("div"),i.el=Ext.get(t),i.el.addCls(i.baseVmlCls),i.span=n.createElement("span"),Ext.get(i.span).addCls(i.measureSpanCls),t.appendChild(i.span),i.el.setSize(i.width||0,i.height||0),e.appendChild(t),i.el.on({scope:i,mouseup:i.onMouseUp,mousedown:i.onMouseDown,mouseover:i.onMouseOver,mouseout:i.onMouseOut,mousemove:i.onMouseMove,mouseenter:i.onMouseEnter,mouseleave:i.onMouseLeave,click:i.onClick,dblclick:i.onDblClick})),i.renderAll()},renderAll:function(){this.items.each(this.renderItem,this)},redraw:function(e){e.dirty=!0,this.renderItem(e)},renderItem:function(e){this.el&&(e.el||this.createSpriteElement(e),e.dirty&&(this.applyAttrs(e),e.dirtyTransform&&this.applyTransformations(e)))},rotationCompensation:function(e,t,i){var n=new Ext.draw.Matrix;return n.rotate(-e,.5,.5),{x:n.x(t,i),y:n.y(t,i)}},transform:function(e,t){for(var i,n,r,o=this,a=o.getBBox(e,!0),s=(a.x+.5*a.width,a.y+.5*a.height,new Ext.draw.Matrix),l=e.transformations,d=l.length,u=0,c=0,h=1,g=1,p=e.el,f=p.dom,m=f.style,x=(o.zoom,e.skew),y=o.viewBoxShift;u<d;u++)i=l[u],n=i.type,"translate"==n?s.translate(i.x,i.y):"rotate"==n?(s.rotate(i.degrees,i.x,i.y),c+=i.degrees):"scale"==n&&(s.scale(i.x,i.y,i.centerX,i.centerY),h*=i.x,g*=i.y);e.matrix=s.clone(),t||(y&&s.prepend(y.scale,0,0,y.scale,y.dx*y.scale,y.dy*y.scale),
"image"!=e.type&&x?(x.origin="0,0",x.matrix=s.toString(),r=s.offset(),r[0]>32767?r[0]=32767:r[0]<-32768&&(r[0]=-32768),r[1]>32767?r[1]=32767:r[1]<-32768&&(r[1]=-32768),x.offset=r):(m.filter=s.toFilter(),m.left=Math.min(s.x(a.x,a.y),s.x(a.x+a.width,a.y),s.x(a.x,a.y+a.height),s.x(a.x+a.width,a.y+a.height))+"px",m.top=Math.min(s.y(a.x,a.y),s.y(a.x+a.width,a.y),s.y(a.x,a.y+a.height),s.y(a.x+a.width,a.y+a.height))+"px"))},createItem:function(e){return Ext.create("Ext.draw.Sprite",e)},getRegion:function(){return this.el.getRegion()},addCls:function(e,t){e&&e.el&&e.el.addCls(t)},removeCls:function(e,t){e&&e.el&&e.el.removeCls(t)},addGradient:function(e){var t,i,n,r,o,a,s=this.gradientsColl||(this.gradientsColl=Ext.create("Ext.util.MixedCollection")),l=[],d=Ext.create("Ext.util.MixedCollection");for(d.addAll(e.stops),d.sortByKey("ASC",function(e,t){return e=parseInt(e,10),t=parseInt(t,10),e>t?1:e<t?-1:0}),t=d.keys,i=d.items,n=t.length,a=0;a<n;a++)r=t[a],o=i[a],l.push(r+"% "+o.color);s.add(e.id,{colors:l.join(","),angle:e.angle})},destroy:function(){var e=this;e.callParent(arguments),e.el&&e.el.remove(),delete e.el}}),Ext.define("Ext.dd.DragZone",{extend:"Ext.dd.DragSource",constructor:function(e,t){this.callParent([e,t]),this.containerScroll&&Ext.dd.ScrollManager.register(this.el)},getDragData:function(e){return Ext.dd.Registry.getHandleFromEvent(e)},onInitDrag:function(e,t){return this.proxy.update(this.dragData.ddel.cloneNode(!0)),this.onStartDrag(e,t),!0},afterRepair:function(){var e=this;Ext.enableFx&&Ext.fly(e.dragData.ddel).highlight(e.repairHighlightColor),e.dragging=!1},getRepairXY:function(e){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.callParent(),this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el)}}),Ext.define("Ext.flash.Component",{extend:"Ext.Component",alternateClassName:"Ext.FlashComponent",alias:"widget.flash",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:!1,renderTpl:['<div id="{swfId}"></div>'],initComponent:function(){this.callParent(),this.addEvents("success","failure")},beforeRender:function(){this.callParent(),Ext.applyIf(this.renderData,{swfId:this.getSwfId()})},afterRender:function(){var e=this,t=Ext.apply({},e.flashParams),i=Ext.apply({},e.flashVars);e.callParent(),t=Ext.apply({allowScriptAccess:"always",bgcolor:e.backgroundColor,wmode:e.wmode},t),i=Ext.apply({allowedDomain:document.location.hostname},i),new swfobject.embedSWF(e.url,e.getSwfId(),e.swfWidth,e.swfHeight,e.flashVersion,e.expressInstall?e.statics.EXPRESS_INSTALL_URL:void 0,i,t,e.flashAttributes,Ext.bind(e.swfCallback,e))},swfCallback:function(e){var t=this;e.success?(t.swf=Ext.get(e.ref),t.onSuccess(),t.fireEvent("success",t)):(t.onFailure(),t.fireEvent("failure",t))},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,beforeDestroy:function(){var e=this,t=e.swf;t&&(swfobject.removeSWF(e.getSwfId()),Ext.destroy(t),delete e.swf),e.callParent()},statics:{EXPRESS_INSTALL_URL:"http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}}),Ext.define("Ext.form.CheckboxManager",{extend:"Ext.util.MixedCollection",singleton:!0,getByName:function(e){return this.filterBy(function(t){return t.name==e})},getWithValue:function(e,t){return this.filterBy(function(i){return i.name==e&&i.inputValue==t})},getChecked:function(e){return this.filterBy(function(t){return t.name==e&&t.checked})}}),Ext.define("Ext.form.Label",{extend:"Ext.Component",alias:"widget.label",requires:["Ext.util.Format"],autoEl:"label",maskOnDisable:!1,getElConfig:function(){var e=this;return e.html=e.text?Ext.util.Format.htmlEncode(e.text):e.html||"",Ext.apply(e.callParent(),{htmlFor:e.forId||""})},setText:function(e,t){var i=this;return t=t!==!1,t?(i.text=e,delete i.html):(i.html=e,delete i.text),i.rendered&&(i.el.dom.innerHTML=t!==!1?Ext.util.Format.htmlEncode(e):e,i.updateLayout()),i}}),Ext.define("Ext.form.Labelable",{requires:["Ext.XTemplate"],autoEl:{tag:"table",cellpadding:0},childEls:["labelCell","labelEl","bodyEl","sideErrorCell","errorEl","inputRow","bottomPlaceHolder"],labelableRenderTpl:['<tr id="{id}-inputRow" <tpl if="inFormLayout">id="{id}"</tpl>>','<tpl if="labelOnLeft">','<td id="{id}-labelCell" style="{labelCellStyle}" {labelCellAttrs}>',"{beforeLabelTpl}",'<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>>',"{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","{afterLabelTpl}","</td>","</tpl>",'<td class="{baseBodyCls} {fieldBodyCls}" id="{id}-bodyEl" colspan="{bodyColspan}" role="presentation">',"{beforeBodyEl}","<tpl if=\"labelAlign=='top'\">","{beforeLabelTpl}",'<div id="{id}-labelCell" style="{labelCellStyle}">','<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>>',"{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","</div>","{afterLabelTpl}","</tpl>","{beforeSubTpl}","{[values.$comp.getSubTplMarkup()]}","{afterSubTpl}","<tpl if=\"msgTarget==='side'\">","{afterBodyEl}","</td>","<td id=\"{id}-sideErrorCell\" vAlign=\"{[values.labelAlign==='top' && !values.hideLabel ? 'bottom' : 'middle']}\" style=\"{[values.autoFitErrors ? 'display:none' : '']}\" width=\"{errorIconWidth}\">",'<div id="{id}-errorEl" class="{errorMsgCls}" style="display:none;width:{errorIconWidth}px"></div>',"</td>","<tpl elseif=\"msgTarget=='under'\">",'<div id="{id}-errorEl" class="{errorMsgClass}" colspan="2" style="display:none"></div>',"{afterBodyEl}","</td>","</tpl>","</tr>",{disableFormats:!0}],activeErrorsTpl:['<tpl if="errors && errors.length">','<ul><tpl for="errors"><li>{.}</li></tpl></ul>',"</tpl>"],isFieldLabelable:!0,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",fieldBodyCls:"",clearCls:Ext.baseCSSPrefix+"clear",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:void 0,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:!1,hideEmptyLabel:!0,preventMark:!1,autoFitErrors:!0,msgTarget:"qtip",noWrap:!0,labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],labelableRenderProps:["allowBlank","id","labelAlign","fieldBodyCls","baseBodyCls","clearCls","labelSeparator","msgTarget"],initLabelable:function(){var e=this,t=e.padding;t&&(e.padding=void 0,e.extraMargins=Ext.Element.parseBox(t)),e.addCls(e.formItemCls),e.lastActiveError="",e.addEvents("errorchange")},trimLabelSeparator:function(){var e=this,t=e.labelSeparator,i=e.fieldLabel||"",n=i.substr(i.length-1);return n===t?i.slice(0,-1):i},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(e){e=e||"";var t=this,i=t.labelSeparator,n=t.labelEl;t.fieldLabel=e,t.rendered&&(Ext.isEmpty(e)&&t.hideEmptyLabel?n.parent().setDisplayed("none"):(i&&(e=t.trimLabelSeparator()+i),n.update(e),n.parent().setDisplayed("")),t.updateLayout())},getInsertionRenderData:function(e,t){for(var i,n,r=t.length;r--;)i=t[r],n=this[i],n&&"string"!=typeof n&&(n.isTemplate||(n=Ext.XTemplate.getTpl(this,i)),n=n.apply(e)),e[i]=n||"";return e},getLabelableRenderData:function(){var e,t,i=this,n="top"===i.labelAlign;return Ext.form.Labelable.errorIconWidth||(Ext.form.Labelable.errorIconWidth=(t=Ext.resetElement.createChild({style:"position:absolute",cls:Ext.baseCSSPrefix+"form-invalid-icon"})).getWidth(),t.remove()),e=Ext.copyTo({inFormLayout:i.ownerLayout&&"form"===i.ownerLayout.type,inputId:i.getInputId(),labelOnLeft:!n,hideLabel:!i.hasVisibleLabel(),fieldLabel:i.getFieldLabel(),labelCellStyle:i.getLabelCellStyle(),labelCellAttrs:i.getLabelCellAttrs(),labelCls:i.getLabelCls(),labelStyle:i.getLabelStyle(),bodyColspan:i.getBodyColspan(),externalError:!i.autoFitErrors,errorMsgCls:i.getErrorMsgCls(),errorIconWidth:Ext.form.Labelable.errorIconWidth},i,i.labelableRenderProps,!0),i.getInsertionRenderData(e,i.labelableInsertions),e},beforeLabelableRender:function(){var e=this;e.ownerLayout&&e.addCls(Ext.baseCSSPrefix+e.ownerLayout.type+"-form-item")},onLabelableRender:function(){var e,t,i=this,n={};if(i.extraMargins){e=i.el.getMargin();for(t in e)e.hasOwnProperty(t)&&(n["margin-"+t]=e[t]+i.extraMargins[t]+"px");i.el.setStyle(n)}},hasVisibleLabel:function(){return!this.hideLabel&&!(this.hideEmptyLabel&&!this.getFieldLabel())},getBodyColspan:function(){var e,t=this;return e="side"!==t.msgTarget||t.autoFitErrors&&!t.hasActiveError()?2:1,"top"===t.labelAlign||t.hasVisibleLabel()||e++,e},getLabelCls:function(){var e=this.labelCls,t=this.labelClsExtra;return"top"===this.labelAlign&&(e+="-top"),t?e+" "+t:e},getLabelCellStyle:function(){var e=this,t=e.hideLabel||!e.fieldLabel&&e.hideEmptyLabel;return t?"display:none;":""},getErrorMsgCls:function(){var e=this,t=e.hideLabel||!e.fieldLabel&&e.hideEmptyLabel;return e.errorMsgCls+(t||"top"!==e.labelAlign?"":" "+Ext.baseCSSPrefix+"lbl-top-err-icon")},getLabelCellAttrs:function(){var e=this,t=e.labelAlign,i="";return"top"!==t&&(i='valign="top" halign="'+t+'" width="'+(e.labelWidth+e.labelPad)+'"'),i+' class="'+Ext.baseCSSPrefix+'field-label-cell"'},getLabelStyle:function(){var e=this,t=e.labelPad,i="";return"top"!==e.labelAlign&&(e.labelWidth&&(i="width:"+e.labelWidth+"px;"),i+="margin-right:"+t+"px;"),i+(e.labelStyle||"")},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(e){this.setActiveErrors(e)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(e){e=Ext.Array.from(e),this.activeError=e[0],this.activeErrors=e,this.activeError=this.getTpl("activeErrorsTpl").apply({errors:e}),this.renderActiveError()},unsetActiveError:function(){delete this.activeError,delete this.activeErrors,this.renderActiveError()},renderActiveError:function(){var e=this,t=e.getActiveError(),i=!!t;t!==e.lastActiveError&&(e.fireEvent("errorchange",e,t),e.lastActiveError=t),!e.rendered||e.isDestroyed||e.preventMark||(e.el[i?"addCls":"removeCls"](e.invalidCls),e.getActionEl().dom.setAttribute("aria-invalid",i),e.errorEl&&(e.errorEl.dom.innerHTML=t))},setFieldDefaults:function(e){var t,i,n=this;for(i in e)e.hasOwnProperty(i)&&(t=e[i],n.hasOwnProperty(i)||(n[i]=t))}}),Ext.define("Ext.form.RadioManager",{extend:"Ext.util.MixedCollection",singleton:!0,getByName:function(e,t){return this.filterBy(function(i){return i.name==e&&i.getFormId()==t})},getWithValue:function(e,t,i){return this.filterBy(function(n){return n.name==e&&n.inputValue==t&&n.getFormId()==i})},getChecked:function(e,t){return this.findBy(function(i){return i.name==e&&i.checked&&i.getFormId()==t})}}),Ext.define("Ext.form.action.DirectSubmit",{extend:"Ext.form.action.Submit",requires:["Ext.direct.Manager"],alternateClassName:"Ext.form.Action.DirectSubmit",alias:"formaction.directsubmit",type:"directsubmit",doSubmit:function(){var e=this,t=Ext.Function.bind(e.onComplete,e),i=e.buildForm();e.form.api.submit(i,t,e),Ext.removeNode(i)},processResponse:function(e){return this.result=e},onComplete:function(e,t){e?this.onSuccess(e):this.onFailure(null)}}),Ext.define("Ext.form.action.Load",{extend:"Ext.form.action.Action",requires:["Ext.data.Connection"],alternateClassName:"Ext.form.Action.Load",alias:"formaction.load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(e){var t=this.processResponse(e),i=this.form;return t!==!0&&t.success&&t.data?(i.clearInvalid(),i.setValues(t.data),void i.afterAction(this,!0)):(this.failureType=Ext.form.action.Action.LOAD_FAILURE,void i.afterAction(this,!1))},handleResponse:function(e){var t,i,n=this.form.reader;return n?(t=n.read(e),i=t.records&&t.records[0]?t.records[0].data:null,{success:t.success,data:i}):Ext.decode(e.responseText)}}),Ext.define("Ext.form.action.DirectLoad",{extend:"Ext.form.action.Load",requires:["Ext.direct.Manager"],alternateClassName:"Ext.form.Action.DirectLoad",alias:"formaction.directload",type:"directload",run:function(){var e=this,t=e.form,i=t.api.load,n=i.directCfg.method,r=n.getArgs(e.getParams(),t.paramOrder,t.paramsAsHash);r.push(e.onComplete,e),i.apply(window,r)},processResponse:function(e){return this.result=e},onComplete:function(e,t){e?this.onSuccess(e):this.onFailure(null)}}),Ext.define("Ext.form.action.StandardSubmit",{extend:"Ext.form.action.Submit",alias:"formaction.standardsubmit",doSubmit:function(){var e=this.buildForm();e.submit(),Ext.removeNode(e)}}),Ext.define("Ext.grid.ColumnComponentLayout",{extend:"Ext.layout.component.Auto",alias:"layout.columncomponent",type:"columncomponent",setWidthInDom:!0,getContentHeight:function(e){return this.owner.isGroupHeader?e.getProp("contentHeight"):this.callParent(arguments)},calculateOwnerHeightFromContentHeight:function(e,t){var i=this.callParent(arguments);return this.owner.isGroupHeader&&(i+=this.owner.titleEl.dom.offsetHeight),i},getContentWidth:function(e){return this.owner.isGroupHeader?e.getProp("contentWidth"):this.callParent(arguments)},calculateOwnerWidthFromContentWidth:function(e,t){return t+e.getPaddingInfo().width}}),Ext.define("Ext.grid.feature.AbstractSummary",{extend:"Ext.grid.feature.Feature",alias:"feature.abstractsummary",showSummaryRow:!0,nestedIdRe:/\{\{id\}([\w\-]*)\}/g,init:function(){var e=this;e.grid.optimizedColumnMove=!1,e.view.mon(e.view.store,{update:e.onStoreUpdate,scope:e})},onStoreUpdate:function(){var e=this.view;this.showSummaryRow&&(e.saveScrollState(),e.refresh(),e.restoreScrollState())},toggleSummaryRow:function(e){this.showSummaryRow=!!e},getSummaryFragments:function(){var e={};return this.showSummaryRow&&Ext.apply(e,{printSummaryRow:Ext.bind(this.printSummaryRow,this)}),e},printSummaryRow:function(e){var t=this.view.getTableChunker().metaRowTpl.join(""),i=Ext.baseCSSPrefix;return t=t.replace(i+"grid-row",i+"grid-row-summary"),t=t.replace("{{id}}","{gridSummaryValue}"),t=t.replace(this.nestedIdRe,"{id$1}"),t=t.replace("{[this.embedRowCls()]}","{rowCls}"),t=t.replace("{[this.embedRowAttr()]}","{rowAttr}"),t=new Ext.XTemplate(t,{firstOrLastCls:Ext.view.TableChunker.firstOrLastCls}),t.applyTemplate({columns:this.getPrintData(e)})},getColumnValue:function(e,t){var i=Ext.getCmp(e.id),n=t[e.id],r=i.summaryRenderer;return n||0===n||(n=""),r&&(n=r.call(i.scope||this,n,t,e.dataIndex)),n},getSummary:function(e,t,i,n){if(t){if(Ext.isFunction(t))return e.aggregate(t,null,n);switch(t){case"count":return e.count(n);case"min":return e.min(i,n);case"max":return e.max(i,n);case"sum":return e.sum(i,n);case"average":return e.average(i,n);default:return n?{}:""}}}}),Ext.define("Ext.grid.feature.Chunking",{extend:"Ext.grid.feature.Feature",alias:"feature.chunking",chunkSize:20,rowHeight:Ext.isIE?27:26,visibleChunk:0,hasFeatureEvent:!1,attachEvents:function(){this.view.el.on("scroll",this.onBodyScroll,this,{buffer:300})},onBodyScroll:function(e,t){var i=this.view,n=t.scrollTop,r=Math.floor(n/this.rowHeight/this.chunkSize);r!==this.visibleChunk&&(this.visibleChunk=r,i.refresh(),i.el.dom.scrollTop=n,i.el.dom.scrollTop=n)},collectData:function(e,t,i,n,r){var o,a,s=this,l=r.rows.length,d=0,u=0,c=s.visibleChunk,h=r.rows;for(delete r.rows,r.chunks=[];d<l;d+=s.chunkSize,u++)a=d+s.chunkSize>l?l-d:s.chunkSize,o=u>=c-1&&u<=c+1?h.slice(d,d+s.chunkSize):[],r.chunks.push({rows:o,fullWidth:n,chunkHeight:a*s.rowHeight});return r},getTableFragments:function(){return{openTableWrap:function(){return'<tpl for="chunks"><div class="'+Ext.baseCSSPrefix+'grid-chunk" style="height: {chunkHeight}px;">'},closeTableWrap:function(){return"</div></tpl>"}}}}),Ext.define("Ext.grid.feature.GroupingSummary",{extend:"Ext.grid.feature.Grouping",alias:"feature.groupingsummary",mixins:{summary:"Ext.grid.feature.AbstractSummary"},init:function(){this.mixins.summary.init.call(this)},getFeatureTpl:function(){var e=this.callParent(arguments);return this.showSummaryRow&&(e=e.replace("</tpl>",""),e+="{[this.printSummaryRow(xindex)]}</tpl>"),e},getFragmentTpl:function(){var e=this,t=e.callParent();return Ext.apply(t,e.getSummaryFragments()),e.showSummaryRow&&(e.summaryGroups=e.view.store.getGroups(),e.summaryData=e.generateSummaryData()),t},getPrintData:function(e){for(var t,i=this,n=i.view.headerCt.getColumnsForTpl(),r=0,o=n.length,a=[],s=i.summaryGroups[e-1].name,l=i.summaryData[s];r<o;++r)t=n[r],t.gridSummaryValue=this.getColumnValue(t,l),a.push(t);return a},generateSummaryData:function(){var e,t,i,n,r,o,a,s,l,d,u,c=this,h={},g={},p=c.view.store,f=this.getGroupField(),m=p.proxy.reader,x=c.summaryGroups,y=c.view.headerCt.getColumnsForTpl();for(t=0,i=x.length;t<i;++t)h[x[t].name]={};if(c.remoteRoot&&m.rawData){for(r=m.root,m.root=c.remoteRoot,m.buildExtractors(!0),s=m.getRoot(m.rawData),d=s.length,m.convertRecordData||m.buildExtractors(),l=0;l<d;l++)u={},m.convertRecordData(u,s[l]),g[u[f]]=u;m.root=r,m.buildExtractors(!0)}for(t=0,i=y.length;t<i;++t){a=Ext.getCmp(y[t].id),n=c.getSummary(p,a.summaryType,a.dataIndex,!0);for(o in n)n.hasOwnProperty(o)&&(h[o][a.id]=n[o]);for(o in g)g.hasOwnProperty(o)&&(e=g[o][a.dataIndex],void 0!==e&&void 0!==h[o]&&(h[o][a.id]=e))}return h}}),Ext.define("Ext.grid.feature.Summary",{extend:"Ext.grid.feature.AbstractSummary",alias:"feature.summary",getFragmentTpl:function(){return this.summaryData=this.generateSummaryData(),this.getSummaryFragments()},getTableFragments:function(){if(this.showSummaryRow)return{closeRows:this.closeRows}},closeRows:function(){return"</tpl>{[this.printSummaryRow()]}"},getPrintData:function(e){for(var t,i=this,n=i.view.headerCt.getColumnsForTpl(),r=0,o=n.length,a=[],s=i.summaryData;r<o;++r)t=n[r],t.gridSummaryValue=this.getColumnValue(t,s),a.push(t);return a},generateSummaryData:function(){var e,t=this,i={},n=t.view.store,r=t.view.headerCt.getColumnsForTpl(),o=0,a=r.length;for(o=0,a=r.length;o<a;++o)e=Ext.getCmp(r[o].id),i[e.id]=t.getSummary(n,e.summaryType,e.dataIndex,!1);return i}}),Ext.define("Ext.grid.header.DragZone",{extend:"Ext.dd.DragZone",colHeaderCls:Ext.baseCSSPrefix+"column-header",maxProxyWidth:120,constructor:function(e){this.headerCt=e,this.ddGroup=this.getDDGroup(),this.callParent([e.el]),this.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(e){var t,i,n=e.getTarget("."+this.colHeaderCls);return!(!n||(t=Ext.getCmp(n.id),this.headerCt.dragging||!t.draggable||t.isOnLeftEdge(e)||t.isOnRightEdge(e)))&&(i=document.createElement("div"),i.innerHTML=Ext.getCmp(n.id).text,{ddel:i,header:t})},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=!0,this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=!1,this.callParent(arguments)},afterRepair:function(){this.callParent(),this.headerCt.dragging=!1},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}}),Ext.define("Ext.grid.header.DropZone",{extend:"Ext.dd.DropZone",colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(e){this.headerCt=e,this.ddGroup=this.getDDGroup(),this.callParent([e.el])},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(e){return e.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){return this.topIndicator||(this.topIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-top",html:"&#160;"},!0)),this.topIndicator},getBottomIndicator:function(){return this.bottomIndicator||(this.bottomIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-bottom",html:"&#160;"},!0)),this.bottomIndicator},getLocation:function(e,t){var i,n=e.getXY()[0],r=Ext.fly(t).getRegion();return i=r.right-n<=(r.right-r.left)/2?"after":"before",{pos:i,header:Ext.getCmp(t.id),node:t}},positionIndicator:function(e,t,i){var n,r,o,a,s,l,d,u,c,h,g,p,f,m=this.getLocation(i,t),x=m.header,y=m.pos,v=e.nextSibling("gridcolumn:not([hidden])"),E=e.previousSibling("gridcolumn:not([hidden])");if(!x.draggable&&0===x.getIndex())return!1;if(this.lastLocation=m,e!==x&&("before"===y&&v!==x||"after"===y&&E!==x)&&!x.isDescendantOf(e)){for(h=Ext.dd.DragDropManager.getRelated(this),g=h.length,p=0;p<g;p++)f=h[p],f!==this&&f.invalidateDrop&&f.invalidateDrop();this.valid=!0,n=this.getTopIndicator(),r=this.getBottomIndicator(),"before"===y?(o="tl",a="bl"):(o="tr",a="br"),s=x.el.getAnchorXY(o),l=x.el.getAnchorXY(a),d=this.headerCt.el,u=d.getLeft(),c=d.getRight(),s[0]=Ext.Number.constrain(s[0],u,c),l[0]=Ext.Number.constrain(l[0],u,c),s[0]-=4,s[1]-=9,l[0]-=4,n.setXY(s),r.setXY(l),n.show(),r.show()}else this.invalidateDrop()},invalidateDrop:function(){this.valid=!1,this.hideIndicators()},onNodeOver:function(e,t,i,n){var r,o=this,a=(o.headerCt,!0),s=n.header;return n.header.el.dom===e?a=!1:(r=o.getLocation(i,e).header,a=s.ownerCt===r.ownerCt||!s.ownerCt.sealed&&!r.ownerCt.sealed),a?o.positionIndicator(n.header,e,i):o.valid=!1,o.valid?o.dropAllowed:o.dropNotAllowed},hideIndicators:function(){this.getTopIndicator().hide(),this.getBottomIndicator().hide()},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(e,t,i,n){if(this.valid){var r,o,a=n.header,s=this.lastLocation,l=s.header,d=a.ownerCt,u=a.up("headercontainer:not(gridcolumn)"),c=d.items.indexOf(a),h=l.ownerCt,g=l.up("headercontainer:not(gridcolumn)"),p=h.items.indexOf(l),f=this.headerCt,m=f.getHeaderIndex(a),x=a.isGroupHeader?a.query(":not([isGroupHeader])").length:1,y=f.getHeaderIndex(l);"after"===s.pos&&(p++,y+=l.isGroupHeader?l.query(":not([isGroupHeader])").length:1),u!==g&&u.lockableInjected&&g.lockableInjected&&g.lockedCt?(o=d.up("[scrollerOwner]"),o.lock(a,p),this.onNodeDrop(e,t,i,n)):u!==g&&u.lockableInjected&&g.lockableInjected&&u.lockedCt?(o=d.up("[scrollerOwner]"),o.unlock(a,p),this.onNodeDrop(e,t,i,n)):(this.invalidateDrop(),d===h&&p>c&&(p-=1),Ext.suspendLayouts(),d!==h&&(d.remove(a,!1),d.isGroupHeader&&(d.items.getCount()||(r=d.ownerCt,r.remove(d,!1),d.el.dom.parentNode.removeChild(d.el.dom)))),d===h?h.move(c,p):h.insert(p,a),h.isGroupHeader?h!==d&&(a.savedFlex=a.flex,delete a.flex,a.width=a.getWidth()):a.savedFlex&&(a.flex=a.savedFlex,delete a.width),f.purgeCache(),Ext.resumeLayouts(!0),f.onHeaderMoved(a,x,m,y),d.items.getCount()||d.destroy())}}}),Ext.define("Ext.grid.plugin.HeaderReorderer",{extend:"Ext.AbstractPlugin",requires:["Ext.grid.header.DragZone","Ext.grid.header.DropZone"],alias:"plugin.gridheaderreorderer",init:function(e){this.headerCt=e,e.on({render:this.onHeaderCtRender,single:!0,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){var e=this;e.dragZone=new Ext.grid.header.DragZone(e.headerCt),e.dropZone=new Ext.grid.header.DropZone(e.headerCt),e.disabled&&e.dragZone.disable()},enable:function(){this.disabled=!1,this.dragZone&&this.dragZone.enable()},disable:function(){this.disabled=!0,this.dragZone&&this.dragZone.disable()}}),Ext.define("Ext.grid.property.Property",{extend:"Ext.data.Model",alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name"}),Ext.define("Ext.grid.property.Store",{extend:"Ext.data.Store",alternateClassName:"Ext.grid.PropertyStore",sortOnLoad:!1,uses:["Ext.data.reader.Reader","Ext.data.proxy.Proxy","Ext.data.ResultSet","Ext.grid.property.Property"],constructor:function(e,t){var i=this;i.grid=e,i.source=t,i.callParent([{data:t,model:Ext.grid.property.Property,proxy:i.getProxy()}])},getProxy:function(){return this.proxy||(Ext.grid.property.Store.prototype.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})),this.proxy},getReader:function(){return this.reader||(Ext.grid.property.Store.prototype.reader=new Ext.data.reader.Reader({model:Ext.grid.property.Property,buildExtractors:Ext.emptyFn,read:function(e){return this.readRecords(e)},readRecords:function(e){var t,i,n={records:[],success:!0};for(i in e)e.hasOwnProperty(i)&&(t=e[i],this.isEditableValue(t)&&n.records.push(new Ext.grid.property.Property({name:i,value:t},i)));return n.total=n.count=n.records.length,new Ext.data.ResultSet(n)},isEditableValue:function(e){return Ext.isPrimitive(e)||Ext.isDate(e)}})),this.reader},setSource:function(e){var t=this;t.source=e,t.suspendEvents(),t.removeAll(),t.proxy.data=e,t.load(),t.resumeEvents(),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)},getProperty:function(e){return Ext.isNumber(e)?this.getAt(e):this.getById(e)},setValue:function(e,t,i){var n=this,r=n.getRec(e);r?(r.set("value",t),n.source[e]=t):i&&(n.source[e]=t,r=new Ext.grid.property.Property({name:e,value:t},e),n.add(r))},remove:function(e){var t=this.getRec(e);t&&(this.callParent([t]),delete this.source[e])},getRec:function(e){return this.getById(e)},getSource:function(){return this.source}}),Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:"Ext.layout.component.Auto",type:"body",beginLayout:function(e){this.callParent(arguments),e.bodyContext=e.getEl("body")},calculateOwnerHeightFromContentHeight:function(e,t){var i=this.callParent(arguments);return e.targetContext!=e&&(i+=e.getPaddingInfo().height),i},calculateOwnerWidthFromContentWidth:function(e,t){var i=this.callParent(arguments);return e.targetContext!=e&&(i+=e.getPaddingInfo().width),i},measureContentWidth:function(e){return e.bodyContext.setWidth(e.bodyContext.el.dom.offsetWidth,!1)},measureContentHeight:function(e){return e.bodyContext.setHeight(e.bodyContext.el.dom.offsetHeight,!1)},publishInnerHeight:function(e,t){var i=t-e.getFrameInfo().height,n=e.targetContext;return n!=e&&(i-=e.getPaddingInfo().height),e.bodyContext.setHeight(i,!e.heightModel.natural)},publishInnerWidth:function(e,t){var i=t-e.getFrameInfo().width,n=e.targetContext;n!=e&&(i-=e.getPaddingInfo().width),e.bodyContext.setWidth(i,!e.widthModel.natural)}}),Ext.define("Ext.layout.component.BoundList",{extend:"Ext.layout.component.Auto",alias:"layout.boundlist",type:"component",beginLayout:function(e){var t=this,i=t.owner,n=i.pagingToolbar;t.callParent(arguments),i.floating&&(e.savedXY=i.el.getXY(),i.el.setXY([-9999,-9999])),n&&(e.toolbarContext=e.context.getCmp(n)),e.listContext=e.getEl("listEl")},beginLayoutCycle:function(e){var t=this.owner;this.callParent(arguments),e.heightModel.auto&&(t.el.setHeight("auto"),t.listEl.setHeight("auto"))},getLayoutItems:function(){var e=this.owner.pagingToolbar;return e?[e]:[]},isValidParent:function(){return!0},finishedLayout:function(e){var t=e.savedXY;this.callParent(arguments),t&&this.owner.el.setXY(t)},measureContentWidth:function(e){return this.owner.listEl.getWidth()},measureContentHeight:function(e){return this.owner.listEl.getHeight()},publishInnerHeight:function(e,t){var i=e.toolbarContext,n=0;i&&(n=i.getProp("height")),void 0===n?this.done=!1:e.listContext.setHeight(t-e.getFrameInfo().height-n)},calculateOwnerHeightFromContentHeight:function(e){var t=this.callParent(arguments),i=e.toolbarContext;return i&&(t+=i.getProp("height")),t}}),Ext.define("Ext.layout.component.Button",{alias:["layout.button"],extend:"Ext.layout.component.Auto",type:"button",cellClsRE:/-btn-(tl|br)\b/,htmlRE:/<.*>/,constructor:function(){this.callParent(arguments),this.hackWidth=Ext.isIE&&(!Ext.isStrict||Ext.isIE6||Ext.isIE7||Ext.isIE8),this.heightIncludesPadding=Ext.isIE6&&Ext.isStrict},beginLayout:function(e){this.callParent(arguments),this.cacheTargetInfo(e)},beginLayoutCycle:function(e){var t,i=this,n="",r=i.owner,o=r.btnEl,a=r.btnInnerEl,s=r.text;i.callParent(arguments),a.setStyle("overflow",n),e.widthModel.natural||r.el.setStyle("width",n),t=e.heightModel.shrinkWrap&&s&&i.htmlRE.test(s),o.setStyle("width",n),o.setStyle("height",t?"auto":n),a.setStyle("width",n),a.setStyle("height",t?"auto":n),a.setStyle("line-height",t?"normal":n),a.setStyle("padding-top",n),r.btnIconEl.setStyle("width",n)},calculateOwnerHeightFromContentHeight:function(e,t){return t},calculateOwnerWidthFromContentWidth:function(e,t){return t},measureContentWidth:function(e){var t,i,n,r,o,a,s=this,l=s.owner,d=l.btnEl,u=l.btnInnerEl,c=l.text;return l.text&&s.hackWidth&&d?(t=s.btnFrameWidth,c.indexOf(">")===-1&&(c=c.replace(/</g,"&lt;")),i=Ext.util.TextMetrics.measure(u,c),r=i.width+t+s.adjWidth,o=e.getEl("btnEl"),a=e.getEl("btnInnerEl"),n=(l.icon||l.iconCls)&&("top"==l.iconAlign||"bottom"==l.iconAlign),e.setWidth(r),o.setWidth(i.width+t),a.setWidth(i.width+t),n&&l.btnIconEl.setWidth(i.width+t)):r=e.el.getWidth(),r},measureContentHeight:function(e){var t,i,n,r=this,o=r.owner,a=o.btnInnerEl,s=e.getEl("btnEl"),l=e.getEl("btnInnerEl"),d=r.minTextHeight,u=r.adjHeight,c=o.getText();return o.vertical?(t=Ext.util.TextMetrics.measure(a,o.text).width,t+=r.btnFrameHeight+u,e.setHeight(t,!0,!0)):c&&r.htmlRE.test(c)?(i=a.getHeight(),i<d&&(n=Math.floor((d-i)/2),l.setHeight(d-(r.heightIncludesPadding?n:0)),l.setProp("padding-top",n),i=d),t=i+u):t=e.el.getHeight(),s.setHeight(t-u),t},publishInnerHeight:function(e,t){var i,n,r=this,o=r.owner,a=Ext.isNumber,s=e.getEl("btnEl"),l=o.btnInnerEl,d=e.getEl("btnInnerEl"),u=a(t)?t-r.adjHeight:t,c=r.btnFrameHeight,h=o.getText();s.setHeight(u),d.setHeight(u),!o.vertical&&u>=0&&d.setProp("line-height",u-c+"px"),h&&r.htmlRE.test(h)&&(d.setProp("line-height","normal"),l.setStyle("line-height","normal"),i=Ext.util.TextMetrics.measure(l,h).height,n=Math.floor(Math.max(u-c-i,0)/2),d.setProp("padding-top",r.btnFrameTop+n),d.setHeight(u-(r.heightIncludesPadding?n:0)))},publishInnerWidth:function(e,t){var i=this,n=Ext.isNumber,r=e.getEl("btnEl"),o=e.getEl("btnInnerEl"),a=n(t)?t-i.adjWidth:t;r.setWidth(a),o.setWidth(a)},clearTargetCache:function(){delete this.adjWidth},cacheTargetInfo:function(e){var t,i,n,r,o,a=this,s=a.owner,l=s.scale;"adjWidth"in a&&a.lastScale===l||(a.lastScale&&s.btnInnerEl.setStyle("line-height",""),a.lastScale=l,t=e.getPaddingInfo(),i=e.getFrameInfo(),n=e.getEl("btnWrap").getPaddingInfo(),r=e.getEl("btnInnerEl"),o=r.getPaddingInfo(),Ext.apply(a,{adjWidth:n.width+i.width+t.width,adjHeight:n.height+i.height+t.height,btnFrameWidth:o.width,btnFrameHeight:o.height,btnFrameTop:o.top,minTextHeight:parseInt(r.getStyle("line-height"),10)})),a.callParent(arguments)},finishedLayout:function(){var e=this.owner;this.callParent(arguments),Ext.isWebKit&&e.el.dom.offsetWidth}}),Ext.define("Ext.layout.component.Dock",{extend:"Ext.layout.component.Component",alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var e,t,i=this;i.callParent(),e=i.getRenderTarget(),t=i.getDockedItems(),i.finishRenderItems(e,t)},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},dockOpposites:{top:"bottom",right:"left",bottom:"top",left:"right"},handleItemBorders:function(){var e,t,i,n,r,o,a,s,l=this,d=l.owner,u=l.borders,c=l.dockOpposites,h=d.dockedItems.generation,g=l.collapsed;if(l.initializedBorders!=h&&(!d.border||d.manageBodyBorders)){for(l.initializedBorders=h,l.collapsed=!1,t=l.getLayoutItems(),l.collapsed=g,e={top:[],right:[],bottom:[],left:[]},i=0,n=t.length;i<n;i++)r=t[i],o=r.dock,r.ignoreBorderManagement||(e[o].satisfied||(e[o].push(r),e[o].satisfied=!0),e.top.satisfied||"top"===c[o]||e.top.push(r),e.right.satisfied||"right"===c[o]||e.right.push(r),e.bottom.satisfied||"bottom"===c[o]||e.bottom.push(r),e.left.satisfied||"left"===c[o]||e.left.push(r));if(u)for(a in u)if(u.hasOwnProperty(a))if(n=u[a].length,
d.manageBodyBorders)u[a].satisfied&&d.setBodyStyle("border-"+a+"-width","");else{for(i=0;i<n;i++)s=u[a][i],s.isDestroyed||s.removeCls(Ext.baseCSSPrefix+"docked-noborder-"+a);u[a].satisfied||d.bodyBorder||d.removeBodyCls(Ext.baseCSSPrefix+"docked-noborder-"+a)}for(a in e)if(e.hasOwnProperty(a))if(n=e[a].length,d.manageBodyBorders)e[a].satisfied&&d.setBodyStyle("border-"+a+"-width","1px");else{for(i=0;i<n;i++)e[a][i].addCls(Ext.baseCSSPrefix+"docked-noborder-"+a);(e[a].satisfied||d.bodyBorder)&&d.bodyBorder!==!1||d.addBodyCls(Ext.baseCSSPrefix+"docked-noborder-"+a)}l.borders=e}},beforeLayoutCycle:function(e){var t,i,n=this,r=n.owner,o=n.sizeModels.shrinkWrap;r.collapsed&&(r.collapsedVertical()?(i=!0,e.measureDimensions=1):(t=!0,e.measureDimensions=2)),e.collapsedVert=i,e.collapsedHorz=t,i?e.heightModel=o:t&&(e.widthModel=o)},beginLayout:function(e){var t,i,n,r,o,a,s=this,l=s.owner,d=s.getLayoutItems(),u=e.context,c=d.length;for(s.callParent(arguments),s.handleItemBorders(),a=l.getCollapsed(),a!==s.lastCollapsedState&&Ext.isDefined(s.lastCollapsedState)&&(s.owner.collapsed?(e.isCollapsingOrExpanding=1,l.addClsWithUI(l.collapsedCls)):(e.isCollapsingOrExpanding=2,l.removeClsWithUI(l.collapsedCls),e.lastCollapsedState=s.lastCollapsedState)),s.lastCollapsedState=a,e.dockedItems=t=[],i=0;i<c;i++)n=d[i],n.rendered&&(r=u.getCmp(n),r.dockedAt={x:0,y:0},r.offsets=o=Ext.Element.parseBox(n.offsets||{}),o.width=o.left+o.right,o.height=o.top+o.bottom,t.push(r));e.bodyContext=e.getEl("body")},beginLayoutCycle:function(e){var t,i,n,r=this,o=e.dockedItems,a=o.length,s=r.owner,l=s.frameBody,d=r.lastHeightModel;for(r.callParent(arguments),d&&d.shrinkWrap&&!e.heightModel.shrinkWrap&&!r.owner.manageHeight&&(s.body.dom.style.marginBottom=""),e.widthModel.auto&&(e.widthModel.shrinkWrap&&s.el.setWidth(null),s.body.setWidth(null),l&&l.setWidth(null)),e.heightModel.auto&&(s.body.setHeight(null),l&&l.setHeight(null)),e.collapsedVert?e.setContentHeight(0):e.collapsedHorz&&e.setContentWidth(0),t=0;t<a;t++)if(i=o[t].target,n=i.dock,"right"==n)i.el.setLeft(0);else if("left"!=n)continue},calculate:function(e){var t,i,n,r,o=this,a=o.measureAutoDimensions(e,e.measureDimensions),s=e.state,l=s.horzDone,d=s.vertDone,u=e.bodyContext;for(e.borderInfo||e.getBorderInfo(),e.paddingInfo||e.getPaddingInfo(),e.framingInfo||e.getFraming(),u.borderInfo||u.getBorderInfo(),u.paddingInfo||u.getPaddingInfo(),t=!l&&o.createAxis(e,a.contentWidth,e.widthModel,"left","right","x","width","Width",e.collapsedHorz),i=!d&&o.createAxis(e,a.contentHeight,e.heightModel,"top","bottom","y","height","Height",e.collapsedVert),n=0,r=e.dockedItems.length;r--;++n)t&&o.dockChild(e,t,r,n),i&&o.dockChild(e,i,r,n);t&&o.finishAxis(e,t)&&(s.horzDone=l=t),i&&o.finishAxis(e,i)&&(s.vertDone=d=i),l&&d&&o.finishConstraints(e,l,d)?o.finishPositions(e,l,d):o.done=!1},createAxis:function(e,t,i,n,r,o,a,s,l){var d,u,c,h,g,p=0,f=this.owner,m=f["max"+s],x=f["min"+s]||0,y=null!=m,v="set"+s;return i.shrinkWrap?l?g=0:(u=e.bodyContext,g=t+u.borderInfo[a]):(d=e.borderInfo,c=e.framingInfo,h=e.paddingInfo,g=e.getProp(a),g-=d[r]+h[r]+c[r],p=d[n]+h[n]+c[n]),{shrinkWrap:i.shrinkWrap,sizeModel:i,begin:p,end:g,collapsed:l,horizontal:"x"==o,ignoreFrameBegin:!1,ignoreFrameEnd:!1,initialSize:g-p,hasMinMaxConstraints:(x||y)&&i.shrinkWrap,minSize:x,maxSize:y?m:1e9,bodyPosProp:this.owner.manageHeight?o:"margin-"+n,dockBegin:n,dockEnd:r,posProp:o,sizeProp:a,sizePropCap:s,setSize:v,dockedPixelsEnd:0}},dockChild:function(e,t,i,n){var r,o=this,a=e.dockedItems[t.shrinkWrap?i:n],s=a.target,l=s.dock;s.ignoreParentFrame&&e.isCollapsingOrExpanding&&a.clearMarginCache(),r=l==t.dockBegin?t.shrinkWrap?o.dockOutwardBegin(e,a,s,t):o.dockInwardBegin(e,a,s,t):l==t.dockEnd?t.shrinkWrap?o.dockOutwardEnd(e,a,s,t):o.dockInwardEnd(e,a,s,t):o.dockStretch(e,a,s,t),a.dockedAt[t.posProp]=r},dockInwardBegin:function(e,t,i,n){var r,o,a=n.begin,s=n.sizeProp;return i.ignoreParentFrame&&(o=i.dock,a-=e.borderInfo[o]+e.paddingInfo[o]+e.framingInfo[o]),i.overlay||(r=t.getProp(s)+t.getMarginInfo()[s],n.begin+=r),a},dockInwardEnd:function(e,t,i,n){var r=n.sizeProp,o=t.getProp(r)+t.getMarginInfo()[r],a=n.end-o;return i.overlay||(n.end=a),i.ignoreParentFrame&&(a+=e.borderInfo[i.dock]+e.paddingInfo[i.dock]+e.framingInfo[i.dock]),a},dockOutwardBegin:function(e,t,i,n){var r,o,a=n.begin,s=n.sizeProp;return n.collapsed?n.ignoreFrameBegin=n.ignoreFrameEnd=!0:i.ignoreParentFrame&&(r=i.dock,a-=e.borderInfo[r]+e.paddingInfo[r]+e.framingInfo[r],n.ignoreFrameBegin=!0),i.overlay||(o=t.getProp(s)+t.getMarginInfo()[s],a-=o,n.begin=a),a},dockOutwardEnd:function(e,t,i,n){var r,o,a=n.end,s=n.sizeProp;return o=t.getProp(s)+t.getMarginInfo()[s],n.collapsed?n.ignoreFrameBegin=n.ignoreFrameEnd=!0:i.ignoreParentFrame&&(r=i.dock,a+=e.borderInfo[r]+e.paddingInfo[r]+e.framingInfo[r],n.ignoreFrameEnd=!0),i.overlay||(n.end=a+o,n.dockedPixelsEnd+=o),a},dockStretch:function(e,t,i,n){var r,o,a,s=i.dock,l=n.sizeProp,d="top"==s||"bottom"==s,u=t.offsets,c=e.borderInfo,h=e.paddingInfo,g=d?"right":"bottom",p=d?"left":"top",f=n.begin+u[p];return i.stretch!==!1&&(o=n.end-f-u[g],i.ignoreParentFrame&&(a=e.framingInfo,f-=c[p]+h[p]+a[p],o+=c[l]+h[l]+a[l]),r=t.getMarginInfo(),o-=r[l],t[n.setSize](o)),f},finishAxis:function(e,t){var i,n,r,o=t.end-t.begin,a=t.setSize,s=t.dockBegin,l=t.dockEnd,d=e.borderInfo,u=e.paddingInfo,c=e.framingInfo,h=u[s]+d[s]+c[s],g=e.bodyContext;return t.shrinkWrap?(t.delta=-t.begin,n=t.initialSize,t.ignoreFrameBegin?(t.delta-=d[s],i=-t.begin-h):(o+=h,t.delta+=u[s]+c[s],i=-t.begin),t.ignoreFrameEnd||(o+=u[l]+d[l]+c[l]),t.size=o,t.horizontal||this.owner.manageHeight||(r=!1)):(t.delta=-d[t.dockBegin],n=o,i=t.begin-h),g[a](n,r),g.setProp(t.bodyPosProp,i),!isNaN(o)},finishConstraints:function(e,t,i){var n,r,o,a,s,l,d=this.sizeModels,u=t.shrinkWrap,c=i.shrinkWrap;if(u&&(l=t.size,l<t.minSize?(s=d.constrainedMin,o=t.minSize):l>t.maxSize?(s=d.constrainedMax,o=t.maxSize):o=l),c&&(l=i.size,l<i.minSize?(a=d.constrainedMin,r=i.minSize):l>i.maxSize?(a=d.constrainedMax,r=i.maxSize):(e.collapsedVert||this.owner.manageHeight||(n=!1,e.bodyContext.setProp("margin-bottom",i.dockedPixelsEnd)),r=l)),s||a){if(s&&a&&s.constrainedMax&&a.constrainedMin)return e.invalidate({widthModel:s}),!1;if(!e.widthModel.calculatedFromShrinkWrap&&!e.heightModel.calculatedFromShrinkWrap)return e.invalidate({widthModel:s,heightModel:a}),!1}return u&&(e.setWidth(o),s&&(e.widthModel=s)),c&&(e.setHeight(r,n),a&&(e.heightModel=a)),!0},finishPositions:function(e,t,i){var n,r,o=e.dockedItems,a=o.length,s=t.delta,l=i.delta;for(n=0;n<a;++n)r=o[n],r.setProp("x",s+r.dockedAt.x),r.setProp("y",l+r.dockedAt.y)},finishedLayout:function(e){var t=this,i=e.target;t.callParent(arguments),e.animatePolicy||(1===e.isCollapsingOrExpanding?i.afterCollapse(!1):2===e.isCollapsingOrExpanding&&i.afterExpand(!1))},getAnimatePolicy:function(e){var t,i,n=this;return 1==e.isCollapsingOrExpanding?t=n.lastCollapsedState:2==e.isCollapsingOrExpanding&&(t=e.lastCollapsedState),"left"==t||"right"==t?i=n.horizontalCollapsePolicy:"top"!=t&&"bottom"!=t||(i=n.verticalCollapsePolicy),i},getDockedItems:function(e,t){var i,n,r,o,a,s,l=this,d="visual"===e,u=d?Ext.ComponentQuery.query("[rendered]",l.owner.dockedItems.items):l.owner.dockedItems.items,c=u&&u.length&&e!==!1;if(null==t)r=c&&!d?u.slice():u;else{for(r=[],o=0,s=u.length;o<s;++o)n=u[o].dock,a="top"==n||"left"==n,(t?a:!a)&&r.push(u[o]);c=c&&r.length}return c&&(i="render"==(e=e||"render"),Ext.Array.sort(r,function(t,n){var r,o;return!i||(r=l.owner.dockOrder[t.dock])===(o=l.owner.dockOrder[n.dock])||r+o?(r=l.getItemWeight(t,e),o=l.getItemWeight(n,e),void 0!==r&&void 0!==o?r-o:0):r-o})),r||[]},getItemWeight:function(e,t){var i=e.weight||this.owner.defaultDockWeights[e.dock];return i[t]||i},getLayoutItems:function(){var e,t,i,n,r,o=this;if(o.owner.collapsed)r=o.owner.getCollapsedDockedItems();else for(e=o.getDockedItems("visual"),t=e.length,r=[],n=0;n<t;n++)i=e[n],i.hidden||r.push(i);return r},measureContentWidth:function(e){var t=e.bodyContext;return t.el.getWidth()-t.getBorderInfo().width},measureContentHeight:function(e){var t=e.bodyContext;return t.el.getHeight()-t.getBorderInfo().height},redoLayout:function(e){var t=this,i=t.owner;1==e.isCollapsingOrExpanding?(i.reExpander&&i.reExpander.el.show(),i.addClsWithUI(i.collapsedCls),e.redo(!0)):2==e.isCollapsingOrExpanding&&(i.removeClsWithUI(i.collapsedCls),e.bodyContext.redo())},renderChildren:function(){var e=this,t=e.getDockedItems(),i=e.getRenderTarget();e.renderItems(t,i)},renderItems:function(e,t){var i,n,r,o,a=this,s=e.length,l=0,d=0,u=0,c=a.getRenderTarget().dom.childNodes,h=c.length;for(i=0,n=0;i<h&&(r=c[i],!Ext.fly(r).hasCls("x-resizable-handle"));i++){for(n=0;n<s&&(o=e[n],!o.rendered||o.el.dom!==r);n++);n===s&&u++}for(;l<s;l++,d++)o=e[l],l!==d||"right"!==o.dock&&"bottom"!==o.dock||(d+=u),o&&!o.rendered?a.renderItem(o,t,d):a.isValidParent(o,t,d)||a.moveItem(o,t,d)},undoLayout:function(e){var t=this,i=t.owner;1==e.isCollapsingOrExpanding?(i.reExpander&&i.reExpander.el.hide(),i.removeClsWithUI(i.collapsedCls),e.undo(!0)):2==e.isCollapsingOrExpanding&&(i.addClsWithUI(i.collapsedCls),e.bodyContext.undo())},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},stretchH:{setsWidth:1,setsHeight:0},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(e){var t,i,n=this.sizePolicy;return e.stretch===!1?n.nostretch:(t=e.dock,i="left"==t||"right"==t,i?n.stretchV:n.stretchH)},configureItem:function(e,t){this.callParent(arguments),e.addCls(Ext.baseCSSPrefix+"docked"),e.addClsWithUI("docked-"+e.dock)},afterRemove:function(e){this.callParent(arguments),this.itemCls&&e.el.removeCls(this.itemCls+"-"+e.dock);var t=e.el.dom;!e.destroying&&t&&t.parentNode.removeChild(t),this.childrenChanged=!0}}),Ext.define("Ext.layout.component.FieldSet",{extend:"Ext.layout.component.Body",alias:["layout.fieldset"],type:"fieldset",beforeLayoutCycle:function(e){e.target.collapsed&&(e.heightModel=this.sizeModels.shrinkWrap)},beginLayoutCycle:function(e){var t,i=e.target;this.callParent(arguments),i.collapsed&&(e.setContentHeight(0),e.widthModel.shrinkWrap&&(t=i.lastComponentSize,e.setContentWidth(t&&t.contentWidth||100)))},calculateOwnerHeightFromContentHeight:function(e,t){var i=e.getBorderInfo(),n=e.target.legend;return e.getProp("contentHeight")+e.getPaddingInfo().height+(n?n.getHeight():i.top)+i.bottom},publishInnerHeight:function(e,t){var i=e.target.legend;i&&(t-=i.getHeight()),this.callParent([e,t])},getLayoutItems:function(){var e=this.owner.legend;return e?[e]:[]}}),Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:"Ext.layout.component.Auto",type:"progressbar",beginLayout:function(e){var t,i,n=this;if(n.callParent(arguments),!e.textEls)if(i=n.owner.textEl,i.isComposite)for(e.textEls=[],i=i.elements,t=i.length;t--;)e.textEls[t]=e.getEl(Ext.get(i[t]));else e.textEls=[e.getEl("textEl")]},calculate:function(e){var t,i,n,r=this;if(r.callParent(arguments),Ext.isNumber(n=e.getProp("width")))for(n-=e.getBorderInfo().width,i=e.textEls,t=i.length;t--;)i[t].setWidth(n);else r.done=!1}}),Ext.define("Ext.ProgressBar",{extend:"Ext.Component",alias:"widget.progressbar",requires:["Ext.Template","Ext.CompositeElement","Ext.TaskManager","Ext.layout.component.ProgressBar"],uses:["Ext.fx.Anim"],baseCls:Ext.baseCSSPrefix+"progress",animate:!1,text:"",waitTimer:null,childEls:["bar"],renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>',"</tpl>",'<div id="{id}-bar" class="{baseCls}-bar" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">',"<div>{text}</div>","</div>","</tpl>","</div>"],componentLayout:"progressbar",initComponent:function(){this.callParent(),this.addEvents("update")},initRenderData:function(){var e=this;return Ext.apply(e.callParent(),{internalText:!e.hasOwnProperty("textEl"),text:e.text||"&#160;",percentage:e.value?100*e.value:0})},onRender:function(){var e=this;e.callParent(arguments),e.textEl?(e.textEl=Ext.get(e.textEl),e.updateText(e.text)):e.textEl=e.el.select("."+e.baseCls+"-text")},updateProgress:function(e,t,i){var n=this,r=n.value;return n.value=e||0,t&&n.updateText(t),n.rendered&&!n.isDestroyed&&(i===!0||i!==!1&&n.animate?(n.bar.stopAnimation(),n.bar.animate(Ext.apply({from:{width:100*r+"%"},to:{width:100*n.value+"%"}},n.animate))):n.bar.setStyle("width",100*n.value+"%")),n.fireEvent("update",n,n.value,t),n},updateText:function(e){var t=this;return t.text=e,t.rendered&&t.textEl.update(t.text),t},applyText:function(e){this.updateText(e)},getText:function(){return this.text},wait:function(e){var t,i=this;return i.waitTimer||(t=i,e=e||{},i.updateText(e.text),i.waitTimer=Ext.TaskManager.start({run:function(t){var n=e.increment||10;t-=1,i.updateProgress(((t+n)%n+1)*(100/n)*.01,null,e.animate)},interval:e.interval||1e3,duration:e.duration,onStop:function(){e.fn&&e.fn.apply(e.scope||i),i.reset()},scope:t})),i},isWaiting:function(){return null!==this.waitTimer},reset:function(e){var t=this;return t.updateProgress(0),t.clearTimer(),e===!0&&t.hide(),t},clearTimer:function(){var e=this;e.waitTimer&&(e.waitTimer.onStop=null,Ext.TaskManager.stop(e.waitTimer),e.waitTimer=null)},onDestroy:function(){var e=this;e.clearTimer(),e.rendered&&(e.textEl.isComposite&&e.textEl.clear(),Ext.destroyMembers(e,"textEl","progressBar")),e.callParent()}}),Ext.define("Ext.layout.component.Tab",{extend:"Ext.layout.component.Button",alias:"layout.tab",beginLayout:function(e){var t=this,i=t.owner.closable;t.lastClosable!==i&&(t.lastClosable=i,t.clearTargetCache()),t.callParent(arguments)}}),Ext.define("Ext.layout.component.field.Field",{extend:"Ext.layout.component.Auto",alias:"layout.field",uses:["Ext.tip.QuickTip","Ext.util.TextMetrics","Ext.util.CSS"],type:"field",naturalSizingProp:"size",beginLayout:function(e){var t,i=this,n=i.owner,r=e.widthModel,o=n[i.naturalSizingProp];i.callParent(arguments),e.labelStrategy=i.getLabelStrategy(),e.errorStrategy=i.getErrorStrategy(),e.labelContext=e.getEl("labelEl"),e.bodyCellContext=e.getEl("bodyEl"),e.inputContext=e.getEl("inputEl"),e.errorContext=e.getEl("errorEl"),(Ext.isIE6||Ext.isIE7)&&Ext.isStrict&&e.inputContext&&(i.ieInputWidthAdjustment=e.inputContext.getPaddingInfo().width+e.inputContext.getBorderInfo().width),e.labelStrategy.prepare(e,n),e.errorStrategy.prepare(e,n),r.shrinkWrap?i.beginLayoutShrinkWrap(e):r.natural?("number"!=typeof o||n.inputWidth?i.beginLayoutShrinkWrap(e):i.beginLayoutFixed(e,t=6.5*o+20,"px"),e.setWidth(t,!1)):i.beginLayoutFixed(e,"100","%")},beginLayoutFixed:function(e,t,i){var n=e.target,r=n.inputEl,o=n.inputWidth;n.el.setStyle("table-layout","fixed"),n.bodyEl.setStyle("width",t+i),r&&o&&r.setStyle("width",o+"px"),e.isFixed=!0},beginLayoutShrinkWrap:function(e){var t=e.target,i=t.inputEl,n=t.inputWidth;i&&i.dom&&(i.dom.removeAttribute("size"),n&&i.setStyle("width",n+"px")),t.el.setStyle("table-layout","auto"),t.bodyEl.setStyle("width","")},finishedLayout:function(e){var t=this.owner;this.callParent(arguments),e.labelStrategy.finishedLayout(e,t),e.errorStrategy.finishedLayout(e,t)},calculateOwnerHeightFromContentHeight:function(e,t){return t},measureContentHeight:function(e){return e.el.getHeight()},measureContentWidth:function(e){return e.el.getWidth()},measureLabelErrorHeight:function(e){return e.labelStrategy.getHeight(e)+e.errorStrategy.getHeight(e)},onFocus:function(){this.getErrorStrategy().onFocus(this.owner)},getLabelStrategy:function(){var e=this,t=e.labelStrategies,i=e.owner.labelAlign;return t[i]||t.base},getErrorStrategy:function(){var e=this,t=e.owner,i=e.errorStrategies,n=t.msgTarget;return!t.preventMark&&Ext.isString(n)?i[n]||i.elementId:i.none},labelStrategies:function(){var e={prepare:function(e,t){var i=t.labelCls+"-"+t.labelAlign,n=t.labelEl;n&&n.addCls(i)},getHeight:function(){return 0},finishedLayout:Ext.emptyFn};return{base:e,top:Ext.applyIf({getHeight:function(e){var t=e.labelContext,i=t.props,n=i.height;return void 0===n&&(i.height=n=t.el.getHeight()),n}},e),left:e,right:e}}(),errorStrategies:function(){function e(e){var t,i=Ext.layout.component.field.Field.tip;i&&i.isVisible()&&(t=i.activeTarget,t&&t.el===e.getActionEl().dom&&i.toFront(!0))}var t,i=Ext.applyIf,n=Ext.emptyFn,r=Ext.baseCSSPrefix+"form-invalid-icon",o={prepare:function(e,t){var i=t.errorEl;i&&i.setDisplayed(!1)},getHeight:function(){return 0},onFocus:n,finishedLayout:n};return{none:o,side:i({prepare:function(e,i){var n,o=i.errorEl,a=i.sideErrorCell,s=i.hasActiveError();t||(t=(n=Ext.getBody().createChild({style:"position:absolute",cls:r})).getWidth(),n.remove()),o.addCls(r),o.set({"data-errorqtip":i.getActiveError()||""}),i.autoFitErrors?o.setDisplayed(s):o.setVisible(s),a&&i.autoFitErrors&&a.setDisplayed(s),i.bodyEl.dom.colSpan=i.getBodyColspan(),Ext.layout.component.field.Field.initTip()},onFocus:e},o),under:i({prepare:function(e,t){var i=t.errorEl,n=Ext.baseCSSPrefix+"form-invalid-under";i.addCls(n),i.setDisplayed(t.hasActiveError())},getHeight:function(e){var t,i,n=0;return e.target.hasActiveError()&&(t=e.errorContext,i=t.props,n=i.height,void 0===n&&(i.height=n=t.el.getHeight())),n}},o),qtip:i({prepare:function(e,t){Ext.layout.component.field.Field.initTip(),t.getActionEl().set({"data-errorqtip":t.getActiveError()||""})},onFocus:e},o),title:i({prepare:function(e,t){t.el.set({title:t.getActiveError()||""})}},o),elementId:i({prepare:function(e,t){var i=Ext.fly(t.msgTarget);i&&(i.dom.innerHTML=t.getActiveError()||"",i.setDisplayed(t.hasActiveError()))}},o)}}(),statics:{initTip:function(){var e=this.tip;e||(e=this.tip=Ext.create("Ext.tip.QuickTip",{baseCls:Ext.baseCSSPrefix+"form-invalid-tip"}),e.tagConfig=Ext.apply({},{attribute:"errorqtip"},e.tagConfig))},destroyTip:function(){var e=this.tip;e&&(e.destroy(),delete this.tip)}}}),Ext.define("Ext.form.field.Base",{extend:"Ext.Component",mixins:{labelable:"Ext.form.Labelable",field:"Ext.form.field.Field"},alias:"widget.field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],requires:["Ext.util.DelayedTask","Ext.XTemplate","Ext.layout.component.field.Field"],fieldSubTpl:['<input id="{id}" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {editableCls}" autocomplete="off"/>',{disableFormats:!0}],subTplInsertions:["inputAttrTpl"],inputType:"text",invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<9)?["change","propertychange"]:["change","input","textInput","keyup","dragdrop"],checkChangeBuffer:50,componentLayout:"field",readOnly:!1,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:!0,hasFocus:!1,baseCls:Ext.baseCSSPrefix+"field",maskOnDisable:!1,initComponent:function(){var e=this;e.callParent(),e.subTplData=e.subTplData||{},e.addEvents("specialkey","writeablechange"),e.initLabelable(),e.initField(),e.name||(e.name=e.getInputId())},beforeRender:function(){var e=this;e.callParent(arguments),e.beforeLabelableRender(arguments),e.readOnly&&e.addCls(e.readOnlyCls)},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(){var e,t=this,i=t.inputType,n=t.getInputId();return e=Ext.apply({id:n,cmpId:t.id,name:t.name||n,disabled:t.disabled,readOnly:t.readOnly,value:t.getRawValue(),type:i,fieldCls:t.fieldCls,fieldStyle:t.getFieldStyle(),tabIdx:t.tabIndex,typeCls:Ext.baseCSSPrefix+"form-"+("password"===i?"text":i)},t.subTplData),t.getInsertionRenderData(e,t.subTplInsertions),e},afterFirstLayout:function(){this.callParent();var e=this.inputEl;e&&e.selectable()},applyRenderSelectors:function(){var e=this;e.callParent(),e.inputEl=e.el.getById(e.getInputId())},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initRenderTpl:function(){var e=this;return e.hasOwnProperty("renderTpl")||(e.renderTpl=e.getTpl("labelableRenderTpl")),e.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(e){var t=this,i=t.inputEl;i&&i.applyStyles(e),t.fieldStyle=e},getFieldStyle:function(){return"width:100%;"+(Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||"")},onRender:function(){var e=this;e.callParent(arguments),e.onLabelableRender(),e.renderActiveError()},getFocusEl:function(){return this.inputEl},isFileUpload:function(){return"file"===this.inputType},extractFileInput:function(){var e,t=this,i=t.isFileUpload()?t.inputEl.dom:null;return i&&(e=i.cloneNode(!0),i.parentNode.replaceChild(e,i),t.inputEl=Ext.get(e)),i},getSubmitData:function(){var e,t=this,i=null;return t.disabled||!t.submitValue||t.isFileUpload()||(e=t.getSubmitValue(),null!==e&&(i={},i[t.getName()]=e)),i},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var e=this,t=e.inputEl?e.inputEl.getValue():Ext.value(e.rawValue,"");return e.rawValue=t,t},setRawValue:function(e){var t=this;return e=Ext.value(t.transformRawValue(e),""),t.rawValue=e,t.inputEl&&(t.inputEl.dom.value=e),e},transformRawValue:function(e){return e},valueToRaw:function(e){return""+Ext.value(e,"")},rawToValue:function(e){return e},processRawValue:function(e){return e},getValue:function(){var e=this,t=e.rawToValue(e.processRawValue(e.getRawValue()));return e.value=t,t},setValue:function(e){var t=this;return t.setRawValue(t.valueToRaw(e)),t.mixins.field.setValue.call(t,e)},onBoxReady:function(){var e=this;e.callParent(),e.setReadOnlyOnBoxReady&&e.setReadOnly(e.readOnly)},onDisable:function(){var e=this,t=e.inputEl;e.callParent(),t&&(t.dom.disabled=!0,e.hasActiveError()&&(e.clearInvalid(),e.needsValidateOnEnable=!0))},onEnable:function(){var e=this,t=e.inputEl;e.callParent(),t&&(t.dom.disabled=!1,e.needsValidateOnEnable&&(delete e.needsValidateOnEnable,e.forceValidation=!0,e.isValid(),delete e.forceValidation))},setReadOnly:function(e){var t=this,i=t.inputEl;e=!!e,t[e?"addCls":"removeCls"](t.readOnlyCls),t.readOnly=e,i?i.dom.readOnly=e:t.rendering&&(t.setReadOnlyOnBoxReady=!0),t.fireEvent("writeablechange",t,e)},fireKey:function(e){e.isSpecialKey()&&this.fireEvent("specialkey",this,new Ext.EventObjectImpl(e))},initEvents:function(){var e,t,i,n,r=this,o=r.inputEl,a=r.checkChangeEvents,s=a.length;if(r.inEditor&&(r.onBlur=Ext.Function.createBuffered(r.onBlur,10)),o)for(r.mon(o,Ext.EventManager.getKeyEvent(),r.fireKey,r),e=new Ext.util.DelayedTask(r.checkChange,r),r.onChangeEvent=t=function(){e.delay(r.checkChangeBuffer)},i=0;i<s;i++)n=a[i],"propertychange"===n&&(r.usesPropertychange=!0),r.mon(o,n,t);r.callParent()},doComponentLayout:function(){var e=this,t=e.inputEl,i=e.usesPropertychange,n="propertychange",r=e.onChangeEvent;i&&e.mun(t,n,r),e.callParent(arguments),i&&e.mon(t,n,r)},onDirtyChange:function(e){this[e?"addCls":"removeCls"](this.dirtyCls)},isValid:function(){var e=this,t=e.disabled,i=e.forceValidation||!t;return i?e.validateValue(e.processRawValue(e.getRawValue())):t},validateValue:function(e){var t=this,i=t.getErrors(e),n=Ext.isEmpty(i);return t.preventMark||(n?t.clearInvalid():t.markInvalid(i)),n},markInvalid:function(e){var t=this,i=t.getActiveError();t.setActiveErrors(Ext.Array.from(e)),i!==t.getActiveError()&&t.updateLayout()},clearInvalid:function(){var e=this,t=e.hasActiveError();e.unsetActiveError(),t&&e.updateLayout()},renderActiveError:function(){var e=this,t=e.hasActiveError();e.inputEl&&e.inputEl[t?"addCls":"removeCls"](e.invalidCls+"-field"),e.mixins.labelable.renderActiveError.call(e)},getActionEl:function(){return this.inputEl||this.el}}),Ext.define("Ext.form.field.Checkbox",{extend:"Ext.form.field.Base",alias:["widget.checkboxfield","widget.checkbox"],alternateClassName:"Ext.form.Checkbox",requires:["Ext.XTemplate","Ext.form.CheckboxManager"],componentLayout:"field",childEls:["boxLabelEl"],fieldSubTpl:["<tpl if=\"boxLabel && boxLabelAlign == 'before'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<input type="button" id="{id}" {inputAttrTpl}','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls}" autocomplete="off" hidefocus="true" />',"<tpl if=\"boxLabel && boxLabelAlign == 'after'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",{disableFormats:!0,compiled:!0}],subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:!0,focusCls:"form-cb-focus",fieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:!1,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",onRe:/^on$/i,initComponent:function(){this.callParent(arguments),this.getManager().add(this)},initValue:function(){var e=this,t=!!e.checked;e.originalValue=e.lastValue=t,e.setValue(t)},getElConfig:function(){var e=this;return e.isChecked(e.rawValue,e.inputValue)&&e.addCls(e.checkedCls),e.callParent()},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},getSubTplData:function(){var e=this;return Ext.apply(e.callParent(),{disabled:e.readOnly||e.disabled,boxLabel:e.boxLabel,boxLabelCls:e.boxLabelCls,boxLabelAlign:e.boxLabelAlign})},initEvents:function(){var e=this;e.callParent(),e.mon(e.inputEl,"click",e.onBoxClick,e)},onBoxClick:function(e){var t=this;t.disabled||t.readOnly||this.setValue(!this.checked)},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var e=this.uncheckedValue,t=Ext.isDefined(e)?e:null;return this.checked?this.inputValue:t},isChecked:function(e,t){return e===!0||"true"===e||"1"===e||1===e||((Ext.isString(e)||Ext.isNumber(e))&&t?e==t:this.onRe.test(e))},setRawValue:function(e){var t=this,i=t.inputEl,n=t.isChecked(e,t.inputValue);return i&&t[n?"addCls":"removeCls"](t.checkedCls),t.checked=t.rawValue=n,n},setValue:function(e){var t,i,n,r,o=this;if(Ext.isArray(e))for(t=o.getManager().getByName(o.name,o.getFormId()).items,n=t.length,i=0;i<n;++i)r=t[i],r.setValue(Ext.Array.contains(e,r.inputValue));else o.callParent(arguments);return o},valueToRaw:function(e){return e},onChange:function(e,t){var i=this,n=i.handler;n&&n.call(i.scope||i,i,e),i.callParent(arguments)},resetOriginalValue:function(e){var t,i,n,r,o=this;if(!e)for(t=o.getManager().getByName(o.name,o.getFormId()).items,n=t.length,r=0;r<n;++r)i=t[r],i!==o&&t[r].resetOriginalValue(!0);o.callParent()},beforeDestroy:function(){this.callParent(),this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var e=this,t=e.inputEl;e.callParent(),t&&(t.dom.disabled=e.readOnly)},setReadOnly:function(e){var t=this,i=t.inputEl;i&&(i.dom.disabled=!!e||t.disabled),t.callParent(arguments)},getFormId:function(){var e,t=this;return t.formId||(e=t.up("form"),e&&(t.formId=e.id)),t.formId}}),Ext.define("Ext.form.field.Display",{extend:"Ext.form.field.Base",alias:"widget.displayfield",requires:["Ext.util.Format","Ext.XTemplate"],alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}"','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls}">{value}</div>',{compiled:!0,disableFormats:!0}],fieldCls:Ext.baseCSSPrefix+"form-display-field",htmlEncode:!1,validateOnChange:!1,initEvents:Ext.emptyFn,submitValue:!1,isDirty:function(){return!1},isValid:function(){return!0},validate:function(){return!0},getRawValue:function(){return this.rawValue},setRawValue:function(e){var t=this;return e=Ext.value(e,""),t.rawValue=e,t.rendered&&(t.inputEl.dom.innerHTML=t.getDisplayValue(),t.updateLayout()),e},getDisplayValue:function(){var e,t=this,i=this.getRawValue();return e=t.renderer?t.renderer.call(t.scope||t,i,t):t.htmlEncode?Ext.util.Format.htmlEncode(i):i},getSubTplData:function(){var e=this.callParent(arguments);return e.value=this.getDisplayValue(),e}}),Ext.define("Ext.form.field.Hidden",{extend:"Ext.form.field.Base",alias:["widget.hiddenfield","widget.hidden"],alternateClassName:"Ext.form.Hidden",inputType:"hidden",hideLabel:!0,initComponent:function(){this.formItemCls+="-hidden",this.callParent()},isEqual:function(e,t){return this.isEqualAsString(e,t)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn}),Ext.define("Ext.form.field.Radio",{extend:"Ext.form.field.Checkbox",alias:["widget.radiofield","widget.radio"],alternateClassName:"Ext.form.Radio",requires:["Ext.form.RadioManager"],isRadio:!0,inputType:"radio",ariaRole:"radio",formId:null,getGroupValue:function(){var e=this.getManager().getChecked(this.name,this.getFormId());return e?e.inputValue:null},onBoxClick:function(e){var t=this;t.disabled||t.readOnly||this.setValue(!0)},onRemoved:function(){this.callParent(arguments),this.formId=null},setValue:function(e){var t,i=this;return Ext.isBoolean(e)?i.callParent(arguments):(t=i.getManager().getWithValue(i.name,e,i.getFormId()).getAt(0),t&&t.setValue(!0)),i},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){return this.getSubmitData()},onChange:function(e,t){var i,n,r,o,a=this;if(a.callParent(arguments),e)for(o=a.getManager().getByName(a.name,a.getFormId()).items,n=o.length,i=0;i<n;i++)r=o[i],r!==a&&r.setValue(!1)},getManager:function(){return Ext.form.RadioManager}}),Ext.define("Ext.layout.component.field.FieldContainer",{extend:"Ext.layout.component.field.Field",alias:"layout.fieldcontainer",type:"fieldcontainer",waitForOuterHeightInDom:!0,waitForOuterWidthInDom:!0,beginLayout:function(e){this.callParent(arguments),e.hasRawContent=!0,e.target.bodyEl.setStyle("height","")},measureContentHeight:function(e){return e.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},measureContentWidth:function(e){return e.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},publishInnerWidth:function(e,t){var i=e.bodyCellContext;i.setWidth(i.el.getWidth(),!1)},publishInnerHeight:function(e,t){var i=e.bodyCellContext;i.setHeight(t-this.measureLabelErrorHeight(e))}}),Ext.define("Ext.layout.component.field.HtmlEditor",{extend:"Ext.layout.component.field.Field",alias:["layout.htmleditor"],type:"htmleditor",toolbarSizePolicy:{setsWidth:0,setsHeight:0},beginLayout:function(e){this.callParent(arguments),e.textAreaContext=e.getEl("textareaEl"),e.iframeContext=e.getEl("iframeEl"),e.toolbarContext=e.context.getCmp(this.owner.getToolbar())},renderItems:Ext.emptyFn,getItemSizePolicy:function(e){return this.toolbarSizePolicy},getLayoutItems:function(){var e=this.owner.getToolbar();return e?[e]:[]},getRenderTarget:function(){return this.owner.bodyEl},publishInnerHeight:function(e,t){var i=this,n=t-i.measureLabelErrorHeight(e)-e.toolbarContext.getProp("height")-e.bodyCellContext.getPaddingInfo().height;Ext.isNumber(n)?(e.textAreaContext.setHeight(n),
e.iframeContext.setHeight(n)):i.done=!1}}),Ext.define("Ext.layout.component.field.Slider",{alias:["layout.sliderfield"],extend:"Ext.layout.component.field.Field",type:"sliderfield",beginLayout:function(e){this.callParent(arguments),e.endElContext=e.getEl("endEl"),e.innerElContext=e.getEl("innerEl"),e.bodyElContext=e.getEl("bodyEl")},publishInnerHeight:function(e,t){var i,n,r=t-this.measureLabelErrorHeight(e);this.owner.vertical?(i=e.endElContext.getPaddingInfo(),n=e.inputContext.getPaddingInfo(),e.innerElContext.setHeight(r-n.height-i.height)):e.bodyElContext.setHeight(r)},publishInnerWidth:function(e,t){if(!this.owner.vertical){var i=e.endElContext.getPaddingInfo(),n=e.inputContext.getPaddingInfo();e.innerElContext.setWidth(t-n.left-i.right-e.labelContext.getProp("width"))}},beginLayoutFixed:function(e,t,i){var n=this,r=n.ieInputWidthAdjustment;r&&n.owner.bodyEl.setStyle("padding-right",r+"px"),n.callParent(arguments)}}),Ext.define("Ext.layout.component.field.Text",{extend:"Ext.layout.component.field.Field",alias:"layout.textfield",requires:["Ext.util.TextMetrics"],type:"textfield",canGrowWidth:!0,beginLayoutCycle:function(e){var t=this;t.callParent(arguments),e.shrinkWrap&&e.inputContext.el.setStyle("height","")},measureContentWidth:function(e){var t,i,n,r,o,a=this,s=a.owner,l=a.callParent(arguments),d=e.inputContext;return s.grow&&a.canGrowWidth&&!e.state.growHandled&&(t=s.inputEl,i=Ext.util.Format.htmlEncode(t.dom.value||(s.hasFocus?"":s.emptyText)||""),i+=s.growAppend,n=t.getTextWidth(i)+d.getFrameInfo().width,r=s.growMax,o=Math.min(r,l),r=Math.max(s.growMin,r,o),n=Ext.Number.constrain(n,s.growMin,r),d.setWidth(n),e.state.growHandled=!0,d.domBlock(a,"width"),l=NaN),l},publishInnerHeight:function(e,t){e.inputContext.setHeight(t-this.measureLabelErrorHeight(e))},beginLayoutFixed:function(e,t,i){var n=this,r=n.ieInputWidthAdjustment;r&&(n.owner.bodyEl.setStyle("padding-right",r+"px"),"px"===i&&(t-=r)),n.callParent(arguments)}}),Ext.define("Ext.form.field.Text",{extend:"Ext.form.field.Base",alias:"widget.textfield",requires:["Ext.form.field.VTypes","Ext.layout.component.field.Text"],alternateClassName:["Ext.form.TextField","Ext.form.Text"],size:20,growMin:30,growMax:800,growAppend:"W",allowBlank:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",requiredCls:Ext.baseCSSPrefix+"form-required-field",componentLayout:"textfield",valueContainsPlaceholder:!1,initComponent:function(){var e=this;e.callParent(),e.addEvents("autosize","keydown","keyup","keypress"),e.addStateEvents("change"),e.setGrowSizePolicy()},setGrowSizePolicy:function(){this.grow&&(this.shrinkWrap|=1)},initEvents:function(){var e=this,t=e.inputEl;e.callParent(),(e.selectOnFocus||e.emptyText)&&e.mon(t,"mousedown",e.onMouseDown,e),(e.maskRe||e.vtype&&e.disableKeyFilter!==!0&&(e.maskRe=Ext.form.field.VTypes[e.vtype+"Mask"]))&&e.mon(t,"keypress",e.filterKeys,e),e.enableKeyEvents&&e.mon(t,{scope:e,keyup:e.onKeyUp,keydown:e.onKeyDown,keypress:e.onKeyPress})},isEqual:function(e,t){return this.isEqualAsString(e,t)},onChange:function(){this.callParent(),this.autoSize()},getSubTplData:function(){var e,t=this,i=t.getRawValue(),n=t.emptyText&&i.length<1,r=t.maxLength;return t.enforceMaxLength?r===Number.MAX_VALUE&&(r=void 0):r=void 0,n&&(Ext.supports.Placeholder?e=t.emptyText:(i=t.emptyText,t.valueContainsPlaceholder=!0)),Ext.apply(t.callParent(),{maxLength:r,readOnly:t.readOnly,placeholder:e,value:i,fieldCls:t.fieldCls+(n&&(e||i)?" "+t.emptyCls:"")+(t.allowBlank?"":" "+t.requiredCls)})},afterRender:function(){this.autoSize(),this.callParent()},onMouseDown:function(e){var t=this;t.hasFocus||t.mon(t.inputEl,"mouseup",Ext.emptyFn,t,{single:!0,preventDefault:!0})},processRawValue:function(e){var t,i=this,n=i.stripCharsRe;return n&&(t=e.replace(n,""),t!==e&&(i.setRawValue(t),e=t)),e},onDisable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="on")},onEnable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="")},onKeyDown:function(e){this.fireEvent("keydown",this,e)},onKeyUp:function(e){this.fireEvent("keyup",this,e)},onKeyPress:function(e){this.fireEvent("keypress",this,e)},reset:function(){this.callParent(),this.applyEmptyText()},applyEmptyText:function(){var e,t=this,i=t.emptyText;t.rendered&&i&&(e=t.getRawValue().length<1&&!t.hasFocus,Ext.supports.Placeholder?t.inputEl.dom.placeholder=i:e&&(t.setRawValue(i),t.valueContainsPlaceholder=!0),e&&t.inputEl.addCls(t.emptyCls),t.autoSize())},afterFirstLayout:function(){if(this.callParent(),Ext.isIE&&this.disabled){var e=this.inputEl;e&&(e.dom.unselectable="on")}},preFocus:function(){var e,t=this,i=t.inputEl,n=t.emptyText;t.callParent(arguments),n&&!Ext.supports.Placeholder&&i.dom.value===t.emptyText&&t.valueContainsPlaceholder?(t.setRawValue(""),e=!0,i.removeCls(t.emptyCls),t.valueContainsPlaceholder=!1):Ext.supports.Placeholder&&t.inputEl.removeCls(t.emptyCls),(t.selectOnFocus||e)&&i.dom.select()},onFocus:function(){var e=this;e.callParent(arguments),e.emptyText&&e.autoSize()},postBlur:function(){this.callParent(arguments),this.applyEmptyText()},filterKeys:function(e){if(!e.ctrlKey||e.altKey){var t=e.getKey(),i=String.fromCharCode(e.getCharCode());(Ext.isGecko||Ext.isOpera)&&(e.isNavKeyPress()||t===e.BACKSPACE||t===e.DELETE&&e.button===-1)||(Ext.isGecko||Ext.isOpera||!e.isSpecialKey()||i)&&(this.maskRe.test(i)||e.stopEvent())}},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(e){this.callParent(arguments),e.hasOwnProperty("value")&&this.setValue(e.value)},getRawValue:function(){var e=this,t=e.callParent();return t===e.emptyText&&e.valueContainsPlaceholder&&(t=""),t},setValue:function(e){var t=this,i=t.inputEl;return i&&t.emptyText&&!Ext.isEmpty(e)&&(i.removeCls(t.emptyCls),t.valueContainsPlaceholder=!1),t.callParent(arguments),t.applyEmptyText(),t},getErrors:function(e){var t,i=this,n=i.callParent(arguments),r=i.validator,o=(i.emptyText,i.allowBlank),a=i.vtype,s=Ext.form.field.VTypes,l=i.regex,d=Ext.String.format;return e=e||i.processRawValue(i.getRawValue()),Ext.isFunction(r)&&(t=r.call(i,e),t!==!0&&n.push(t)),e.length<1||e===i.emptyText&&i.valueContainsPlaceholder?(o||n.push(i.blankText),n):(e.length<i.minLength&&n.push(d(i.minLengthText,i.minLength)),e.length>i.maxLength&&n.push(d(i.maxLengthText,i.maxLength)),a&&(s[a](e,i)||n.push(i.vtypeText||s[a+"Text"])),l&&!l.test(e)&&n.push(i.regexText||i.invalidText),n)},selectText:function(e,t){var i,n,r=this,o=r.getRawValue(),a=!0,s=r.inputEl.dom;o.length>0&&(e=e===i?0:e,t=t===i?o.length:t,s.setSelectionRange?s.setSelectionRange(e,t):s.createTextRange&&(n=s.createTextRange(),n.moveStart("character",e),n.moveEnd("character",t-o.length),n.select()),a=Ext.isGecko||Ext.isOpera),a&&r.focus()},autoSize:function(){var e=this;e.grow&&e.rendered&&(e.autoSizing=!0,e.updateLayout())},afterComponentLayout:function(){var e,t=this;t.callParent(arguments),t.autoSizing&&(e=t.inputEl.getWidth(),e!==t.lastInputWidth&&(t.fireEvent("autosize",t,e),t.lastInputWidth=e,delete t.autoSizing))}}),Ext.define("Ext.layout.component.field.TextArea",{extend:"Ext.layout.component.field.Text",alias:"layout.textareafield",type:"textareafield",canGrowWidth:!1,naturalSizingProp:"cols",beginLayout:function(e){this.callParent(arguments),e.target.inputEl.setStyle("height","")},measureContentHeight:function(e){var t,i,n,r,o,a=this,s=a.owner,l=a.callParent(arguments);return s.grow&&!e.state.growHandled&&(t=e.inputContext,i=s.inputEl,r=i.getWidth(!0),n=Ext.util.Format.htmlEncode(i.dom.value)||"&#160;",n+=s.growAppend,n=n.replace(/\n/g,"<br/>"),o=Ext.util.TextMetrics.measure(i,n,r).height+t.getBorderInfo().height+t.getPaddingInfo().height,o=Ext.Number.constrain(o,s.growMin,s.growMax),t.setHeight(o),e.state.growHandled=!0,t.domBlock(a,"height"),l=NaN),l}}),Ext.define("Ext.form.field.TextArea",{extend:"Ext.form.field.Text",alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",requires:["Ext.XTemplate","Ext.layout.component.field.TextArea","Ext.util.DelayedTask"],fieldSubTpl:['<textarea id="{id}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="rows"> rows="{rows}" </tpl>','<tpl if="cols"> cols="{cols}" </tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:!0}],growMin:60,growMax:1e3,growAppend:"\n-",cols:20,rows:4,enterIsSpecial:!1,preventScrollbars:!1,componentLayout:"textareafield",setGrowSizePolicy:Ext.emptyFn,returnRe:/\r/g,getSubTplData:function(){var e=this,t=e.getFieldStyle(),i=e.callParent();return e.grow&&e.preventScrollbars&&(i.fieldStyle=(t||"")+";overflow:hidden;height:"+e.growMin+"px"),Ext.applyIf(i,{cols:e.cols,rows:e.rows}),i},afterRender:function(){var e=this;e.callParent(arguments),e.needsMaxCheck=e.enforceMaxLength&&e.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength,e.needsMaxCheck&&e.inputEl.on("paste",e.onPaste,e)},transformRawValue:function(e){return this.stripReturns(e)},transformOriginalValue:function(e){return this.stripReturns(e)},valueToRaw:function(e){return e=this.stripReturns(e),this.callParent([e])},stripReturns:function(e){return e&&(e=e.replace(this.returnRe,"")),e},onPaste:function(e){var t=this;t.pasteTask||(t.pasteTask=new Ext.util.DelayedTask(t.pasteCheck,t)),t.pasteTask.delay(1)},pasteCheck:function(){var e=this,t=e.getValue(),i=e.maxLength;t.length>i&&(t=t.substr(0,i),e.setValue(t))},fireKey:function(e){var t,i=this,n=e.getKey();e.isSpecialKey()&&(i.enterIsSpecial||n!==e.ENTER||e.hasModifier())&&i.fireEvent("specialkey",i,e),!i.needsMaxCheck||n===e.BACKSPACE||n===e.DELETE||e.isNavKeyPress()||i.isCutCopyPasteSelectAll(e,n)||(t=i.getValue(),t.length>=i.maxLength&&e.stopEvent())},isCutCopyPasteSelectAll:function(e,t){return!!e.CTRL&&(t===e.A||t===e.C||t===e.V||t===e.X)},autoSize:function(){var e,t=this;t.grow&&t.rendered&&(t.updateLayout(),e=t.inputEl.getHeight(),e!==t.lastInputHeight&&(t.fireEvent("autosize",t,e),t.lastInputHeight=e))},initAria:function(){this.callParent(arguments),this.getActionEl().dom.setAttribute("aria-multiline",!0)},beforeDestroy:function(){var e=this.pasteTask;e&&e.delay(),this.callParent()}}),Ext.define("Ext.layout.component.field.Trigger",{alias:"layout.triggerfield",extend:"Ext.layout.component.field.Field",type:"triggerfield",beginLayout:function(e){var t,i=this,n=i.owner;e.triggerWrap=e.getEl("triggerWrap"),i.callParent(arguments),t=n.getTriggerStateFlags(),t!=n.lastTriggerStateFlags&&(n.lastTriggerStateFlags=t,i.updateEditState())},beginLayoutFixed:function(e,t,i){var n=this,r=e.target,o=n.ieInputWidthAdjustment||0,a="100%",s=r.triggerWrap;n.callParent(arguments),r.inputCell.setStyle("width","100%"),o&&(r.inputCell.setStyle("padding-right",o+"px"),"px"===i&&(a=r.inputWidth?r.inputWidth-r.getTriggerWidth():t-o-r.getTriggerWidth(),a+="px")),r.inputEl.setStyle("width",a),a=r.inputWidth,a?s.setStyle("width",a+o+"px"):s.setStyle("width",t+i),s.setStyle("table-layout","fixed")},beginLayoutShrinkWrap:function(e){var t=e.target,i="",n=t.inputWidth,r=t.triggerWrap;this.ieInputWidthAdjustment||0;this.callParent(arguments),n?(r.setStyle("width",n+"px"),n=n-t.getTriggerWidth()+"px",t.inputEl.setStyle("width",n),t.inputCell.setStyle("width",n)):(t.inputCell.setStyle("width",i),t.inputEl.setStyle("width",i),r.setStyle("width",i),r.setStyle("table-layout","auto"))},getTextWidth:function(){var e,t=this,i=t.owner,n=i.inputEl;return e=(n.dom.value||(i.hasFocus?"":i.emptyText)||"")+i.growAppend,n.getTextWidth(e)},measureContentWidth:function(e){var t,i,n,r=this,o=r.owner,a=r.callParent(arguments),s=e.inputContext;return o.grow&&!e.state.growHandled&&(t=r.getTextWidth()+e.inputContext.getFrameInfo().width,i=o.growMax,n=Math.min(i,a),i=Math.max(o.growMin,i,n),t=Ext.Number.constrain(t,o.growMin,i),s.setWidth(t),e.state.growHandled=!0,s.domBlock(r,"width"),a=NaN),a},updateEditState:function(){var e,t,i=this,n=i.owner,r=n.inputEl,o=Ext.baseCSSPrefix+"trigger-noedit";i.owner.readOnly?(r.addCls(o),t=!0,e=!1):(i.owner.editable?(r.removeCls(o),t=!1):(r.addCls(o),t=!0),e=!i.owner.hideTrigger),n.triggerCell.setDisplayed(e),r.dom.readOnly=t}}),Ext.define("Ext.form.field.Trigger",{extend:"Ext.form.field.Text",alias:["widget.triggerfield","widget.trigger"],requires:["Ext.DomHelper","Ext.util.ClickRepeater","Ext.layout.component.field.Trigger"],alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],childEls:[{name:"triggerCell",select:"."+Ext.baseCSSPrefix+"trigger-cell"},{name:"triggerEl",select:"."+Ext.baseCSSPrefix+"form-trigger"},"triggerWrap","inputCell"],triggerBaseCls:Ext.baseCSSPrefix+"form-trigger",triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerNoEditCls:Ext.baseCSSPrefix+"trigger-noedit",hideTrigger:!1,editable:!0,readOnly:!1,repeatTriggerClick:!1,autoSize:Ext.emptyFn,monitorTab:!0,mimicing:!1,triggerIndexRe:/trigger-index-(\d+)/,componentLayout:"triggerfield",initComponent:function(){this.wrapFocusCls=this.triggerWrapCls+"-focus",this.callParent(arguments)},getSubTplMarkup:function(){var e=this,t=e.callParent(arguments);return'<table id="'+e.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+'form-trigger-wrap" cellpadding="0" cellspacing="0"><tbody><tr><td id="'+e.id+'-inputCell" class="'+Ext.baseCSSPrefix+'form-trigger-input-cell">'+t+"</td>"+e.getTriggerMarkup()+"</tr></tbody></table>"},getSubTplData:function(){var e=this,t=e.callParent(),i=e.readOnly===!0,n=e.editable!==!1;return Ext.apply(t,{editableCls:i||!n?" "+e.triggerNoEditCls:"",readOnly:!n||i})},getLabelableRenderData:function(){var e=this,t=e.triggerWrapCls,i=e.callParent(arguments);return Ext.applyIf(i,{triggerWrapCls:t,triggerMarkup:e.getTriggerMarkup()})},getTriggerMarkup:function(){var e,t=this,i=0,n=t.readOnly||t.hideTrigger,r=t.triggerBaseCls,o=[];for(t.trigger1Cls||(t.trigger1Cls=t.triggerCls),i=0;(e=t["trigger"+(i+1)+"Cls"])||i<1;i++)o.push({tag:"td",valign:"top",cls:Ext.baseCSSPrefix+"trigger-cell",style:"width:"+t.triggerWidth+(n?"px;display:none":"px"),cn:{cls:[Ext.baseCSSPrefix+"trigger-index-"+i,r,e].join(" "),role:"button"}});return o[i-1].cn.cls+=" "+r+"-last",Ext.DomHelper.markup(o)},disableCheck:function(){return!this.disabled},beforeRender:function(){var e,t=this,i=t.triggerBaseCls;t.triggerWidth||(e=Ext.resetElement.createChild({style:"position: absolute;",cls:Ext.baseCSSPrefix+"form-trigger"}),Ext.form.field.Trigger.prototype.triggerWidth=e.getWidth(),e.remove()),t.callParent(),i!=Ext.baseCSSPrefix+"form-trigger"&&t.addChildEls({name:"triggerEl",select:"."+i}),t.lastTriggerStateFlags=t.getTriggerStateFlags()},onRender:function(){var e=this;e.callParent(arguments),e.doc=Ext.getDoc(),e.initTrigger(),e.triggerEl.unselectable()},getTriggerWidth:function(){var e=this,t=0;return!e.triggerWrap||e.hideTrigger||e.readOnly||(t=e.triggerEl.getCount()*e.triggerWidth),t},setHideTrigger:function(e){e!=this.hideTrigger&&(this.hideTrigger=e,this.updateLayout())},setEditable:function(e){e!=this.editable&&(this.editable=e,this.updateLayout())},setReadOnly:function(e){e!=this.readOnly&&(this.readOnly=e,this.updateLayout())},initTrigger:function(){var e,t,i,n,r,o=this,a=o.triggerWrap,s=o.triggerEl,l=o.disableCheck;for(o.repeatTriggerClick?o.triggerRepeater=new Ext.util.ClickRepeater(a,{preventDefault:!0,handler:o.onTriggerWrapClick,listeners:{mouseup:o.onTriggerWrapMouseup,scope:o},scope:o}):o.mon(a,{click:o.onTriggerWrapClick,mouseup:o.onTriggerWrapMouseup,scope:o}),s.setVisibilityMode(Ext.Element.DISPLAY),s.addClsOnOver(o.triggerBaseCls+"-over",l,o),e=s.elements,t=e.length,n=0;n<t;n++)i=e[n],r=n+1,i.addClsOnOver(o["trigger"+r+"Cls"]+"-over",l,o),i.addClsOnClick(o["trigger"+r+"Cls"]+"-click",l,o);s.addClsOnClick(o.triggerBaseCls+"-click",l,o)},onDestroy:function(){var e=this;Ext.destroyMembers(e,"triggerRepeater","triggerWrap","triggerEl"),delete e.doc,e.callParent()},onFocus:function(){var e=this;e.callParent(arguments),e.mimicing||(e.bodyEl.addCls(e.wrapFocusCls),e.mimicing=!0,e.mon(e.doc,"mousedown",e.mimicBlur,e,{delay:10}),e.monitorTab&&e.on("specialkey",e.checkTab,e))},checkTab:function(e,t){this.ignoreMonitorTab||t.getKey()!=t.TAB||this.triggerBlur()},getTriggerStateFlags:function(){var e=this,t=0;return e.readOnly&&(t+=1),e.editable&&(t+=2),e.hideTrigger&&(t+=4),t},onBlur:Ext.emptyFn,mimicBlur:function(e){this.isDestroyed||this.bodyEl.contains(e.target)||!this.validateBlur(e)||this.triggerBlur(e)},triggerBlur:function(e){var t=this;t.mimicing=!1,t.mun(t.doc,"mousedown",t.mimicBlur,t),t.monitorTab&&t.inputEl&&t.un("specialkey",t.checkTab,t),Ext.form.field.Trigger.superclass.onBlur.call(t,e),t.bodyEl&&t.bodyEl.removeCls(t.wrapFocusCls)},validateBlur:function(e){return!0},onTriggerWrapClick:function(){var e,t,i,n,r=this;n=arguments[r.triggerRepeater?1:0],!n||r.readOnly||r.disabled||(e=n.getTarget("."+r.triggerBaseCls,null),t=e&&e.className.match(r.triggerIndexRe),t&&(i=r["onTrigger"+(parseInt(t[1],10)+1)+"Click"]||r.onTriggerClick,i&&i.call(r,n)))},onTriggerWrapMouseup:Ext.emptyFn,onTriggerClick:Ext.emptyFn}),Ext.define("Ext.form.field.File",{extend:"Ext.form.field.Trigger",alias:["widget.filefield","widget.fileuploadfield"],alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],uses:["Ext.button.Button","Ext.layout.component.field.Field"],buttonText:"Browse...",buttonOnly:!1,buttonMargin:3,fieldBodyCls:Ext.baseCSSPrefix+"form-file-wrap",readOnly:!0,triggerNoEditCls:"",componentLayout:"triggerfield",childEls:["fileInputEl","buttonEl","buttonEl-btnEl","browseButtonWrap"],onRender:function(){var e,t=this;t.callParent(arguments),e=t.inputEl,e.dom.name="",t.fileInputEl.dom.name=t.getName(),t.fileInputEl.on({scope:t,change:t.onFileChange}),t.buttonOnly&&t.inputCell.setDisplayed(!1),t.browseButtonWrap.dom.style.width=t.browseButtonWrap.dom.lastChild.offsetWidth+t.buttonEl.getMargin("lr")+"px",Ext.isIE&&t.buttonEl.repaint()},getTriggerMarkup:function(){var e,t=this,i=Ext.widget("button",Ext.apply({id:t.id+"-buttonEl",ui:t.ui,disabled:t.disabled,text:t.buttonText,cls:Ext.baseCSSPrefix+"form-file-btn",preventDefault:!1,style:t.buttonOnly?"":"margin-left:"+t.buttonMargin+"px"},t.buttonConfig)),n=i.getRenderTree(),r={id:t.id+"-fileInputEl",cls:Ext.baseCSSPrefix+"form-file-input",tag:"input",type:"file",size:1};return t.disabled&&(r.disabled=!0),n.cn=r,e='<td id="'+t.id+'-browseButtonWrap">'+Ext.DomHelper.markup(n)+"</td>",i.destroy(),e},createFileInput:function(){var e=this;e.fileInputEl=e.buttonEl.createChild({name:e.getName(),id:e.id+"-fileInputEl",cls:Ext.baseCSSPrefix+"form-file-input",tag:"input",type:"file",size:1}),e.fileInputEl.on({scope:e,change:e.onFileChange})},onFileChange:function(){this.lastValue=null,Ext.form.field.File.superclass.setValue.call(this,this.fileInputEl.dom.value)},setValue:Ext.emptyFn,reset:function(){var e=this;e.rendered&&(e.fileInputEl.remove(),e.createFileInput(),e.inputEl.dom.value=""),e.callParent()},onDisable:function(){this.callParent(),this.disableItems()},disableItems:function(){var e=this.fileInputEl;e&&(e.dom.disabled=!0),this["buttonEl-btnEl"].dom.disabled=!0},onEnable:function(){var e=this;e.callParent(),e.fileInputEl.dom.disabled=!1,this["buttonEl-btnEl"].dom.disabled=!1},isFileUpload:function(){return!0},extractFileInput:function(){var e=this.fileInputEl.dom;return this.reset(),e},onDestroy:function(){Ext.destroyMembers(this,"fileInputEl","buttonEl"),this.callParent()}}),Ext.define("Ext.form.field.Picker",{extend:"Ext.form.field.Trigger",alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",requires:["Ext.util.KeyNav"],matchFieldWidth:!0,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",editable:!0,initComponent:function(){this.callParent(),this.addEvents("expand","collapse","select")},initEvents:function(){var e=this;e.callParent(),e.keyNav=new Ext.util.KeyNav(e.inputEl,{down:e.onDownArrow,esc:{handler:e.onEsc,scope:e,defaultEventAction:!1},scope:e,forceKeyDown:!0}),e.editable||e.mon(e.inputEl,"click",e.onTriggerClick,e),Ext.isGecko&&e.inputEl.dom.setAttribute("autocomplete","off")},onEsc:function(e){var t=this;t.isExpanded?(t.collapse(),e.stopEvent()):t.up("window")?t.blur():Ext.FocusManager&&Ext.FocusManager.enabled||e.stopEvent()},onDownArrow:function(e){this.isExpanded||this.onTriggerClick()},expand:function(){var e,t,i,n=this;!n.rendered||n.isExpanded||n.isDestroyed||(e=n.bodyEl,t=n.getPicker(),i=n.collapseIf,t.show(),n.isExpanded=!0,n.alignPicker(),e.addCls(n.openCls),n.mon(Ext.getDoc(),{mousewheel:i,mousedown:i,scope:n}),Ext.EventManager.onWindowResize(n.alignPicker,n),n.fireEvent("expand",n),n.onExpand())},onExpand:Ext.emptyFn,alignPicker:function(){var e=this,t=e.getPicker();e.isExpanded&&(e.matchFieldWidth&&t.setWidth(e.bodyEl.getWidth()),t.isFloating()&&e.doAlign())},doAlign:function(){var e,t=this,i=t.picker,n="-above";t.picker.alignTo(t.inputEl,t.pickerAlign,t.pickerOffset),e=i.el.getY()<t.inputEl.getY(),t.bodyEl[e?"addCls":"removeCls"](t.openCls+n),i[e?"addCls":"removeCls"](i.baseCls+n)},collapse:function(){if(this.isExpanded&&!this.isDestroyed){var e=this,t=e.openCls,i=e.picker,n=Ext.getDoc(),r=e.collapseIf,o="-above";i.hide(),e.isExpanded=!1,e.bodyEl.removeCls([t,t+o]),i.el.removeCls(i.baseCls+o),n.un("mousewheel",r,e),n.un("mousedown",r,e),Ext.EventManager.removeResizeListener(e.alignPicker,e),e.fireEvent("collapse",e),e.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(e){var t=this;t.isDestroyed||e.within(t.bodyEl,!1,!0)||e.within(t.picker.el,!1,!0)||t.isEventWithinPickerLoadMask(e)||t.collapse()},getPicker:function(){var e=this;return e.picker||(e.picker=e.createPicker())},createPicker:Ext.emptyFn,onTriggerClick:function(){var e=this;e.readOnly||e.disabled||(e.isExpanded?e.collapse():e.expand(),e.inputEl.focus())},mimicBlur:function(e){var t=this,i=t.picker;i&&(e.within(i.el,!1,!0)||t.isEventWithinPickerLoadMask(e))||t.callParent(arguments)},onDestroy:function(){var e=this,t=e.picker;Ext.EventManager.removeResizeListener(e.alignPicker,e),Ext.destroy(e.keyNav),t&&(delete t.pickerField,t.destroy()),e.callParent()},isEventWithinPickerLoadMask:function(e){var t=this.picker.loadMask;return!!t&&(e.within(t.maskEl,!1,!0)||e.within(t.el,!1,!0))}}),Ext.define("Ext.form.field.Spinner",{extend:"Ext.form.field.Trigger",alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",requires:["Ext.util.KeyNav"],trigger1Cls:Ext.baseCSSPrefix+"form-spinner-up",trigger2Cls:Ext.baseCSSPrefix+"form-spinner-down",spinUpEnabled:!0,spinDownEnabled:!0,keyNavEnabled:!0,mouseWheelEnabled:!0,repeatTriggerClick:!0,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,triggerTpl:'<td style="{triggerStyle}"><div class="'+Ext.baseCSSPrefix+"trigger-index-0 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-up" role="button"></div><div class="'+Ext.baseCSSPrefix+"trigger-index-1 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-down" role="button"></div></td></tr>',initComponent:function(){this.callParent(),this.addEvents("spin","spinup","spindown")},onRender:function(){var e,t=this;t.callParent(arguments),e=t.triggerEl,t.spinUpEl=e.item(0),t.spinDownEl=e.item(1),t.triggerCell=t.spinUpEl.parent(),t.setSpinUpEnabled(t.spinUpEnabled),t.setSpinDownEnabled(t.spinDownEnabled),t.keyNavEnabled&&(t.spinnerKeyNav=new Ext.util.KeyNav(t.inputEl,{scope:t,up:t.spinUp,down:t.spinDown})),t.mouseWheelEnabled&&t.mon(t.bodyEl,"mousewheel",t.onMouseWheel,t)},getSubTplMarkup:function(){var e=this,t=Ext.form.field.Base.prototype.getSubTplMarkup.apply(e,arguments);return'<table id="'+e.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+'form-trigger-wrap" cellpadding="0" cellspacing="0"><tbody><tr><td id="'+e.id+'-inputCell" class="'+Ext.baseCSSPrefix+'form-trigger-input-cell">'+t+"</td>"+e.getTriggerMarkup()+"</tbody></table>"},getTriggerMarkup:function(){var e=this,t=e.readOnly||e.hideTrigger;return e.getTpl("triggerTpl").apply({triggerStyle:"width:"+e.triggerWidth+(t?"px;display:none":"px")})},getTriggerWidth:function(){var e=this,t=0;return!e.triggerWrap||e.hideTrigger||e.readOnly||(t=e.triggerWidth),t},onTrigger1Click:function(){this.spinUp()},onTrigger2Click:function(){this.spinDown()},onTriggerWrapMouseup:function(){this.inputEl.focus()},spinUp:function(){var e=this;e.spinUpEnabled&&!e.disabled&&(e.fireEvent("spin",e,"up"),e.fireEvent("spinup",e),e.onSpinUp())},spinDown:function(){var e=this;e.spinDownEnabled&&!e.disabled&&(e.fireEvent("spin",e,"down"),e.fireEvent("spindown",e),e.onSpinDown())},setSpinUpEnabled:function(e){var t=this,i=t.spinUpEnabled;t.spinUpEnabled=e,i!==e&&t.rendered&&t.spinUpEl[e?"removeCls":"addCls"](t.trigger1Cls+"-disabled")},setSpinDownEnabled:function(e){var t=this,i=t.spinDownEnabled;t.spinDownEnabled=e,i!==e&&t.rendered&&t.spinDownEl[e?"removeCls":"addCls"](t.trigger2Cls+"-disabled")},onMouseWheel:function(e){var t,i=this;i.hasFocus&&(t=e.getWheelDelta(),t>0?i.spinUp():t<0&&i.spinDown(),e.stopEvent())},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav","spinUpEl","spinDownEl"),this.callParent()}}),Ext.define("Ext.form.field.Number",{extend:"Ext.form.field.Spinner",alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowDecimals:!0,decimalSeparator:".",submitLocaleSeparator:!0,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:!1,initComponent:function(){var e,t=this;t.callParent(),t.setMinValue(t.minValue),t.setMaxValue(t.maxValue),t.disableKeyFilter!==!0&&(e=t.baseChars+"",t.allowDecimals&&(e+=t.decimalSeparator),t.minValue<0&&(e+="-"),e=Ext.String.escapeRegex(e),t.maskRe=new RegExp("["+e+"]"),t.autoStripChars&&(t.stripCharsRe=new RegExp("[^"+e+"]","gi")))},getErrors:function(e){var t,i=this,n=i.callParent(arguments),r=Ext.String.format;return e=Ext.isDefined(e)?e:this.processRawValue(this.getRawValue()),e.length<1?n:(e=String(e).replace(i.decimalSeparator,"."),isNaN(e)&&n.push(r(i.nanText,e)),t=i.parseValue(e),0===i.minValue&&t<0?n.push(this.negativeText):t<i.minValue&&n.push(r(i.minText,i.minValue)),t>i.maxValue&&n.push(r(i.maxText,i.maxValue)),n)},rawToValue:function(e){var t=this.fixPrecision(this.parseValue(e));return null===t&&(t=e||null),t},valueToRaw:function(e){var t=this,i=t.decimalSeparator;return e=t.parseValue(e),e=t.fixPrecision(e),e=Ext.isNumber(e)?e:parseFloat(String(e).replace(i,".")),e=isNaN(e)?"":String(e).replace(".",i)},getSubmitValue:function(){var e=this,t=e.callParent();return e.submitLocaleSeparator||(t=t.replace(e.decimalSeparator,".")),t},onChange:function(){this.toggleSpinners(),this.callParent(arguments)},toggleSpinners:function(){var e=this,t=e.getValue(),i=null===t;e.setSpinUpEnabled(i||t<e.maxValue),e.setSpinDownEnabled(i||t>e.minValue)},setMinValue:function(e){this.minValue=Ext.Number.from(e,Number.NEGATIVE_INFINITY),this.toggleSpinners()},setMaxValue:function(e){this.maxValue=Ext.Number.from(e,Number.MAX_VALUE),this.toggleSpinners()},parseValue:function(e){return e=parseFloat(String(e).replace(this.decimalSeparator,".")),isNaN(e)?null:e},fixPrecision:function(e){var t=this,i=isNaN(e),n=t.decimalPrecision;return i||!e?i?"":e:((!t.allowDecimals||n<=0)&&(n=0),parseFloat(Ext.Number.toFixed(parseFloat(e),n)))},beforeBlur:function(){var e=this,t=e.parseValue(e.getRawValue());Ext.isEmpty(t)||e.setValue(t)},onSpinUp:function(){var e=this;e.readOnly||e.setValue(Ext.Number.constrain(e.getValue()+e.step,e.minValue,e.maxValue))},onSpinDown:function(){var e=this;e.readOnly||e.setValue(Ext.Number.constrain(e.getValue()-e.step,e.minValue,e.maxValue))}}),Ext.define("Ext.layout.component.field.ComboBox",{extend:"Ext.layout.component.field.Trigger",alias:"layout.combobox",requires:["Ext.util.TextMetrics"],type:"combobox",startingWidth:null,getTextWidth:function(){for(var e,t,i,n=this,r=n.owner,o=r.store,a=r.displayField,s=o.data.length,l="",d=0,u=0;d<s;d++)t=o.getAt(d).data[a],e=t.length,e>u&&(u=e,l=t);return i=Math.max(n.callParent(arguments),r.inputEl.getTextWidth(l+r.growAppend)),n.startingWidth&&!r.removingRecords||(n.startingWidth=i,i<r.growMin&&(r.defaultListConfig.minWidth=r.growMin),r.removingRecords=!1),i<n.startingWidth?n.startingWidth:i}}),Ext.define("Ext.layout.container.Container",{extend:"Ext.layout.Layout",alternateClassName:"Ext.layout.ContainerLayout",mixins:{elementCt:"Ext.util.ElementContainer"},requires:["Ext.XTemplate"],type:"container",manageOverflow:0,beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,childEls:["overflowPadderEl"],renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,reserveScrollbar:!1,lastOverflowAdjust:{width:0,height:0},constructor:function(){this.callParent(arguments),this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent(),this.mixins.elementCt.destroy.call(this)},initLayout:function(){var e=this,t=Ext.getScrollbarSize().width;e.callParent(),t&&e.manageOverflow&&!e.hasOwnProperty("lastOverflowAdjust")&&(e.owner.autoScroll||e.reserveScrollbar)&&(e.lastOverflowAdjust={width:t,height:0})},beginLayout:function(e){this.callParent(arguments),e.targetContext=e.getEl("getTarget",this),this.cacheChildItems(e)},beginLayoutCycle:function(e,t){var i=this,n=i.overflowPadderEl;i.callParent(arguments),e.state.overflowAdjust||(e.state.overflowAdjust=i.lastOverflowAdjust),t&&(i.usesContainerHeight&&++e.consumersContainerHeight,i.usesContainerWidth&&++e.consumersContainerWidth),n&&n.setStyle("display","none")},completeLayout:function(e){this.lastOverflowAdjust=e.state.overflowAdjust},cacheChildItems:function(e){var t,i=e.context,n=[],r=this.getVisibleItems(),o=r.length;for(e.childItems=n,e.visibleItems=r,t=0;t<o;++t)n.push(i.getCmp(r[t]))},cacheElements:function(){var e=this.owner;this.applyChildEls(e.el,e.id)},calculateContentSize:function(e,t){var i,n,r,o,a,s,l,d,u,c,h,g,p,f,m=this,x=(t||0)|m.manageOverflow|((e.widthModel.shrinkWrap?1:0)|(e.heightModel.shrinkWrap?2:0)),y=1&x||void 0,v=2&x||void 0,E=e.childItems,b=E.length,w=0,C=0,S=0,_=e.props;if(y&&(isNaN(_.contentWidth)?++S:y=void 0),v&&(isNaN(_.contentHeight)?++S:v=void 0),S){for(h=0;h<b;++h)if(l=E[h],s=l.target,c=v&&l.getProp("height"),p=y&&l.getProp("width"),g=l.getMarginInfo(),y&&isNaN(s.x)||v&&isNaN(s.y)?(f=s.el.getXY(),i||(i=e.targetContext.el.getXY(),a=e.targetContext.getBorderInfo(),n=i[0]+a.left,r=i[1]+a.top),d=f[0]-n,u=f[1]-r):(d=s.x,u=s.y),c+=g.bottom,p+=g.right,w=Math.max(w,u+c),C=Math.max(C,d+p),isNaN(w)&&isNaN(C))return void(m.done=!1);(y||v)&&(o=e.targetContext.getPaddingInfo()),y&&!e.setContentWidth(C+o.right)&&(m.done=!1),v&&!e.setContentHeight(w+o.bottom)&&(m.done=!1)}},calculateOverflow:function(e,t,i){var n,r,o,a,s,l,d,u,c,h,g,p,f,m,x=this,y=x.owner,v=x.manageOverflow,E=e.state,b=E.overflowAdjust;!v||E.secondPass||x.reserveScrollbar||(y.autoScroll?f=m=!0:(y.overflowX?f="auto"==y.overflowX:(l=e.targetContext.getStyle("overflow-x"),f=l&&"hidden"!=l&&"scroll"!=l),y.overflowY?m="auto"==y.overflowY:(l=e.targetContext.getStyle("overflow-y"),m=l&&"hidden"!=l&&"scroll"!=l)),t.gotWidth||(f=!1),t.gotHeight||(m=!1),(f||m)&&(d=Ext.getScrollbarSize(),u=e.peek("contentWidth"),c=e.peek("contentHeight"),h=t.width,g=t.height,p=x.getScrollbarsNeeded(h,g,u,c),E.overflowState=p,"number"==typeof i&&(p&=~i),
b={width:f&&2&p?d.width:0,height:m&&1&p?d.height:0},b.width===x.lastOverflowAdjust.width&&b.height===x.lastOverflowAdjust.height||(x.done=!1,e.invalidate({state:{overflowAdjust:b,overflowState:E.overflowState,secondPass:!0}})))),x.done&&(o=e.padElContext||(e.padElContext=e.getEl("overflowPadderEl",x)),o&&(p=E.overflowState,n=t.width,r=0,p?(a=e.targetContext.getPaddingInfo(),s=x.scrollRangeFlags,2&p&&1&s&&(r+=a.bottom),1&p&&4&s&&(n+=a.right),o.setProp("display",""),o.setSize(n,r)):o.setProp("display","none")))},configureItem:function(e){var t=this,i=t.owner.itemCls,n=[].concat(t.itemCls||[]);t.callParent(arguments),i&&(n=Ext.Array.push(n,i)),e.addCls(n)},doRenderBody:function(e,t){this.renderItems(e,t),this.renderContent(e,t)},doRenderContainer:function(e,t){var i=t.$comp.layout,n=i.getRenderTpl(),r=i.getRenderData();n.applyOut(r,e)},doRenderItems:function(e,t){var i=t.$layout,n=i.getRenderTree();n&&Ext.DomHelper.generateMarkup(n,e)},doRenderPadder:function(e,t){var i=t.$layout,n=i.owner,r=i.getScrollRangeFlags();2==i.manageOverflow&&5&r&&(e.push('<div id="',n.id,'-overflowPadderEl" ','style="font-size: 1px; width:1px; height: 1px;'),e.push('"></div>'),i.scrollRangeFlags=r)},finishRender:function(){var e,t,i=this;i.callParent(),i.cacheElements(),e=i.getRenderTarget(),t=i.getLayoutItems(),i.targetCls&&i.getTarget().addCls(i.targetCls),i.finishRenderItems(e,t)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(e,t){var i,n,r,o,a=e.targetContext,s=a.getFrameInfo(),l=a.getPaddingInfo(),d=0,u=0,c=e.state.overflowAdjust;return e.widthModel.shrinkWrap||(++u,r=t?a.getDomProp("width"):a.getProp("width"),i="number"==typeof r,i&&(++d,r-=s.width+l.width,c&&(r-=c.width))),e.heightModel.shrinkWrap||(++u,o=t?a.getDomProp("height"):a.getProp("height"),n="number"==typeof o,n&&(++d,o-=s.height+l.height,c&&(o-=c.height))),{width:r,height:o,needed:u,got:d,gotAll:d==u,gotWidth:i,gotHeight:n}},getLayoutItems:function(){var e=this.owner,t=e&&e.items;return t&&t.items||[]},getRenderData:function(){var e=this.owner;return{$comp:e,$layout:this,ownerId:e.id}},getRenderedItems:function(){var e,t,i=this,n=i.getRenderTarget(),r=i.getLayoutItems(),o=r.length,a=[];for(e=0;e<o;e++)t=r[e],t.rendered&&i.isValidParent(t,n,e)&&a.push(t);return a},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var e=this,t=Ext.XTemplate.getTpl(this,"renderTpl");return t.renderContent||e.owner.setupRenderTpl(t),t},getRenderTree:function(){var e,t,i=this.owner.items,n={};do t=i.generation,e=this.getItemsRenderTree(this.getLayoutItems(),n);while(i.generation!==t);return e},getScrollbarsNeeded:function(e,t,i,n){var r=Ext.getScrollbarSize(),o="number"==typeof e,a="number"==typeof t,s=0,l=0;return r.width?(a&&t<n&&(l=2,e-=r.width),o&&e<i&&(s=1,!l&&a&&(t-=r.height,t<n&&(l=2))),l+s):0},getScrollRangeFlags:function(){var e=-1;return function(){if(e<0){var t=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"border-box",style:{width:"100px",height:"100px",padding:"10px",overflow:"auto"},children:[{style:{border:"1px solid red",width:"150px",height:"150px",margin:"0 5px 5px 0"}}]}),i=t.dom.scrollHeight,n=t.dom.scrollWidth,r={175:0,165:1,170:2,160:3},o={175:0,165:4,170:8,160:12};e=(r[i]||0)|(o[n]||0),t.remove()}return e}}(),getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var e,t,i=this.getRenderTarget(),n=this.getLayoutItems(),r=n.length,o=[];for(e=0;e<r;e++)t=n[e],t.rendered&&this.isValidParent(t,i,e)&&t.hidden!==!0&&o.push(t);return o},setupRenderTpl:function(e){var t=this;e.renderBody=t.doRenderBody,e.renderContainer=t.doRenderContainer,e.renderItems=t.doRenderItems,e.renderPadder=t.doRenderPadder}}),Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:"Ext.layout.container.Container",type:"autocontainer",childEls:["clearEl"],renderTpl:["{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear" role="presentation"></div>'],calculate:function(e){var t,i=this;e.hasDomProp("containerChildrenDone")?(t=i.getContainerSize(e),t.gotAll||(i.done=!1),i.calculateContentSize(e)):i.done=!1}}),Ext.define("Ext.container.AbstractContainer",{extend:"Ext.Component",requires:["Ext.util.MixedCollection","Ext.layout.container.Auto","Ext.ZIndexManager"],renderTpl:"{%this.renderContainer(out,values)%}",suspendLayout:!1,autoDestroy:!0,defaultType:"panel",detachOnRemove:!0,isContainer:!0,layoutCounter:0,baseCls:Ext.baseCSSPrefix+"container",bubbleEvents:["add","remove"],initComponent:function(){var e=this;e.addEvents("afterlayout","beforeadd","beforeremove","add","remove"),e.callParent(),e.getLayout(),e.initItems()},initItems:function(){var e=this,t=e.items;e.items=new Ext.util.AbstractMixedCollection(!1,e.getComponentId),t&&(Ext.isArray(t)||(t=[t]),e.add(t))},getFocusEl:function(){return this.getTargetEl()},finishRenderChildren:function(){this.callParent();var e=this.getLayout();e&&e.finishRender()},beforeRender:function(){var e=this,t=e.getLayout();e.callParent(),t.initialized||t.initLayout()},setupRenderTpl:function(e){var t=this.getLayout();this.callParent(arguments),t.setupRenderTpl(e)},setLayout:function(e){var t=this.layout;t&&t.isLayout&&t!=e&&t.setOwner(null),this.layout=e,e.setOwner(this)},getLayout:function(){var e=this;return e.layout&&e.layout.isLayout||e.setLayout(Ext.layout.Layout.create(e.layout,e.self.prototype.layout||"autocontainer")),e.layout},doLayout:function(){return this.updateLayout(),this},afterLayout:function(e){var t=this;++t.layoutCounter,t.hasListeners.afterlayout&&t.fireEvent("afterlayout",t,e)},prepareItems:function(e,t){e=Ext.isArray(e)?e.slice():[e];for(var i,n=this,r=0,o=e.length;r<o;r++)i=e[r],null==i?(Ext.Array.erase(e,r,1),--r,--o):(t&&(i=this.applyDefaults(i)),i.isContained=n,e[r]=n.lookupComponent(i),delete i.isContained);return e},applyDefaults:function(e){var t=this.defaults;return t&&(Ext.isFunction(t)&&(t=t.call(this,e)),Ext.isString(e)&&(e=Ext.ComponentManager.get(e)),Ext.applyIf(e,t)),e},lookupComponent:function(e){return"string"==typeof e?Ext.ComponentManager.get(e):Ext.ComponentManager.create(e,this.defaultType)},getComponentId:function(e){return e.getItemId()},add:function(){var e,t,i,n,r,o,a,s=this,l=Ext.Array.slice(arguments),d="number"==typeof l[0]?l.shift():-1,u=s.getLayout();for(1==l.length&&Ext.isArray(l[0])?(t=l[0],e=!0):t=l,a=t=s.prepareItems(t,!0),n=t.length,s.rendered&&Ext.suspendLayouts(),e||1!=n||(a=t[0]),i=0;i<n;i++)r=t[i],o=d<0?s.items.length:d+i,r.floating?(s.floatingItems=s.floatingItems||new Ext.util.MixedCollection,s.floatingItems.add(r),r.onAdded(s,o)):s.hasListeners.beforeadd&&s.fireEvent("beforeadd",s,r,o)===!1||s.onBeforeAdd(r)===!1||(s.items.insert(o,r),r.onAdded(s,o),s.onAdd(r,o),u.onAdd(r,o),s.hasListeners.add&&s.fireEvent("add",s,r,o));return s.updateLayout(),s.rendered&&Ext.resumeLayouts(!0),a},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(e,t){return this.add(e,t)},move:function(e,t){var i,n=this.items;return i=n.removeAt(e),i!==!1&&(n.insert(t,i),this.doLayout(),i)},onBeforeAdd:function(e){var t=this,i=e.border;e.ownerCt&&e.ownerCt!==t&&e.ownerCt.remove(e,!1),t.border!==!1&&0!==t.border||(e.border=Ext.isDefined(i)&&i!==!1&&0!==i)},remove:function(e,t){var i=this,n=i.getComponent(e);return!n||i.hasListeners.beforeremove&&i.fireEvent("beforeremove",i,n)===!1||(i.doRemove(n,t),i.hasListeners.remove&&i.fireEvent("remove",i,n),i.destroying||i.doLayout()),n},doRemove:function(e,t){var i=this,n=i.layout,r=n&&i.rendered,o=t===!0||t!==!1&&i.autoDestroy;t=t===!0||t!==!1&&i.autoDestroy,i.items.remove(e),r&&(n.running&&Ext.AbstractComponent.cancelLayout(e,o),n.onRemove(e,o)),e.onRemoved(o),i.onRemove(e,o),o?e.destroy():(r&&n.afterRemove(e),i.detachOnRemove&&e.rendered&&Ext.getDetachedBody().appendChild(e.getEl()))},removeAll:function(e){var t,i=this,n=i.items.items.slice(),r=[],o=0,a=n.length;for(i.suspendLayouts();o<a;o++)t=n[o],i.remove(t,e),t.ownerCt!==i&&r.push(t);return i.resumeLayouts(!!a),r},getRefItems:function(e){for(var t,i=this,n=i.items.items,r=n.length,o=0,a=[];o<r;o++)t=n[o],a.push(t),e&&t.getRefItems&&a.push.apply(a,t.getRefItems(!0));return i.floatingItems&&a.push.apply(a,i.floatingItems.items),a},cascade:function(e,t,i){var n,r=this,o=r.items?r.items.items:[],a=o.length,s=0,l=i?i.concat(r):[r],d=l.length-1;if(e.apply(t||r,l)!==!1)for(;s<a;s++)n=o[s],n.cascade?n.cascade(e,t,i):(l[d]=n,e.apply(t||o,l));return this},isAncestor:function(e){for(;e;){if(e.ownerCt===this)return!0;e=e.ownerCt}},getComponent:function(e){return Ext.isObject(e)&&(e=e.getItemId()),this.items.get(e)},query:function(e){return e=e||"*",Ext.ComponentQuery.query(e,this)},queryBy:function(e,t){for(var i,n=[],r=this.getRefItems(!0),o=0,a=r.length;o<a;++o)i=r[o],e.call(t||i,i)!==!1&&n.push(i);return n},queryById:function(e){return this.down("#"+e)},child:function(e){return e=e||"",this.query("> "+e)[0]||null},nextChild:function(e,t){var i,n=this,r=n.items.indexOf(e);return r!==-1&&(i=t?Ext.ComponentQuery(t,n.items.items.slice(r+1)):n.items.getAt(r+1),!i&&n.ownerCt&&(i=n.ownerCt.nextChild(n,t))),i},prevChild:function(e,t){var i,n=this,r=n.items.indexOf(e);return r!==-1&&(i=t?Ext.ComponentQuery(t,n.items.items.slice(r+1)):n.items.getAt(r+1),!i&&n.ownerCt&&(i=n.ownerCt.nextChild(n,t))),i},down:function(e){return this.query(e)[0]||null},enable:function(){this.callParent(arguments);var e,t,i=this.getChildItemsToDisable(),n=i.length;for(t=0;t<n;t++)e=i[t],e.resetDisable&&e.enable();return this},disable:function(){this.callParent(arguments);var e,t,i=this.getChildItemsToDisable(),n=i.length;for(t=0;t<n;t++)e=i[t],e.resetDisable===!1||e.disabled||(e.disable(),e.resetDisable=!0);return this},getChildItemsToDisable:function(){return this.query("[isFormField],button")},beforeLayout:function(){return!0},beforeDestroy:function(){var e,t=this,i=t.items;if(i)for(;e=i.first();)t.doRemove(e,!0);Ext.destroy(t.layout),t.callParent()}}),Ext.define("Ext.container.Container",{extend:"Ext.container.AbstractContainer",alias:"widget.container",alternateClassName:"Ext.Container",fireHierarchyEvent:function(e){this.hierarchyEventSource.fireEvent(e,this)},afterHide:function(){this.callParent(arguments),this.fireHierarchyEvent("hide")},afterShow:function(){this.callParent(arguments),this.fireHierarchyEvent("show")},onAdded:function(){this.callParent(arguments),this.hierarchyEventSource.hasListeners.added&&this.fireHierarchyEvent("added")},getChildByElement:function(e,t){var i,n,r=0,o=this.getRefItems(),a=o.length;for(e=Ext.getDom(e);r<a;r++)if(i=o[r],n=i.getEl(),n&&(n.dom===e||n.contains(e)))return t&&i.getChildByElement?i.getChildByElement(e,t):i;return null}},function(){this.hierarchyEventSource=this.prototype.hierarchyEventSource=new Ext.util.Observable({events:{hide:!0,show:!0,collapse:!0,expand:!0,added:!0}})}),Ext.define("Ext.container.Viewport",{extend:"Ext.container.Container",alias:"widget.viewport",requires:["Ext.EventManager"],alternateClassName:"Ext.Viewport",isViewport:!0,ariaRole:"application",preserveElOnDestroy:!0,initComponent:function(){var e,t=this,i=document.body.parentNode;Ext.getScrollbarSize(),t.width=t.height=void 0,t.callParent(arguments),Ext.fly(i).addCls(Ext.baseCSSPrefix+"viewport"),t.autoScroll&&(delete t.autoScroll,Ext.fly(i).setStyle("overflow","auto")),t.el=e=Ext.getBody(),e.setHeight=Ext.emptyFn,e.setWidth=Ext.emptyFn,e.setSize=Ext.emptyFn,e.dom.scroll="no",t.allowDomMove=!1,t.renderTo=t.el},onRender:function(){var e=this;e.callParent(arguments),e.width=Ext.Element.getViewportWidth(),e.height=Ext.Element.getViewportHeight()},afterFirstLayout:function(){var e=this;e.callParent(arguments),setTimeout(function(){Ext.EventManager.onWindowResize(e.fireResize,e)},1)},fireResize:function(e,t){e==this.width&&t==this.height||this.setSize(e,t)}}),Ext.define("Ext.form.FieldContainer",{extend:"Ext.container.Container",mixins:{labelable:"Ext.form.Labelable",fieldAncestor:"Ext.form.FieldAncestor"},requires:"Ext.layout.component.field.FieldContainer",alias:"widget.fieldcontainer",componentLayout:"fieldcontainer",componentCls:Ext.baseCSSPrefix+"form-fieldcontainer",combineLabels:!1,labelConnector:", ",combineErrors:!1,maskOnDisable:!1,fieldSubTpl:"{%this.renderContainer(out,values)%}",initComponent:function(){var e=this;e.initLabelable(),e.initFieldAncestor(),e.callParent()},beforeRender:function(){this.callParent(arguments),this.beforeLabelableRender(arguments)},onLabelableAdded:function(e){var t=this;t.mixins.fieldAncestor.onLabelableAdded.call(this,e),t.updateLabel()},onLabelableRemoved:function(e){var t=this;t.mixins.fieldAncestor.onLabelableRemoved.call(this,e),t.updateLabel()},initRenderTpl:function(){var e=this;return e.hasOwnProperty("renderTpl")||(e.renderTpl=e.getTpl("labelableRenderTpl")),e.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},getFieldLabel:function(){var e=this.fieldLabel||"";return!e&&this.combineLabels&&(e=Ext.Array.map(this.query("[isFieldLabelable]"),function(e){return e.getFieldLabel()}).join(this.labelConnector)),e},getSubTplData:function(){var e=this.initRenderData();return Ext.apply(e,this.subTplData),e},getSubTplMarkup:function(){var e,t=this,i=t.getTpl("fieldSubTpl");return i.renderContent||t.setupRenderTpl(i),e=i.apply(t.getSubTplData())},updateLabel:function(){var e=this,t=e.labelEl;t&&e.setFieldLabel(e.getFieldLabel())},onFieldErrorChange:function(e,t){if(this.combineErrors){var i=this,n=i.getActiveError(),r=Ext.Array.filter(i.query("[isFormField]"),function(e){return e.hasActiveError()}),o=i.getCombinedErrors(r);o?i.setActiveErrors(o):i.unsetActiveError(),n!==i.getActiveError()&&i.doComponentLayout()}},getCombinedErrors:function(e){var t,i,n,r,o,a,s,l=[],d=e.length;for(t=0;t<d;t++)for(i=e[t],n=i.getActiveErrors(),o=n.length,r=0;r<o;r++)a=n[r],s=i.getFieldLabel(),l.push((s?s+": ":"")+a);return l},getTargetEl:function(){return this.bodyEl||this.callParent()}}),Ext.define("Ext.form.FieldSet",{extend:"Ext.container.Container",alias:"widget.fieldset",uses:["Ext.form.field.Checkbox","Ext.panel.Tool","Ext.layout.container.Anchor","Ext.layout.component.FieldSet"],collapsed:!1,toggleOnTitleClick:!0,baseCls:Ext.baseCSSPrefix+"fieldset",layout:"anchor",border:1,componentLayout:"fieldset",autoEl:"fieldset",childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" class="{baseCls}-body">',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:!1,beforeDestroy:function(){var e=this,t=e.legend;t&&(delete t.ownerCt,t.destroy(),e.legend=null),e.callParent()},initComponent:function(){var e=this,t=e.baseCls;e.callParent(),e.addEvents("beforeexpand","beforecollapse","expand","collapse"),e.collapsed&&(e.addCls(t+"-collapsed"),e.collapse()),e.title&&e.addCls(t+"-with-title"),(e.title||e.checkboxToggle||e.collapsible)&&(e.addCls(t+"-with-legend"),e.legend=Ext.widget(e.createLegendCt()))},initRenderData:function(){var e=this.callParent();return e.baseCls=this.baseCls,e},getState:function(){var e=this.callParent();return e=this.addPropertyToState(e,"collapsed")},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return!0},collapsedVertical:function(){return!0},createLegendCt:function(){var e=this,t=[],i={xtype:"container",baseCls:e.baseCls+"-header",id:e.id+"-legend",autoEl:"legend",items:t,ownerCt:e,ownerLayout:e.componentLayout};return e.checkboxToggle?t.push(e.createCheckboxCmp()):e.collapsible&&t.push(e.createToggleCmp()),t.push(e.createTitleCmp()),i},createTitleCmp:function(){var e=this,t={xtype:"component",html:e.title,cls:e.baseCls+"-header-text",id:e.id+"-legendTitle"};return e.collapsible&&e.toggleOnTitleClick&&(t.listeners={el:{scope:e,click:e.toggle}},t.cls+=" "+e.baseCls+"-header-text-collapsible"),e.titleCmp=Ext.widget(t)},createCheckboxCmp:function(){var e=this,t="-checkbox";return e.checkboxCmp=Ext.widget({xtype:"checkbox",hideEmptyLabel:!0,name:e.checkboxName||e.id+t,cls:e.baseCls+"-header"+t,id:e.id+"-legendChk",checked:!e.collapsed,listeners:{change:e.onCheckChange,scope:e}}),e.checkboxCmp},createToggleCmp:function(){var e=this;return e.toggleCmp=Ext.widget({xtype:"tool",type:"toggle",handler:e.toggle,id:e.id+"-legendToggle",scope:e}),e.toggleCmp},doRenderLegend:function(e,t){var i,n=t.$comp,r=n.legend;r&&(r.ownerLayout.configureItem(r),i=r.getRenderTree(),Ext.DomHelper.generateMarkup(i,e))},finishRender:function(){var e=this.legend;this.callParent(),e&&e.finishRender()},getCollapsed:function(){return!!this.collapsed&&"top"},getCollapsedDockedItems:function(){var e=this.legend;return e?[e]:[]},setTitle:function(e){var t=this,i=t.legend;return t.title=e,t.rendered&&(t.legend||(t.legend=i=Ext.widget(t.createLegendCt()),i.ownerLayout.configureItem(i),i.render(t.el,0)),t.titleCmp.update(e)),t},getTargetEl:function(){return this.body||this.frameBody||this.el},getContentTarget:function(){return this.body},expand:function(){return this.setExpanded(!0)},collapse:function(){return this.setExpanded(!1)},setExpanded:function(e){var t=this,i=t.checkboxCmp,n=e?"expand":"collapse";return t.rendered&&t.fireEvent("before"+n,t)===!1||(e=!!e,i&&i.setValue(e),e?t.removeCls(t.baseCls+"-collapsed"):t.addCls(t.baseCls+"-collapsed"),t.collapsed=!e,t.rendered&&(t.updateLayout({isRoot:!1}),t.fireEvent(n,t))),t},getRefItems:function(e){var t=this.callParent(arguments),i=this.legend;return i&&(t.unshift(i),e&&t.unshift.apply(t,i.getRefItems(!0))),t},toggle:function(){this.setExpanded(!!this.collapsed)},onCheckChange:function(e,t){this.setExpanded(t)},setupRenderTpl:function(e){this.callParent(arguments),e.renderLegend=this.doRenderLegend}}),Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",manageOverflow:2,renderTpl:["{%this.renderBody(out,values);this.renderPadder(out,values)%}"],defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,beginLayout:function(e){var t,i,n,r,o,a,s=this,l=0;for(s.callParent(arguments),n=e.childItems,o=n.length,r=0;r<o&&(i=n[r],t=i.target.anchorSpec,!t||(i.widthModel.calculated&&t.right&&(l|=1),i.heightModel.calculated&&t.bottom&&(l|=2),3!=l));++r);e.anchorDimensions=l,Ext.supports.RightMargin||s.rightMarginCleanerFn||(a=e.targetContext.el,s.rightMarginCleanerFn=Ext.Element.getRightMarginFixCleaner(a),a.addCls(Ext.baseCSSPrefix+"inline-children"))},calculate:function(e){var t=this,i=t.getContainerSize(e);return e.anchorDimensions!==e.state.calculatedAnchors&&t.calculateAnchors(e,i),e.hasDomProp("containerChildrenDone")&&(i.gotAll||(t.done=!1),t.calculateContentSize(e,e.anchorDimensions),t.done)?void t.calculateOverflow(e,i,e.anchorDimensions):void(t.done=!1)},calculateAnchors:function(e,t){var i,n,r,o,a,s,l=this,d=e.childItems,u=d.length,c=t.gotHeight,h=t.gotWidth,g=t.height,p=t.width,f=e.state,m=(h?1:0)|(c?2:0);for(f.calculatedAnchors=(f.calculatedAnchors||0)|m,a=0;a<u;a++)n=d[a],r=n.getMarginInfo(),i=n.target.anchorSpec,h&&n.widthModel.calculated&&(s=i.right(p)-r.width,s=l.adjustWidthAnchor(s,n),n.setWidth(s)),c&&n.heightModel.calculated&&(o=i.bottom(g)-r.height,o=l.adjustHeightAnchor(o,n),n.setHeight(o))},finishedLayout:function(e){var t=this.rightMarginCleanerFn;t&&(delete this.rightMarginCleanerFn,e.targetContext.el.removeCls(Ext.baseCSSPrefix+"inline-children"),t())},anchorFactory:{offset:function(e){return function(t){return t+e}},ratio:function(e){return function(t){return Math.floor(t*e)}},standard:function(e){return function(t){return t-e}}},parseAnchor:function(e,t,i){if(e&&"none"!=e){var n,r=this.anchorFactory;if(this.parseAnchorRE.test(e))return r.standard(i-t);if(e.indexOf("%")!=-1)return r.ratio(.01*parseFloat(e.replace("%","")));if(n=parseInt(e,10),!isNaN(n))return r.offset(n)}return null},adjustWidthAnchor:function(e,t){return e},adjustHeightAnchor:function(e,t){return e},configureItem:function(e){var t,i,n,r=this,o=r.owner,a=e.anchor;r.callParent(arguments),e.anchor||!e.items||Ext.isNumber(e.width)||Ext.isIE6&&Ext.isStrict||(e.anchor=a=r.defaultAnchor),o.anchorSize?"number"==typeof o.anchorSize?i=o.anchorSize:(i=o.anchorSize.width,n=o.anchorSize.height):(i=o.initialConfig.width,n=o.initialConfig.height),a&&(t=a.split(" "),e.anchorSpec={right:r.parseAnchor(t[0],e.initialConfig.width,i),bottom:r.parseAnchor(t[1],e.initialConfig.height,n)})},sizePolicy:{"":{setsWidth:0,setsHeight:0},b:{setsWidth:0,setsHeight:1},r:{"":{setsWidth:1,setsHeight:0},b:{setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(e){var t,i=e.anchorSpec,n="",r=this.sizePolicy;return i&&(t=this.owner.getSizeModel(),i.right&&!t.width.shrinkWrap&&(r=r.r),i.bottom&&!t.height.shrinkWrap&&(n="b")),r[n]}}),Ext.define("Ext.layout.container.Absolute",{alias:"layout.absolute",extend:"Ext.layout.container.Anchor",alternateClassName:"Ext.layout.AbsoluteLayout",targetCls:Ext.baseCSSPrefix+"abs-layout-ct",itemCls:Ext.baseCSSPrefix+"abs-layout-item",ignoreOnContentChange:!0,type:"absolute",adjustWidthAnchor:function(e,t){var i=this.targetPadding,n=t.getStyle("left");return e-n+i.left},adjustHeightAnchor:function(e,t){var i=this.targetPadding,n=t.getStyle("top");return e-n+i.top},isItemLayoutRoot:function(e){return this.ignoreOnContentChange||this.callParent(arguments)},isItemShrinkWrap:function(e){return!0},beginLayout:function(e){var t=this,i=t.getTarget();t.callParent(arguments),i.dom!==document.body&&i.position(),t.targetPadding=e.targetContext.getPaddingInfo()},isItemBoxParent:function(e){return!0},onContentChange:function(){return!this.ignoreOnContentChange&&this.callParent(arguments)}}),Ext.define("Ext.layout.container.CheckboxGroup",{extend:"Ext.layout.container.Container",alias:["layout.checkboxgroup"],autoFlex:!0,type:"checkboxgroup",childEls:["innerCt"],renderTpl:['<table id="{ownerId}-innerCt" role="presentation" style="{tableStyle}"><tbody><tr>','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}">',"{% this.renderColumn(out,parent,xindex-1) %}","</td>","</tpl>","</tr></tbody></table>"],lastOwnerItemsGeneration:null,beginLayout:function(e){var t,i,n,r,o,a=this,s=0,l=0,d=a.autoFlex,u=a.innerCt.dom.style;if(a.callParent(arguments),t=a.columnNodes,e.innerCtContext=e.getEl("innerCt",a),e.widthModel.shrinkWrap)u.tableLayout="auto",u.width="";else{if(i=t.length,a.columnsArray){for(n=0;n<i;n++)r=a.owner.columns[n],r<1&&(s+=r,l++);for(n=0;n<i;n++)r=a.owner.columns[n],o=r<1?r/s*100+"%":r+"px",t[n].style.width=o}else for(n=0;n<i;n++)o=d?1/i*100+"%":"",t[n].style.width=o,l++;l?l<i?(u.tableLayout="fixed",u.width="100%"):(u.tableLayout="auto",d?u.width="100%":u.width=""):(u.tableLayout="fixed",u.width="")}},cacheElements:function(){var e=this;e.callParent(),e.rowEl=e.innerCt.down("tr"),e.columnNodes=e.rowEl.dom.childNodes},calculate:function(e){var t,i,n,r,o,a,s=this;e.getDomProp("containerChildrenDone")?(t=e.innerCtContext,i=e.widthModel.shrinkWrap,n=e.heightModel.shrinkWrap,r=n||i,o=t.el.dom,a=r&&t.getPaddingInfo(),i&&e.setContentWidth(o.offsetWidth+a.width,!0),n&&e.setContentHeight(o.offsetHeight+a.height,!0)):s.done=!1},doRenderColumn:function(e,t,i){var n,r,o,a,s,l=t.$layout,d=l.owner,u=t.columnCount,c=d.items.items,h=c.length;for(d.vertical?(o=Math.ceil(h/u),r=i*o,h=Math.min(h,r+o),a=1):(r=i,a=u);r<h;r+=a)n=c[r],l.configureItem(n),s=n.getRenderTree(),Ext.DomHelper.generateMarkup(s,e)},getColumnCount:function(){var e=this,t=e.owner,i=t.columns;return e.columnsArray?i.length:Ext.isNumber(i)?i:t.items.length},getItemSizePolicy:function(e){return this.autoSizePolicy},getRenderData:function(){var e,t,i,n,r=this,o=r.callParent(),a=r.owner,s=r.getColumnCount(),l=r.autoFlex,d=0,u=0;if(r.columnsArray)for(e=0;e<s;e++)t=r.owner.columns[e],t<1&&(d+=t,u++);for(o.colCls=a.groupCls,o.columnCount=s,o.columns=[],e=0;e<s;e++)i=o.columns[e]={},r.columnsArray?(t=r.owner.columns[e],n=t<1?t/d*100+"%":t+"px",i.style="width:"+n):(i.style="width:"+1/s*100+"%",u++);return o.tableStyle=u?u<s?"table-layout:fixed;width:100%":l?"table-layout:auto;width:100%":"table-layout:auto;":"table-layout:fixed;",o},initLayout:function(){var e=this,t=e.owner;e.columnsArray=Ext.isArray(t.columns),e.autoColumns=!t.columns||"auto"===t.columns,e.vertical=t.vertical,e.callParent()},isValidParent:function(){return!0},setupRenderTpl:function(e){this.callParent(arguments),e.renderColumn=this.doRenderColumn},renderChildren:function(){var e=this,t=e.owner.items.generation;e.lastOwnerItemsGeneration!==t&&(e.lastOwnerItemsGeneration=t,e.renderItems(e.getLayoutItems()))},renderItems:function(e){var t,i,n,r,o,a,s=this,l=e.length;if(l){for(Ext.suspendLayouts(),s.autoColumns&&s.addMissingColumns(l),r=s.columnNodes.length,n=Math.ceil(l/r),t=0;t<l;t++)i=e[t],o=s.getRenderRowIndex(t,n,r),a=s.getRenderColumnIndex(t,n,r),i.rendered?s.isItemAtPosition(i,o,a)||s.moveItem(i,o,a):s.renderItem(i,o,a);s.autoColumns&&s.removeExceedingColumns(l),Ext.resumeLayouts(!0)}},isItemAtPosition:function(e,t,i){return e.el.dom===this.getNodeAt(t,i)},getRenderColumnIndex:function(e,t,i){return this.vertical?Math.floor(e/t):e%i},getRenderRowIndex:function(e,t,i){var n=this;return n.vertical?e%t:Math.floor(e/i)},getNodeAt:function(e,t){return this.columnNodes[t].childNodes[e]},addMissingColumns:function(e){var t,i,n,r,o=this,a=o.columnNodes.length;if(a<e)for(t=e-a,i=o.rowEl,n=o.owner.groupCls,r=0;r<t;r++)i.createChild({cls:n,tag:"td",vAlign:"top"})},removeExceedingColumns:function(e){var t,i,n,r=this,o=r.columnNodes.length;if(o>e)for(t=o-e,i=r.rowEl,n=0;n<t;n++)i.last().remove()},renderItem:function(e,t,i){var n=this;n.configureItem(e),e.render(Ext.get(n.columnNodes[i]),t),n.afterRenderItem(e)},moveItem:function(e,t,i){var n=this,r=n.columnNodes[i],o=r.childNodes[t];r.insertBefore(e.el.dom,o||null)}}),Ext.define("Ext.form.CheckboxGroup",{extend:"Ext.form.FieldContainer",mixins:{field:"Ext.form.field.Field"},alias:"widget.checkboxgroup",requires:["Ext.layout.container.CheckboxGroup","Ext.form.field.Base"],columns:"auto",vertical:!1,allowBlank:!0,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",groupCls:Ext.baseCSSPrefix+"form-check-group",fieldBodyCls:Ext.baseCSSPrefix+"form-checkboxgroup-body",layout:"checkboxgroup",initComponent:function(){var e=this;e.callParent(),e.initField()},initValue:function(){var e=this,t=e.value;e.originalValue=e.lastValue=t||e.getValue(),t&&e.setValue(t)},onFieldAdded:function(e){var t=this;e.isCheckbox&&t.mon(e,"change",t.checkChange,t),t.callParent(arguments)},onFieldRemoved:function(e){var t=this;e.isCheckbox&&t.mun(e,"change",t.checkChange,t),t.callParent(arguments)},isEqual:function(e,t){var i=Ext.Object.toQueryString;return i(e)===i(t)},getErrors:function(){var e=[];return!this.allowBlank&&Ext.isEmpty(this.getChecked())&&e.push(this.blankText),e},getBoxes:function(e){return this.query("[isCheckbox]"+(e||""))},eachBox:function(e,t){Ext.Array.forEach(this.getBoxes(),e,t||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){var e,t=this.getBoxes(),i=t.length;for(e=0;e<i;e++)if(t[e].isDirty())return!0},setReadOnly:function(e){var t,i=this.getBoxes(),n=i.length;for(t=0;t<n;t++)i[t].setReadOnly(e);this.readOnly=e},reset:function(){var e=this,t=e.hasActiveError(),i=e.preventMark;e.preventMark=!0,e.batchChanges(function(){var t,i=e.getBoxes(),n=i.length;for(t=0;t<n;t++)i[t].reset()}),e.preventMark=i,e.unsetActiveError(),t&&e.updateLayout()},resetOriginalValue:function(){var e,t=this,i=t.getBoxes(),n=i.length;for(e=0;e<n;e++)i[e].resetOriginalValue();t.originalValue=t.getValue(),t.checkDirty()},setValue:function(e){var t,i,n,r,o=this,a=o.getBoxes(),s=a.length;return o.batchChanges(function(){for(t=0;t<s;t++)i=a[t],n=i.getName(),r=!1,e&&e.hasOwnProperty(n)&&(r=Ext.isArray(e[n])?Ext.Array.contains(e[n],i.inputValue):e[n]),i.setValue(r)}),o},getValue:function(){var e,t,i,n,r,o={},a=this.getBoxes(),s=a.length;for(e=0;e<s;e++)t=a[e],i=t.getName(),n=t.inputValue,t.getValue()&&(o.hasOwnProperty(i)?(r=o[i],Ext.isArray(r)||(r=o[i]=[r]),r.push(n)):o[i]=n);return o},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var e,t,i,n=this;return n.disabled?t=!0:(e=n.getErrors(),t=Ext.isEmpty(e),i=!n.hasActiveError(),t?n.unsetActiveError():n.setActiveError(e)),t!==i&&(n.fireEvent("validitychange",n,t),n.updateLayout()),t}},function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid"])}),Ext.define("Ext.form.RadioGroup",{extend:"Ext.form.CheckboxGroup",alias:"widget.radiogroup",allowBlank:!0,blankText:"You must select one item in this group",defaultType:"radiofield",groupCls:Ext.baseCSSPrefix+"form-radio-group",getBoxes:function(e){return this.query("[isRadio]"+(e||""))},checkChange:function(){var e=this.getValue(),t=Ext.Object.getKeys(e)[0];Ext.isArray(e[t])||this.callParent(arguments)},setValue:function(e){var t,i,n,r,o,a,s;if(Ext.isObject(e))for(s in e)if(e.hasOwnProperty(s))for(t=e[s],i=this.items.first(),n=i?i.getFormId():null,r=Ext.form.RadioManager.getWithValue(s,t,n).items,a=r.length,o=0;o<a;++o)r[o].setValue(!0);return this}}),Ext.define("Ext.layout.container.Column",{extend:"Ext.layout.container.Container",alias:["layout.column"],alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:Ext.baseCSSPrefix+"column",targetCls:Ext.baseCSSPrefix+"column-layout-ct",columnWidthSizePolicy:{setsWidth:1,setsHeight:0},childEls:["innerCt"],manageOverflow:2,renderTpl:['<div id="{ownerId}-innerCt" class="',Ext.baseCSSPrefix,'column-inner">',"{%this.renderBody(out,values)%}",'<div class="',Ext.baseCSSPrefix,'clear"></div>',"</div>","{%this.renderPadder(out,values)%}"],getItemSizePolicy:function(e){return e.columnWidth?this.columnWidthSizePolicy:this.autoSizePolicy},beginLayout:function(){this.callParent(arguments),this.innerCt.dom.style.width=""},calculate:function(e){var t=this,i=t.getContainerSize(e),n=e.state;return(n.calculatedColumns||(n.calculatedColumns=t.calculateColumns(e)))&&t.calculateHeights(e)?void t.calculateOverflow(e,i):void(t.done=!1)},calculateColumns:function(e){var t,i,n,r,o,a,s=this,l=s.getContainerSize(e),d=e.getEl("innerCt",s),u=e.childItems,c=u.length,h=0;if(!e.heightModel.shrinkWrap&&!e.targetContext.hasProp("height"))return!1;for(l.gotWidth?(i=l.width,d.setWidth(i)):(e.targetContext.block(s,"width"),t=!0),n=0;n<c;++n)r=u[n],o=r.getMarginInfo().width,r.widthModel.calculated||(a=r.getProp("width"),"number"!=typeof a&&(r.block(s,"width"),t=!0),h+=a+o);if(!t){for(i=i<h?0:i-h,n=0;n<c;++n)r=u[n],r.widthModel.calculated&&(o=r.marginInfo.width,a=r.target.columnWidth,a=Math.floor(a*i)-o,a=r.setWidth(a),h+=a+o);e.setContentWidth(h)}return!t},calculateHeights:function(e){var t,i,n,r=this,o=e.childItems,a=o.length;for(t=!1,i=0;i<a;++i)n=o[i],n.hasDomProp("height")||(n.domBlock(r,"height"),t=!0);return t||e.setContentHeight(r.innerCt.getHeight()+e.targetContext.getPaddingInfo().height),!t},finishedLayout:function(e){var t=e.bodyContext;t&&(Ext.isIE6||Ext.isIE7||Ext.isIEQuirks)&&t.el.repaint(),this.callParent(arguments)},getRenderTarget:function(){return this.innerCt}}),Ext.define("Ext.layout.container.Editor",{alias:"layout.editor",extend:"Ext.layout.container.Container",autoSizeDefault:{width:"field",height:"field"},getItemSizePolicy:function(e){var t=this,i=t.owner.autoSize;return t.sizePolicy||(t.sizePolicy={setsWidth:i&&"boundEl"===i.width?1:0,setsHeight:i&&"boundEl"===i.height?1:0})},calculate:function(e){var t,i,n=this,r=n.owner,o=r.autoSize;o===!0&&(o=n.autoSizeDefault),o&&(t=n.getDimension(r,o.width,"getWidth",r.width),i=n.getDimension(r,o.height,"getHeight",r.height)),e.childItems[0].setSize(t,i),e.setWidth(t),e.setHeight(i),e.setContentSize(t||r.field.getWidth(),i||r.field.getHeight())},getDimension:function(e,t,i,n){switch(t){case"boundEl":return e.boundEl[i]();case"field":return;default:return n}}}),Ext.define("Ext.Editor",{extend:"Ext.container.Container",alias:"widget.editor",requires:["Ext.layout.container.Editor"],
layout:"editor",allowBlur:!0,revertInvalid:!0,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,updateEl:!1,hidden:!0,baseCls:Ext.baseCSSPrefix+"editor",initComponent:function(){var e=this,t=e.field=Ext.ComponentManager.create(e.field,"textfield");Ext.apply(t,{inEditor:!0,msgTarget:"title"==t.msgTarget?"title":"qtip"}),e.mon(t,{scope:e,blur:{fn:e.onFieldBlur,delay:1},specialkey:e.onSpecialKey}),t.grow&&e.mon(t,"autosize",e.onFieldAutosize,e,{delay:1}),e.floating={constrain:e.constrain},e.items=t,e.callParent(arguments),e.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onFieldAutosize:function(){this.updateLayout()},afterRender:function(e,t){var i=this,n=i.field,r=n.inputEl;i.callParent(arguments),r&&(r.dom.name="",i.swallowKeys&&r.swallowEvent(["keypress","keydown"]))},onSpecialKey:function(e,t){var i=this,n=t.getKey(),r=i.completeOnEnter&&n==t.ENTER,o=i.cancelOnEsc&&n==t.ESC;(r||o)&&(t.stopEvent(),Ext.defer(function(){r?i.completeEdit():i.cancelEdit(),e.triggerBlur&&e.triggerBlur(t)},10)),i.fireEvent("specialkey",i,e,t)},startEdit:function(e,t){var i=this,n=i.field;i.completeEdit(),i.boundEl=Ext.get(e),t=Ext.isDefined(t)?t:Ext.String.trim(i.boundEl.dom.innerText||i.boundEl.dom.innerHTML),i.rendered||i.render(i.parentEl||document.body),i.fireEvent("beforestartedit",i,i.boundEl,t)!==!1&&(i.startValue=t,i.show(),n.suspendEvents(),n.reset(),n.setValue(t),n.resumeEvents(),i.realign(!0),n.focus(!1,10),n.autoSize&&n.autoSize(),i.editing=!0)},realign:function(e){var t=this;e===!0&&t.updateLayout(),t.alignTo(t.boundEl,t.alignment,t.offsets)},completeEdit:function(e){var t,i=this,n=i.field;if(i.editing)return n.assertValue&&n.assertValue(),t=i.getValue(),n.isValid()?String(t)===String(i.startValue)&&i.ignoreNoChange?void i.hideEdit(e):void(i.fireEvent("beforecomplete",i,t,i.startValue)!==!1&&(t=i.getValue(),i.updateEl&&i.boundEl&&i.boundEl.update(t),i.hideEdit(e),i.fireEvent("complete",i,t,i.startValue))):void(i.revertInvalid!==!1&&i.cancelEdit(e))},onShow:function(){var e=this;e.callParent(arguments),e.hideEl!==!1&&e.boundEl.hide(),e.fireEvent("startedit",e,e.boundEl,e.startValue)},cancelEdit:function(e){var t,i=this,n=i.startValue,r=i.field;i.editing&&(t=i.getValue(),r.suspendEvents(),i.setValue(n),r.resumeEvents(),i.hideEdit(e),i.fireEvent("canceledit",i,t,n))},hideEdit:function(e){e!==!0&&(this.editing=!1,this.hide())},onFieldBlur:function(e,t){var i,n=this;n.allowBlur===!0&&n.editing&&n.selectSameEditor!==!0&&n.completeEdit(),t&&Ext.fly(i=t.getTarget()).focusable()&&i.focus()},onHide:function(){var e=this,t=e.field;return e.editing?void e.completeEdit():(t.hasFocus&&t.blur(),t.collapse&&t.collapse(),e.hideEl!==!1&&e.boundEl.show(),void e.callParent(arguments))},setValue:function(e){this.field.setValue(e)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){var e=this;Ext.destroy(e.field),delete e.field,delete e.parentEl,delete e.boundEl,e.callParent(arguments)}}),Ext.define("Ext.grid.CellEditor",{extend:"Ext.Editor",constructor:function(e){e=Ext.apply({},e),e.field&&(e.field.monitorTab=!1),this.callParent([e])},onShow:function(){var e,t,i=this,n=i.boundEl.first();n&&(e=n.dom.lastChild,e&&3===e.nodeType&&(t=i.cellTextNode=n.dom.lastChild,i.cellTextValue=t.nodeValue,t.nodeValue="")),i.callParent(arguments)},onHide:function(){var e=this,t=e.boundEl.first();t&&e.cellTextNode&&(e.cellTextNode.nodeValue=e.cellTextValue,delete e.cellTextNode,delete e.cellTextValue),e.callParent(arguments)},afterRender:function(){var e=this,t=e.field;e.callParent(arguments),t.isXType("checkboxfield")&&t.mon(t.inputEl,{mousedown:e.onCheckBoxMouseDown,click:e.onCheckBoxClick,scope:e})},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit,this.field.focus(!1,10)},realign:function(e){var t,i,n,r,o=this,a=o.boundEl,s=a.first(),l=s.dom.childNodes,d=l.length,u=Ext.Array.clone(o.offsets);o.field.inputEl;o.isForTree&&(d>1||1===d&&3!==l[0].nodeType)?(t=s.last(),i=t.getOffsetsTo(s)[0]+t.getWidth(),n=s.getWidth(),r=n-i,o.editingPlugin.grid.columnLines||r--,u[0]+=i,o.addCls(Ext.baseCSSPrefix+"grid-editor-on-text-node")):r=a.getWidth()-1,e===!0&&o.field.setWidth(r),o.alignTo(a,o.alignment,u)},onEditorTab:function(e){var t=this.field;t.onEditorTab&&t.onEditorTab(e)},alignment:"tl-tl",hideEl:!1,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor",shim:!1,shadow:!1}),Ext.define("Ext.layout.container.Fit",{extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",defaultMargins:{top:0,right:0,bottom:0,left:0},manageMargins:!0,sizePolicies:{0:{setsWidth:0,setsHeight:0},1:{setsWidth:1,setsHeight:0},2:{setsWidth:0,setsHeight:1},3:{setsWidth:1,setsHeight:1}},getItemSizePolicy:function(e,t){var i=t||this.owner.getSizeModel(),n=(i.width.shrinkWrap?0:1)|(i.height.shrinkWrap?0:2);return this.sizePolicies[n]},beginLayoutCycle:function(e,t){var i,n,r,o,a,s,l,d,u,c,h=this,g=h.lastHeightModel&&h.lastHeightModel.calculated,p=h.lastWidthModel&&h.lastWidthModel.calculated,f=p||g,m=0,x=0;for(h.callParent(arguments),f&&"TD"!=e.targetContext.el.dom.tagName.toUpperCase()&&(f=p=g=!1),n=e.childItems,a=n.length,r=0;r<a;++r)o=n[r],t&&(i=o.target,l=i.minHeight,d=i.minWidth,(d||l)&&(s=o.marginInfo||o.getMarginInfo(),l+=s.height,d+=s.height,m<l&&(m=l),x<d&&(x=d))),f&&(u=o.el.dom.style,g&&(u.height=""),p&&(u.width=""));t&&(e.maxChildMinHeight=m,e.maxChildMinWidth=x),i=e.target,e.overflowX=!e.widthModel.shrinkWrap&&e.maxChildMinWidth&&(i.autoScroll||i.overflowX)||c,e.overflowY=!e.heightModel.shrinkWrap&&e.maxChildMinHeight&&(i.autoScroll||i.overflowY)||c},calculate:function(e){var t,i,n,r,o,a,s=this,l=e.childItems,d=l.length,u=s.getContainerSize(e),c={length:d,ownerContext:e,targetSize:u},h=e.widthModel.shrinkWrap,g=e.heightModel.shrinkWrap,p=e.overflowX,f=e.overflowY;for((p||f)&&(t=s.getScrollbarsNeeded(p&&u.width,f&&u.height,e.maxChildMinWidth,e.maxChildMinHeight),t&&(i=Ext.getScrollbarSize(),1&t&&(u.height-=i.height),2&t&&(u.width-=i.width))),r=0;r<d;++r)c.index=r,s.fitItem(l[r],c);(g||h)&&(n=e.targetContext.getPaddingInfo(),h&&(f&&!u.gotHeight?s.done=!1:(o=c.contentWidth+n.width,2&t&&(o+=i.width),e.setContentWidth(o)||(s.done=!1))),g&&(p&&!u.gotWidth?s.done=!1:(a=c.contentHeight+n.height,1&t&&(a+=i.height),e.setContentHeight(a)||(s.done=!1))))},fitItem:function(e,t){var i=this;return e.invalid?void(i.done=!1):(t.margins=e.getMarginInfo(),t.needed=t.got=0,i.fitItemWidth(e,t),i.fitItemHeight(e,t),void(t.got!=t.needed&&(i.done=!1)))},fitItemWidth:function(e,t){var i,n;t.ownerContext.widthModel.shrinkWrap?(n=e.getProp("width")+t.margins.width,i=t.contentWidth,void 0===i?t.contentWidth=n:t.contentWidth=Math.max(i,n)):e.widthModel.calculated&&(++t.needed,t.targetSize.gotWidth&&(++t.got,this.setItemWidth(e,t))),this.positionItemX(e,t)},fitItemHeight:function(e,t){var i,n;t.ownerContext.heightModel.shrinkWrap?(n=e.getProp("height")+t.margins.height,i=t.contentHeight,void 0===i?t.contentHeight=n:t.contentHeight=Math.max(i,n)):e.heightModel.calculated&&(++t.needed,t.targetSize.gotHeight&&(++t.got,this.setItemHeight(e,t))),this.positionItemY(e,t)},positionItemX:function(e,t){var i=t.margins;(t.index||i.left)&&e.setProp("x",i.left),i.width&&e.setProp("margin-right",i.width)},positionItemY:function(e,t){var i=t.margins;(t.index||i.top)&&e.setProp("y",i.top),i.height&&e.setProp("margin-bottom",i.height)},setItemHeight:function(e,t){e.setHeight(t.targetSize.height-t.margins.height)},setItemWidth:function(e,t){e.setWidth(t.targetSize.width-t.margins.width)}}),Ext.define("Ext.layout.container.Card",{extend:"Ext.layout.container.Fit",alternateClassName:"Ext.layout.CardLayout",alias:"layout.card",type:"card",hideInactive:!0,deferredRender:!1,getRenderTree:function(){var e=this,t=e.getActiveItem();if(t){if(t.hasListeners.beforeactivate&&t.fireEvent("beforeactivate",t)===!1?t=e.activeItem=e.owner.activeItem=null:t.hasListeners.activate&&t.on({boxready:function(){t.fireEvent("activate",t)},single:!0}),!e.deferredRender)return e.callParent(arguments);if(t)return e.getItemsRenderTree([t])}},renderChildren:function(){var e=this,t=e.getActiveItem();e.deferredRender?t&&e.renderItems([t],e.getRenderTarget()):e.callParent()},isValidParent:function(e,t,i){var n=e.el?e.el.dom:Ext.getDom(e);return n&&n.parentNode===(t.dom||t)||!1},getActiveItem:function(){var e=this,t=e.parseActiveItem(e.activeItem||e.owner&&e.owner.activeItem);return t&&e.owner.items.indexOf(t)!=-1?e.activeItem=t:e.activeItem=null,e.activeItem},parseActiveItem:function(e){return e&&e.isComponent?e:"number"==typeof e||void 0===e?this.getLayoutItems()[e||0]:this.owner.getComponent(e)},configureItem:function(e){e===this.getActiveItem()?e.hidden=!1:e.hidden=!0,this.callParent(arguments)},onRemove:function(e){var t=this;e===t.activeItem&&(t.activeItem=null)},getAnimation:function(e,t){var i=(e||{}).cardSwitchAnimation;return i!==!1&&(i||t.cardSwitchAnimation)},getNext:function(){var e=arguments[0],t=this.getLayoutItems(),i=Ext.Array.indexOf(t,this.activeItem);return t[i+1]||!!e&&t[0]},next:function(){var e=arguments[0],t=arguments[1];return this.setActiveItem(this.getNext(t),e)},getPrev:function(){var e=arguments[0],t=this.getLayoutItems(),i=Ext.Array.indexOf(t,this.activeItem);return t[i-1]||!!e&&t[t.length-1]},prev:function(){var e=arguments[0],t=arguments[1];return this.setActiveItem(this.getPrev(t),e)},setActiveItem:function(e){var t,i=this,n=i.owner,r=i.activeItem,o=n.rendered;return e=i.parseActiveItem(e),t=n.items.indexOf(e),t==-1&&(t=n.items.items.length,Ext.suspendLayouts(),e=n.add(e),Ext.resumeLayouts()),!(!e||r==e)&&(e.fireEvent("beforeactivate",e,r)!==!1&&((!r||r.fireEvent("beforedeactivate",r,e)!==!1)&&(o?(Ext.suspendLayouts(),e.rendered||i.renderItem(e,i.getRenderTarget(),n.items.length),r&&(i.hideInactive&&(r.hide(),r.hiddenByLayout=!0),r.fireEvent("deactivate",r,e)),e.hidden&&e.show(),e.hidden||(i.activeItem=e),Ext.resumeLayouts(!0)):i.activeItem=e,e.fireEvent("activate",e,r),i.activeItem)))}}),Ext.define("Ext.layout.container.Form",{alias:"layout.form",extend:"Ext.layout.container.Auto",alternateClassName:"Ext.layout.FormLayout",tableCls:Ext.baseCSSPrefix+"form-layout-table",type:"form",manageOverflow:2,childEls:["formTable"],padRow:'<tr><td class="'+Ext.baseCSSPrefix+'form-item-pad" colspan="3"></td></tr>',renderTpl:['<table id="{ownerId}-formTable" class="{tableCls}" style="width:100%" cellpadding="0">',"{%this.renderBody(out,values)%}","</table>","{%this.renderPadder(out,values)%}"],getRenderData:function(){var e=this.callParent();return e.tableCls=this.tableCls,e},calculate:function(e){var t,i,n,r=this,o=r.getContainerSize(e,!0),a=0;if(o.gotWidth)for(this.callParent(arguments),t=r.formTable.dom.offsetWidth,i=e.childItems,n=i.length;a<n;++a)i[a].setWidth(t,!1);else r.done=!1},getRenderTarget:function(){return this.formTable},getRenderTree:function(){var e,t,i=this,n=i.callParent(arguments);for(e=0,t=n.length;e<t;e++)n[e]=i.transformItemRenderTree(n[e]);return n},transformItemRenderTree:function(e){return e.tag&&"table"==e.tag?(e.tag="tbody",delete e.cellspacing,delete e.cellpadding,Ext.isIE6&&(e.cn=this.padRow),e):{tag:"tbody",cn:{tag:"tr",cn:{tag:"td",colspan:3,style:"width:100%",cn:e}}}},isValidParent:function(e,t,i){return!0},isItemShrinkWrap:function(e){return 2&(e.shrinkWrap===!0?3:e.shrinkWrap||0)},getItemSizePolicy:function(e){return{setsWidth:1,setsHeight:0}}}),Ext.define("Ext.layout.container.Table",{alias:["layout.table"],extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.TableLayout",monitorResize:!1,type:"table",clearEl:!0,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",tableAttrs:null,itemSizePolicy:{setsWidth:0,setsHeight:0},getItemSizePolicy:function(e){return this.itemSizePolicy},getLayoutItems:function(){var e,t,i=this,n=[],r=i.callParent(),o=r.length;for(t=0;t<o;t++)e=r[t],e.hidden||n.push(e);return n},renderChildren:function(){var e,t,i,n,r,o,a,s,l=this,d=l.getLayoutItems(),u=l.owner.getTargetEl().child("table",!0).tBodies[0],c=u.rows,h=0,g=d.length;for(e=l.calculateCells(d);h<g;h++)if(t=e[h],i=t.rowIdx,n=t.cellIdx,r=d[h],o=c[i],o||(o=u.insertRow(i),l.trAttrs&&o.set(l.trAttrs)),s=a=Ext.get(o.cells[n]||o.insertCell(n)),l.needsDivWrap()&&(s=a.first()||a.createChild({tag:"div"}),s.setWidth(null)),r.rendered?l.isValidParent(r,s,i,n,u)||l.moveItem(r,s,0):l.renderItem(r,s,0),l.tdAttrs&&a.set(l.tdAttrs),r.tdAttrs&&a.set(r.tdAttrs),a.set({colSpan:r.colspan||1,rowSpan:r.rowspan||1,id:r.cellId||"",cls:l.cellCls+" "+(r.cellCls||"")}),!e[h+1]||e[h+1].rowIdx!==i)for(n++;o.cells[n];)o.deleteCell(n);for(i++;u.rows[i];)u.deleteRow(i)},calculate:function(e){if(e.hasDomProp("containerChildrenDone")){var t=e.targetContext,i=e.widthModel.shrinkWrap,n=e.heightModel.shrinkWrap,r=n||i,o=r&&t.el.child("table",!0),a=r&&t.getPaddingInfo();i&&e.setContentWidth(o.offsetWidth+a.width,!0),n&&e.setContentHeight(o.offsetHeight+a.height,!0)}else this.done=!1},finalizeLayout:function(){if(this.needsDivWrap()){var e,t,i=this.getLayoutItems(),n=i.length;for(e=0;e<n;e++)t=i[e],Ext.fly(t.el.dom.parentNode).setWidth(t.getWidth())}(Ext.isIE6||Ext.isIEQuirks)&&this.owner.getTargetEl().child("table").repaint()},calculateCells:function(e){for(var t,i,n=[],r=0,o=0,a=0,s=this.columns||1/0,l=[],d=0,u=e.length;d<u;d++){for(i=e[d];o>=s||l[o]>0;)if(o>=s)for(o=0,a=0,r++,t=0;t<s;t++)l[t]>0&&l[t]--;else o++;for(n.push({rowIdx:r,cellIdx:a}),t=i.colspan||1;t;--t)l[o]=i.rowspan||1,++o;++a}return n},getRenderTree:function(){var e,t,i,n,r,o,a,s,l=this,d=l.getLayoutItems(),u=[],c=Ext.apply({tag:"table",role:"presentation",cls:l.tableCls,cellspacing:0,cn:{tag:"tbody",cn:u}},l.tableAttrs),h=l.tdAttrs,g=l.needsDivWrap(),p=d.length;for(e=l.calculateCells(d),t=0;t<p;t++)i=d[t],n=e[t],o=n.rowIdx,a=n.cellIdx,r=u[o],r||(r=u[o]={tag:"tr",cn:[]},l.trAttrs&&Ext.apply(r,l.trAttrs)),s=r.cn[a]={tag:"td"},h&&Ext.apply(s,h),Ext.apply(s,{colSpan:i.colspan||1,rowSpan:i.rowspan||1,id:i.cellId||"",cls:l.cellCls+" "+(i.cellCls||"")}),g&&(s=s.cn={tag:"div"}),l.configureItem(i),s.cn=i.getRenderTree();return c},isValidParent:function(e,t,i,n){var r,o,a;return 3===arguments.length?(a=e.el.up("table"),a&&a.dom.parentNode===t.dom):(r=this.owner.getTargetEl().child("table",!0).tBodies[0],o=r.rows[i].cells[n],e.el.dom.parentNode===o)},needsDivWrap:function(){return Ext.isOpera10_5}}),Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.util.ClickRepeater","Ext.Element"],alternateClassName:"Ext.layout.boxOverflow.Scroller",mixins:{observable:"Ext.util.Observable"},animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",constructor:function(e,t){var i=this;i.layout=e,Ext.apply(i,t||{}),i.mixins.observable.constructor.call(i),i.addEvents("scroll"),i.scrollPosition=0,i.scrollSize=0},getPrefixConfig:function(){var e=this;return e.initCSSClasses(),{cls:Ext.layout.container.Box.prototype.innerCls+" "+e.beforeCtCls,cn:{id:e.layout.owner.id+"-before-scroller",cls:e.scrollerCls+" "+e.beforeScrollerCls,style:"display:none"}}},getSuffixConfig:function(){var e=this;return{cls:Ext.layout.container.Box.prototype.innerCls+" "+e.afterCtCls,cn:{id:e.layout.owner.id+"-after-scroller",cls:e.scrollerCls+" "+e.afterScrollerCls,style:"display:none"}}},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},initCSSClasses:function(){var e=this,t=Ext.baseCSSPrefix,i=e.layout,n=i.getNames(),r=n.left,o=n.right,a=e.getOwnerType(i.owner);e.beforeCtCls=e.beforeCtCls||t+"box-scroller-"+r,e.afterCtCls=e.afterCtCls||t+"box-scroller-"+o,e.beforeScrollerCls=e.beforeScrollerCls||t+a+"-scroll-"+r,e.afterScrollerCls=e.afterScrollerCls||t+a+"-scroll-"+o},beginLayout:function(e){var t=this.layout,i=t.getNames();e.innerCtScrollPos=t.innerCt.dom["scroll"+i.leftCap],this.callParent(arguments)},completeLayout:function(e){this.scrollSize=e.props["content"+this.layout.getNames().widthCap],this.callParent(arguments)},finishedLayout:function(e){var t=this,i=t.layout,n=i.getNames(),r=Math.min(t.getMaxScrollPosition(),e.innerCtScrollPos);i.innerCt.dom["scroll"+n.leftCap]=r},handleOverflow:function(e){var t=this,i=t.layout,n=i.getNames(),r="get"+n.widthCap;return t.captureChildElements(),t.showScrollers(),{reservedSpace:t.beforeCt[r]()+t.afterCt[r]()}},captureChildElements:function(){var e,t,i=this,n=i.layout.owner.el;i.beforeCt||(e=i.beforeScroller=n.getById(i.layout.owner.id+"-before-scroller"),t=i.afterScroller=n.getById(i.layout.owner.id+"-after-scroller"),i.beforeCt=e.up(""),i.afterCt=t.up(""),i.createWheelListener(),e.addClsOnOver(i.beforeScrollerCls+"-hover"),t.addClsOnOver(i.afterScrollerCls+"-hover"),e.setVisibilityMode(Ext.Element.DISPLAY),t.setVisibilityMode(Ext.Element.DISPLAY),i.beforeRepeater=new Ext.util.ClickRepeater(e,{interval:i.scrollRepeatInterval,handler:i.scrollLeft,scope:i}),i.afterRepeater=new Ext.util.ClickRepeater(t,{interval:i.scrollRepeatInterval,handler:i.scrollRight,scope:i}))},createWheelListener:function(){this.layout.innerCt.on({mousewheel:function(e){this.scrollBy(e.getWheelDelta()*this.wheelIncrement*-1,!1)},stopEvent:!0,scope:this})},clearOverflow:function(){this.layout;this.hideScrollers()},showScrollers:function(){var e=this;e.captureChildElements(),e.beforeScroller.show(),e.afterScroller.show(),e.updateScrollButtons(),e.layout.owner.addClsWithUI("scroller")},hideScrollers:function(){var e=this;void 0!==e.beforeScroller&&(e.beforeScroller.hide(),e.afterScroller.hide(),e.layout.owner.removeClsWithUI("scroller"))},destroy:function(){var e=this;Ext.destroy(e.beforeRepeater,e.afterRepeater,e.beforeScroller,e.afterScroller,e.beforeCt,e.afterCt)},scrollBy:function(e,t){this.scrollTo(this.getScrollPosition()+e,t)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var e,t,i,n,r=this;void 0!==r.beforeScroller&&void 0!==r.afterScroller&&(e=r.atExtremeBefore()?"addCls":"removeCls",t=r.atExtremeAfter()?"addCls":"removeCls",i=r.beforeScrollerCls+"-disabled",n=r.afterScrollerCls+"-disabled",r.beforeScroller[e](i),r.afterScroller[t](n),r.scrolling=!1)},atExtremeBefore:function(){return!this.getScrollPosition()},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,!1)},scrollRight:function(){this.scrollBy(this.scrollIncrement,!1)},getScrollPosition:function(){var e,t=this,i=t.layout;return e=t.hasOwnProperty("scrollPosition")?t.scrollPosition:parseInt(i.innerCt.dom["scroll"+i.getNames().leftCap],10)||0},getMaxScrollPosition:function(){var e=this,t=e.layout,i=t.getNames(),n=e.scrollSize-t.innerCt["get"+i.widthCap]();return n<0?0:n},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(e,t){var i=this,n=i.layout,r=n.getNames(),o=i.getScrollPosition(),a=Ext.Number.constrain(e,0,i.getMaxScrollPosition());a==o||i.scrolling||(delete i.scrollPosition,void 0===t&&(t=i.animateScroll),n.innerCt.scrollTo(r.left,a,!!t&&i.getScrollAnim()),t?i.scrolling=!0:i.updateScrollButtons(),i.fireEvent("scroll",i,a,!!t&&i.getScrollAnim()))},scrollToItem:function(e,t){var i,n,r,o=this,a=o.layout,s=a.getNames();e=o.getItem(e),void 0!==e&&(i=o.getItemVisibility(e),i.fullyVisible||(n=e.getBox(!0,!0),r=n[s.x],i.hiddenEnd&&(r-=o.layout.innerCt["get"+s.widthCap]()-n[s.width]),o.scrollTo(r,t)))},getItemVisibility:function(e){var t=this,i=t.getItem(e).getBox(!0,!0),n=t.layout,r=n.getNames(),o=i[r.x],a=o+i[r.width],s=t.getScrollPosition(),l=s+n.innerCt["get"+r.widthCap]();return{hiddenStart:o<s,hiddenEnd:a>l,fullyVisible:o>s&&a<l}}}),Ext.define("Ext.menu.Item",{extend:"Ext.Component",alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:!0,clickHideDelay:1,destroyMenu:!0,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:!0,isMenuItem:!0,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:['<tpl if="plain">',"{text}","<tpl else>",'<a id="{id}-itemEl" class="'+Ext.baseCSSPrefix+'menu-item-link" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on">','<img id="{id}-iconEl" src="{icon}" class="'+Ext.baseCSSPrefix+'menu-item-icon {iconCls}" />','<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text" <tpl if="arrowCls">style="margin-right: 17px;"</tpl> >{text}</span>','<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}" />',"</a>","</tpl>"],maskOnDisable:!1,activate:function(){var e=this;!e.activated&&e.canActivate&&e.rendered&&!e.isDisabled()&&e.isVisible()&&(e.el.addCls(e.activeCls),e.focus(),e.activated=!0,e.fireEvent("activate",e))},getFocusEl:function(){return this.itemEl},deactivate:function(){var e=this;e.activated&&(e.el.removeCls(e.activeCls),e.blur(),e.hideMenu(),e.activated=!1,e.fireEvent("deactivate",e))},deferExpandMenu:function(){var e=this;!e.activated||e.menu.rendered&&e.menu.isVisible()||(e.parentMenu.activeChild=e.menu,e.menu.parentItem=e,e.menu.parentMenu=e.menu.ownerCt=e.parentMenu,e.menu.showBy(e,e.menuAlign))},deferHideMenu:function(){this.menu.isVisible()&&this.menu.hide()},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var e;Ext.menu.Manager.hideAll(),Ext.Element.getActiveElement()||(e=this.up(":not([hidden])"),e&&e.focus())},expandMenu:function(e){var t=this;t.menu&&(t.cancelDeferHide(),0===e?t.deferExpandMenu():t.expandMenuTimer=Ext.defer(t.deferExpandMenu,Ext.isNumber(e)?e:t.menuExpandDelay,t))},getRefItems:function(e){var t,i=this.menu;return i&&(t=i.getRefItems(e),t.unshift(i)),t||[]},hideMenu:function(e){var t=this;t.menu&&(clearTimeout(t.expandMenuTimer),t.hideMenuTimer=Ext.defer(t.deferHideMenu,Ext.isNumber(e)?e:t.menuHideDelay,t))},initComponent:function(){var e,t=this,i=Ext.baseCSSPrefix,n=[i+"menu-item"];t.addEvents("activate","click","deactivate"),t.plain&&n.push(i+"menu-item-plain"),t.cls&&n.push(t.cls),t.cls=n.join(" "),t.menu&&(e=t.menu,delete t.menu,t.setMenu(e)),t.callParent(arguments)},onClick:function(e){var t=this;t.href||e.stopEvent(),t.disabled||(t.hideOnClick&&(t.deferHideParentMenusTimer=Ext.defer(t.deferHideParentMenus,t.clickHideDelay,t)),Ext.callback(t.handler,t.scope||t,[t,e]),t.fireEvent("click",t,e),t.hideOnClick||t.focus())},onRemoved:function(){var e=this;e.activated&&e.parentMenu.activeItem===e&&e.parentMenu.deactivateActiveItem(),e.callParent(arguments),delete e.parentMenu,delete e.ownerButton},beforeDestroy:function(){var e=this;e.rendered&&e.clearTip(),e.callParent()},onDestroy:function(){var e=this;clearTimeout(e.expandMenuTimer),e.cancelDeferHide(),clearTimeout(e.deferHideParentMenusTimer),e.setMenu(null),e.callParent(arguments)},beforeRender:function(){var e,t,i=this,n=Ext.BLANK_IMAGE_URL;i.callParent(),"right"===i.iconAlign?(e=i.checkChangeDisabled?i.disabledCls:"",t=Ext.baseCSSPrefix+"menu-item-icon-right "+i.iconCls):(e=i.iconCls+(i.checkChangeDisabled?" "+i.disabledCls:""),t=i.menu?i.arrowCls:""),Ext.applyIf(i.renderData,{href:i.href||"#",hrefTarget:i.hrefTarget,icon:i.icon||n,iconCls:e,plain:i.plain,text:i.text,arrowCls:t,blank:n})},onRender:function(){var e=this;e.callParent(arguments),e.tooltip&&e.setTooltip(e.tooltip,!0)},setMenu:function(e,t){var i=this,n=i.menu,r=i.arrowEl;n&&(delete n.parentItem,delete n.parentMenu,delete n.ownerCt,delete n.ownerItem,(t===!0||t!==!1&&i.destroyMenu)&&Ext.destroy(n)),e?(i.menu=Ext.menu.Manager.get(e),i.menu.ownerItem=i):i.menu=null,i.rendered&&!i.destroying&&r&&r[i.menu?"addCls":"removeCls"](i.arrowCls)},setHandler:function(e,t){this.handler=e||null,this.scope=t},setIcon:function(e){var t=this.iconEl;t&&(t.src=e||Ext.BLANK_IMAGE_URL),this.icon=e},setIconCls:function(e){var t=this,i=t.iconEl;i&&(t.iconCls&&i.removeCls(t.iconCls),e&&i.addCls(e)),t.iconCls=e},setText:function(e){var t=this,i=t.textEl||t.el;t.text=e,t.rendered&&(i.update(e||""),t.ownerCt.updateLayout())},getTipAttr:function(){return"qtip"==this.tooltipType?"data-qtip":"title"},clearTip:function(){Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(e,t){var i=this;return i.rendered?(t||i.clearTip(),Ext.isObject(e)?(Ext.tip.QuickTipManager.register(Ext.apply({target:i.itemEl.id},e)),i.tooltip=e):i.itemEl.dom.setAttribute(i.getTipAttr(),e)):i.tooltip=e,i}}),Ext.define("Ext.menu.CheckItem",{extend:"Ext.menu.Item",alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:!1,checkChangeDisabled:!1,afterRender:function(){var e=this;e.callParent(),e.checked=!e.checked,e.setChecked(!e.checked,!0),e.checkChangeDisabled&&e.disableCheckChange()},initComponent:function(){var e=this;e.addEvents("beforecheckchange","checkchange"),e.callParent(arguments),Ext.menu.Manager.registerCheckable(e),e.group&&(e.iconCls||(e.iconCls=e.groupCls),e.initialConfig.hideOnClick!==!1&&(e.hideOnClick=!0))},disableCheckChange:function(){var e=this,t=e.iconEl;t&&t.addCls(e.disabledCls),Ext.isIE9&&Ext.isStrict||!e.rendered||e.el.repaint(),e.checkChangeDisabled=!0},enableCheckChange:function(){var e=this,t=e.iconEl;t&&t.removeCls(e.disabledCls),e.checkChangeDisabled=!1},onClick:function(e){var t=this;t.disabled||t.checkChangeDisabled||t.checked&&t.group||t.setChecked(!t.checked),this.callParent([e])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this),this.callParent(arguments)},setChecked:function(e,t){var i=this;i.checked===e||!t&&i.fireEvent("beforecheckchange",i,e)===!1||(i.el&&i.el[e?"addCls":"removeCls"](i.checkedCls)[e?"removeCls":"addCls"](i.uncheckedCls),i.checked=e,Ext.menu.Manager.onCheckChange(i,e),t||(Ext.callback(i.checkHandler,i.scope,[i,e]),i.fireEvent("checkchange",i,e)))}}),Ext.define("Ext.menu.KeyNav",{extend:"Ext.util.KeyNav",requires:["Ext.FocusManager"],constructor:function(e){var t=this;t.menu=e,t.callParent([e.el,{down:t.down,enter:t.enter,esc:t.escape,left:t.left,right:t.right,space:t.enter,tab:t.tab,up:t.up}])},down:function(e){var t=this,i=t.menu.focusedItem;return!(!i||e.getKey()!=Ext.EventObject.DOWN||!t.isWhitelisted(i))||void t.focusNextItem(1)},enter:function(e){var t=this.menu,i=t.focusedItem;if(t.activeItem)t.onClick(e);else if(i&&i.isFormField)return!0},escape:function(e){Ext.menu.Manager.hideAll()},focusNextItem:function(e){for(var t,i=this.menu,n=i.items,r=i.focusedItem,o=r?n.indexOf(r):-1,a=o+e;a!=o;){if(a<0?a=n.length-1:a>=n.length&&(a=0),t=n.getAt(a),i.canActivateItem(t)){i.setActiveItem(t);break}a+=e}},isWhitelisted:function(e){return Ext.FocusManager.isWhitelisted(e)},left:function(e){var t=this.menu,i=t.focusedItem;t.activeItem;return!(!i||!this.isWhitelisted(i))||(t.hide(),void(t.parentMenu&&t.parentMenu.focus()))},right:function(e){var t,i=this.menu,n=i.focusedItem,r=i.activeItem;return!(!n||!this.isWhitelisted(n))||void(r&&(t=i.activeItem.menu,t&&(r.expandMenu(0),Ext.defer(function(){t.setActiveItem(t.items.getAt(0))},25))))},tab:function(e){var t=this;e.shiftKey?t.up(e):t.down(e)},up:function(e){var t=this,i=t.menu.focusedItem;return!(!i||e.getKey()!=Ext.EventObject.UP||!t.isWhitelisted(i))||void t.focusNextItem(-1)}}),Ext.define("Ext.menu.Manager",{singleton:!0,requires:["Ext.util.MixedCollection","Ext.util.KeyMap"],alternateClassName:"Ext.menu.MenuMgr",uses:["Ext.menu.Menu"],menus:{},groups:{},attached:!1,lastShow:new Date,init:function(){var e=this;e.active=new Ext.util.MixedCollection,Ext.getDoc().addKeyListener(27,function(){e.active.length>0&&e.hideAll()},e)},hideAll:function(){var e,t,i,n,r=this.active;if(r&&r.length>0){for(e=r.clone(),t=e.items,n=t.length,i=0;i<n;i++)t[i].hide();return!0}return!1},onHide:function(e){var t=this,i=t.active;i.remove(e),i.length<1&&(Ext.getDoc().un("mousedown",t.onMouseDown,t),t.attached=!1)},onShow:function(e){var t=this,i=t.active,n=(i.last(),t.attached);e.getEl();t.lastShow=new Date,i.add(e),n||(Ext.getDoc().on("mousedown",t.onMouseDown,t,{buffer:Ext.isIE?10:void 0}),t.attached=!0),e.toFront()},onBeforeHide:function(e){e.activeChild&&e.activeChild.hide(),e.autoHideTimer&&(clearTimeout(e.autoHideTimer),delete e.autoHideTimer)},onBeforeShow:function(e){var t=this.active,i=e.parentMenu;t.remove(e),i||e.allowOtherMenus?i&&i.activeChild&&e!=i.activeChild&&i.activeChild.hide():this.hideAll()},onMouseDown:function(e){var t=this,i=t.active,n=t.lastShow;Ext.Date.getElapsed(n)>50&&i.length>0&&!e.getTarget("."+Ext.baseCSSPrefix+"menu")&&t.hideAll()},register:function(e){var t=this;t.active||t.init(),e.floating&&(t.menus[e.id]=e,e.on({beforehide:t.onBeforeHide,hide:t.onHide,beforeshow:t.onBeforeShow,show:t.onShow,scope:t}))},get:function(e){var t=this.menus;return"string"==typeof e?t?t[e]:null:e.isMenu?e:Ext.isArray(e)?new Ext.menu.Menu({items:e}):Ext.ComponentManager.create(e,"menu")},unregister:function(e){var t=this,i=t.menus,n=t.active;delete i[e.id],n.remove(e),e.un({beforehide:t.onBeforeHide,hide:t.onHide,beforeshow:t.onBeforeShow,show:t.onShow,scope:t})},registerCheckable:function(e){var t=this.groups,i=e.group;i&&(t[i]||(t[i]=[]),t[i].push(e))},unregisterCheckable:function(e){var t=this.groups,i=e.group;i&&Ext.Array.remove(t[i],e)},onCheckChange:function(e,t){var i,n,r,o=this.groups,a=e.group,s=0;if(a&&t)for(i=o[a],n=i.length;s<n;s++)r=i[s],r!=e&&r.setChecked(!1)}}),Ext.define("Ext.button.Button",{alias:"widget.button",extend:"Ext.Component",requires:["Ext.menu.Manager","Ext.util.ClickRepeater","Ext.layout.component.Button","Ext.util.TextMetrics","Ext.util.KeyMap"],alternateClassName:"Ext.Button",isButton:!0,componentLayout:"button",hidden:!1,disabled:!1,pressed:!1,enableToggle:!1,menuAlign:"tl-bl?",textAlign:"center",type:"button",clickEvent:"click",preventDefault:!0,handleMouseEvents:!0,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",pressedCls:"pressed",overCls:"over",focusCls:"focus",menuActiveCls:"menu-active",hrefTarget:"_blank",border:!0,childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],renderTpl:['<em id="{id}-btnWrap"<tpl if="splitCls"> class="{splitCls}"</tpl>>','<tpl if="href">','<a id="{id}-btnEl" href="{href}" class="{btnCls}" target="{hrefTarget}"','<tpl if="tabIndex"> tabIndex="{tabIndex}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>',' role="link">','<span id="{id}-btnInnerEl" class="{baseCls}-inner">',"{text}","</span>",'<span id="{id}-btnIconEl" class="{baseCls}-icon {iconCls}"<tpl if="iconUrl"> style="background-image:url({iconUrl})"</tpl>></span>',"</a>","<tpl else>",'<button id="{id}-btnEl" type="{type}" class="{btnCls}" hidefocus="true"','<tpl if="tabIndex"> tabIndex="{tabIndex}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>',' role="button" autocomplete="off">','<span id="{id}-btnInnerEl" class="{baseCls}-inner" style="{innerSpanStyle}">',"{text}","</span>",'<span id="{id}-btnIconEl" class="{baseCls}-icon {iconCls}"<tpl if="iconUrl"> style="background-image:url({iconUrl})"</tpl>></span>',"</button>","</tpl>","</em>",'<tpl if="closable">','<a id="{id}-closeEl" href="#" class="{baseCls}-close-btn" title="{closeText}"></a>',"</tpl>"],scale:"small",allowedScales:["small","medium","large"],iconAlign:"left",arrowAlign:"right",arrowCls:"arrow",maskOnDisable:!1,persistentPadding:void 0,shrinkWrap:3,frame:!0,initComponent:function(){var e=this;e.callParent(arguments),e.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout"),e.menu&&(e.split=!0,e.menu=Ext.menu.Manager.get(e.menu),e.menu.ownerButton=e),e.url&&(e.href=e.url),e.href&&!e.hasOwnProperty("preventDefault")&&(e.preventDefault=!1),
Ext.isString(e.toggleGroup)&&""!==e.toggleGroup&&(e.enableToggle=!0),e.html&&!e.text&&(e.text=e.html,delete e.html)},getActionEl:function(){return this.btnEl},getFocusEl:function(){return this.useElForFocus?this.el:this.btnEl},onFocus:function(e){var t=this;t.useElForFocus=!0,t.callParent(arguments),t.useElForFocus=!1},onBlur:function(e){this.useElForFocus=!0,this.callParent(arguments),this.useElForFocus=!1},onDisable:function(){this.useElForFocus=!0,this.callParent(arguments),this.useElForFocus=!1},setComponentCls:function(){var e=this,t=e.getComponentCls();Ext.isEmpty(e.oldCls)||(e.removeClsWithUI(e.oldCls),e.removeClsWithUI(e.pressedCls)),e.oldCls=t,e.addClsWithUI(t)},getComponentCls:function(){var e=this,t=[];return e.iconCls||e.icon?e.text?t.push("icon-text-"+e.iconAlign):t.push("icon"):e.text&&t.push("noicon"),e.pressed&&t.push(e.pressedCls),t},beforeRender:function(){var e=this;e.callParent(),e.oldCls=e.getComponentCls(),e.addClsWithUI(e.oldCls),Ext.applyIf(e.renderData,e.getTemplateArgs()),e.scale&&e.setScale(e.scale)},onRender:function(){var e,t,i,n=this;n.doc=Ext.getDoc(),n.callParent(arguments),n.split&&n.arrowTooltip&&n.arrowEl.dom.setAttribute(n.getTipAttr(),n.arrowTooltip),t=n.el,n.tooltip&&n.setTooltip(n.tooltip,!0),n.handleMouseEvents?(i={scope:n,mouseover:n.onMouseOver,mouseout:n.onMouseOut,mousedown:n.onMouseDown},n.split&&(i.mousemove=n.onMouseMove)):i={scope:n},n.menu&&(n.mon(n.menu,{scope:n,show:n.onMenuShow,hide:n.onMenuHide}),n.keyMap=new Ext.util.KeyMap({target:n.el,key:Ext.EventObject.DOWN,handler:n.onDownKey,scope:n})),n.repeat?n.mon(new Ext.util.ClickRepeater(t,Ext.isObject(n.repeat)?n.repeat:{}),"click",n.onRepeatClick,n):i[n.clickEvent]?e=!0:i[n.clickEvent]=n.onClick,n.mon(t,i),e&&n.mon(t,n.clickEvent,n.onClick,n),Ext.ButtonToggleManager.register(n)},getTemplateArgs:function(){var e=this,t=e.getPersistentPadding(),i="";return Math.max.apply(Math,t)>0&&(i="margin:"+Ext.Array.map(t,function(e){return-e+"px"}).join(" ")),{href:e.getHref(),disabled:e.disabled,hrefTarget:e.hrefTarget,type:e.type,btnCls:e.getBtnCls(),splitCls:e.getSplitCls(),iconUrl:e.icon,iconCls:e.iconCls,text:e.text||"&#160;",tabIndex:e.tabIndex,innerSpanStyle:i}},getHref:function(){var e=this,t=Ext.apply({},e.baseParams);return t=Ext.apply(t,e.params),!!e.href&&Ext.urlAppend(e.href,Ext.Object.toQueryString(t))},setParams:function(e){this.params=e,this.btnEl.dom.href=this.getHref()},getSplitCls:function(){var e=this;return e.split?e.baseCls+"-"+e.arrowCls+" "+(e.baseCls+"-"+e.arrowCls+"-"+e.arrowAlign):""},getBtnCls:function(){return this.textAlign?this.baseCls+"-"+this.textAlign:""},setIconCls:function(e){var t=this,i=t.btnIconEl,n=t.iconCls;return t.iconCls=e,i&&(i.removeCls(n),i.addCls(e||""),t.setComponentCls(),t.didIconStateChange(n,e)&&t.updateLayout()),t},setTooltip:function(e,t){var i=this;return i.rendered?(t||i.clearTip(),Ext.isObject(e)?(Ext.tip.QuickTipManager.register(Ext.apply({target:i.btnEl.id},e)),i.tooltip=e):i.btnEl.dom.setAttribute(i.getTipAttr(),e)):i.tooltip=e,i},setTextAlign:function(e){var t=this,i=t.btnEl;return i&&(i.removeCls(t.baseCls+"-"+t.textAlign),i.addCls(t.baseCls+"-"+e)),t.textAlign=e,t},getTipAttr:function(){return"qtip"==this.tooltipType?"data-qtip":"title"},getRefItems:function(e){var t,i=this.menu;return i&&(t=i.getRefItems(e),t.unshift(i)),t||[]},clearTip:function(){Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.btnEl)},beforeDestroy:function(){var e=this;e.rendered&&e.clearTip(),e.menu&&e.destroyMenu!==!1&&Ext.destroy(e.menu),Ext.destroy(e.btnInnerEl,e.repeater),e.callParent()},onDestroy:function(){var e=this;e.rendered&&(e.doc.un("mouseover",e.monitorMouseOver,e),e.doc.un("mouseup",e.onMouseUp,e),delete e.doc,Ext.ButtonToggleManager.unregister(e),Ext.destroy(e.keyMap),delete e.keyMap),e.callParent()},setHandler:function(e,t){return this.handler=e,this.scope=t,this},setText:function(e){var t=this;return t.text=e,t.rendered&&(t.btnInnerEl.update(e||"&#160;"),t.setComponentCls(),Ext.isStrict&&Ext.isIE8&&t.el.repaint(),t.updateLayout()),t},setIcon:function(e){var t=this,i=t.btnIconEl,n=t.icon;return t.icon=e,i&&(i.setStyle("background-image",e?"url("+e+")":""),t.setComponentCls(),t.didIconStateChange(n,e)&&t.updateLayout()),t},didIconStateChange:function(e,t){var i=Ext.isEmpty(t);return Ext.isEmpty(e)?!i:i},getText:function(){return this.text},toggle:function(e,t){var i=this;return e=void 0===e?!i.pressed:!!e,e!==i.pressed&&(i.rendered&&i[e?"addClsWithUI":"removeClsWithUI"](i.pressedCls),i.pressed=e,t||(i.fireEvent("toggle",i,e),Ext.callback(i.toggleHandler,i.scope||i,[i,e]))),i},maybeShowMenu:function(){var e=this;!e.menu||e.hasVisibleMenu()||e.ignoreNextClick||e.showMenu()},showMenu:function(){var e=this;return e.rendered&&e.menu&&(e.tooltip&&"title"!=e.getTipAttr()&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(e.btnEl),e.menu.isVisible()&&e.menu.hide(),e.menu.showBy(e.el,e.menuAlign,!Ext.isStrict&&Ext.isIE||Ext.isIE6?[-2,-2]:void 0)),e},hideMenu:function(){return this.hasVisibleMenu()&&this.menu.hide(),this},hasVisibleMenu:function(){var e=this.menu;return e&&e.rendered&&e.isVisible()},onRepeatClick:function(e,t){this.onClick(t)},onClick:function(e){var t=this;(t.preventDefault||t.disabled&&t.getHref()&&e)&&e.preventDefault(),0===e.button&&(t.disabled||(t.doToggle(),t.maybeShowMenu(),t.fireHandler(e)))},fireHandler:function(e){var t=this,i=t.handler;t.fireEvent("click",t,e)!==!1&&(i&&i.call(t.scope||t,t,e),t.blur())},doToggle:function(){var e=this;!e.enableToggle||e.allowDepress===!1&&e.pressed||e.toggle()},onMouseOver:function(e){var t=this;t.disabled||e.within(t.el,!0,!0)||t.onMouseEnter(e)},onMouseOut:function(e){var t=this;e.within(t.el,!0,!0)||(t.overMenuTrigger&&t.onMenuTriggerOut(e),t.onMouseLeave(e))},onMouseMove:function(e){var t,i,n=this,r=n.el,o=n.overMenuTrigger;n.split&&("right"===n.arrowAlign?(t=e.getX()-r.getX(),i=r.getWidth()):(t=e.getY()-r.getY(),i=r.getHeight()),t>i-n.getTriggerSize()?o||n.onMenuTriggerOver(e):o&&n.onMenuTriggerOut(e))},getTriggerSize:function(){var e,t,i,n=this,r=n.triggerSize;return r===i&&(e=n.arrowAlign,t=e.charAt(0),r=n.triggerSize=n.el.getFrameWidth(t)+n.btnWrap.getFrameWidth(t)+n.frameSize[e]),r},onMouseEnter:function(e){var t=this;t.addClsWithUI(t.overCls),t.fireEvent("mouseover",t,e)},onMouseLeave:function(e){var t=this;t.removeClsWithUI(t.overCls),t.fireEvent("mouseout",t,e)},onMenuTriggerOver:function(e){var t=this;t.overMenuTrigger=!0,t.fireEvent("menutriggerover",t,t.menu,e)},onMenuTriggerOut:function(e){var t=this;delete t.overMenuTrigger,t.fireEvent("menutriggerout",t,t.menu,e)},enable:function(e){var t=this;return t.callParent(arguments),t.btnEl&&(t.btnEl.dom.disabled=!1),t.removeClsWithUI("disabled"),t},disable:function(e){var t=this;return t.callParent(arguments),t.btnEl&&(t.btnEl.dom.disabled=!0),t.addClsWithUI("disabled"),t.removeClsWithUI(t.overCls),t.btnInnerEl&&(Ext.isIE6||Ext.isIE7)&&t.btnInnerEl.repaint(),t},setScale:function(e){var t=this,i=t.ui.replace("-"+t.scale,"");if(!Ext.Array.contains(t.allowedScales,e))throw"#setScale: scale must be an allowed scale ("+t.allowedScales.join(", ")+")";t.scale=e,t.setUI(i)},setUI:function(e){var t=this;t.scale&&!e.match(t.scale)&&(e=e+"-"+t.scale),t.callParent([e])},onMouseDown:function(e){var t=this;t.disabled||0!==e.button||(t.addClsWithUI(t.pressedCls),t.doc.on("mouseup",t.onMouseUp,t))},onMouseUp:function(e){var t=this;0===e.button&&(t.pressed||t.removeClsWithUI(t.pressedCls),t.doc.un("mouseup",t.onMouseUp,t))},onMenuShow:function(e){var t=this;t.ignoreNextClick=0,t.addClsWithUI(t.menuActiveCls),t.fireEvent("menushow",t,t.menu)},onMenuHide:function(e){var t=this;t.removeClsWithUI(t.menuActiveCls),t.ignoreNextClick=Ext.defer(t.restoreClick,250,t),t.fireEvent("menuhide",t,t.menu)},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(){var e=this;e.disabled||e.menu&&e.showMenu()},getPersistentPadding:function(){var e,t,i,n,r=this,o=(Ext.scopeResetCSS,r.persistentPadding);return o||(o=r.self.prototype.persistentPadding=[0,0,0,0],Ext.isIE||(e=new Ext.button.Button({text:"test",style:"position:absolute;top:-999px;"}),e.el=Ext.DomHelper.append(Ext.resetElement,e.getRenderTree(),!0),e.applyChildEls(e.el),i=e.btnEl,n=e.btnInnerEl,i.setSize(null,null),t=n.getOffsetsTo(i),o[0]=t[1],o[1]=i.getWidth()-n.getWidth()-t[0],o[2]=i.getHeight()-n.getHeight()-t[1],o[3]=t[0],e.destroy(),e.el.remove())),o}},function(){var e={},t=function(t,i){if(i){var n,r=e[t.toggleGroup],o=r.length;for(n=0;n<o;n++)r[n]!==t&&r[n].toggle(!1)}};Ext.ButtonToggleManager={register:function(i){if(i.toggleGroup){var n=e[i.toggleGroup];n||(n=e[i.toggleGroup]=[]),n.push(i),i.on("toggle",t)}},unregister:function(i){if(i.toggleGroup){var n=e[i.toggleGroup];n&&(Ext.Array.remove(n,i),i.un("toggle",t))}},getPressed:function(t){var i,n=e[t],r=0;if(n)for(i=n.length;r<i;r++)if(n[r].pressed===!0)return n[r];return null}}}),Ext.define("Ext.button.Split",{alias:"widget.splitbutton",extend:"Ext.button.Button",alternateClassName:"Ext.SplitButton",arrowCls:"split",split:!0,initComponent:function(){this.callParent(),this.addEvents("arrowclick")},setArrowHandler:function(e,t){this.arrowHandler=e,this.scope=t},onClick:function(e,t){var i=this;e.preventDefault(),i.disabled||(i.overMenuTrigger?(i.maybeShowMenu(),i.fireEvent("arrowclick",i,e),i.arrowHandler&&i.arrowHandler.call(i.scope||i,i,e)):(i.doToggle(),i.fireHandler(e)))}}),Ext.define("Ext.button.Cycle",{alias:"widget.cycle",extend:"Ext.button.Split",alternateClassName:"Ext.CycleButton",getButtonText:function(e){var t=this,i="";return e&&t.showText===!0?(t.prependText&&(i+=t.prependText),i+=e.text):t.text},setActiveItem:function(e,t){var i=this;Ext.isObject(e)||(e=i.menu.getComponent(e)),e&&(i.rendered?(i.setText(i.getButtonText(e)),i.setIconCls(e.iconCls)):(i.text=i.getButtonText(e),i.iconCls=e.iconCls),i.activeItem=e,e.checked||e.setChecked(!0,!1),i.forceIcon&&i.setIconCls(i.forceIcon),t||i.fireEvent("change",i,e))},getActiveItem:function(){return this.activeItem},initComponent:function(){var e,t,i,n,r=this,o=0;for(r.addEvents("change"),r.changeHandler&&(r.on("change",r.changeHandler,r.scope||r),delete r.changeHandler),e=(r.menu.items||[]).concat(r.items||[]),r.menu=Ext.applyIf({cls:Ext.baseCSSPrefix+"cycle-menu",items:[]},r.menu),i=e.length,t=0;t<i;t++)n=e[t],n=Ext.applyIf({group:r.id,itemIndex:t,checkHandler:r.checkHandler,scope:r,checked:n.checked||!1},n),r.menu.items.push(n),n.checked&&(o=t);r.itemCount=r.menu.items.length,r.callParent(arguments),r.on("click",r.toggleSelected,r),r.setActiveItem(o,r),r.width&&r.showText&&r.addCls(Ext.baseCSSPrefix+"cycle-fixed-width")},checkHandler:function(e,t){t&&this.setActiveItem(e)},toggleSelected:function(){var e,t=this,i=t.menu;e=t.activeItem.next(":not([disabled])")||i.items.getAt(0),e.setChecked(!0)}}),Ext.define("Ext.menu.Separator",{extend:"Ext.menu.Item",alias:"widget.menuseparator",canActivate:!1,focusable:!1,hideOnClick:!1,plain:!0,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",beforeRender:function(e,t){var i=this;i.callParent(),i.addCls(i.separatorCls)}}),Ext.define("Ext.panel.DD",{extend:"Ext.dd.DragSource",requires:["Ext.panel.Proxy"],constructor:function(e,t){var i=this;i.panel=e,i.dragData={panel:e},i.panelProxy=new Ext.panel.Proxy(e,t),i.proxy=i.panelProxy.proxy,i.callParent([e.el,t]),i.setupEl(e)},setupEl:function(e){var t=this,i=e.header,n=e.body;i&&(t.setHandleElId(i.id),n=i.el),n?(n.setStyle("cursor","move"),t.scroll=!1):e.on("boxready",t.setupEl,t,{single:!0})},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(e,t){this.panelProxy.show()},b4MouseDown:function(e){var t=e.getPageX(),i=e.getPageY();this.autoOffset(t,i)},onInitDrag:function(e,t){return this.onStartDrag(e,t),!0},createFrame:Ext.emptyFn,getDragEl:function(e){return this.panelProxy.ghost.el.dom},endDrag:function(e){this.panelProxy.hide(),this.panel.saveState()},autoOffset:function(e,t){e-=this.startPageX,t-=this.startPageY,this.setDelta(e,t)},onInvalidDrop:function(e,t,i){var n=this;n.beforeInvalidDrop(e,t,i),n.cachedTarget&&(n.cachedTarget.isNotifyTarget&&n.cachedTarget.notifyOut(n,t,n.dragData),n.cacheTarget=null),n.afterInvalidDrop&&n.afterInvalidDrop(t,i)}}),Ext.define("Ext.panel.Header",{extend:"Ext.container.Container",uses:["Ext.panel.Tool","Ext.draw.Component","Ext.util.CSS","Ext.layout.component.Body","Ext.Img"],alias:"widget.header",isHeader:!0,defaultType:"tool",indicateDrag:!1,weight:-1,componentLayout:"body",titleAlign:"left",childEls:["body"],renderTpl:['<div id="{id}-body" class="{baseCls}-body {bodyCls}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>"],headingTpl:'<span id="{id}-textEl" class="{cls}-text {cls}-text-{ui}">{title}</span>',shrinkWrap:3,initComponent:function(){var e,t,i,n,r,o=this;o.addEvents("click","dblclick"),o.indicateDragCls=o.baseCls+"-draggable",o.title=o.title||"&#160;",o.tools=o.tools||[],o.items=o.items||[],o.orientation=o.orientation||"horizontal",o.dock=o.dock?o.dock:"horizontal"==o.orientation?"top":"left",o.addClsWithUI([o.orientation,o.dock]),o.indicateDrag&&o.addCls(o.indicateDragCls),Ext.isEmpty(o.iconCls)&&Ext.isEmpty(o.icon)||(o.initIconCmp(),o.items.push(o.iconCmp)),"vertical"==o.orientation?(o.layout={type:"vbox",align:"center"},o.textConfig={width:16,cls:o.baseCls+"-text",type:"text",text:o.title,rotate:{degrees:90}},n=o.ui,Ext.isArray(n)&&(n=n[0]),e="."+o.baseCls+"-text-"+n,Ext.scopeResetCSS&&(e="."+Ext.baseCSSPrefix+"reset "+e),t=Ext.util.CSS.getRule(e),t?i=t.style:(i=(r=Ext.resetElement.createChild({style:"position:absolute",cls:o.baseCls+"-text-"+n})).getStyles("fontFamily","fontWeight","fontSize","color"),r.remove()),i&&Ext.apply(o.textConfig,{"font-family":i.fontFamily,"font-weight":i.fontWeight,"font-size":i.fontSize,fill:i.color}),o.titleCmp=new Ext.draw.Component({width:16,ariaRole:"heading",focusable:!1,viewBox:!1,flex:1,id:o.id+"_hd",autoSize:!0,items:o.textConfig,xhooks:{setSize:function(e){this.callParent([e])}},childEls:[{name:"textEl",select:"."+o.baseCls+"-text"}]})):(o.layout={type:"hbox",align:"middle"},o.titleCmp=new Ext.Component({ariaRole:"heading",focusable:!1,noWrap:!0,flex:1,id:o.id+"_hd",style:"text-align:"+o.titleAlign,cls:o.baseCls+"-text-container",renderTpl:o.getTpl("headingTpl"),renderData:{title:o.title,cls:o.baseCls,ui:o.ui},childEls:["textEl"]})),o.items.push(o.titleCmp),o.items=o.items.concat(o.tools),o.callParent(),o.on({dblclick:o.onDblClick,click:o.onClick,element:"el",scope:o})},initIconCmp:function(){var e=this,t={focusable:!1,src:Ext.BLANK_IMAGE_URL,cls:[e.baseCls+"-icon",e.iconCls],id:e.id+"-iconEl",iconCls:e.iconCls};Ext.isEmpty(e.icon)||(delete t.iconCls,t.src=e.icon),e.iconCmp=new Ext.Img(t)},afterRender:function(){this.el.unselectable(),this.callParent()},addUIClsToElement:function(e){var t,i,n=this,r=n.callParent(arguments),o=[n.baseCls+"-body-"+e,n.baseCls+"-body-"+n.ui+"-"+e];if(n.bodyCls){for(t=n.bodyCls.split(" "),i=0;i<o.length;i++)Ext.Array.contains(t,o[i])||t.push(o[i]);n.bodyCls=t.join(" ")}else n.bodyCls=o.join(" ");return r},removeUIClsFromElement:function(e){var t,i,n=this,r=n.callParent(arguments),o=[n.baseCls+"-body-"+e,n.baseCls+"-body-"+n.ui+"-"+e];if(n.bodyCls){for(t=n.bodyCls.split(" "),i=0;i<o.length;i++)Ext.Array.remove(t,o[i]);n.bodyCls=t.join(" ")}return r},addUIToElement:function(){var e,t,i=this;i.callParent(arguments),t=i.baseCls+"-body-"+i.ui,i.rendered?i.bodyCls?i.body.addCls(i.bodyCls):i.body.addCls(t):i.bodyCls?(e=i.bodyCls.split(" "),Ext.Array.contains(e,t)||e.push(t),i.bodyCls=e.join(" ")):i.bodyCls=t,i.titleCmp&&i.titleCmp.rendered&&i.titleCmp.textEl&&i.titleCmp.textEl.addCls(i.baseCls+"-text-"+i.ui)},removeUIFromElement:function(){var e,t,i=this;i.callParent(arguments),t=i.baseCls+"-body-"+i.ui,i.rendered?i.bodyCls?i.body.removeCls(i.bodyCls):i.body.removeCls(t):i.bodyCls?(e=i.bodyCls.split(" "),Ext.Array.remove(e,t),i.bodyCls=e.join(" ")):i.bodyCls=t,i.titleCmp&&i.titleCmp.rendered&&i.titleCmp.textEl&&i.titleCmp.textEl.removeCls(i.baseCls+"-text-"+i.ui)},onClick:function(e){this.fireClickEvent("click",e)},onDblClick:function(e){this.fireClickEvent("dblclick",e)},fireClickEvent:function(e,t){var i="."+Ext.panel.Tool.prototype.baseCls;t.getTarget(i)||this.fireEvent(e,this,t)},getFocusEl:function(){return this.el},getTargetEl:function(){return this.body||this.frameBody||this.el},setTitle:function(e){var t,i,n=this;n.rendered?n.titleCmp.rendered?(n.titleCmp.surface?(n.title=e||"",t=n.titleCmp.surface.items.items[0],i=n.titleCmp.surface,i.remove(t),n.textConfig.type="text",n.textConfig.text=e,t=i.add(n.textConfig),t.setAttributes({rotate:{degrees:90}},!0),n.titleCmp.autoSizeSurface()):(n.title=e,n.titleCmp.textEl.update(n.title||"&#160;")),n.titleCmp.updateLayout()):n.titleCmp.on({render:function(){n.setTitle(e)},single:!0}):n.title=e},getMinWidth:function(){var e,t,i,n=this,r=n.titleCmp.textEl.dom,o=n.tools;if(r.style.display="inline",e=r.offsetWidth,r.style.display="",o&&(t=o.length))for(i=0;i<t;i++)o[i].el&&(e+=o[i].el.dom.offsetWidth);return n.iconCmp&&(e+=n.iconCmp.el.dom.offsetWidth),e+10},setIconCls:function(e){var t=this,i=!e||!e.length,n=t.iconCmp;t.iconCls=e,t.iconCmp||i?n&&(i?(t.iconCmp.destroy(),delete t.iconCmp):(n.removeCls(n.iconCls),n.addCls(e),n.iconCls=e)):(t.initIconCmp(),t.insert(0,t.iconCmp))},setIcon:function(e){var t=this,i=!e||!e.length,n=t.iconCmp;t.icon=e,t.iconCmp||i?n&&(i?(t.iconCmp.destroy(),delete t.iconCmp):n.setSrc(t.icon)):(t.initIconCmp(),t.insert(0,t.iconCmp))},addTool:function(e){this.tools.push(this.add(e))},onAdd:function(e,t){this.callParent(arguments),e instanceof Ext.panel.Tool&&(e.bindTo(this.ownerCt),this.tools[e.type]=e)},initRenderData:function(){return Ext.applyIf(this.callParent(),{bodyCls:this.bodyCls})}}),Ext.define("Ext.picker.Color",{extend:"Ext.Component",requires:"Ext.XTemplate",alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",value:null,clickEvent:"click",allowReselect:!1,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" class="color-{.}" hidefocus="on">','<em><span style="background:#{.}" unselectable="on">&#160;</span></em>',"</a>","</tpl>"],initComponent:function(){var e=this;e.callParent(arguments),e.addEvents("select"),e.handler&&e.on("select",e.handler,e.scope,!0)},initRenderData:function(){var e=this;return Ext.apply(e.callParent(),{itemCls:e.itemCls,colors:e.colors})},onRender:function(){var e=this,t=e.clickEvent;e.callParent(arguments),e.mon(e.el,t,e.handleClick,e,{delegate:"a"}),"click"!=t&&e.mon(e.el,"click",Ext.emptyFn,e,{delegate:"a",stopEvent:!0})},afterRender:function(){var e,t=this;t.callParent(arguments),t.value&&(e=t.value,t.value=null,t.select(e,!0))},handleClick:function(e,t){var i,n=this;e.stopEvent(),n.disabled||(i=t.className.match(n.colorRe)[1],n.select(i.toUpperCase()))},select:function(e,t){var i,n=this,r=n.selectedCls,o=n.value;return e=e.replace("#",""),n.rendered?void((e!=o||n.allowReselect)&&(i=n.el,n.value&&i.down("a.color-"+o).removeCls(r),i.down("a.color-"+e).addCls(r),n.value=e,t!==!0&&n.fireEvent("select",n,e))):void(n.value=e)},getValue:function(){return this.value||null}}),Ext.define("Ext.picker.Month",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.util.ClickRepeater","Ext.Date","Ext.button.Button"],alias:"widget.monthpicker",alternateClassName:"Ext.MonthPicker",childEls:["bodyEl","prevEl","nextEl","buttonsEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month"><a style="{parent.monthStyle}" href="#" hidefocus="on">{.}</a></div>',"</tpl>","</div>",'<div id="{id}-yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<button id="{id}-prevEl" class="{baseCls}-yearnav-prev"></button>','<button id="{id}-nextEl" class="{baseCls}-yearnav-next"></button>',"</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year"><a href="#" hidefocus="on">{.}</a></div>',"</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>',"</div>",'<tpl if="showButtons">','<div id="{id}-buttonsEl" class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:!0,width:178,measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var e=this;e.selectedCls=e.baseCls+"-selected",e.addEvents("cancelclick","monthclick","monthdblclick","okclick","select","yearclick","yeardblclick"),e.small&&e.addCls(e.smallCls),e.setValue(e.value),e.activeYear=e.getYear((new Date).getFullYear()-4,-4),e.showButtons&&(e.okBtn=new Ext.button.Button({text:e.okText,handler:e.onOkClick,scope:e}),e.cancelBtn=new Ext.button.Button({text:e.cancelText,handler:e.onCancelClick,scope:e})),this.callParent()},beforeRender:function(){var e=this,t=0,i=[],n=Ext.Date.getShortMonthName,r=e.monthOffset,o=e.monthMargin,a="";for(e.callParent();t<r;++t)i.push(n(t),n(t+r));Ext.isDefined(o)&&(a="margin: 0 "+o+"px;"),Ext.apply(e.renderData,{months:i,years:e.getYears(),showButtons:e.showButtons,monthStyle:a})},afterRender:function(){var e=this,t=e.bodyEl;e.buttonsEl;e.callParent(),e.mon(t,"click",e.onBodyClick,e),e.mon(t,"dblclick",e.onBodyClick,e),e.years=t.select("."+e.baseCls+"-year a"),e.months=t.select("."+e.baseCls+"-month a"),e.backRepeater=new Ext.util.ClickRepeater(e.prevEl,{handler:Ext.Function.bind(e.adjustYear,e,[-e.totalYears])}),e.prevEl.addClsOnOver(e.baseCls+"-yearnav-prev-over"),e.nextRepeater=new Ext.util.ClickRepeater(e.nextEl,{handler:Ext.Function.bind(e.adjustYear,e,[e.totalYears])}),e.nextEl.addClsOnOver(e.baseCls+"-yearnav-next-over"),e.updateBody(),Ext.isDefined(e.monthMargin)||(Ext.picker.Month.prototype.monthMargin=e.calculateMonthMargin())},calculateMonthMargin:function(){for(var e=this,t=(e.monthEl,e.months),i=t.first(),n=i.getMargin("l");n&&e.getLargest()>e.measureMaxHeight;)--n,t.setStyle("margin","0 "+n+"px");return n},getLargest:function(e){var t=0;return this.months.each(function(e){var i=e.getHeight();i>t&&(t=i)}),t},setValue:function(e){var t,i=this,n=i.activeYear;i.monthOffset;return e?Ext.isDate(e)?i.value=[e.getMonth(),e.getFullYear()]:i.value=[e[0],e[1]]:i.value=[null,null],i.rendered&&(t=i.value[1],null!==t&&(t<n||t>n+i.yearOffset)&&(i.activeYear=t-i.yearOffset+1),i.updateBody()),i},getValue:function(){return this.value},hasSelection:function(){var e=this.value;return null!==e[0]&&null!==e[1]},getYears:function(){for(var e=this,t=e.yearOffset,i=e.activeYear,n=i+t,r=i,o=[];r<n;++r)o.push(r,r+t);return o},updateBody:function(){var e,t,i,n,r,o=this,a=o.years,s=o.months,l=o.getYears(),d=o.selectedCls,u=o.getYear(null),c=o.value[0],h=o.monthOffset;if(o.rendered){for(a.removeCls(d),s.removeCls(d),t=a.elements,n=t.length,i=0;i<n;i++)r=Ext.fly(t[i]),e=l[i],r.dom.innerHTML=e,e==u&&(r.dom.className=d);null!==c&&(c<h?c*=2:c=2*(c-h)+1,s.item(c).addCls(d))}},getYear:function(e,t){var i=this.value[1];return t=t||0,null===i?e:i+t},onBodyClick:function(e,t){var i=this,n="dblclick"==e.type;e.getTarget("."+i.baseCls+"-month")?(e.stopEvent(),i.onMonthClick(t,n)):e.getTarget("."+i.baseCls+"-year")&&(e.stopEvent(),i.onYearClick(t,n))},adjustYear:function(e){"number"!=typeof e&&(e=this.totalYears),this.activeYear+=e,this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(e,t){var i=this;i.value[0]=i.resolveOffset(i.months.indexOf(e),i.monthOffset),i.updateBody(),i.fireEvent("month"+(t?"dbl":"")+"click",i,i.value),i.fireEvent("select",i,i.value)},onYearClick:function(e,t){var i=this;i.value[1]=i.activeYear+i.resolveOffset(i.years.indexOf(e),i.yearOffset),i.updateBody(),i.fireEvent("year"+(t?"dbl":"")+"click",i,i.value),i.fireEvent("select",i,i.value)},resolveOffset:function(e,t){return e%2===0?e/2:t+Math.floor(e/2)},beforeDestroy:function(){var e=this;e.years=e.months=null,Ext.destroyMembers(e,"backRepeater","nextRepeater","okBtn","cancelBtn"),e.callParent()},finishRenderChildren:function(){var e=this;this.callParent(arguments),this.showButtons&&(e.okBtn.finishRender(),e.cancelBtn.finishRender())},onDestroy:function(){Ext.destroyMembers(this,"okBtn","cancelBtn"),this.callParent()}}),Ext.define("Ext.picker.Date",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.button.Button","Ext.button.Split","Ext.util.ClickRepeater","Ext.util.KeyNav","Ext.EventObject","Ext.fx.Manager","Ext.picker.Month"],alias:"widget.datepicker",alternateClassName:"Ext.DatePicker",childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:!0,renderTpl:['<div id="{id}-innerEl" role="grid">','<div role="presentation" class="{baseCls}-header">','<div class="{baseCls}-prev"><a id="{id}-prevEl" href="#" role="button" title="{prevText}"></a></div>','<div class="{baseCls}-month" id="{id}-middleBtnEl">{%this.renderMonthBtn(values, out)%}</div>','<div class="{baseCls}-next"><a id="{id}-nextEl" href="#" role="button" title="{nextText}"></a></div>',"</div>",'<table id="{id}-eventEl" class="{baseCls}-inner" cellspacing="0" role="presentation">','<thead role="presentation"><tr role="presentation">','<tpl for="dayNames">','<th role="columnheader" title="{.}"><span>{.:this.firstInitial}</span></th>',"</tpl>","</tr></thead>",'<tbody role="presentation"><tr role="presentation">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell" id="{[Ext.id()]}">','<a role="presentation" href="#" hidefocus="on" class="{parent.baseCls}-date" tabIndex="1">','<em role="presentation"><span role="presentation"></span></em>',"</a>","</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>","</div>",{firstInitial:function(e){return Ext.picker.Date.prototype.getDayInitial(e)},isEndOfWeek:function(e){e--;var t=e%7===0&&0!==e;return t?'</tr><tr role="row">':""},renderTodayBtn:function(e,t){Ext.DomHelper.generateMarkup(e.$comp.todayBtn.getRenderTree(),t)},renderMonthBtn:function(e,t){Ext.DomHelper.generateMarkup(e.$comp.monthBtn.getRenderTree(),t)}}],todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d, Y",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:!0,disableAnim:!1,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",focusOnShow:!1,focusOnSelect:!0,width:178,initHour:12,numDays:42,initComponent:function(){var e=this,t=Ext.Date.clearTime;e.selectedCls=e.baseCls+"-selected",e.disabledCellCls=e.baseCls+"-disabled",e.prevCls=e.baseCls+"-prevday",e.activeCls=e.baseCls+"-active",e.nextCls=e.baseCls+"-prevday",e.todayCls=e.baseCls+"-today",e.dayNames=e.dayNames.slice(e.startDay).concat(e.dayNames.slice(0,e.startDay)),e.listeners=Ext.apply(e.listeners||{},{mousewheel:{element:"eventEl",fn:e.handleMouseWheel,scope:e},click:{element:"eventEl",fn:e.handleDateClick,scope:e,delegate:"a."+e.baseCls+"-date"}}),this.callParent(),e.value=e.value?t(e.value,!0):t(new Date),e.addEvents("select"),e.initDisabledDays()},beforeRender:function(){var e=this,t=new Array(e.numDays),i=Ext.Date.format(new Date,e.format);e.up("menu")&&e.addCls(Ext.baseCSSPrefix+"menu"),e.monthBtn=new Ext.button.Split({ownerCt:e,ownerLayout:e.getComponentLayout(),text:"",tooltip:e.monthYearText,listeners:{click:e.showMonthPicker,arrowclick:e.showMonthPicker,scope:e}}),this.showToday&&(e.todayBtn=new Ext.button.Button({ownerCt:e,ownerLayout:e.getComponentLayout(),text:Ext.String.format(e.todayText,i),tooltip:Ext.String.format(e.todayTip,i),tooltipType:"title",handler:e.selectToday,scope:e})),e.callParent(),Ext.applyIf(e,{renderData:{}}),Ext.apply(e.renderData,{dayNames:e.dayNames,showToday:e.showToday,prevText:e.prevText,nextText:e.nextText,days:t})},finishRenderChildren:function(){var e=this;e.callParent(),e.monthBtn.finishRender(),e.showToday&&e.todayBtn.finishRender()},onRender:function(e,t){var i=this;i.callParent(arguments),i.el.unselectable(),i.cells=i.eventEl.select("tbody td"),i.textNodes=i.eventEl.query("tbody td span")},initEvents:function(){var e=this,t=Ext.Date,i=t.DAY;e.callParent(),e.prevRepeater=new Ext.util.ClickRepeater(e.prevEl,{handler:e.showPrevMonth,scope:e,preventDefault:!0,stopDefault:!0}),e.nextRepeater=new Ext.util.ClickRepeater(e.nextEl,{handler:e.showNextMonth,scope:e,preventDefault:!0,stopDefault:!0}),e.keyNav=new Ext.util.KeyNav(e.eventEl,Ext.apply({scope:e,left:function(n){n.ctrlKey?e.showPrevMonth():e.update(t.add(e.activeDate,i,-1))},right:function(n){n.ctrlKey?e.showNextMonth():e.update(t.add(e.activeDate,i,1))},up:function(n){n.ctrlKey?e.showNextYear():e.update(t.add(e.activeDate,i,-7))},down:function(n){n.ctrlKey?e.showPrevYear():e.update(t.add(e.activeDate,i,7))},pageUp:e.showNextMonth,pageDown:e.showPrevMonth,enter:function(e){return e.stopPropagation(),!0}},e.keyNavConfig)),e.showToday&&(e.todayKeyListener=e.eventEl.addKeyListener(Ext.EventObject.SPACE,e.selectToday,e)),e.update(e.value)},initDisabledDays:function(){var e,t,i,n,r=this,o=r.disabledDates,a="(?:";if(!r.disabledDatesRE&&o){for(e=o.length-1,i=o.length,t=0;t<i;t++)n=o[t],a+=Ext.isDate(n)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(n,r.format))+"$":n,t!=e&&(a+="|");r.disabledDatesRE=new RegExp(a+")")}},setDisabledDates:function(e){var t=this;return Ext.isArray(e)?(t.disabledDates=e,t.disabledDatesRE=null):t.disabledDatesRE=e,t.initDisabledDays(),t.update(t.value,!0),t},setDisabledDays:function(e){return this.disabledDays=e,this.update(this.value,!0)},setMinDate:function(e){return this.minDate=e,this.update(this.value,!0)},setMaxDate:function(e){return this.maxDate=e,this.update(this.value,!0)},setValue:function(e){return this.value=Ext.Date.clearTime(e,!0),this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(e){return e.substr(0,1)},focus:function(){this.update(this.activeDate)},onEnable:function(){this.callParent(),this.setDisabledStatus(!1),this.update(this.activeDate)},onDisable:function(){this.callParent(),this.setDisabledStatus(!0)},setDisabledStatus:function(e){var t=this;t.keyNav.setDisabled(e),t.prevRepeater.setDisabled(e),t.nextRepeater.setDisabled(e),t.showToday&&(t.todayKeyListener.setDisabled(e),t.todayBtn.setDisabled(e))},getActive:function(){return this.activeDate||this.value},runAnimation:function(e){var t=this.monthPicker,i={duration:200,callback:function(){e?t.hide():t.show()}};e?t.el.slideOut("t",i):t.el.slideIn("t",i)},hideMonthPicker:function(e){var t=this,i=t.monthPicker;return i&&(t.shouldAnimate(e)?t.runAnimation(!0):i.hide()),t},showMonthPicker:function(e){var t,i=this;return i.rendered&&!i.disabled&&(t=i.createMonthPicker(),t.setValue(i.getActive()),t.setSize(i.getSize()),t.setPosition(-1,-1),
i.shouldAnimate(e)?i.runAnimation(!1):t.show()),i},shouldAnimate:function(e){return Ext.isDefined(e)?e:!this.disableAnim},createMonthPicker:function(){var e=this,t=e.monthPicker;return t||(e.monthPicker=t=new Ext.picker.Month({renderTo:e.el,floating:!0,shadow:!1,small:e.showToday===!1,listeners:{scope:e,cancelclick:e.onCancelClick,okclick:e.onOkClick,yeardblclick:e.onOkClick,monthdblclick:e.onOkClick}}),e.disableAnim||t.el.setStyle("display","none"),e.on("beforehide",Ext.Function.bind(e.hideMonthPicker,e,[!1]))),t},onOkClick:function(e,t){var i=this,n=t[0],r=t[1],o=new Date(r,n,i.getActive().getDate());o.getMonth()!==n&&(o=Ext.Date.getLastDateOfMonth(new Date(r,n,1))),i.update(o),i.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate),this.hideMonthPicker()},showPrevMonth:function(e){return this.update(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(e){return this.update(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){this.update(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){this.update(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(e){if(e.stopEvent(),!this.disabled){var t=e.getWheelDelta();t>0?this.showPrevMonth():t<0&&this.showNextMonth()}},handleDateClick:function(e,t){var i=this,n=i.handler;e.stopEvent(),i.disabled||!t.dateValue||Ext.fly(t.parentNode).hasCls(i.disabledCellCls)||(i.doCancelFocus=i.focusOnSelect===!1,i.setValue(new Date(t.dateValue)),delete i.doCancelFocus,i.fireEvent("select",i,i.value),n&&n.call(i.scope||i,i,i.value),i.onSelect())},onSelect:function(){this.hideOnSelect&&this.hide()},selectToday:function(){var e=this,t=e.todayBtn,i=e.handler;return t&&!t.disabled&&(e.setValue(Ext.Date.clearTime(new Date)),e.fireEvent("select",e,e.value),i&&i.call(e.scope||e,e,e.value),e.onSelect()),e},selectedUpdate:function(e){var t,i,n=this,r=e.getTime(),o=n.cells,a=n.selectedCls,s=o.elements,l=s.length;for(o.removeCls(a),t=0;t<l;t++)if(i=Ext.fly(s[t]),i.dom.firstChild.dateValue==r){n.fireEvent("highlightitem",n,i),i.addCls(a),n.isVisible()&&!n.doCancelFocus&&Ext.fly(i.dom.firstChild).focus(50);break}},fullUpdate:function(e){var t,i,n,r,o,a,s,l,d,u=this,c=u.cells.elements,h=u.textNodes,g=u.disabledCellCls,p=Ext.Date,f=0,m=0,x=u.isVisible(),y=+p.clearTime(e,!0),v=+p.clearTime(new Date),E=u.minDate?p.clearTime(u.minDate,!0):Number.NEGATIVE_INFINITY,b=u.maxDate?p.clearTime(u.maxDate,!0):Number.POSITIVE_INFINITY,w=u.disabledDatesRE,C=u.disabledDatesText,S=!!u.disabledDays&&u.disabledDays.join(""),_=u.disabledDaysText,k=u.format,P=p.getDaysInMonth(e),T=p.getFirstDateOfMonth(e),I=T.getDay()-u.startDay,D=p.add(e,p.MONTH,-1),A=u.longDayFormat;for(I<0&&(I+=7),P+=I,t=p.getDaysInMonth(D)-I,i=new Date(D.getFullYear(),D.getMonth(),t,u.initHour),u.showToday&&(r=p.clearTime(new Date),n=r<E||r>b||w&&k&&w.test(p.dateFormat(r,k))||S&&S.indexOf(r.getDay())!=-1,u.disabled||(u.todayBtn.setDisabled(n),u.todayKeyListener.setDisabled(n))),o=function(e){return d=+p.clearTime(i,!0),e.title=p.format(i,A),e.firstChild.dateValue=d,d==v&&(e.className+=" "+u.todayCls,e.title=u.todayText),d==y&&(e.className+=" "+u.selectedCls,u.fireEvent("highlightitem",u,e),x&&u.floating&&Ext.fly(e.firstChild).focus(50)),d<E?(e.className=g,void(e.title=u.minText)):d>b?(e.className=g,void(e.title=u.maxText)):(S&&S.indexOf(i.getDay())!=-1&&(e.title=_,e.className=g),void(w&&k&&(l=p.dateFormat(i,k),w.test(l)&&(e.title=C.replace("%0",l),e.className=g))))};f<u.numDays;++f)f<I?(a=++t,s=u.prevCls):f>=P?(a=++m,s=u.nextCls):(a=f-I+1,s=u.activeCls),h[f].innerHTML=a,c[f].className=s,i.setDate(i.getDate()+1),o(c[f]);u.monthBtn.setText(Ext.Date.format(e,u.monthYearFormat))},update:function(e,t){var i=this,n=i.activeDate;return i.rendered&&(i.activeDate=e,!t&&n&&i.el&&n.getMonth()==e.getMonth()&&n.getFullYear()==e.getFullYear()?i.selectedUpdate(e,n):i.fullUpdate(e,n),i.innerEl.dom.title=Ext.String.format(i.ariaTitle,Ext.Date.format(i.activeDate,i.ariaTitleDateFormat))),i},beforeDestroy:function(){var e=this;e.rendered&&(Ext.destroy(e.todayKeyListener,e.keyNav,e.monthPicker,e.monthBtn,e.nextRepeater,e.prevRepeater,e.todayBtn),delete e.textNodes,delete e.cells.elements),e.callParent()},onShow:function(){this.callParent(arguments),this.focusOnShow&&this.focus()}},function(){var e=this.prototype,t=Ext.Date;e.monthNames=t.monthNames,e.dayNames=t.dayNames,e.format=t.defaultFormat}),Ext.define("Ext.form.field.Date",{extend:"Ext.form.field.Picker",alias:"widget.datefield",requires:["Ext.picker.Date"],alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:!0,useStrict:void 0,initTime:"12",initTimeFormat:"H",matchFieldWidth:!1,startDay:0,initComponent:function(){var e,t,i=this,n=Ext.isString;e=i.minValue,t=i.maxValue,n(e)&&(i.minValue=i.parseDate(e)),n(t)&&(i.maxValue=i.parseDate(t)),i.disabledDatesRE=null,i.initDisabledDays(),i.callParent()},initValue:function(){var e=this,t=e.value;Ext.isString(t)&&(e.value=e.rawToValue(t)),e.callParent()},initDisabledDays:function(){if(this.disabledDates){var e,t,i=this.disabledDates,n=i.length-1,r="(?:",o=i.length;for(e=0;e<o;e++)t=i[e],r+=Ext.isDate(t)?"^"+Ext.String.escapeRegex(t.dateFormat(this.format))+"$":t,e!==n&&(r+="|");this.disabledDatesRE=new RegExp(r+")")}},setDisabledDates:function(e){var t=this,i=t.picker;t.disabledDates=e,t.initDisabledDays(),i&&i.setDisabledDates(t.disabledDatesRE)},setDisabledDays:function(e){var t=this.picker;this.disabledDays=e,t&&t.setDisabledDays(e)},setMinValue:function(e){var t=this,i=t.picker,n=Ext.isString(e)?t.parseDate(e):e;t.minValue=n,i&&(i.minText=Ext.String.format(t.minText,t.formatDate(t.minValue)),i.setMinDate(n))},setMaxValue:function(e){var t=this,i=t.picker,n=Ext.isString(e)?t.parseDate(e):e;t.maxValue=n,i&&(i.maxText=Ext.String.format(t.maxText,t.formatDate(t.maxValue)),i.setMaxDate(n))},getErrors:function(e){var t,i,n,r,o=this,a=Ext.String.format,s=Ext.Date.clearTime,l=o.callParent(arguments),d=o.disabledDays,u=o.disabledDatesRE,c=o.minValue,h=o.maxValue,g=d?d.length:0,p=0;if(e=o.formatDate(e||o.processRawValue(o.getRawValue())),null===e||e.length<1)return l;if(t=e,e=o.parseDate(e),!e)return l.push(a(o.invalidText,t,Ext.Date.unescapeFormat(o.format))),l;if(r=e.getTime(),c&&r<s(c).getTime()&&l.push(a(o.minText,o.formatDate(c))),h&&r>s(h).getTime()&&l.push(a(o.maxText,o.formatDate(h))),d)for(n=e.getDay();p<g;p++)if(n===d[p]){l.push(o.disabledDaysText);break}return i=o.formatDate(e),u&&u.test(i)&&l.push(a(o.disabledDatesText,i)),l},rawToValue:function(e){return this.parseDate(e)||e||null},valueToRaw:function(e){return this.formatDate(this.parseDate(e))},safeParse:function(e,t){var i,n=this,r=Ext.Date,o=null,a=n.useStrict;return r.formatContainsHourInfo(t)?o=r.parse(e,t,a):(i=r.parse(e+" "+n.initTime,t+" "+n.initTimeFormat,a),i&&(o=r.clearTime(i))),o},getSubmitValue:function(){var e=this.submitFormat||this.format,t=this.getValue();return t?Ext.Date.format(t,e):""},parseDate:function(e){if(!e||Ext.isDate(e))return e;var t,i=this,n=i.safeParse(e,i.format),r=i.altFormats,o=i.altFormatsArray,a=0;if(!n&&r)for(o=o||r.split("|"),t=o.length;a<t&&!n;++a)n=i.safeParse(e,o[a]);return n},formatDate:function(e){return Ext.isDate(e)?Ext.Date.dateFormat(e,this.format):e},createPicker:function(){var e=this,t=Ext.String.format;return new Ext.picker.Date({pickerField:e,ownerCt:e.ownerCt,renderTo:document.body,floating:!0,hidden:!0,focusOnShow:!0,minDate:e.minValue,maxDate:e.maxValue,disabledDatesRE:e.disabledDatesRE,disabledDatesText:e.disabledDatesText,disabledDays:e.disabledDays,disabledDaysText:e.disabledDaysText,format:e.format,showToday:e.showToday,startDay:e.startDay,minText:t(e.minText,e.formatDate(e.minValue)),maxText:t(e.maxText,e.formatDate(e.maxValue)),listeners:{scope:e,select:e.onSelect},keyNavConfig:{esc:function(){e.collapse()}}})},onSelect:function(e,t){var i=this;i.setValue(t),i.fireEvent("select",i,t),i.collapse()},onExpand:function(){var e=this.getValue();this.picker.setValue(Ext.isDate(e)?e:new Date)},onCollapse:function(){this.focus(!1,60)},beforeBlur:function(){var e=this,t=e.parseDate(e.getRawValue()),i=e.focusTask;i&&i.cancel(),t&&e.setValue(t)}}),Ext.define("Ext.resizer.BorderSplitterTracker",{extend:"Ext.resizer.SplitterTracker",requires:["Ext.util.Region"],getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var e,t,i,n,r,o,a,s=this,l=s.splitter,d=l.collapseTarget,u=l.defaultSplitMin,c=l.vertical?"Width":"Height",h="min"+c,g="max"+c,p="get"+c,f=l.neighbors,m=f.length,x=d.el.getBox(),y=x.x,v=x.y,E=x.right,b=x.bottom,w=l.vertical?E-y:b-v;for(i=(d[h]||Math.min(w,u))-w,n=d[g],n?n-=w:n=1e9,a=w,e=0;e<m;++e)t=f[e],w=t[p](),r=w-t[g],o=w-(t[h]||Math.min(w,u)),isNaN(r)||i<r&&(i=r),n>o&&(n=o);return n-i<2?null:(x=new Ext.util.Region(v,E,b,y),s.constraintAdjusters[l.collapseDirection](x,i,n,l),s.dragInfo={minRange:i,maxRange:n,targetSize:a},x)},constraintAdjusters:{left:function(e,t,i,n){e[0]=e.x=e.left=e.right+t,e.right+=i+n.getWidth()},top:function(e,t,i,n){e[1]=e.y=e.top=e.bottom+t,e.bottom+=i+n.getHeight()},bottom:function(e,t,i,n){e.bottom=e.top-t,e.top-=i+n.getHeight()},right:function(e,t,i,n){e.right=e.left-t,e.left-=i+n.getWidth()}},onBeforeStart:function(e){var t,i,n=this,r=n.splitter,o=r.collapseTarget,a=r.neighbors,s=n.getSplitter().collapseEl,l=e.getTarget(),d=a.length;if(s&&l===r.collapseEl.dom)return!1;if(o.collapsed)return!1;for(t=0;t<d;++t)if(i=a[t],i.collapsed&&i.isHorz===o.isHorz)return!1;return!!(n.constrainTo=n.calculateConstrainRegion())&&(n.createDragOverlay(),!0)},performResize:function(e,t){var i,n=this,r=n.splitter,o=r.collapseDirection,a=r.collapseTarget,s=n.splitAdjusters[r.vertical?"horz":"vert"],l=t[s.index],d=n.dragInfo;"right"!=o&&"bottom"!=o||(l=-l),l=Math.min(Math.max(d.minRange,l),d.maxRange),l&&((i=r.ownerCt).suspendLayouts(),s.adjustTarget(a,d.targetSize,l),i.resumeLayouts(!0))},splitAdjusters:{horz:{index:0,adjustTarget:function(e,t,i){e.flex=null,e.setSize(t+i)}},vert:{index:1,adjustTarget:function(e,t,i){e.flex=null,e.setSize(void 0,t+i)}}}}),Ext.define("Ext.resizer.Handle",{extend:"Ext.Component",handleCls:"",baseHandleCls:Ext.baseCSSPrefix+"resizable-handle",region:"",beforeRender:function(){var e=this;e.callParent(),e.addCls(e.baseHandleCls,e.baseHandleCls+"-"+e.region,e.handleCls)},onRender:function(){this.callParent(arguments),this.el.unselectable()}}),Ext.define("Ext.resizer.Splitter",{extend:"Ext.Component",requires:["Ext.XTemplate"],uses:["Ext.resizer.SplitterTracker"],alias:"widget.splitter",childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}">&#160;</div>',"</tpl>"],baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:!0,collapsible:!1,collapseOnDblClick:!0,defaultSplitMin:40,defaultSplitMax:1e3,collapseTarget:"next",horizontal:!1,vertical:!1,getTrackerConfig:function(){return{xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this}},beforeRender:function(){var e,t=this,i=t.getCollapseTarget(),n=t.getCollapseDirection(),r=t.vertical,o=r?"width":"height",a=r?"height":"width";t.callParent(),t.hasOwnProperty(a)||(t[a]="100%"),t.hasOwnProperty(o)||(t[o]=5),i.collapsed&&t.addCls(t.collapsedClsInternal),e=t.baseCls+"-"+t.orientation,t.addCls(e),t.canResize||t.addCls(e+"-noresize"),Ext.applyIf(t.renderData,{collapseDir:n,collapsible:t.collapsible||i.collapsible})},onRender:function(){var e=this;e.callParent(arguments),e.performCollapse!==!1&&(e.renderData.collapsible&&e.mon(e.collapseEl,"click",e.toggleTargetCmp,e),e.collapseOnDblClick&&e.mon(e.el,"dblclick",e.toggleTargetCmp,e)),e.mon(e.getCollapseTarget(),{collapse:e.onTargetCollapse,expand:e.onTargetExpand,scope:e}),e.el.unselectable(),e.canResize&&(e.tracker=Ext.create(e.getTrackerConfig()),e.relayEvents(e.tracker,["beforedragstart","dragstart","dragend"]))},getCollapseDirection:function(){var e,t,i,n,r=this,o=r.collapseDirection;return o||(e=r.collapseTarget,e.isComponent&&(o=e.collapseDirection),o||(n=r.ownerCt.layout.type,e.isComponent?(i=r.ownerCt.items,t=Number(i.indexOf(e)==i.indexOf(r)-1)<<1|Number("hbox"==n)):t=Number("prev"==r.collapseTarget)<<1|Number("hbox"==n),o=["bottom","right","top","left"][t]),r.collapseDirection=o),r.orientation="top"==o||"bottom"==o?"horizontal":"vertical",r[r.orientation]=!0,o},getCollapseTarget:function(){var e=this;return e.collapseTarget.isComponent?e.collapseTarget:"prev"==e.collapseTarget?e.previousSibling():e.nextSibling()},onTargetCollapse:function(e){this.el.addCls([this.collapsedClsInternal,this.collapsedCls])},onTargetExpand:function(e){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls])},toggleTargetCmp:function(e,t){var i,n=this.getCollapseTarget(),r=n.placeholder;i=!(!r||r.hidden)||!n.hidden,i&&(n.collapsed?n.expand():n.collapseDirection?n.collapse():n.collapse(this.renderData.collapseDir))},setSize:function(){var e=this;e.callParent(arguments),Ext.isIE&&e.el&&e.el.repaint()},beforeDestroy:function(){Ext.destroy(this.tracker),this.callParent()}}),Ext.define("Ext.resizer.BorderSplitter",{extend:"Ext.resizer.Splitter",uses:["Ext.resizer.BorderSplitterTracker"],alias:"widget.bordersplitter",collapseTarget:null,getTrackerConfig:function(){var e=this.callParent();return e.xclass="Ext.resizer.BorderSplitterTracker",e}}),Ext.define("Ext.layout.container.Border",{alias:"layout.border",extend:"Ext.layout.container.Container",requires:["Ext.resizer.BorderSplitter","Ext.Component","Ext.fx.Anim"],alternateClassName:"Ext.layout.BorderLayout",targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",padding:void 0,percentageRe:/(\d+)%/,axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:!0,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:!1,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,collapseDirections:{north:"top",south:"bottom",east:"right",west:"left"},manageMargins:!0,panelCollapseAnimate:!0,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(e,t,i){var n,r,o,a,s,l,d,u,c,h,g,p=this,f=p.axisProps[i],m=!f.horizontal,x=f.sizeProp,y=0,v=e.childItems,E=v.length;for(r=0;r<E;++r)if(o=v[r],s=o.target,o.layoutPos={},s.region){if(o.region=l=s.region,o.isCenter=s.isCenter,o.isHorz=s.isHorz,o.isVert=s.isVert,o.weight=s.weight||p.regionWeights[l]||0,t[s.id]=o,s.isCenter){n=o,a=s.flex,e.centerRegion=n;continue}if(m!==o.isVert)continue;o.reverseWeighting=l==f.borderEnd,u=s[x],c=typeof u,s.collapsed||("string"==c&&(d=p.percentageRe.exec(u))?o.percentage=parseInt(d[1],10):s.flex&&(y+=o.flex=s.flex))}return n&&(h=n.target,(g=h.placeholderFor)?a||m!==g.collapsedVertical()||(a=0,n.collapseAxis=i):h.collapsed&&m===h.collapsedVertical()&&(a=0,n.collapseAxis=i)),null==a&&(a=1),y+=a,Ext.apply({before:m?"top":"left",totalFlex:y},f)},beginLayout:function(e){var t,i,n,r,o,a,s,l,d,u=this,c=u.getLayoutItems(),h=u.padding,g=typeof h,p=!1;for(h?"string"!=g&&"number"!=g||(h=Ext.util.Format.parseBox(h)):(h=e.getEl("getTargetEl").getPaddingInfo(),p=!0),e.outerPad=h,e.padOnContainer=p,r=0,n=c.length;r<n;++r)i=c[r],a=u.getSplitterTarget(i),a&&(l=!!i.hidden,a.split?l!==a.hidden&&(s=!a.hidden):a.isCollapsingOrExpanding&&(s=!!a.collapsed),s===!0?i.show():s===!1&&i.hide());for(u.callParent(arguments),c=e.childItems,n=c.length,o={},e.borderAxisHorz=u.beginAxis(e,o,"horz"),e.borderAxisVert=u.beginAxis(e,o,"vert"),r=0;r<n;++r)t=c[r],a=u.getSplitterTarget(t.target),a&&(d=o[a.id],d||(d=e.getEl(a.el,u),d.region=a.region),t.collapseTarget=a=d,t.weight=a.weight,t.reverseWeighting=a.reverseWeighting,a.splitter=t,t.isHorz=a.isHorz,t.isVert=a.isVert);u.sortWeightedItems(c,"reverseWeighting"),u.setupSplitterNeighbors(c)},calculate:function(e){var t,i,n,r,o,a,s=this,l=s.getContainerSize(e),d=e.childItems,u=d.length,c=e.borderAxisHorz,h=e.borderAxisVert,g=e.outerPad,p=e.padOnContainer;for(c.begin=g.left,h.begin=g.top,o=c.end=c.flexSpace=l.width+(p?g.left:-g.right),a=h.end=h.flexSpace=l.height+(p?g.top:-g.bottom),t=0;t<u;++t)i=d[t],n=i.getMarginInfo(),(i.isHorz||i.isCenter)&&(c.addUnflexed(n.width),o-=n.width),(i.isVert||i.isCenter)&&(h.addUnflexed(n.height),a-=n.height),i.flex||i.percentage||(i.isHorz||i.isCenter&&"horz"===i.collapseAxis?(r=i.getProp("width"),c.addUnflexed(r),i.collapseTarget&&(o-=r)):(i.isVert||i.isCenter&&"vert"===i.collapseAxis)&&(r=i.getProp("height"),h.addUnflexed(r),i.collapseTarget&&(a-=r)));for(t=0;t<u;++t)i=d[t],n=i.getMarginInfo(),i.percentage&&(i.isHorz?(r=Math.ceil(o*i.percentage/100),r=i.setWidth(r),c.addUnflexed(r)):i.isVert&&(r=Math.ceil(a*i.percentage/100),r=i.setHeight(r),h.addUnflexed(r)));for(t=0;t<u;++t)i=d[t],i.isCenter||(s.calculateChildAxis(i,c),s.calculateChildAxis(i,h));s.finishAxis(e,h)+s.finishAxis(e,c)<2?s.done=!1:s.finishPositions(d)},calculateChildAxis:function(e,t){var i,n,r,o,a,s=e.collapseTarget,l="set"+t.sizePropCap,d=t.sizeProp,u=e.getMarginInfo()[d];s?i=s.region:(i=e.region,r=e.flex),n=i==t.borderBegin,n||i==t.borderEnd?(r?(a=Math.ceil(t.flexSpace*(r/t.totalFlex)),a=e[l](a)):a=e.percentage?e.peek(d):e.getProp(d),a+=u,n?(o=t.begin,t.begin+=a):t.end=o=t.end-a):(e[l](t.end-t.begin-u),o=t.begin),e.layoutPos[t.posProp]=o},finishAxis:function(e,t){var i=t.end-t.begin,n=e.centerRegion;return n&&(n["set"+t.sizePropCap](i-n.getMarginInfo()[t.sizeProp]),n.layoutPos[t.posProp]=t.begin),Ext.isNumber(i)?1:0},finishPositions:function(e){var t,i,n=e.length;for(t=0;t<n;++t)i=e[t],i.setProp("x",i.layoutPos.x+i.marginInfo.left),i.setProp("y",i.layoutPos.y+i.marginInfo.top)},getPlaceholder:function(e){return e.getPlaceholder&&e.getPlaceholder()},getSplitterTarget:function(e){var t=e.collapseTarget;return t&&t.collapsed?t.placeholder||t:t},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},insertSplitter:function(e,t,i){var n=e.region,r={xtype:"bordersplitter",collapseTarget:e,id:e.id+"-splitter",hidden:i,canResize:e.splitterResize!==!1},o=t+("south"==n||"east"==n?0:1);e.isHorz?r.height=null:r.width=null,"mini"==e.collapseMode&&(r.collapsedCls=e.collapsedCls),e.splitter=this.owner.add(o,r)},onAdd:function(e,t){var i,n,r=this,o=e.placeholderFor,a=e.region;r.callParent(arguments),a?(Ext.apply(e,r.regionFlags[a]),"center"==a?r.centerRegion=e:(e.collapseDirection=this.collapseDirections[a],i=e.split,n=!!e.hidden,!e.isHorz&&!e.isVert||!i&&"mini"!=e.collapseMode||r.insertSplitter(e,t,n||!i)),e.hasOwnProperty("collapseMode")||(e.collapseMode=r.panelCollapseMode),e.hasOwnProperty("animCollapse")||("placeholder"!=e.collapseMode?e.animCollapse=!1:e.animCollapse=r.panelCollapseAnimate)):o&&(Ext.apply(e,r.regionFlags[o.region]),e.region=o.region,e.weight=o.weight)},onDestroy:function(){this.centerRegion=null,this.callParent()},onRemove:function(e){var t=this,i=e.region,n=e.splitter;i&&(e.isCenter&&(t.centerRegion=null),delete e.isCenter,delete e.isHorz,delete e.isVert,n&&(t.owner.doRemove(n,!0),delete e.splitter)),t.callParent(arguments)},regionFlags:{center:{isCenter:!0,isHorz:!1,isVert:!1},north:{isCenter:!1,isHorz:!1,isVert:!0},south:{isCenter:!1,isHorz:!1,isVert:!0},west:{isCenter:!1,isHorz:!0,isVert:!1},east:{isCenter:!1,isHorz:!0,isVert:!1}},setupSplitterNeighbors:function(e){var t,i,n,r,o,a,s,l,d,u={},c=e.length,h=this.touchedRegions;for(t=0;t<c;++t)if(a=e[t].target,s=a.region,a.isCenter)n=a;else if(s){for(d=h[s],i=0,r=d.length;i<r;++i)o=u[d[i]],o&&o.neighbors.push(a);l=a.placeholderFor?a.placeholderFor.splitter:a.splitter,l&&(l.neighbors=[]),u[s]=l}if(n)for(d=h.center,i=0,r=d.length;i<r;++i)o=u[d[i]],o&&o.neighbors.push(n)},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{setsWidth:1,setsHeight:0},horz:{setsWidth:0,setsHeight:1},flexAll:{setsWidth:1,setsHeight:1}},getItemSizePolicy:function(e){var t,i,n,r,o=this,a=this.sizePolicies;return e.isCenter?(r=e.placeholderFor,r?r.collapsedVertical()?a.vert:a.horz:e.collapsed?e.collapsedVertical()?a.vert:a.horz:a.flexAll):(t=e.collapseTarget,t?t.isVert?a.vert:a.horz:e.region?(e.isVert?(i=e.height,n=a.vert):(i=e.width,n=a.horz),e.flex||"string"==typeof i&&o.percentageRe.test(i)?a.flexAll:n):o.autoSizePolicy)}},function(){var e={addUnflexed:function(e){this.flexSpace=Math.max(this.flexSpace-e,0)}},t=this.prototype.axisProps;Ext.apply(t.horz,e),Ext.apply(t.vert,e)}),Ext.define("Ext.selection.CellModel",{extend:"Ext.selection.Model",alias:"selection.cellmodel",requires:["Ext.util.KeyNav"],isCellModel:!0,enableKeyNav:!0,preventWrap:!1,noSelection:{row:-1,column:-1},constructor:function(){this.addEvents("deselect","select"),this.callParent(arguments)},bindComponent:function(e){var t=this,i=e.ownerCt;t.primaryView=e,t.views=t.views||[],t.views.push(e),t.bindStore(e.getStore(),!0),e.on({cellmousedown:t.onMouseDown,refresh:t.onViewRefresh,scope:t}),i.optimizedColumnMove!==!1&&i.on("columnmove",t.onColumnMove,t),t.enableKeyNav&&t.initKeyNav(e)},initKeyNav:function(e){var t=this;return e.rendered?(e.el.set({tabIndex:-1}),void(t.keyNav=new Ext.util.KeyNav({target:e.el,ignoreInputFields:!0,up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,tab:t.onKeyTab,scope:t}))):void e.on("render",Ext.Function.bind(t.initKeyNav,t,[e],0),t,{single:!0})},getHeaderCt:function(){var e=this.getCurrentPosition(),t=e?e.view:this.primaryView;return t.headerCt},onKeyUp:function(e,t){this.keyNavigation=!0,this.move("up",e),this.keyNavigation=!1},onKeyDown:function(e,t){this.keyNavigation=!0,this.move("down",e),this.keyNavigation=!1},onKeyLeft:function(e,t){this.keyNavigation=!0,this.move("left",e),this.keyNavigation=!1},onKeyRight:function(e,t){this.keyNavigation=!0,this.move("right",e),this.keyNavigation=!1},move:function(e,t){var i=this,n=i.getCurrentPosition(),r=n.view.walkCells(n,e,t,i.preventWrap);if(r)return r.view=n.view,i.setCurrentPosition(r)},getCurrentPosition:function(){return this.selection},setCurrentPosition:function(e){var t=this;if(t.lastSelection=t.selection,t.selection&&t.onCellDeselect(t.selection),e)return t.nextSelection=new t.Selection(t),t.nextSelection.setPosition(e),t.onCellSelect(t.nextSelection),t.selection=t.nextSelection},onStoreRemove:function(e,t,i){var n=this,r=n.getCurrentPosition();n.callParent(arguments),r&&(r.row==i?i<e.getCount()-1?(r.setPosition(i,r.column),n.setCurrentPosition(r)):delete n.selection:i<r.row&&(r.setPosition(r.row-1,r.column),n.setCurrentPosition(r)))},onMouseDown:function(e,t,i,n,r,o,a){this.setCurrentPosition({view:e,row:o,column:i})},onCellSelect:function(e,t){e&&void 0!==e.row&&e.row>-1&&this.doSelect(e.view.getStore().getAt(e.row),!1,t)},onCellDeselect:function(e,t){e&&void 0!==e.row&&this.doDeselect(e.view.getStore().getAt(e.row),t)},onSelectChange:function(e,t,i,n){var r,o,a,s=this;t?(r=s.nextSelection,o="select"):(r=s.lastSelection||s.noSelection,o="deselect"),a=r.view||s.primaryView,(i||s.fireEvent("before"+o,s,e,r.row,r.column))!==!1&&n()!==!1&&(t?(a.onCellSelect(r),a.onCellFocus(r)):(a.onCellDeselect(r),delete s.selection),i||s.fireEvent(o,s,e,r.row,r.column))},onKeyTab:function(e,t){var i=this,n=i.getCurrentPosition().view.editingPlugin;n&&i.wasEditing?i.onEditorTab(n,e):i.move(e.shiftKey?"left":"right",e)},onEditorTab:function(e,t){var i=this,n=t.shiftKey?"left":"right",r=i.move(n,t);r&&(e.startEditByPosition(r)?i.wasEditing=!1:(i.wasEditing=!0,r.columnHeader.dataIndex||i.onEditorTab(e,t)))},refresh:function(){var e,t=this.getCurrentPosition();t&&(e=this.store.indexOf(this.selected.last()))!==-1&&(t.row=e)},onColumnMove:function(e,t,i,n){var r=e.up("tablepanel");r&&this.onViewRefresh(r.view)},onViewRefresh:function(e){var t,i,n=this,r=n.getCurrentPosition(),o=e.headerCt;r&&r.view===e&&(t=r.record,i=r.columnHeader,i.isDescendantOf(o)||(i=o.queryById(i.id)||o.down('[text="'+i.text+'"]')||o.down('[dataIndex="'+i.dataIndex+'"]')),i&&e.store.indexOfId(t.getId())!==-1&&n.setCurrentPosition({row:t,column:i,view:e}))},selectByPosition:function(e){this.setCurrentPosition(e)}},function(){var e=this.prototype.Selection=function(e){this.model=e};e.prototype.setPosition=function(e,t){var i,n=this;return 1===arguments.length&&(e.view&&(n.view=i=e.view),t=e.column,e=e.row),i||(n.view=i=n.model.primaryView),"number"==typeof e?(n.row=e,n.record=i.store.getAt(e)):e.isModel?(n.record=e,n.row=i.indexOf(e)):e.tagName&&(n.record=i.getRecord(e),n.row=i.indexOf(n.record)),"number"==typeof t?(n.column=t,n.columnHeader=i.getHeaderAtIndex(t)):(n.columnHeader=t,n.column=t.getIndex()),n}}),Ext.define("Ext.selection.RowModel",{extend:"Ext.selection.Model",alias:"selection.rowmodel",requires:["Ext.util.KeyNav"],deltaScroll:5,enableKeyNav:!0,ignoreRightMouseSelection:!1,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select"),this.views=[],this.callParent(arguments)},bindComponent:function(e){var t=this;t.views=t.views||[],t.views.push(e),t.bindStore(e.getStore(),!0),e.on({itemmousedown:t.onRowMouseDown,scope:t}),t.enableKeyNav&&t.initKeyNav(e)},initKeyNav:function(e){var t=this;return e.rendered?(e.el.set({tabIndex:-1}),void(t.keyNav=new Ext.util.KeyNav({target:e,ignoreInputFields:!0,eventName:"itemkeydown",processEvent:function(e,t,i,n,r){return r.record=t,r.recordIndex=n,r},up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,pageDown:t.onKeyPageDown,pageUp:t.onKeyPageUp,home:t.onKeyHome,end:t.onKeyEnd,space:t.onKeySpace,enter:t.onKeyEnter,scope:t}))):void e.on("render",Ext.Function.bind(t.initKeyNav,t,[e],0),t,{single:!0})},getRowsVisible:function(){var e,t,i=!1,n=this.views[0],r=n.getNode(0);return r&&(e=Ext.fly(r).getHeight(),t=n.el.getHeight(),i=Math.floor(t/e)),i},onKeyEnd:function(e){var t=this,i=t.store.getAt(t.store.getCount()-1);i&&(e.shiftKey?(t.selectRange(i,t.lastFocused||0),t.setLastFocused(i)):e.ctrlKey?t.setLastFocused(i):t.doSelect(i))},onKeyHome:function(e){var t=this,i=t.store.getAt(0);i&&(e.shiftKey?(t.selectRange(i,t.lastFocused||0),t.setLastFocused(i)):e.ctrlKey?t.setLastFocused(i):t.doSelect(i,!1))},onKeyPageUp:function(e){var t,i,n,r=this,o=r.getRowsVisible();o&&(t=e.recordIndex,i=t-o,i<0&&(i=0),n=r.store.getAt(i),e.shiftKey?(r.selectRange(n,e.record,e.ctrlKey,"up"),r.setLastFocused(n)):e.ctrlKey?(e.preventDefault(),r.setLastFocused(n)):r.doSelect(n))},onKeyPageDown:function(e){var t,i,n,r=this,o=r.getRowsVisible();o&&(t=e.recordIndex,i=t+o,i>=r.store.getCount()&&(i=r.store.getCount()-1),n=r.store.getAt(i),e.shiftKey?(r.selectRange(n,e.record,e.ctrlKey,"down"),r.setLastFocused(n)):e.ctrlKey?(e.preventDefault(),r.setLastFocused(n)):r.doSelect(n))},onKeySpace:function(e){var t=this,i=t.lastFocused;i&&(t.isSelected(i)?t.doDeselect(i,!1):t.doSelect(i,!0))},onKeyEnter:Ext.emptyFn,onKeyUp:function(e){var t,i=this,n=i.store.indexOf(i.lastFocused);n>0&&(t=i.store.getAt(n-1),e.shiftKey&&i.lastFocused?i.isSelected(i.lastFocused)&&i.isSelected(t)?(i.doDeselect(i.lastFocused,!0),i.setLastFocused(t)):i.isSelected(i.lastFocused)?i.doSelect(t,!0):(i.doSelect(i.lastFocused,!0),i.doSelect(t,!0)):e.ctrlKey?i.setLastFocused(t):i.doSelect(t))},onKeyDown:function(e){var t,i=this,n=i.store.indexOf(i.lastFocused);n+1<i.store.getCount()&&(t=i.store.getAt(n+1),0===i.selected.getCount()?e.ctrlKey?i.setLastFocused(t):i.doSelect(t):e.shiftKey&&i.lastFocused?i.isSelected(i.lastFocused)&&i.isSelected(t)?(i.doDeselect(i.lastFocused,!0),i.setLastFocused(t)):i.isSelected(i.lastFocused)?i.doSelect(t,!0):(i.doSelect(i.lastFocused,!0),i.doSelect(t,!0)):e.ctrlKey?i.setLastFocused(t):i.doSelect(t))},scrollByDeltaX:function(e){var t=this.views[0],i=t.up(),n=i.horizontalScroller;n&&n.scrollByDeltaX(e)},onKeyLeft:function(e){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(e){this.scrollByDeltaX(this.deltaScroll)},onRowMouseDown:function(e,t,i,n,r){this.allowRightMouseSelection(r)&&(0!==r.button&&this.isSelected(t)||this.selectWithEvent(t,r))},allowRightMouseSelection:function(e){var t=this.ignoreRightMouseSelection&&0!==e.button;return t&&(t=this.hasSelection()),!t},onSelectChange:function(e,t,i,n){var r=this,o=r.views,a=o.length,s=r.store,l=s.indexOf(e),d=t?"select":"deselect",u=0;if((i||r.fireEvent("before"+d,r,e,l))!==!1&&n()!==!1){for(;u<a;u++)t?o[u].onRowSelect(l,i):o[u].onRowDeselect(l,i);i||r.fireEvent(d,r,e,l)}},onLastFocusChanged:function(e,t,i){var n,r=this.views,o=r.length,a=this.store,s=0;if(e&&(n=a.indexOf(e),n!=-1))for(;s<o;s++)r[s].onRowFocus(n,!1);if(t&&(n=a.indexOf(t),n!=-1))for(s=0;s<o;s++)r[s].onRowFocus(n,!0,i);this.callParent()},onEditorTab:function(e,t){var i=this,n=i.views[0],r=e.getActiveRecord(),o=e.getActiveColumn(),a=n.getPosition(r,o),s=t.shiftKey?"left":"right";do a=n.walkCells(a,s,t,i.preventWrap);while(a&&!n.headerCt.getHeaderAtIndex(a.column).getEditor());a&&e.startEditByPosition(a)},getCurrentPosition:function(){var e=this.selected.items[0];if(e)return{row:this.store.indexOf(e),column:0}},selectByPosition:function(e){var t=this.store.getAt(e.row);this.select(t)},selectNext:function(e,t){var i,n=this,r=n.store,o=n.getSelection(),a=o[o.length-1],s=r.indexOf(a)+1;return s===r.getCount()||0===s?i=!1:(n.doSelect(s,e,t),i=!0),i},selectPrevious:function(e,t){var i,n=this,r=n.getSelection(),o=r[0],a=n.store.indexOf(o)-1;return a<0?i=!1:(n.doSelect(a,e,t),i=!0),i}}),Ext.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:"Ext.selection.RowModel",mode:"MULTI",injectCheckbox:0,checkOnly:!1,showHeaderCheckbox:!0,headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",refreshOnRemove:!0,beforeViewRender:function(e){var t=this;t.callParent(arguments),t.hasLockedHeader()&&!e.headerCt.lockedCt||(t.showHeaderCheckbox!==!1&&e.headerCt.on("headerclick",t.onHeaderClick,t),t.addCheckbox(e,!0),t.mon(e.ownerCt,"reconfigure",t.onReconfigure,t))},bindComponent:function(e){var t=this;t.sortable=!1,t.callParent(arguments)},hasLockedHeader:function(){var e,t=this.views,i=t.length;for(e=0;e<i;e++)if(t[e].headerCt.lockedCt)return!0;return!1},addCheckbox:function(e,t){var i=this,n=i.injectCheckbox,r=e.headerCt;n!==!1&&("first"==n?n=0:"last"==n&&(n=r.getColumnCount()),Ext.suspendLayouts(),r.add(n,i.getHeaderConfig()),Ext.resumeLayouts()),t!==!0&&e.refresh()},onReconfigure:function(e,t,i){i&&this.addCheckbox(this.views[0])},toggleUiHeader:function(e){var t=this.views[0],i=t.headerCt,n=i.child("gridcolumn[isCheckerHd]");n&&(e?n.el.addCls(this.checkerOnCls):n.el.removeCls(this.checkerOnCls))},onHeaderClick:function(e,t,i){if(t.isCheckerHd){i.stopEvent();var n=this,r=t.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");n.preventFocus=!0,r?n.deselectAll():n.selectAll(),delete n.preventFocus}},getHeaderConfig:function(){var e=this,t=e.showHeaderCheckbox!==!1;return{isCheckerHd:t,text:"&#160;",width:e.headerWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:t?Ext.baseCSSPrefix+"column-header-checkbox ":"",renderer:Ext.Function.bind(e.renderer,e),editRenderer:e.editRenderer||e.renderEmpty,locked:e.hasLockedHeader()}},renderEmpty:function(){return"&#160;"},renderer:function(e,t,i,n,r,o,a){var s=Ext.baseCSSPrefix;return t.tdCls=s+"grid-cell-special "+s+"grid-cell-row-checker",'<div class="'+s+'grid-row-checker">&#160;</div>'},onRowMouseDown:function(e,t,i,n,r){e.el.focus();var o,a=this,s=r.getTarget("."+Ext.baseCSSPrefix+"grid-row-checker");a.allowRightMouseSelection(r)&&(a.checkOnly&&!s||(s?(o=a.getSelectionMode(),"SINGLE"!==o&&a.setSelectionMode("SIMPLE"),
a.selectWithEvent(t,r),a.setSelectionMode(o)):a.selectWithEvent(t,r)))},onSelectChange:function(){var e=this;e.callParent(arguments),e.updateHeaderState()},onStoreLoad:function(){var e=this;e.callParent(arguments),e.updateHeaderState()},updateHeaderState:function(){var e=this.selected.getCount()===this.store.getCount();this.toggleUiHeader(e)}}),Ext.define("Ext.selection.TreeModel",{extend:"Ext.selection.RowModel",alias:"selection.treemodel",pruneRemoved:!1,onKeyRight:function(e,t){var i=this.getLastFocused(),n=this.view;i&&(i.isExpanded()?this.onKeyDown(e,t):i.isExpandable()&&n.expand(i))},onKeyLeft:function(e,t){var i,n=this.getLastFocused(),r=this.view,o=r.getSelectionModel();n&&(i=n.parentNode,n.isExpanded()?r.collapse(n):i&&!i.isRoot()&&(e.shiftKey?(o.selectRange(i,n,e.ctrlKey,"up"),o.setLastFocused(i)):e.ctrlKey?o.setLastFocused(i):o.select(i)))},onKeySpace:function(e,t){this.toggleCheck(e)},onKeyEnter:function(e,t){this.toggleCheck(e)},toggleCheck:function(e){e.stopEvent();var t=this.getLastSelected();t&&this.view.onCheckChange(t)}}),Ext.define("Ext.tab.Tab",{extend:"Ext.button.Button",alias:"widget.tab",requires:["Ext.layout.component.Tab","Ext.util.KeyNav"],componentLayout:"tab",isTab:!0,baseCls:Ext.baseCSSPrefix+"tab",activeCls:"active",closableCls:"closable",closable:!0,closeText:"Close Tab",active:!1,childEls:["closeEl"],scale:!1,position:"top",initComponent:function(){var e=this;e.addEvents("activate","deactivate","beforeclose","close"),e.callParent(arguments),e.card&&e.setCard(e.card)},getTemplateArgs:function(){var e=this,t=e.callParent();return t.closable=e.closable,t.closeText=e.closeText,t},beforeRender:function(){var e=this,t=e.up("tabbar"),i=e.up("tabpanel");e.callParent(),e.addClsWithUI(e.position),e.syncClosableUI(),e.minWidth||(e.minWidth=t?t.minTabWidth:e.minWidth,!e.minWidth&&i&&(e.minWidth=i.minTabWidth),e.minWidth&&e.iconCls&&(e.minWidth+=25)),e.maxWidth||(e.maxWidth=t?t.maxTabWidth:e.maxWidth,!e.maxWidth&&i&&(e.maxWidth=i.maxTabWidth))},onRender:function(){var e=this;e.callParent(arguments),e.keyNav=new Ext.util.KeyNav(e.el,{enter:e.onEnterKey,del:e.onDeleteKey,scope:e})},enable:function(e){var t=this;return t.callParent(arguments),t.removeClsWithUI(t.position+"-disabled"),t},disable:function(e){var t=this;return t.callParent(arguments),t.addClsWithUI(t.position+"-disabled"),t},onDestroy:function(){var e=this;Ext.destroy(e.keyNav),delete e.keyNav,e.callParent(arguments)},setClosable:function(e){var t=this;e=!arguments.length||!!e,t.closable!=e&&(t.closable=e,t.card&&(t.card.closable=e),t.syncClosableUI(),t.rendered&&(t.syncClosableElements(),t.updateLayout()))},syncClosableElements:function(){var e=this,t=e.closeEl;e.closable?t||(e.closeEl=e.btnWrap.insertSibling({tag:"a",cls:e.baseCls+"-close-btn",href:"#",title:e.closeText},"after")):t&&(t.remove(),delete e.closeEl)},syncClosableUI:function(){var e=this,t=[e.closableCls,e.closableCls+"-"+e.position];e.closable?e.addClsWithUI(t):e.removeClsWithUI(t)},setCard:function(e){var t=this;t.card=e,t.setText(t.title||e.title),t.setIconCls(t.iconCls||e.iconCls),t.setIcon(t.icon||e.icon)},onCloseClick:function(){var e=this;if(e.fireEvent("beforeclose",e)!==!1)if(e.tabBar){if(e.tabBar.closeTab(e)===!1)return}else e.fireClose()},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(e){var t=this;t.tabBar&&t.tabBar.onClick(e,t.el)},onDeleteKey:function(e){this.closable&&this.onCloseClick()},activate:function(e){var t=this;t.active=!0,t.addClsWithUI([t.activeCls,t.position+"-"+t.activeCls]),e!==!0&&t.fireEvent("activate",t)},deactivate:function(e){var t=this;t.active=!1,t.removeClsWithUI([t.activeCls,t.position+"-"+t.activeCls]),e!==!0&&t.fireEvent("deactivate",t)}}),Ext.define("Ext.tab.Bar",{extend:"Ext.panel.Header",alias:"widget.tabbar",baseCls:Ext.baseCSSPrefix+"tab-bar",requires:["Ext.tab.Tab"],isTabBar:!0,defaultType:"tab",plain:!1,childEls:["body","strip"],renderTpl:['<div id="{id}-body" class="{baseCls}-body {bodyCls}<tpl if="ui"> {baseCls}-body-{ui}<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl></tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>",'<div id="{id}-strip" class="{baseCls}-strip<tpl if="ui"> {baseCls}-strip-{ui}<tpl for="uiCls"> {parent.baseCls}-strip-{parent.ui}-{.}</tpl></tpl>"></div>'],initComponent:function(){var e=this;e.plain&&e.setUI(e.ui+"-plain"),e.addClsWithUI(e.dock),e.addEvents("change"),e.callParent(arguments),e.layout.align="vertical"==e.orientation?"left":"top",e.layout.overflowHandler=new Ext.layout.container.boxOverflow.Scroller(e.layout),e.remove(e.titleCmp),delete e.titleCmp,Ext.apply(e.renderData,{bodyCls:e.bodyCls})},getLayout:function(){var e=this;return e.layout.type="top"===e.dock||"bottom"===e.dock?"hbox":"vbox",e.callParent(arguments)},onAdd:function(e){e.position=this.dock,this.callParent(arguments)},onRemove:function(e){var t=this;e===t.previousTab&&(t.previousTab=null),t.callParent(arguments)},afterComponentLayout:function(e){this.callParent(arguments),this.strip.setWidth(e)},onClick:function(e,t){var i=this,n=e.getTarget("."+Ext.tab.Tab.prototype.baseCls),r=n&&Ext.getCmp(n.id),o=i.tabPanel,a=r&&r.closeEl&&t===r.closeEl.dom;a&&e.preventDefault(),r&&r.isDisabled&&!r.isDisabled()&&(r.closable&&a?r.onCloseClick():(o?o.setActiveTab(r.card):i.setActiveTab(r),r.focus()))},closeTab:function(e){var t,i=this,n=e.card,r=i.tabPanel;if(n&&n.fireEvent("beforeclose",n)===!1)return!1;if(t=i.findNextActivatable(e),Ext.suspendLayouts(),r&&n){if(delete e.ownerCt,n.fireEvent("close",n),r.remove(n),r.getComponent(n))return e.ownerCt=i,Ext.resumeLayouts(!0),!1;e.fireClose(),i.remove(e)}t&&(r?r.setActiveTab(t.card):i.setActiveTab(t),t.focus()),Ext.resumeLayouts(!0)},findNextActivatable:function(e){var t=this;if(e.active&&t.items.getCount()>1)return t.previousTab&&t.previousTab!==e&&!t.previousTab.disabled?t.previousTab:e.next("tab[disabled=false]")||e.prev("tab[disabled=false]")},setActiveTab:function(e){var t=this;e.disabled||e===t.activeTab||(t.activeTab&&(t.activeTab.isDestroyed?t.previousTab=null:(t.previousTab=t.activeTab,t.activeTab.deactivate())),e.activate(),t.activeTab=e,t.fireEvent("change",t,e,e.card),t.on({afterlayout:t.afterTabActivate,scope:t,single:!0}),t.updateLayout())},afterTabActivate:function(){this.layout.overflowHandler.scrollToItem(this.activeTab)}}),Ext.define("Ext.toolbar.Fill",{extend:"Ext.Component",alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",isFill:!0,flex:1}),Ext.define("Ext.toolbar.Item",{extend:"Ext.Component",alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn}),Ext.define("Ext.toolbar.Separator",{extend:"Ext.toolbar.Item",alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",focusable:!1,border:!0}),Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.toolbar.Separator","Ext.button.Button"],alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items">(None)</div>',constructor:function(e){var t=this;t.callParent(arguments),t.triggerButtonCls=t.triggerButtonCls||Ext.baseCSSPrefix+"box-menu-"+e.getNames().right,t.menuItems=[]},beginLayout:function(e){this.callParent(arguments),this.clearOverflow(e)},beginLayoutCycle:function(e,t){this.callParent(arguments),t||(this.clearOverflow(e),this.layout.cacheChildItems(e))},onRemove:function(e){Ext.Array.remove(this.menuItems,e)},getSuffixConfig:function(){var e=this,t=e.layout,i=t.owner.id;return e.menu=new Ext.menu.Menu({listeners:{scope:e,beforeshow:e.beforeMenuShow}}),e.menuTrigger=new Ext.button.Button({id:i+"-menu-trigger",cls:Ext.layout.container.Box.prototype.innerCls+" "+e.triggerButtonCls,hidden:!0,ownerCt:t.owner,ownerLayout:t,iconCls:Ext.baseCSSPrefix+e.getOwnerType(t.owner)+"-more-icon",ui:t.owner instanceof Ext.toolbar.Toolbar?"default-toolbar":"default",menu:e.menu,getSplitCls:function(){return""}}),e.menuTrigger.getRenderTree()},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},handleOverflow:function(e){var t=this,i=t.layout,n=i.getNames(),r=e.state.boxPlan,o=[null,null];return t.showTrigger(e),o[n.heightIndex]=(r.maxSize-t.menuTrigger[n.getHeight]())/2,t.menuTrigger.setPosition.apply(t.menuTrigger,o),{reservedSpace:t.menuTrigger[n.getWidth]()}},captureChildElements:function(){var e=this.menuTrigger;e.rendering&&e.finishRender()},_asLayoutRoot:{isRoot:!0},clearOverflow:function(e){var t,i=this,n=i.menuItems,r=0,o=n.length,a=i.layout.owner,s=i._asLayoutRoot;for(a.suspendLayouts(),i.captureChildElements(),i.hideTrigger(),a.resumeLayouts();r<o;r++)t=n[r],t.suspendLayouts(),t.show(),t.resumeLayouts(s);n.length=0},showTrigger:function(e){var t,i,n,r,o=this,a=o.layout,s=a.owner,l=a.getNames(),d=l.x,u=l.width,c=e.state.boxPlan,h=c.targetSize[u],g=e.childItems,p=g.length,f=o.menuTrigger;for(f.suspendLayouts(),f.show(),f.resumeLayouts(o._asLayoutRoot),h-=o.menuTrigger.getWidth(),s.suspendLayouts(),o.menuItems.length=0,n=0;n<p;n++)t=g[n],r=t.props,r[d]+r[u]>h&&(i=t.target,o.menuItems.push(i),i.hide());s.resumeLayouts()},hideTrigger:function(){var e=this.menuTrigger;e&&e.hide()},beforeMenuShow:function(e){var t,i,n=this,r=n.menuItems,o=0,a=r.length,s=function(e,t){return e.isXType("buttongroup")&&!(t instanceof Ext.toolbar.Separator)};for(e.suspendLayouts(),n.clearMenu(),e.removeAll();o<a;o++)t=r[o],!o&&t instanceof Ext.toolbar.Separator||(i&&(s(t,i)||s(i,t))&&e.add("-"),n.addComponentToMenu(e,t),i=t);e.items.length<1&&e.add(n.noItemsMenuText),e.resumeLayouts()},createMenuConfig:function(e,t){var i=Ext.apply({},e.initialConfig),n=e.toggleGroup;return Ext.copyTo(i,e,["iconCls","icon","itemId","disabled","handler","scope","menu"]),Ext.apply(i,{text:e.overflowText||e.text,hideOnClick:t,destroyMenu:!1}),e.isFormField?(i.value=e.getValue(),i.listeners||(i.listeners={}),i.listeners.change=function(t,i,n){e.setValue(i)}):(n||e.enableToggle)&&Ext.apply(i,{iconAlign:"right",hideOnClick:!1,group:n,checked:e.pressed,listeners:{checkchange:function(t,i){e.toggle(i)}}}),delete i.ownerCt,delete i.xtype,delete i.id,i},addComponentToMenu:function(e,t){var i,n,r,o=this;if(t instanceof Ext.toolbar.Separator)e.add("-");else if(t.isComponent)if(t.isXType("splitbutton"))e.add(o.createMenuConfig(t,!0));else if(t.isXType("button"))e.add(o.createMenuConfig(t,!t.menu));else if(t.isXType("buttongroup"))for(n=t.items.items,r=n.length,i=0;i<r;i++)o.addComponentToMenu(e,n[i]);else e.add(Ext.create(Ext.getClassName(t),o.createMenuConfig(t)))},clearMenu:function(){var e,t,i,n,r=this.menu;if(r&&r.items)for(e=r.items.items,i=e.length,t=0;t<i;t++)n=e[t],n.setMenu&&n.setMenu(null)},destroy:function(){var e=this.menuTrigger;e&&!this.layout.owner.items.contains(e)&&delete e.ownerCt,Ext.destroy(this.menu,e)}}),Ext.define("Ext.layout.container.Box",{alias:["layout.box"],extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.BoxLayout",requires:["Ext.layout.container.boxOverflow.None","Ext.layout.container.boxOverflow.Menu","Ext.layout.container.boxOverflow.Scroller","Ext.util.Format","Ext.dd.DragDropManager"],defaultMargins:{top:0,right:0,bottom:0,left:0},padding:0,pack:"start",flex:void 0,stretchMaxPartner:void 0,type:"box",scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:!0,manageMargins:!0,childEls:["innerCt","targetEl"],renderTpl:["{%var oc,l=values.$comp.layout,oh=l.overflowHandler;","if (oh.getPrefixConfig!==Ext.emptyFn) {","if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)","}%}",'<div id="{ownerId}-innerCt" class="{[l.innerCls]} {[oh.getOverflowCls()]}" role="presentation">','<div id="{ownerId}-targetEl" style="position:absolute;',"width:20000px;","left:0px;top:0px;",'height:1px">',"{%this.renderBody(out, values)%}","</div>","</div>","{%if (oh.getSuffixConfig!==Ext.emptyFn) {","if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)","}%}",{disableFormats:!0,definitions:"var dh=Ext.DomHelper;"}],constructor:function(e){var t,i=this;i.callParent(arguments),i.flexSortFn=Ext.Function.bind(i.flexSort,i),i.initOverflowHandler(),t=typeof i.padding,"string"!=t&&"number"!=t||(i.padding=Ext.util.Format.parseBox(i.padding),i.padding.height=i.padding.top+i.padding.bottom,i.padding.width=i.padding.left+i.padding.right)},getNames:function(){return this.names},_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(e,t){var i=this,n=i.sizePolicy,r=i.align,o=e.flex,a=r,s=i.names,l=e[s.width],d=e[s.height],u=i._percentageRe,c=u.test(l),h="stretch"==r;return(h||o||c)&&!t&&(t=i.owner.getSizeModel()),h?!u.test(d)&&t[s.height].shrinkWrap&&(a="stretchmax"):"stretchmax"!=r&&(a=u.test(d)?"stretch":""),(o||c)&&(t[s.width].shrinkWrap||(n=n.flex)),n[a]},flexSort:function(e,t){var i=this.getNames().maxWidth,n=1/0;return e=e.target[i]||n,t=t.target[i]||n,isFinite(e)||isFinite(t)?e-t:0},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},minSizeSortFn:function(e,t){return t.available-e.available},roundFlex:function(e){return Math.ceil(e)},beginCollapse:function(e){var t=this;"vertical"===t.direction&&e.collapsedVertical()?(e.collapseMemento.capture(["flex"]),delete e.flex):"horizontal"===t.direction&&e.collapsedHorizontal()&&(e.collapseMemento.capture(["flex"]),delete e.flex)},beginExpand:function(e){e.collapseMemento.restore(["flex"])},beginLayout:function(e){var t=this,i=t.owner.stretchMaxPartner,n=t.innerCt.dom.style,r=t.getNames();e.boxNames=r,t.overflowHandler.beginLayout(e),"string"==typeof i&&(i=Ext.getCmp(i)||t.owner.query(i)[0]),e.stretchMaxPartner=i&&e.context.getCmp(i),t.callParent(arguments),e.innerCtContext=e.getEl("innerCt",t),t.scrollParallel=!(!t.owner.autoScroll&&!t.owner[r.overflowX]),t.scrollPerpendicular=!(!t.owner.autoScroll&&!t.owner[r.overflowY]),t.scrollParallel&&(t.scrollPos=t.owner.getTargetEl().dom[r.scrollLeft]),n.width="",n.height=""},beginLayoutCycle:function(e,t){var i=this,n=i.align,r=e.boxNames,o=i.pack,a=r.heightModel;i.overflowHandler.beginLayoutCycle(e,t),i.callParent(arguments),e.parallelSizeModel=e[r.widthModel],e.perpendicularSizeModel=e[a],e.boxOptions={align:n={stretch:"stretch"==n,stretchmax:"stretchmax"==n,center:n==r.center},pack:o={center:"center"==o,end:"end"==o}},n.stretch&&e.perpendicularSizeModel.shrinkWrap&&(n.stretchmax=!0,n.stretch=!1),n.nostretch=!(n.stretch||n.stretchmax),e.parallelSizeModel.shrinkWrap&&(o.center=o.end=!1),i.cacheFlexes(e),Ext.isWebKit&&i.targetEl.setWidth(2e4)},cacheFlexes:function(e){for(var t,i,n,r,o=this,a=e.boxNames,s=a.widthModel,l=a.heightModel,d=e.boxOptions.align.nostretch,u=0,c=e.childItems,h=c.length,g=[],p=0,f=a.minWidth,m=o._percentageRe,x=0,y=0;h--;)i=c[h],t=i.target,i[s].calculated&&(i.flex=n=t.flex,n?(u+=n,g.push(i),p+=t[f]||0):(r=m.exec(t[a.width]),i.percentageParallel=parseFloat(r[1])/100,++x)),d&&i[l].calculated&&(r=m.exec(t[a.height]),i.percentagePerpendicular=parseFloat(r[1])/100,++y);e.flexedItems=g,e.flexedMinSize=p,e.totalFlex=u,e.percentageWidths=x,e.percentageHeights=y,Ext.Array.sort(g,o.flexSortFn)},calculate:function(e){var t=this,i=t.getContainerSize(e),n=e.boxNames,r=e.state,o=r.boxPlan||(r.boxPlan={});return o.targetSize=i,e.parallelSizeModel.shrinkWrap||i[n.gotWidth]?(r.parallelDone||(r.parallelDone=t.calculateParallel(e,n,o)),r.perpendicularDone||(r.perpendicularDone=t.calculatePerpendicular(e,n,o)),void(r.parallelDone&&r.perpendicularDone?(t.owner.dock&&(Ext.isIE6||Ext.isIE7||Ext.isIEQuirks)&&!t.owner.width&&!t.horizontal&&(o.isIEVerticalDock=!0,o.calculatedWidth=o.maxSize+e.getPaddingInfo().width+e.getFrameInfo().width),t.publishInnerCtSize(e,t.reserveOffset?t.availableSpaceOffset:0),t.done&&e.childItems.length>1&&e.boxOptions.align.stretchmax&&!r.stretchMaxDone&&(t.calculateStretchMax(e,n,o),r.stretchMaxDone=!0)):t.done=!1)):void(t.done=!1)},calculateParallel:function(e,t,i){var n,r,o,a,s,l,d,u,c,h,g,p=this,f=t.width,m=e.childItems,x=t.left,y=t.right,v=t.setWidth,E=m.length,b=e.flexedItems,w=b.length,C=e.boxOptions.pack,S=p.padding,_=i.targetSize[f],k=0,P=S[x],T=P+S[y]+p.scrollOffset+(p.reserveOffset?p.availableSpaceOffset:0),I=Ext.getScrollbarSize()[t.width];if(I&&p.scrollPerpendicular&&e.parallelSizeModel.shrinkWrap&&!e.boxOptions.align.stretch&&!e.perpendicularSizeModel.shrinkWrap){if(!e.state.perpendicularDone)return!1;c=!0}for(n=0;n<E;++n)if(s=m[n],r=s.marginInfo||s.getMarginInfo(),k+=r[f],!s[t.widthModel].calculated&&(h=s.getProp(f),T+=h,isNaN(T)))return!1;if(T+=k,e.percentageWidths){if(g=_-k,isNaN(g))return!1;for(n=0;n<E;++n)s=m[n],s.percentageParallel&&(h=Math.ceil(g*s.percentageParallel),h=s.setWidth(h),T+=h)}if(e.parallelSizeModel.shrinkWrap)i.availableSpace=0,i.tooNarrow=!1;else if(i.availableSpace=_-T,i.tooNarrow=i.availableSpace<e.flexedMinSize,i.tooNarrow&&Ext.getScrollbarSize()[t.height]&&p.scrollParallel&&e.state.perpendicularDone)for(e.state.perpendicularDone=!1,n=0;n<E;++n)m[n].invalidate();for(u=T,o=i.availableSpace,a=e.totalFlex,n=0;n<w;n++)s=b[n],l=s.flex,d=p.roundFlex(l/a*o),d=s[v](d),u+=d,o=Math.max(0,o-d),a-=l;for(C.center?(P+=o/2,P<0&&(P=0)):C.end&&(P+=o),n=0;n<E;++n)s=m[n],r=s.marginInfo,P+=r[x],s.setProp(t.x,P),P+=r[y]+s.props[f];return u+=e.targetContext.getPaddingInfo()[f],e.state.contentWidth=u,c&&e.peek(t.contentHeight)>i.targetSize[t.height]&&(u+=I,e[t.hasOverflowY]=!0,e.target.componentLayout[t.setWidthInDom]=!0,e[t.invalidateScrollY]=Ext.isStrict&&Ext.isIE8),e[t.setContentWidth](u),!0},calculatePerpendicular:function(e,t,i){var n,r,o,a,s,l,d,u,c,h,g,p=this,f=e.perpendicularSizeModel.shrinkWrap,m=i.targetSize,x=e.childItems,y=x.length,v=Math.max,E=t.height,b=t.setHeight,w=t.top,C=t.y,S=p.padding,_=S[w],k=m[E]-_-S[t.bottom],P=e.boxOptions.align,T=P.stretch,I=P.stretchmax,D=P.center,A=0,M=0,R=Ext.getScrollbarSize().height;if((T||D&&!f)&&isNaN(k))return!1;if(p.scrollParallel&&i.tooNarrow&&(f?h=!0:(k-=R,i.targetSize[E]-=R)),T)l=k;else{for(r=0;r<y;r++){if(d=x[r],a=(d.marginInfo||d.getMarginInfo())[E],g=d.percentagePerpendicular){if(++M,f)continue;o=g*k-a,o=d[t.setHeight](o)}else o=d.getProp(E);if(isNaN(A=v(A,o+a,d.target[t.minHeight]||0)))return!1}if(h&&(A+=R,e[t.hasOverflowX]=!0,e.target.componentLayout[t.setHeightInDom]=!0,e[t.invalidateScrollX]=Ext.isStrict&&Ext.isIE8),u=e.stretchMaxPartner,u&&(e.setProp("maxChildHeight",A),c=u.childItems,c&&c.length&&(A=v(A,u.getProp("maxChildHeight")),isNaN(A))))return!1;e[t.setContentHeight](A+p.padding[E]+e.targetContext.getPaddingInfo()[E]),h&&(A-=R),i.maxSize=A,I?l=A:(D||M)&&(l=f?A:v(k,A),l-=e.innerCtContext.getBorderInfo()[E])}for(r=0;r<y;r++)d=x[r],a=d.marginInfo||d.getMarginInfo(),n=_+a[w],T?d[b](l-a[E]):(g=d.percentagePerpendicular,f&&g&&(a=d.marginInfo||d.getMarginInfo(),o=g*l-a[E],o=d.setHeight(o)),D&&(s=l-d.props[E],s>0&&(n=_+Math.round(s/2)))),d.setProp(C,n);return!0},calculateStretchMax:function(e,t,i){var n,r,o,a,s=this,l=t.height,d=t.width,u=e.childItems,c=u.length,h=i.maxSize,g=s.onBeforeInvalidateChild,p=s.onAfterInvalidateChild;for(o=0;o<c;++o)n=u[o],r=n.props,a=h-n.getMarginInfo()[l],(a!=r[l]||n[t.heightModel].constrained)&&n.invalidate({before:g,after:p,layout:s,childWidth:r[d],childHeight:a,childX:r.x,childY:r.y,names:t})},completeLayout:function(e){var t,i,n,r,o,a=this,s=e.boxNames,l=e.invalidateScrollX,d=e.invalidateScrollY;a.overflowHandler.completeLayout(e),(l||d)&&(i=a.getTarget(),t=i.dom,o=t.style,l&&(n=i.getStyle("overflowX"),"auto"==n?(n=o.overflowX,o.overflowX="scroll"):l=!1),d&&(r=i.getStyle("overflowY"),"auto"==r?(r=o.overflowY,o.overflowY="scroll"):d=!1),(l||d)&&(t.scrollWidth,l&&(o.overflowX=n),d&&(o.overflowY=r))),a.scrollParallel&&(a.owner.getTargetEl().dom[s.scrollLeft]=a.scrollPos)},finishedLayout:function(e){this.overflowHandler.finishedLayout(e),this.callParent(arguments),Ext.isWebKit&&this.targetEl.setWidth(e.innerCtContext.props.width)},onBeforeInvalidateChild:function(e,t){var i=t.names.heightModel;e[i].constrainedMax||(e[i]=Ext.layout.SizeModel.calculated)},onAfterInvalidateChild:function(e,t){var i=t.names,n=(Ext.getScrollbarSize(),t.childHeight),r=t.childWidth;e.setProp("x",t.childX),e.setProp("y",t.childY),e[i.heightModel].calculated&&e[i.setHeight](n),e[i.widthModel].calculated&&e[i.setWidth](r)},publishInnerCtSize:function(e,t){var i,n=this,r=e.boxNames,o=r.height,a=r.width,s=e.boxOptions.align,l=n.owner.dock,d=n.padding,u=e.state.boxPlan,c=u.targetSize,h=c[o],g=e.innerCtContext,p=(e.parallelSizeModel.shrinkWrap||u.tooNarrow&&n.scrollParallel?e.state.contentWidth:c[a])-(t||0);s.stretch?i=h:(i=u.maxSize+d[r.top]+d[r.bottom]+g.getBorderInfo()[o],!e.perpendicularSizeModel.shrinkWrap&&s.center&&(i=Math.max(h,i))),g[r.setWidth](p),g[r.setHeight](i),isNaN(p+i)&&(n.done=!1),!u.calculatedWidth||"left"!=l&&"right"!=l||e.setWidth(u.calculatedWidth,!0,!0)},onRemove:function(e){var t=this;t.callParent(arguments),t.overflowHandler&&t.overflowHandler.onRemove(e),e.layoutMarginCap==t.id&&delete e.layoutMarginCap},initOverflowHandler:function(){var e,t,i=this,n=i.overflowHandler;"string"==typeof n&&(n={type:n}),e="None",n&&void 0!==n.type&&(e=n.type),t=Ext.layout.container.boxOverflow[e],t[i.type]&&(t=t[i.type]),i.overflowHandler=Ext.create("Ext.layout.container.boxOverflow."+e,i,n)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler),this.callParent(arguments)}}),Ext.define("Ext.layout.container.HBox",{alias:["layout.hbox"],extend:"Ext.layout.container.Box",alternateClassName:"Ext.layout.HBoxLayout",align:"top",type:"hbox",direction:"horizontal",horizontal:!0,names:{lr:"lr",left:"left",leftCap:"Left",right:"right",position:"left",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",center:"middle",top:"top",topPosition:"top",bottom:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",scrollTop:"scrollTop",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom"},sizePolicy:{flex:{"":{setsWidth:1,setsHeight:0},stretch:{setsWidth:1,setsHeight:1},stretchmax:{readsHeight:1,setsWidth:1,setsHeight:1}},"":{setsWidth:0,setsHeight:0},stretch:{setsWidth:0,setsHeight:1},stretchmax:{readsHeight:1,setsWidth:0,setsHeight:1}}}),Ext.define("Ext.grid.ColumnLayout",{extend:"Ext.layout.container.HBox",alias:"layout.gridcolumn",type:"gridcolumn",reserveOffset:!1,firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){this.grid=this.owner.up("[scrollerOwner]"),this.callParent()},beginLayout:function(e){var t,i=this,n=i.grid,r=n.view,o=0,a=i.getVisibleItems(),s=a.length;for(e.gridContext=e.context.getCmp(i.grid),n.lockable&&(r=i.owner.up("tablepanel")===r.normalGrid?r.normalGrid.getView():null),i.callParent(arguments);o<s;o++)t=a[o],t.removeCls([i.firstHeaderCls,i.lastHeaderCls]),t.el.setStyle({height:"auto"}),t.titleEl.setStyle({height:"auto",paddingTop:""});s>0&&(a[0].addCls(i.firstHeaderCls),a[s-1].addCls(i.lastHeaderCls)),!i.owner.isHeader&&Ext.getScrollbarSize().width&&!n.collapsed&&r&&r.table.dom&&(r.autoScroll||r.overflowY)&&(e.viewContext=e.context.getCmp(r))},roundFlex:function(e){return Math.floor(e)},calculate:function(e){var t,i,n=this,r=e.viewContext;n.callParent(arguments),e.state.parallelDone&&e.setProp("columnWidthsDone",!0),!r||e.state.overflowAdjust.width||e.gridContext.heightModel.shrinkWrap||(t=r.tableContext.getProp("height"),i=r.getProp("height"),isNaN(t+i)?n.done=!1:t>=i&&e.gridContext.invalidate({after:function(){e.state.overflowAdjust={width:Ext.getScrollbarSize().width,height:0}}}))},completeLayout:function(e){var t,i,n,r,o,a=this,s=a.owner,l=e.state,d=!1,u=a.sizeModels.calculated;if(a.callParent(arguments),!l.flexesCalculated&&s.forceFit&&!s.isHeader){for(t=e.childItems,i=t.length,n=0;n<i;n++)r=t[n],o=r.target,o.width&&(o.flex=e.childItems[n].flex=o.width,delete o.width,r.widthModel=u,d=!0);d&&(a.cacheFlexes(e),e.invalidate({state:{flexesCalculated:!0}}))}},finalizeLayout:function(){var e,t,i,n=this,r=0,o=n.owner,a=o.titleEl;for(e=n.getVisibleItems(),t=e.length,i=o.el.getViewSize().height,a&&(i-=a.getHeight());r<t;r++)e[r].setPadding(i)},publishInnerCtSize:function(e){var t,i=this,n=e.state.boxPlan.targetSize,r=e.peek("contentWidth");return null==r||i.owner.isHeader||(n.width=r,t=i.owner.ownerCt.view,(t.autoScroll||t.overflowY)&&(n.width+=Ext.getScrollbarSize().width)),i.callParent(arguments)}}),Ext.define("Ext.grid.header.Container",{extend:"Ext.container.Container",requires:["Ext.grid.ColumnLayout","Ext.grid.plugin.HeaderResizer","Ext.grid.plugin.HeaderReorderer"],uses:["Ext.grid.column.Column","Ext.menu.Menu","Ext.menu.CheckItem","Ext.menu.Separator"],border:!0,alias:"widget.headercontainer",baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:!1,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",triStateSort:!1,ddLock:!1,dragging:!1,sortable:!0,initComponent:function(){var e=this;e.headerCounter=0,e.plugins=e.plugins||[],e.isHeader||(e.enableColumnResize&&(e.resizer=new Ext.grid.plugin.HeaderResizer,e.plugins.push(e.resizer)),e.enableColumnMove&&(e.reorderer=new Ext.grid.plugin.HeaderReorderer,e.plugins.push(e.reorderer))),e.isHeader&&!e.items?e.layout=e.layout||"auto":e.layout=Ext.apply({type:"gridcolumn",align:"stretchmax"},e.initialConfig.layout),e.defaults=e.defaults||{},Ext.applyIf(e.defaults,{triStateSort:e.triStateSort,sortable:e.sortable}),e.menuTask=new Ext.util.DelayedTask(e.updateMenuDisabledState,e),e.callParent(),e.addEvents("columnresize","headerclick","headertriggerclick","columnmove","columnhide","columnshow","sortchange","menucreate")},onDestroy:function(){var e=this;e.menuTask.cancel(),Ext.destroy(e.resizer,e.reorderer),e.callParent()},applyColumnsState:function(e){if(e&&e.length){var t,i,n,r,o=this,a=o.items.items,s=a.length,l=0,d=e.length;for(t=0;t<d;t++)for(n=e[t],r=s;r--;)if(i=a[r],i.getStateId&&i.getStateId()==n.id){l!==r&&o.moveHeader(r,l),i.applyColumnState&&i.applyColumnState(n),++l;break}}},getColumnsState:function(){var e,t=this,i=[];return t.items.each(function(t){e=t.getColumnState&&t.getColumnState(),e&&i.push(e)}),i},onAdd:function(e){var t=this,i=t.isHeader?t.getOwnerHeaderCt():t;e.headerId||(e.headerId=e.initialConfig.id||Ext.id(null,"header-")),e.stateId||(e.stateId=e.initialConfig.id||"h"+ ++t.headerCounter),t.callParent(arguments),i&&i.purgeCache()},onRemove:function(e){var t=this,i=t.isHeader?t.getOwnerHeaderCt():t;t.callParent(arguments),i&&t.purgeCache()},applyDefaults:function(e){var t;return e&&!e.isComponent&&"rownumberer"==e.xtype?t=e:(t=this.callParent(arguments),e.isGroupHeader||"width"in t||t.flex||(t.width=this.defaultWidth)),t},afterRender:function(){this.callParent(),this.setSortState()},setSortState:function(){var e,t=this.up("[store]").store,i=t.getFirstSorter();i?(e=this.down("gridcolumn[dataIndex="+i.property+"]"),e&&e.setSortState(i.direction,!1,!0)):this.clearOtherSortStates(null)},getHeaderMenu:function(){var e,t=this.getMenu();return t&&(e=t.child("#columnItem"))?e.menu:null},onHeaderVisibilityChange:function(e,t){var i,n=this,r=n.getHeaderMenu();r&&(i=n.getMenuItemForHeader(r,e),i&&i.setChecked(t,!0),n.menuTask.delay(50))},getLeafMenuItems:function(){for(var e,t=this,i=t.getGridColumns(),n=[],r=0,o=0,a=i.length,s=t.getMenu();r<a;++r)e=i[r],e.hideable?(e=t.getMenuItemForHeader(s,e),e&&(n.push(e),e.checked&&++o)):e.hidden||e.menuDisabled||++o;return{items:n,checkedCount:o}},updateMenuDisabledState:function(){var e=this,t=e.getLeafMenuItems(),i=t.checkedCount,n=t.items,r=n.length,o=0,a=e.getMenu().child("#columnItem");if(i<=1)e.disableMenuItems(a,Ext.ComponentQuery.query("[checked=true]",n)[0]);else for(;o<r;++o)e.setMenuItemState(i,a,n[o])},disableMenuItems:function(e,t){for(;t&&t!=e;)t.disableCheckChange(),t=t.parentMenu.ownerItem},setMenuItemState:function(e,t,i){for(var n,r;i&&i!=t&&(n=i.parentMenu,r=i.parentMenu.query("[checked=true]:not([menu])").length,i.enableCheckChange(),i=n.ownerItem,r!==e););this.disableMenuItems(t,i)},getMenuItemForHeader:function(e,t){return t?e.down("menucheckitem[headerId="+t.id+"]"):null},onHeaderShow:function(e){var t=this,i=t.ownerCt;t.onHeaderVisibilityChange(e,!0),e.isGroupHeader||i&&i.onHeaderShow(t,e),t.fireEvent("columnshow",t,e)},onHeaderHide:function(e){var t=this,i=t.ownerCt;t.onHeaderVisibilityChange(e,!1),e.isGroupHeader||i&&i.onHeaderHide(t,e),t.fireEvent("columnhide",t,e)},tempLock:function(){this.ddLock=!0,Ext.Function.defer(function(){this.ddLock=!1},200,this)},onHeaderResize:function(e,t,i){var n=this,r=n.view,o=n.ownerCt;r&&r.table.dom&&(n.tempLock(),o&&o.onHeaderResize(n,e,t)),n.fireEvent("columnresize",this,e,t)},onHeaderClick:function(e,t,i){e.fireEvent("headerclick",this,e,t,i),this.fireEvent("headerclick",this,e,t,i)},onHeaderTriggerClick:function(e,t,i){var n=this;e.fireEvent("headertriggerclick",n,e,t,i)!==!1&&n.fireEvent("headertriggerclick",n,e,t,i)!==!1&&n.showMenuBy(i,e)},showMenuBy:function(e,t){var i,n=this.getMenu(),r=n.down("#ascItem"),o=n.down("#descItem");n.activeHeader=n.ownerCt=t,n.setFloatParent(t),t.titleEl.addCls(this.headerOpenCls),i=t.sortable?"enable":"disable",r&&r[i](),o&&o[i](),n.showBy(e)},onMenuDeactivate:function(){var e=this.getMenu();e.activeHeader.titleEl.removeCls(this.headerOpenCls)},moveHeader:function(e,t){this.tempLock(),this.onHeaderMoved(this.move(e,t),1,e,t)},purgeCache:function(){var e=this;delete e.gridDataColumns,delete e.hideableColumns,e.menu&&(e.menu.hide(),e.menu.destroy(),delete e.menu)},onHeaderMoved:function(e,t,i,n){var r=this,o=r.ownerCt;o&&o.onHeaderMove&&o.onHeaderMove(r,e,t,i,n),r.fireEvent("columnmove",r,e,i,n)},getMenu:function(){var e=this;return e.menu||(e.menu=new Ext.menu.Menu({hideOnParentHide:!1,items:e.getMenuItems(),listeners:{deactivate:e.onMenuDeactivate,scope:e}}),e.updateMenuDisabledState(),e.fireEvent("menucreate",e,e.menu)),e.menu},getMenuItems:function(){var e=this,t=[],i=e.enableColumnHide?e.getColumnMenu(e):null;return e.sortable&&(t=[{itemId:"ascItem",text:e.sortAscText,cls:Ext.baseCSSPrefix+"hmenu-sort-asc",handler:e.onSortAscClick,scope:e},{itemId:"descItem",text:e.sortDescText,cls:Ext.baseCSSPrefix+"hmenu-sort-desc",handler:e.onSortDescClick,scope:e}]),i&&i.length&&t.push("-",{itemId:"columnItem",text:e.columnsText,cls:Ext.baseCSSPrefix+"cols-icon",menu:i}),t},onSortAscClick:function(){var e=this.getMenu(),t=e.activeHeader;t.setSortState("ASC")},onSortDescClick:function(){var e=this.getMenu(),t=e.activeHeader;t.setSortState("DESC")},getColumnMenu:function(e){for(var t,i,n=[],r=0,o=e.query(">gridcolumn[hideable]"),a=o.length;r<a;r++)t=o[r],i=new Ext.menu.CheckItem({text:t.menuText||t.text,checked:!t.hidden,hideOnClick:!1,headerId:t.id,menu:t.isGroupHeader?this.getColumnMenu(t):void 0,checkHandler:this.onColumnCheckChange,scope:this}),n.push(i),t.on({destroy:Ext.Function.bind(i.destroy,i)});return n},onColumnCheckChange:function(e,t){var i=Ext.getCmp(e.headerId);i[t?"show":"hide"]()},getColumnsForTpl:function(e){for(var t,i,n=[],r=this.getGridColumns(e),o=r.length,a=0;a<o;a++)t=r[a],i=t.hidden||t.up("headercontainer[hidden=true]")?0:t.getDesiredWidth(),n.push({dataIndex:t.dataIndex,
align:t.align,width:i,id:t.id,cls:t.tdCls,columnId:t.getItemId()});return n},getColumnCount:function(){return this.getGridColumns().length},getFullWidth:function(e){for(var t,i=0,n=this.getVisibleGridColumns(e),r=n.length,o=0;o<r;o++)t=n[o],i+=t.getDesiredWidth?t.getDesiredWidth()||0:t.getWidth();return i},clearOtherSortStates:function(e){for(var t=this.getGridColumns(),i=t.length,n=0;n<i;n++)t[n]!==e&&t[n].setSortState(null,!0)},getVisibleGridColumns:function(e){return Ext.ComponentQuery.query(":not([hidden])",this.getGridColumns(e))},getGridColumns:function(e){var t=this,i=e?null:t.gridDataColumns;return i||(t.gridDataColumns=i=[],t.cascade(function(e){e===t||e.isGroupHeader||i.push(e)})),i},getHideableColumns:function(e){var t=this,i=e?null:t.hideableColumns;return i||(i=t.hideableColumns=t.query("[hideable]")),i},getHeaderIndex:function(e){return e.isGroupHeader&&(e=e.down(":not([isgroupHeader])")),Ext.Array.indexOf(this.getGridColumns(),e)},getHeaderAtIndex:function(e){var t=this.getGridColumns();return t.length?t[e]:null},getVisibleHeaderClosestToIndex:function(e){var t=this.getHeaderAtIndex(e);return t&&t.hidden&&(t=t.next(":not([hidden])")||t.prev(":not([hidden])")),t},prepareData:function(e,t,i,n,r){for(var o,a,s,l,d,u=this,c={},h=u.gridDataColumns||u.getGridColumns(),g=h.length,p=0,f=r.store;p<g;p++)d={tdCls:"",style:""},o=h[p],a=o.id,s=o.renderer,l=e[o.dataIndex],"function"==typeof s&&(l=s.call(o.scope||u.ownerCt,l,d,i,t,p,f,n)),u.markDirty&&(c[a+"-modified"]=i.isModified(o.dataIndex)?Ext.baseCSSPrefix+"grid-dirty-cell":""),c[a+"-tdCls"]=d.tdCls,c[a+"-tdAttr"]=d.tdAttr,c[a+"-style"]=d.style,"undefined"!=typeof l&&null!==l&&""!==l||(l=o.emptyCellText),c[a]=l;return c},expandToFit:function(e){var t=this.view;t&&t.expandToFit(e)}}),Ext.define("Ext.grid.column.Column",{extend:"Ext.grid.header.Container",alias:"widget.gridcolumn",requires:["Ext.util.KeyNav","Ext.grid.ColumnComponentLayout","Ext.grid.ColumnLayout"],alternateClassName:"Ext.grid.Column",baseCls:Ext.baseCSSPrefix+"column-header "+Ext.baseCSSPrefix+"unselectable",hoverCls:Ext.baseCSSPrefix+"column-header-over",handleWidth:5,sortState:null,possibleSortStates:["ASC","DESC"],childEls:["titleEl","triggerEl","textEl"],renderTpl:'<div id="{id}-titleEl" {tipMarkup}class="'+Ext.baseCSSPrefix+'column-header-inner"><span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'column-header-text">{text}</span><tpl if="!menuDisabled"><div id="{id}-triggerEl" class="'+Ext.baseCSSPrefix+'column-header-trigger"></div></tpl></div>{%this.renderContainer(out,values)%}',dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:!0,resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,editRenderer:!1,align:"left",draggable:!0,tooltipType:"qtip",initDraggable:Ext.emptyFn,isHeader:!0,componentLayout:"columncomponent",initResizable:Ext.emptyFn,initComponent:function(){var e,t=this;Ext.isDefined(t.header)&&(t.text=t.header,delete t.header),t.triStateSort||(t.possibleSortStates.length=2),Ext.isDefined(t.columns)?(t.isGroupHeader=!0,t.items=t.columns,delete t.columns,delete t.flex,delete t.width,t.cls=(t.cls||"")+" "+Ext.baseCSSPrefix+"group-header",t.sortable=!1,t.resizable=!1,t.align="center"):(t.isContainer=!1,t.flex&&(t.minWidth=t.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth)),t.addCls(Ext.baseCSSPrefix+"column-header-align-"+t.align),e=t.renderer,e?("string"==typeof e&&(t.renderer=Ext.util.Format[e]),t.hasCustomRenderer=!0):t.defaultRenderer&&(t.scope=t,t.renderer=t.defaultRenderer),t.callParent(arguments),t.on({element:"el",click:t.onElClick,dblclick:t.onElDblClick,scope:t}),t.on({element:"titleEl",mouseenter:t.onTitleMouseOver,mouseleave:t.onTitleMouseOut,scope:t})},onAdd:function(e){e.isSubHeader=!0,e.addCls(Ext.baseCSSPrefix+"group-sub-header"),this.callParent(arguments)},onRemove:function(e){e.isSubHeader=!1,e.removeCls(Ext.baseCSSPrefix+"group-sub-header"),this.callParent(arguments)},initRenderData:function(){var e=this,t="",i=e.tooltip,n="qtip"==e.tooltipType?"data-qtip":"title";return Ext.isEmpty(i)||(t=n+'="'+i+'" '),Ext.applyIf(e.callParent(arguments),{text:e.text,menuDisabled:e.menuDisabled,tipMarkup:t})},applyColumnState:function(e){var t=this,i=Ext.isDefined;t.applyColumnsState(e.columns),i(e.hidden)&&(t.hidden=e.hidden),i(e.locked)&&(t.locked=e.locked),i(e.sortable)&&(t.sortable=e.sortable),i(e.width)?(delete t.flex,t.width=e.width):i(e.flex)&&(delete t.width,t.flex=e.flex)},getColumnState:function(){var e,t=this,i=t.items.items,n=i?i.length:0,r=[],o={id:t.getStateId()};if(t.savePropsToState(["hidden","sortable","locked","flex","width"],o),t.isGroupHeader){for(e=0;e<n;e++)r.push(i[e].getColumnState());r.length&&(o.columns=r)}else t.isSubHeader&&t.ownerCt.hidden&&delete t.hidden;return"width"in o&&delete o.flex,o},getStateId:function(){return this.stateId||this.headerId},setText:function(e){this.text=e,this.rendered&&this.textEl.update(e)},getOwnerHeaderCt:function(){return this.up(":not([isHeader])")},getIndex:function(){return!this.isGroupColumn&&this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return!this.isGroupColumn&&Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var e=this,t=e.up("tablepanel");e.callParent(),!t||e.sortable&&t.sortableColumns!==!1||e.groupable||e.lockable||t.enableColumnHide!==!1&&e.getOwnerHeaderCt().getHideableColumns().length||(e.menuDisabled=!0)},afterRender:function(){var e=this,t=e.el;e.callParent(arguments),e.overCls&&t.addClsOnOver(e.overCls),Ext.isIE8&&Ext.isStrict||e.mon(e.getFocusEl(),{focus:e.onTitleMouseOver,blur:e.onTitleMouseOut,scope:e}),e.keyNav=new Ext.util.KeyNav(t,{enter:e.onEnterKey,down:e.onDownKey,scope:e})},afterComponentLayout:function(e,t,i,n){var r=this,o=r.getOwnerHeaderCt();r.callParent(arguments),o&&(null!=i||r.flex)&&e!==i&&o.onHeaderResize(r,e,!0)},setPadding:function(e){var t,i=this,n=parseInt(i.textEl.getStyle("line-height"),10),r=i.textEl.dom.offsetHeight,o=i.titleEl,a=e-i.el.getBorderWidth("tb");i.isGroupHeader||o.getHeight()<a&&(o.setHeight(a),i.ownerCt.layout.innerCt.setHeight(e)),t=o.getViewSize().height,r&&(n&&(r=Math.ceil(r/n)*n),o.setStyle({paddingTop:Math.floor(Math.max((t-r)/2,0))+"px"})),Ext.isIE&&i.triggerEl&&i.triggerEl.setHeight(t)},onDestroy:function(){var e=this;Ext.destroy(e.textEl,e.keyNav,e.field),delete e.keyNav,e.callParent(arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(e){this.triggerEl&&this.onElClick(e,this.triggerEl.dom||this.el.dom)},onEnterKey:function(e){this.onElClick(e,this.el.dom)},onElDblClick:function(e,t){var i=this,n=i.ownerCt;n&&0!==Ext.Array.indexOf(n.items,i)&&i.isOnLeftEdge(e)&&n.expandToFit(i.previousSibling("gridcolumn"))},onElClick:function(e,t){var i=this,n=i.getOwnerHeaderCt();n&&!n.ddLock&&(i.triggerEl&&(e.target===i.triggerEl.dom||t===i.triggerEl.dom||e.within(i.triggerEl))?n.onHeaderTriggerClick(i,e,t):(e.getKey()||!i.isOnLeftEdge(e)&&!i.isOnRightEdge(e))&&(i.toggleSortState(),n.onHeaderClick(i,e,t)))},processEvent:function(e,t,i,n,r,o){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var e,t,i=this;i.sortable&&(e=Ext.Array.indexOf(i.possibleSortStates,i.sortState),t=(e+1)%i.possibleSortStates.length,i.setSortState(i.possibleSortStates[t]))},doSort:function(e){var t=this.up("tablepanel").store;t.sort({property:this.getSortParam(),direction:e})},getSortParam:function(){return this.dataIndex},setSortState:function(e,t,i){var n=this,r=Ext.baseCSSPrefix+"column-header-sort-",o=r+"ASC",a=r+"DESC",s=r+"null",l=n.getOwnerHeaderCt(),d=n.sortState;if(d!==e&&n.getSortParam()){switch(n.addCls(r+e),e&&!i&&n.doSort(e),e){case"DESC":n.removeCls([o,s]);break;case"ASC":n.removeCls([a,s]);break;case null:n.removeCls([o,a])}!l||n.triStateSort||t||l.clearOtherSortStates(n),n.sortState=e,(n.triStateSort||null!=e)&&l.fireEvent("sortchange",l,n,e)}},hide:function(e){var t,i,n,r,o=this,a=o.getOwnerHeaderCt(),s=o.ownerCt,l=s.isGroupHeader;if(l&&!e&&(i=s.query(">:not([hidden])"),1===i.length&&i[0]==o))return void o.ownerCt.hide();if(Ext.suspendLayouts(),o.isGroupHeader)for(i=o.items.items,r=0,n=i.length;r<n;r++)t=i[r],t.hidden||t.hide(!0);o.callParent(),a.onHeaderHide(o),Ext.resumeLayouts(!0)},show:function(e,t){var i,n,r,o,a=this,s=a.ownerCt;if(Ext.suspendLayouts(),a.isSubHeader&&s.hidden&&s.show(!1,!0),a.callParent(arguments),a.isGroupHeader&&t!==!0&&!a.query(":not([hidden])").length)for(i=a.query(">*"),r=0,n=i.length;r<n;r++)o=i[r],o.hidden&&o.show(!0);Ext.resumeLayouts(!0),s=a.getOwnerHeaderCt(),s&&s.onHeaderShow(a)},getDesiredWidth:function(){var e=this;return e.rendered&&e.componentLayout&&e.componentLayout.lastComponentSize?e.componentLayout.lastComponentSize.width:e.flex?e.width:e.width},getCellSelector:function(){return"."+Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isOnLeftEdge:function(e){return e.getXY()[0]-this.el.getLeft()<=this.handleWidth},isOnRightEdge:function(e){return this.el.getRight()-e.getXY()[0]<=this.handleWidth}}),Ext.define("Ext.grid.RowNumberer",{extend:"Ext.grid.column.Column",alias:"widget.rownumberer",text:"&#160",width:23,sortable:!1,draggable:!1,align:"right",constructor:function(e){this.width=this.width,this.callParent(arguments),this.rowspan&&(this.renderer=Ext.Function.bind(this.renderer,this))},resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:Ext.baseCSSPrefix+"row-numberer",rowspan:void 0,renderer:function(e,t,i,n,r,o){return this.rowspan&&(t.cellAttr='rowspan="'+this.rowspan+'"'),t.tdCls=Ext.baseCSSPrefix+"grid-cell-special",o.indexOfTotal(i)+1}}),Ext.define("Ext.grid.column.Action",{extend:"Ext.grid.column.Column",alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",sortable:!1,constructor:function(e){var t,i,n,r=this,o=Ext.apply({},e),a=o.items||[r];for(r.origRenderer=o.renderer||r.renderer,r.origScope=o.scope||r.scope,delete r.renderer,delete r.scope,delete o.renderer,delete o.scope,delete o.items,r.callParent([o]),r.items=a,i=0,n=a.length;i<n;++i)if(a[i].getClass){t=!0;break}(r.origRenderer||t)&&(r.hasCustomRenderer=!0)},defaultRenderer:function(e,t){var i,n=this,r=Ext.baseCSSPrefix,o=n.origScope||n,a=n.items,s=a.length,l=0;for(e=Ext.isFunction(n.origRenderer)?n.origRenderer.apply(o,arguments)||"":"",t.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";l<s;l++)i=a[l],i.hasActionConfiguration||(i.stopSelection=n.stopSelection,i.disable=Ext.Function.bind(n.disableAction,n,[l],0),i.enable=Ext.Function.bind(n.enableAction,n,[l],0),i.hasActionConfiguration=!0),e+='<img alt="'+(i.altText||n.altText)+'" src="'+(i.icon||Ext.BLANK_IMAGE_URL)+'" class="'+r+"action-col-icon "+r+"action-col-"+String(l)+" "+(i.disabled?r+"item-disabled":" ")+" "+(Ext.isFunction(i.getClass)?i.getClass.apply(i.scope||o,arguments):i.iconCls||n.iconCls||"")+'"'+(i.tooltip?' data-qtip="'+i.tooltip+'"':"")+" />";return e},enableAction:function(e,t){var i=this;e?Ext.isNumber(e)||(e=Ext.Array.indexOf(i.items,e)):e=0,i.items[e].disabled=!1,i.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+e).removeCls(i.disabledCls),t||i.fireEvent("enable",i)},disableAction:function(e,t){var i=this;e?Ext.isNumber(e)||(e=Ext.Array.indexOf(i.items,e)):e=0,i.items[e].disabled=!0,i.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+e).addCls(i.disabledCls),t||i.fireEvent("disable",i)},destroy:function(){return delete this.items,delete this.renderer,this.callParent(arguments)},processEvent:function(e,t,i,n,r,o,a,s){var l,d,u,c=this,h=o.getTarget(),g="keydown"==e&&o.getKey();if(g&&!Ext.fly(h).findParent(t.cellSelector)&&(h=Ext.fly(i).down("."+Ext.baseCSSPrefix+"action-col-icon",!0)),h&&(l=h.className.match(c.actionIdRe))&&(d=c.items[parseInt(l[1],10)]))if("click"==e||g==o.ENTER||g==o.SPACE)u=d.handler||c.handler,u&&!d.disabled&&u.call(d.scope||c.origScope||c,t,n,r,d,o,a,s);else if("mousedown"==e&&d.stopSelection!==!1)return!1;return c.callParent(arguments)},cascade:function(e,t){e.call(t||this,this)},getRefItems:function(){return[]}}),Ext.define("Ext.grid.column.Boolean",{extend:"Ext.grid.column.Column",alias:["widget.booleancolumn"],alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultRenderer:function(e){return void 0===e?this.undefinedText:e&&"false"!==e?this.trueText:this.falseText}}),Ext.define("Ext.grid.column.Date",{extend:"Ext.grid.column.Column",alias:["widget.datecolumn"],requires:["Ext.Date"],alternateClassName:"Ext.grid.DateColumn",initComponent:function(){this.format||(this.format=Ext.Date.defaultFormat),this.callParent(arguments)},defaultRenderer:function(e){return Ext.util.Format.date(e,this.format)}}),Ext.define("Ext.grid.column.Number",{extend:"Ext.grid.column.Column",alias:["widget.numbercolumn"],requires:["Ext.util.Format"],alternateClassName:"Ext.grid.NumberColumn",format:"0,000.00",defaultRenderer:function(e){return Ext.util.Format.number(e,this.format)}}),Ext.define("Ext.grid.column.Template",{extend:"Ext.grid.column.Column",alias:["widget.templatecolumn"],requires:["Ext.XTemplate"],alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){var e=this;e.tpl=!Ext.isPrimitive(e.tpl)&&e.tpl.compile?e.tpl:new Ext.XTemplate(e.tpl),e.hasCustomRenderer=!0,e.callParent(arguments)},defaultRenderer:function(e,t,i){var n=Ext.apply({},i.data,i.getAssociatedData());return this.tpl.apply(n)}}),Ext.define("Ext.grid.plugin.Editing",{alias:"editing.editing",extend:"Ext.AbstractPlugin",requires:["Ext.grid.column.Column","Ext.util.KeyNav"],mixins:{observable:"Ext.util.Observable"},clicksToEdit:2,triggerEvent:void 0,defaultFieldXType:"textfield",editStyle:"",constructor:function(e){var t=this;t.addEvents("beforeedit","edit","validateedit","canceledit"),t.callParent(arguments),t.mixins.observable.constructor.call(t),t.on("edit",function(e,i){t.fireEvent("afteredit",e,i)})},init:function(e){var t=this;t.grid=e,t.view=e.view,t.initEvents(),t.mon(e,"reconfigure",t.onReconfigure,t),t.onReconfigure(),e.relayEvents(t,["beforeedit","edit","validateedit","canceledit"]),e.isEditable=!0,e.editingPlugin=e.view.editingPlugin=t},onReconfigure:function(){this.initFieldAccessors(this.view.getGridColumns())},destroy:function(){var e=this,t=e.grid;Ext.destroy(e.keyNav),e.removeFieldAccessors(t.getView().getGridColumns()),e.clearListeners(),delete e.grid.editingPlugin,delete e.grid.view.editingPlugin,delete e.grid,delete e.view,delete e.editor,delete e.keyNav},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(e){e=[].concat(e);var t,i,n=this,r=e.length;for(t=0;t<r;t++)i=e[t],Ext.applyIf(i,{getEditor:function(e,t){return n.getColumnField(this,t)},setEditor:function(e){n.setColumnField(this,e)}})},removeFieldAccessors:function(e){e=[].concat(e);var t,i,n=e.length;for(t=0;t<n;t++)i=e[t],delete i.getEditor,delete i.setEditor},getColumnField:function(e,t){var i=e.field;if(!i&&e.editor&&(i=e.editor,delete e.editor),!i&&t&&(i=t),i)return Ext.isString(i)&&(i={xtype:i}),i.isFormField||(i=Ext.ComponentManager.create(i,this.defaultFieldXType)),e.field=i,Ext.apply(i,{name:e.dataIndex}),i},setColumnField:function(e,t){Ext.isObject(t)&&!t.isFormField&&(t=Ext.ComponentManager.create(t,this.defaultFieldXType)),e.field=t},initEvents:function(){var e=this;e.initEditTriggers(),e.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var e=this,t=e.view;"cellfocus"==e.triggerEvent?e.mon(t,"cellfocus",e.onCellFocus,e):"rowfocus"==e.triggerEvent?e.mon(t,"rowfocus",e.onRowFocus,e):(t.selModel.isCellModel&&(t.onCellFocus=Ext.Function.bind(e.beforeViewCellFocus,e)),e.mon(t,e.triggerEvent||"cell"+(1===e.clicksToEdit?"click":"dblclick"),e.onCellClick,e)),e.initAddRemoveHeaderEvents(),t.on("render",e.initKeyNavHeaderEvents,e,{single:!0})},beforeViewCellFocus:function(e){!this.view.selModel.keyNavigation&&this.editing&&this.isCellEditable&&this.isCellEditable(e.row,e.columnHeader)||this.view.focusCell.apply(this.view,arguments)},onRowFocus:function(e,t,i){this.startEdit(t,0)},onCellFocus:function(e,t,i){this.startEdit(i.row,i.column)},onCellClick:function(e,t,i,n,r,o,a){e.expanderSelector&&a.getTarget(e.expanderSelector)||this.startEdit(n,e.getHeaderAtIndex(i))},initAddRemoveHeaderEvents:function(){var e=this;e.mon(e.grid.headerCt,{scope:e,add:e.onColumnAdd,remove:e.onColumnRemove})},initKeyNavHeaderEvents:function(){var e=this;e.keyNav=Ext.create("Ext.util.KeyNav",e.view.el,{enter:e.onEnterKey,esc:e.onEscKey,scope:e})},onColumnAdd:function(e,t){t.isHeader&&this.initFieldAccessors(t)},onColumnRemove:function(e,t){t.isHeader&&this.removeFieldAccessors(t)},onEnterKey:function(e){var t,i,n=this,r=n.grid,o=r.getSelectionModel(),a=r.headerCt.getHeaderAtIndex(0);o.getCurrentPosition?(i=o.getCurrentPosition(),i&&(t=r.store.getAt(i.row),a=r.headerCt.getHeaderAtIndex(i.column))):t=o.getLastSelected(),t&&a&&n.startEdit(t,a)},onEscKey:function(e){this.cancelEdit()},beforeEdit:Ext.emptyFn,startEdit:function(e,t){var i=this,n=i.getEditingContext(e,t);return!(null==n||i.beforeEdit(n)===!1||i.fireEvent("beforeedit",i,n)===!1||n.cancel||!i.grid.view.isVisible(!0))&&(i.context=n,void(i.editing=!0))},getEditingContext:function(e,t){var i,n,r=this,o=r.grid,a=o.getView(),s=a.getNode(e);if(s&&(t=o.headerCt.getVisibleHeaderClosestToIndex(Ext.isNumber(t)?t:t.getIndex())))return n=t.getIndex(),Ext.isNumber(e)?(i=e,e=a.getRecord(s)):i=a.indexOf(s),{grid:o,record:e,field:t.dataIndex,value:e.get(t.dataIndex),row:a.getNode(i),column:t,rowIdx:i,colIdx:n}},cancelEdit:function(){var e=this;e.editing=!1,e.fireEvent("canceledit",e,e.context)},completeEdit:function(){var e=this;e.editing&&e.validateEdit()&&e.fireEvent("edit",e,e.context),delete e.context,e.editing=!1},validateEdit:function(){var e=this,t=e.context;return e.fireEvent("validateedit",e,t)!==!1&&!t.cancel}}),Ext.define("Ext.grid.plugin.CellEditing",{alias:"plugin.cellediting",extend:"Ext.grid.plugin.Editing",requires:["Ext.grid.CellEditor","Ext.util.DelayedTask"],constructor:function(){this.callParent(arguments),this.editors=new Ext.util.MixedCollection(!1,function(e){return e.editorId}),this.editTask=new Ext.util.DelayedTask},onReconfigure:function(){this.editors.clear(),this.callParent()},destroy:function(){var e=this;e.editTask.cancel(),e.editors.each(Ext.destroy,Ext),e.editors.clear(),e.callParent(arguments)},onBodyScroll:function(){var e=this,t=e.getActiveEditor(),i=e.view.el.getScroll();t&&t.editing&&(i.top!==e.scroll.top?t.field&&(t.field.triggerBlur?t.field.triggerBlur():t.field.blur()):t.realign()),e.scroll=i},initCancelTriggers:function(){var e=this,t=e.grid,i=t.view;i.addElListener("mousewheel",e.cancelEdit,e),e.mon(i,"bodyscroll",e.onBodyScroll,e),e.mon(t,{columnresize:e.cancelEdit,columnmove:e.cancelEdit,scope:e})},isCellEditable:function(e,t){var i=this,n=i.getEditingContext(e,t);if(i.grid.view.isVisible(!0)&&n&&(t=n.column,e=n.record,t&&i.getEditor(e,t)))return!0},startEdit:function(e,t){var i,n,r=this,o=r.getEditingContext(e,t);return r.completeEdit(),!(!o||!r.grid.view.isVisible(!0))&&(e=o.record,t=o.column,!(t&&!t.getEditor(e))&&(i=e.get(t.dataIndex),o.originalValue=o.value=i,r.beforeEdit(o)!==!1&&r.fireEvent("beforeedit",r,o)!==!1&&!o.cancel&&(n=r.getEditor(e,t),r.grid.view.cancelFocus(),r.view.focusCell({row:o.rowIdx,column:o.colIdx}),!!n&&(r.editTask.delay(15,r.showEditor,r,[n,o,i]),!0))))},showEditor:function(e,t,i){var n=this,r=t.record,o=t.column,a=n.grid.getSelectionModel(),s=a.getCurrentPosition();n.context=t,n.setActiveEditor(e),n.setActiveRecord(r),n.setActiveColumn(o),!a.selectByPosition||s&&s.column===t.colIdx&&s.row===t.rowIdx||a.selectByPosition({row:t.rowIdx,column:t.colIdx}),e.startEdit(n.getCell(r,o),i),n.editing=!0,n.scroll=n.view.el.getScroll()},completeEdit:function(){var e=this.getActiveEditor();e&&(e.completeEdit(),this.editing=!1)},setActiveEditor:function(e){this.activeEditor=e},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(e){this.activeColumn=e},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(e){this.activeRecord=e},getActiveRecord:function(){return this.activeRecord},getEditor:function(e,t){var i=this,n=i.editors,r=t.getItemId(),o=n.getByKey(r);return o?o:!!(o=t.getEditor(e))&&(o instanceof Ext.grid.CellEditor?o.ownerCt=i.grid:o=new Ext.grid.CellEditor({editorId:r,field:o,ownerCt:i.grid}),o.editingPlugin=i,o.isForTree=i.grid.isTree,o.on({scope:i,specialkey:i.onSpecialKey,complete:i.onEditComplete,canceledit:i.cancelEdit}),n.add(o),o)},setColumnField:function(e,t){var i=this.editors.getByKey(e.getItemId());Ext.destroy(i,e.field),this.editors.removeAtKey(e.getItemId()),this.callParent(arguments)},getCell:function(e,t){return this.grid.getView().getCell(e,t)},onSpecialKey:function(e,t,i){var n,r=this,o=r.grid;i.getKey()===i.TAB&&(i.stopEvent(),e&&e.onEditorTab(i),n=o.getSelectionModel(),n.onEditorTab&&n.onEditorTab(r,i))},onEditComplete:function(e,t,i){var n,r=this,o=r.grid,a=r.getActiveColumn(),s=o.getSelectionModel();if(a){if(n=r.context.record,r.setActiveEditor(null),r.setActiveColumn(null),r.setActiveRecord(null),!r.validateEdit())return;n.isEqual(t,i)||n.set(a.dataIndex,t),s.setCurrentPosition&&s.setCurrentPosition(s.getCurrentPosition()),o.getView().getEl(a).focus(),r.context.value=t,r.fireEvent("edit",r,r.context)}},cancelEdit:function(){var e=this,t=e.getActiveEditor(),i=e.grid.getView().getEl(e.getActiveColumn());e.setActiveEditor(null),e.setActiveColumn(null),e.setActiveRecord(null),t&&(t.cancelEdit(),i.focus(),e.callParent(arguments))},startEditByPosition:function(e){return e.column=this.view.getHeaderCt().getVisibleHeaderClosestToIndex(e.column).getIndex(),this.startEdit(e.row,e.column)}}),Ext.define("Ext.grid.property.HeaderContainer",{extend:"Ext.grid.header.Container",alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:Ext.baseCSSPrefix+"grid-property-name",constructor:function(e,t){var i=this;i.grid=e,i.store=t,i.callParent([{items:[{header:i.nameText,width:e.nameColumnWidth||i.nameWidth,sortable:e.sortableColumns,dataIndex:e.nameField,renderer:Ext.Function.bind(i.renderProp,i),itemId:e.nameField,menuDisabled:!0,tdCls:i.nameColumnCls},{header:i.valueText,renderer:Ext.Function.bind(i.renderCell,i),getEditor:Ext.Function.bind(i.getCellEditor,i),sortable:e.sortableColumns,flex:1,fixed:!0,dataIndex:e.valueField,itemId:e.valueField,menuDisabled:!0}]}])},getCellEditor:function(e){return this.grid.getCellEditor(e,this)},renderProp:function(e){return this.getPropertyName(e)},renderCell:function(e,t,i){var n=this,r=n.grid.customRenderers[i.get(n.grid.nameField)],o=e;return r?r.apply(n,arguments):(Ext.isDate(e)?o=n.renderDate(e):Ext.isBoolean(e)&&(o=n.renderBool(e)),Ext.util.Format.htmlEncode(o))},renderDate:Ext.util.Format.date,renderBool:function(e){return this[e?"trueText":"falseText"]},getPropertyName:function(e){var t=this.grid.propertyNames;return t&&t[e]?t[e]:e}}),Ext.define("Ext.layout.container.VBox",{alias:["layout.vbox"],extend:"Ext.layout.container.Box",alternateClassName:"Ext.layout.VBoxLayout",align:"left",type:"vbox",direction:"vertical",horizontal:!1,names:{lr:"tb",left:"top",leftCap:"Top",right:"bottom",position:"top",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",center:"center",top:"left",topPosition:"left",bottom:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",scrollTop:"scrollLeft",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom"},sizePolicy:{flex:{"":{setsWidth:0,setsHeight:1},stretch:{setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,setsWidth:1,setsHeight:1}},"":{setsWidth:0,setsHeight:0},stretch:{setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,setsWidth:1,setsHeight:0}}}),Ext.define("Ext.layout.container.Accordion",{extend:"Ext.layout.container.VBox",alias:["layout.accordion"],alternateClassName:"Ext.layout.AccordionLayout",itemCls:[Ext.baseCSSPrefix+"box-item",Ext.baseCSSPrefix+"accordion-item"],align:"stretch",fill:!0,titleCollapse:!0,hideCollapseTool:!1,collapseFirst:!1,animate:!0,activeOnTop:!1,multi:!1,defaultAnimatePolicy:{y:!0,height:!0},constructor:function(){var e=this;e.callParent(arguments),e.animate?e.animatePolicy=Ext.apply({},e.defaultAnimatePolicy):e.animatePolicy=null},beforeRenderItems:function(e){for(var t,i=this,n=e.length,r=0;r<n;r++)t=e[r],t.rendered||(i.collapseFirst&&(t.collapseFirst=i.collapseFirst),i.hideCollapseTool?(t.hideCollapseTool=i.hideCollapseTool,t.titleCollapse=!0):i.titleCollapse&&(t.titleCollapse=i.titleCollapse),delete t.hideHeader,delete t.width,t.collapsible=!0,t.title=t.title||"&#160;",t.addBodyCls(Ext.baseCSSPrefix+"accordion-body"),i.multi||(void 0!==i.expandedItem?t.collapsed=!0:t.hasOwnProperty("collapsed")&&t.collapsed===!1?i.expandedItem=r:t.collapsed=!0,i.owner.mon(t,{show:i.onComponentShow,beforeexpand:i.onComponentExpand,scope:i})),i.fill&&i.owner.mon(t,{beforecollapse:i.onComponentCollapse,scope:i}));n&&void 0===i.expandedItem&&(i.expandedItem=0,e[0].collapsed=!1)},getItemsRenderTree:function(e){return this.beforeRenderItems(e),this.callParent(arguments)},renderItems:function(e,t){this.beforeRenderItems(e),this.callParent(arguments)},configureItem:function(e){this.callParent(arguments),e.animCollapse=e.border=!1,this.fill&&(e.flex=1)},onChildPanelRender:function(e){e.header.addCls(Ext.baseCSSPrefix+"accordion-hd")},beginLayout:function(e){this.callParent(arguments),this.updatePanelClasses(e)},updatePanelClasses:function(e){var t,i,n,r=e.visibleItems,o=r.length,a=!0;for(t=0;t<o;t++)i=r[t],n=i.header,n.addCls(Ext.baseCSSPrefix+"accordion-hd"),a?n.removeCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"):n.addCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"),t+1==o&&i.collapsed?n.addCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"):n.removeCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"),a=i.collapsed},onComponentExpand:function(e){var t,i,n,r,o=this,a=o.owner;if(!o.processing){for(o.processing=!0,r=a.deferLayouts,a.deferLayouts=!0,t=o.multi?[]:a.query(">panel:not([collapsed])"),i=t.length,n=0;n<i;n++)t[n].collapse();a.deferLayouts=r,o.processing=!1}},onComponentCollapse:function(e){var t,i,n,r=this,o=r.owner;return 1!==r.owner.items.getCount()&&void(r.processing||(r.processing=!0,n=o.deferLayouts,o.deferLayouts=!0,t=e.next()||e.prev(),r.multi?(i=r.owner.query(">panel:not([collapsed])"),1===i.length&&t.expand()):t&&t.expand(),o.deferLayouts=n,r.processing=!1))},onComponentShow:function(e){this.onComponentExpand(e)}}),Ext.define("Ext.toolbar.Spacer",{extend:"Ext.Component",alias:"widget.tbspacer",alternateClassName:"Ext.Toolbar.Spacer",baseCls:Ext.baseCSSPrefix+"toolbar-spacer",focusable:!1}),Ext.define("Ext.toolbar.TextItem",{extend:"Ext.toolbar.Item",requires:["Ext.XTemplate"],alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",beforeRender:function(){var e=this;e.callParent(),Ext.apply(e.renderData,{text:e.text})},setText:function(e){var t=this;t.rendered?(t.el.update(e),t.updateLayout()):this.text=e}}),Ext.define("Ext.toolbar.Toolbar",{extend:"Ext.container.Container",requires:["Ext.toolbar.Fill","Ext.layout.container.HBox","Ext.layout.container.VBox"],uses:["Ext.toolbar.Separator"],alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:!0,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",vertical:!1,enableOverflow:!1,menuTriggerCls:Ext.baseCSSPrefix+"toolbar-more-icon",trackMenus:!0,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var e=this;!e.layout&&e.enableOverflow&&(e.layout={overflowHandler:"Menu"}),"right"!==e.dock&&"left"!==e.dock||(e.vertical=!0),e.layout=Ext.applyIf(Ext.isString(e.layout)?{type:e.layout}:e.layout||{},{type:e.vertical?"vbox":"hbox",align:e.vertical?"stretchmax":"middle"}),e.vertical&&e.addClsWithUI("vertical"),"footer"===e.ui&&(e.ignoreBorderManagement=!0),e.callParent(),e.addEvents("overflowchange")},getRefItems:function(e){var t,i=this,n=i.callParent(arguments),r=i.layout;return e&&i.enableOverflow&&(t=r.overflowHandler,t&&t.menu&&(n=n.concat(t.menu.getRefItems(e)))),n},lookupComponent:function(e){if("string"==typeof e){var t=Ext.toolbar.Toolbar,i=t.shortcutsHV[this.vertical?1:0][e]||t.shortcuts[e];e="string"==typeof i?{xtype:i}:i?Ext.apply({},i):{xtype:"tbtext",text:e},this.applyDefaults(e)}return this.callParent(arguments)},applyDefaults:function(e){return Ext.isString(e)||(e=this.callParent(arguments)),e},trackMenu:function(e,t){if(this.trackMenus&&e.menu){var i=t?"mun":"mon",n=this;n[i](e,"mouseover",n.onButtonOver,n),n[i](e,"menushow",n.onButtonMenuShow,n),n[i](e,"menuhide",n.onButtonMenuHide,n)}},constructButton:function(e){return e.events?e:Ext.widget(e.split?"splitbutton":this.defaultType,e)},onBeforeAdd:function(e){(e.is("field")||e.is("button")&&"footer"!=this.ui)&&(e.ui=e.ui+"-toolbar"),e instanceof Ext.toolbar.Separator&&e.setUI(this.vertical?"vertical":"horizontal"),this.callParent(arguments)},onAdd:function(e){this.callParent(arguments),this.trackMenu(e)},onRemove:function(e){this.callParent(arguments),this.trackMenu(e,!0)},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(e){this.activeMenuBtn&&this.activeMenuBtn!=e&&(this.activeMenuBtn.hideMenu(),e.showMenu(),this.activeMenuBtn=e)},onButtonMenuShow:function(e){this.activeMenuBtn=e},onButtonMenuHide:function(e){delete this.activeMenuBtn}}),Ext.define("Ext.panel.AbstractPanel",{extend:"Ext.container.Container",mixins:{docking:"Ext.container.DockingContainer"},requires:["Ext.util.MixedCollection","Ext.Element","Ext.toolbar.Toolbar"],baseCls:Ext.baseCSSPrefix+"panel",isPanel:!0,componentLayout:"dock",childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",Ext.isIE6||Ext.isIE7||Ext.isIEQuirks?"<div></div>":"",'<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],bodyPosProps:{x:"x",y:"y"},border:!0,emptyArray:[],initComponent:function(){var e=this;e.frame&&e.border&&void 0===e.bodyBorder&&(e.bodyBorder=!1),e.frame&&e.border&&(e.bodyBorder===!1||0===e.bodyBorder)&&(e.manageBodyBorders=!0),e.callParent()},beforeDestroy:function(){this.destroyDockedItems(),this.callParent()},initItems:function(){this.callParent(),this.initDockingItems()},initRenderData:function(){var e=this,t=e.callParent();return e.initBodyStyles(),e.protoBody.writeTo(t),delete e.protoBody,t},getComponent:function(e){var t=this.callParent(arguments);return void 0!==t||Ext.isNumber(e)||(t=this.getDockedComponent(e)),t},getProtoBody:function(){var e=this,t=e.protoBody;return t||(e.protoBody=t=new Ext.util.ProtoElement({cls:e.bodyCls,style:e.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:!0})),t},initBodyStyles:function(){
var e=this,t=e.getProtoBody(),i=Ext.Element;void 0!==e.bodyPadding&&t.setStyle("padding",i.unitizeBox(e.bodyPadding===!0?5:e.bodyPadding)),e.frame&&e.bodyBorder&&(Ext.isNumber(e.bodyBorder)||(e.bodyBorder=1),t.setStyle("border-width",i.unitizeBox(e.bodyBorder)))},getCollapsedDockedItems:function(){var e=this;return"placeholder"==e.collapseMode?e.emptyArray:[e.getReExpander()]},setBodyStyle:function(e,t){var i=this,n=i.rendered?i.body:i.getProtoBody();return Ext.isFunction(e)&&(e=e()),1==arguments.length?(Ext.isString(e)&&(e=Ext.Element.parseStyles(e)),n.setStyle(e)):n.setStyle(e,t),i},addBodyCls:function(e){var t=this,i=t.rendered?t.body:t.getProtoBody();return i.addCls(e),t},removeBodyCls:function(e){var t=this,i=t.rendered?t.body:t.getProtoBody();return i.removeCls(e),t},addUIClsToElement:function(e){var t=this,i=t.callParent(arguments);return t.addBodyCls([Ext.baseCSSPrefix+e,t.baseCls+"-body-"+e,t.baseCls+"-body-"+t.ui+"-"+e]),i},removeUIClsFromElement:function(e){var t=this,i=t.callParent(arguments);return t.removeBodyCls([Ext.baseCSSPrefix+e,t.baseCls+"-body-"+e,t.baseCls+"-body-"+t.ui+"-"+e]),i},addUIToElement:function(){var e=this;e.callParent(arguments),e.addBodyCls(e.baseCls+"-body-"+e.ui)},removeUIFromElement:function(){var e=this;e.callParent(arguments),e.removeBodyCls(e.baseCls+"-body-"+e.ui)},getTargetEl:function(){return this.body},getRefItems:function(e){var t=this.callParent(arguments);return this.getDockingRefItems(e,t)},setupRenderTpl:function(e){this.callParent(arguments),this.setupDockingRenderTpl(e)}}),Ext.define("Ext.panel.Panel",{extend:"Ext.panel.AbstractPanel",requires:["Ext.panel.Header","Ext.fx.Anim","Ext.util.KeyMap","Ext.panel.DD","Ext.XTemplate","Ext.layout.component.Dock","Ext.util.Memento"],alias:"widget.panel",alternateClassName:"Ext.Panel",collapsedCls:"collapsed",animCollapse:Ext.enableFx,minButtonWidth:75,collapsed:!1,collapseFirst:!0,hideCollapseTool:!1,titleCollapse:!1,floatable:!0,collapsible:!1,closable:!1,closeAction:"destroy",placeholderCollapseHideMode:Ext.Element.VISIBILITY,preventHeader:!1,header:void 0,headerPosition:"top",frame:!1,frameHeader:!0,titleAlign:"left",manageHeight:!0,initComponent:function(){var e=this;e.addEvents("beforeclose","close","beforeexpand","beforecollapse","expand","collapse","titlechange","iconchange","iconclschange"),e.collapsible&&this.addStateEvents(["expand","collapse"]),e.unstyled&&e.setUI("plain"),e.frame&&e.setUI(e.ui+"-framed"),e.bridgeToolbars(),e.callParent(),e.collapseDirection=e.collapseDirection||e.headerPosition||Ext.Component.DIRECTION_TOP,e.hiddenOnCollapse=new Ext.dom.CompositeElement},beforeDestroy:function(){var e=this;Ext.destroy(e.placeholder,e.ghostPanel,e.dd),e.callParent()},initAria:function(){this.callParent(),this.initHeaderAria()},getFocusEl:function(){return this.el},initHeaderAria:function(){var e=this,t=e.el,i=e.header;t&&i&&t.dom.setAttribute("aria-labelledby",i.titleCmp.id)},getHeader:function(){return this.header},setTitle:function(e){var t=this,i=t.title,n=t.header,r=t.reExpander,o=t.placeholder;t.title=e,n?n.isHeader?n.setTitle(e):n.title=e:t.updateHeader(),r&&r.setTitle(e),o&&o.setTitle&&o.setTitle(e),t.fireEvent("titlechange",t,e,i)},setIconCls:function(e){var t=this,i=t.iconCls,n=t.header,r=t.placeholder;t.iconCls=e,n?n.isHeader?n.setIconCls(e):n.iconCls=e:t.updateHeader(),r&&r.setIconCls&&r.setIconCls(e),t.fireEvent("iconclschange",t,e,i)},setIcon:function(e){var t=this,i=t.icon,n=t.header,r=t.placeholder;t.icon=e,n?n.isHeader?n.setIcon(e):n.icon=e:t.updateHeader(),r&&r.setIcon&&r.setIcon(e),t.fireEvent("iconchange",t,e,i)},bridgeToolbars:function(){function e(e,t,i){return Ext.isArray(e)?e={xtype:"toolbar",items:e}:e.xtype||(e.xtype="toolbar"),e.dock=t,"left"!=t&&"right"!=t||(e.vertical=!0),i&&(e.layout=Ext.applyIf(e.layout||{},{pack:{left:"start",center:"center"}[n.buttonAlign]||"end"})),e}var t,i,n=this,r=[],o=n.minButtonWidth;n.tbar&&(r.push(e(n.tbar,"top")),n.tbar=null),n.bbar&&(r.push(e(n.bbar,"bottom")),n.bbar=null),n.buttons&&(n.fbar=n.buttons,n.buttons=null),n.fbar&&(t=e(n.fbar,"bottom",!0),t.ui="footer",o&&(i=t.defaults,t.defaults=function(e){var t=i||{};return!(!e.xtype||"button"===e.xtype||e.isComponent&&e.isXType("button"))||"minWidth"in t||(t=Ext.apply({minWidth:o},t)),t}),r.push(t),n.fbar=null),n.lbar&&(r.push(e(n.lbar,"left")),n.lbar=null),n.rbar&&(r.push(e(n.rbar,"right")),n.rbar=null),n.dockedItems?(Ext.isArray(n.dockedItems)||(n.dockedItems=[n.dockedItems]),n.dockedItems=n.dockedItems.concat(r)):n.dockedItems=r},isPlaceHolderCollapse:function(){return"placeholder"==this.collapseMode},onBoxReady:function(){this.callParent(),this.collapsed&&this.setHiddenDocked()},beforeRender:function(){var e,t=this;t.callParent(),t.initTools(),t.preventHeader||t.header===!1||t.updateHeader(),t.collapsed&&(t.isPlaceHolderCollapse()?(t.hidden=!0,t.placeholderCollapse(),e=t.collapsed,t.collapsed=!1):(t.beginCollapse(),t.addClsWithUI(t.collapsedCls))),e&&(t.collapsed=e)},initTools:function(){var e=this;e.tools=e.tools?Ext.Array.clone(e.tools):[],!e.collapsible||e.hideCollapseTool||e.header===!1||e.preventHeader||(e.collapseDirection=e.collapseDirection||e.headerPosition||"top",e.collapseTool=e.expandTool=Ext.widget({xtype:"tool",type:e.collapsed&&!e.isPlaceHolderCollapse()?"expand-"+e.getOppositeDirection(e.collapseDirection):"collapse-"+e.collapseDirection,handler:e.toggleCollapse,scope:e}),e.collapseFirst&&e.tools.unshift(e.collapseTool)),e.addTools(),e.closable&&(e.addClsWithUI("closable"),e.addTool({type:"close",handler:Ext.Function.bind(e.close,e,[])})),e.collapseTool&&!e.collapseFirst&&e.addTool(e.collapseTool)},addTools:Ext.emptyFn,close:function(){this.fireEvent("beforeclose",this)!==!1&&this.doClose()},doClose:function(){this.fireEvent("close",this),this[this.closeAction]()},updateHeader:function(e){var t=this,i=t.header,n=t.title,r=t.tools,o=t.icon||t.iconCls,a="left"==t.headerPosition||"right"==t.headerPosition;i!==!1&&(e||n||o||r&&r.length||t.collapsible&&!t.titleCollapse)?(i&&i.isHeader?i.show():(i=t.header=Ext.widget(Ext.apply({xtype:"header",title:n,titleAlign:t.titleAlign,orientation:a?"vertical":"horizontal",dock:t.headerPosition||"top",textCls:t.headerTextCls,iconCls:t.iconCls,icon:t.icon,baseCls:t.baseCls+"-header",tools:r,ui:t.ui,id:t.id+"_header",indicateDrag:t.draggable,frame:(t.frame||t.alwaysFramed)&&t.frameHeader,ignoreParentFrame:t.frame||t.overlapHeader,ignoreBorderManagement:t.frame||t.ignoreHeaderBorderManagement,listeners:t.collapsible&&t.titleCollapse?{click:t.toggleCollapse,scope:t}:null},t.header)),t.addDocked(i,0),t.tools=i.tools),t.initHeaderAria()):i&&i.hide()},setUI:function(e){var t=this;t.callParent(arguments),t.header&&t.header.rendered&&t.header.setUI(e)},getContentTarget:function(){return this.body},getTargetEl:function(){var e=this;return e.body||e.protoBody||e.frameBody||e.el},isVisible:function(e){var t=this;return t.collapsed&&t.placeholder?t.placeholder.isVisible(e):t.callParent(arguments)},onHide:function(){var e=this;e.collapsed&&e.placeholder?e.placeholder.hide():e.callParent(arguments)},onShow:function(){var e=this;e.collapsed&&e.placeholder?(e.hidden=!0,e.placeholder.show()):e.callParent(arguments)},onRemoved:function(e){var t=this;t.callParent(arguments),t.placeholder&&!e&&t.ownerCt.remove(t.placeholder,!1)},addTool:function(e){e=[].concat(e);var t,i,n=this,r=n.header,o=e.length;for(t=0;t<o;t++)i=e[t],n.tools.push(i),r&&r.isHeader&&r.addTool(i);n.updateHeader()},getOppositeDirection:function(e){var t=Ext.Component;switch(e){case t.DIRECTION_TOP:return t.DIRECTION_BOTTOM;case t.DIRECTION_RIGHT:return t.DIRECTION_LEFT;case t.DIRECTION_BOTTOM:return t.DIRECTION_TOP;case t.DIRECTION_LEFT:return t.DIRECTION_RIGHT}},getWidthAuthority:function(){return this.collapsed&&this.collapsedHorizontal()?1:this.callParent()},getHeightAuthority:function(){return this.collapsed&&this.collapsedVertical()?1:this.callParent()},collapsedHorizontal:function(){var e=this.getCollapsed();return"left"==e||"right"==e},collapsedVertical:function(){var e=this.getCollapsed();return"top"==e||"bottom"==e},restoreDimension:function(){var e=this.collapseDirection;return"top"===e||"bottom"===e?"height":"width"},getCollapsed:function(){var e=this;return e.collapsed===!0?e.collapseDirection:e.collapsed},getState:function(){var e,t=this,i=t.callParent();return i=t.addPropertyToState(i,"collapsed"),t.collapsed&&(e=t.collapseMemento,e=e&&e.data,t.collapsedVertical()?(i&&delete i.height,e&&(i=t.addPropertyToState(i,"height",e.height))):(i&&delete i.width,e&&(i=t.addPropertyToState(i,"width",e.width)))),i},findReExpander:function(e){var t,i,n=this,r=Ext.Component,o=n.dockedItems.items,a=o.length;if("mini"!=n.collapseMode)switch(e){case r.DIRECTION_TOP:case r.DIRECTION_BOTTOM:for(i=0;i<a;i++)if(t=o[i],!t.hidden&&t.isHeader&&(!t.dock||"top"==t.dock||"bottom"==t.dock))return t;break;case r.DIRECTION_LEFT:case r.DIRECTION_RIGHT:for(i=0;i<a;i++)if(t=o[i],!t.hidden&&t.isHeader&&("left"==t.dock||"right"==t.dock))return t;break;default:throw"Panel#findReExpander must be passed a valid collapseDirection"}},getReExpander:function(e){var t=this,i=e||t.collapseDirection,n=t.reExpander||t.findReExpander(i);return t.expandDirection=t.getOppositeDirection(i),n||(t.reExpander=n=t.createReExpander(i,{dock:i,cls:Ext.baseCSSPrefix+"docked "+t.baseCls+"-"+t.ui+"-collapsed",ownerCt:t,ownerLayout:t.componentLayout}),t.dockedItems.insert(0,n)),n},createReExpander:function(e,t){var i,n=this,r="left"==e,o="right"==e,a=r||o,s=Ext.apply({hideMode:"offsets",title:n.title,orientation:a?"vertical":"horizontal",textCls:n.headerTextCls,icon:n.icon,iconCls:n.iconCls,baseCls:n.baseCls+"-header",ui:n.ui,frame:n.frame&&n.frameHeader,ignoreParentFrame:n.frame||n.overlapHeader,indicateDrag:n.draggable},t);return"mini"==n.collapseMode&&(a?s.width=1:s.height=1),n.hideCollapseTool||(i=r||o&&n.isPlaceHolderCollapse(),s[i?"items":"tools"]=[{xtype:"tool",type:"expand-"+n.getOppositeDirection(e),uiCls:["top"],handler:n.toggleCollapse,scope:n}]),s=new Ext.panel.Header(s),s.addClsWithUI(n.getHeaderCollapsedClasses(s)),s},getHeaderCollapsedClasses:function(e){var t,i=this,n=i.collapsedCls;return t=[n,n+"-"+e.dock],i.border&&(!i.frame||i.frame&&Ext.supports.CSS3BorderRadius)&&t.push(n+"-border-"+e.dock),t},beginCollapse:function(){var e,t=this,i=t.lastBox,n=t.rendered,r=t.collapseMemento||(t.collapseMemento=new Ext.util.Memento(t)),o=t.getSizeModel();r.capture(["height","minHeight","width","minWidth"]),i&&r.capture(t.restoreDimension(),i,"last."),t.collapsedVertical()?(o.width.shrinkWrap&&(t.width=n?t.getWidth():t.width||t.minWidth||100),delete t.height,t.minHeight=0):t.collapsedHorizontal()&&(o.height.shrinkWrap&&(t.height=n?t.getHeight():t.height||t.minHeight||100),delete t.width,t.minWidth=0),t.ownerCt&&t.ownerCt.getLayout().beginCollapse(t),t.isPlaceHolderCollapse()||(t.header===(e=t.getReExpander())?(t.header.addClsWithUI(t.getHeaderCollapsedClasses(t.header)),t.header.rendered&&t.header.updateFrame()):e.el&&(e.el.show(),e.hidden=!1)),t.resizer&&t.resizer.disable()},beginExpand:function(){var e,t=this,i=t.lastBox,n=t.collapseMemento,r=this.restoreDimension();n.restore(["minHeight","minWidth",r]),i&&n.restore(r,!0,i,"last."),t.ownerCt&&t.ownerCt.getLayout().beginExpand(t),t.isPlaceHolderCollapse()||(t.header===(e=t.getReExpander())?(t.header.removeClsWithUI(t.getHeaderCollapsedClasses(t.header)),t.header.rendered&&t.header.updateFrame()):(e.hidden=!0,e.el.hide())),t.resizer&&t.resizer.enable()},collapse:function(e,t){var i=this,n=e||i.collapseDirection,r=i.ownerCt;return i.isCollapsingOrExpanding?i:(arguments.length<2&&(t=i.animCollapse),i.collapsed||i.fireEvent("beforecollapse",i,e,t)===!1?i:r&&i.isPlaceHolderCollapse()?i.placeholderCollapse(e,t):(i.collapsed=n,i.beginCollapse(),i.fireHierarchyEvent("collapse"),i.doCollapseExpand(1,t)))},doCollapseExpand:function(e,t){var i=this,n=i.animCollapse,r=i.ownerLayout;return i.animCollapse=t,i.isCollapsingOrExpanding=e,r&&!t?r.onContentChange(i):i.updateLayout({isRoot:!0}),i.animCollapse=n,i},afterCollapse:function(e){var t=this,i=t.ownerLayout;t.isCollapsingOrExpanding=0,t.collapseTool&&t.collapseTool.setType("expand-"+t.getOppositeDirection(t.collapseDirection)),i&&e&&i.onContentChange(t),t.setHiddenDocked(),t.fireEvent("collapse",t)},setHiddenDocked:function(){var e,t=this,i=t.hiddenOnCollapse,n=t.getReExpander(),r=t.getDockedItems(),o=r.length,a=0;for(i.add(t.body);a<o;a++)e=r[a],e&&e!==n&&e.el&&i.add(e.el);i.setStyle("visibility","hidden")},restoreHiddenDocked:function(){var e=this.hiddenOnCollapse;e.setStyle("visibility",""),e.clear()},getPlaceholder:function(e){var t=this,i=e||t.collapseDirection,n=null,r=t.placeholder;return r||((t.floatable||t.collapsible&&t.titleCollapse)&&(n={click:{fn:t.floatable?t.floatCollapsedPanel:t.toggleCollapse,element:"el",scope:t}}),t.placeholder=r=Ext.widget(t.createReExpander(i,{id:t.id+"-placeholder",listeners:n}))),r.placeholderFor||(r.isComponent||(t.placeholder=r=t.lookupComponent(r)),Ext.applyIf(r,{margins:t.margins,placeholderFor:t}),r.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+i+"-placeholder",t.collapsedCls])),r},placeholderCollapse:function(e,t){var i=this,n=i.ownerCt,r=e||i.collapseDirection,o=Ext.baseCSSPrefix+"border-region-slide-in",a=i.getPlaceholder(e);return i.isCollapsingOrExpanding=1,i.hidden=!0,i.collapsed=r,a.rendered?(a.el.dom.parentNode!==i.el.dom.parentNode&&i.el.dom.parentNode.insertBefore(a.el.dom,i.el.dom),a.hidden=!1,a.el.show(),n.updateLayout()):n.insert(n.items.indexOf(i),a),i.rendered?(i.el.setVisibilityMode(i.placeholderCollapseHideMode),t?(i.el.addCls(o),a.el.hide(),i.el.slideOut(r.substr(0,1),{preserveScroll:!0,duration:Ext.Number.from(t,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){i.el.removeCls(o),a.el.show().setStyle("display","none").slideIn(r.substr(0,1),{easing:"linear",duration:100,listeners:{afteranimate:function(){a.focus(),i.isCollapsingOrExpanding=0,i.fireEvent("collapse",i)}}})}}})):(i.el.hide(),i.isCollapsingOrExpanding=0,i.fireEvent("collapse",i))):(i.isCollapsingOrExpanding=0,i.fireEvent("collapse",i)),i},floatCollapsedPanel:function(){function e(e){if(!n.isDestroyed){var t=n.el.getRegion().union(r.el.getRegion()).adjust(1,-1,-1,1);t.contains(e.getPoint())||n.slideOutFloatedPanel()}}var t,i,n=this,r=n.placeholder,o=r.getBox(!0),a=Ext.baseCSSPrefix+"border-region-slide-in",s=n.collapsed,l=n.ownerCt||n;if(n.el.hasCls(a))return void n.slideOutFloatedPanel();if(!n.isSliding){switch(n.isSliding=!0,n.placeholder.el.hide(),n.placeholder.hidden=!0,n.el.show(),n.hidden=!1,n.collapsed=!1,l.updateLayout(),t=n.getBox(!0),n.placeholder.el.show(),n.placeholder.hidden=!1,n.el.hide(),n.hidden=!0,n.collapsed=s,l.updateLayout(),n.placeholderMouseMon=r.el.monitorMouseLeave(500,e),n.panelMouseMon=n.el.monitorMouseLeave(500,e),n.el.addCls(a),n.collapseTool&&n.collapseTool.el.hide(),n.collapsed){case"top":n.el.setLeftTop(o.x,o.y+o.height-1),i="t";break;case"right":n.el.setLeftTop(o.x-t.width+1,o.y),i="r";break;case"bottom":n.el.setLeftTop(o.x,o.y-t.height+1),i="b";break;case"left":n.el.setLeftTop(o.x+o.width-1,o.y),i="l"}n.floatedFromCollapse=n.collapsed,n.collapsed=n.hidden=!1,n.el.slideIn(i,{preserveScroll:!0,listeners:{afteranimate:function(){n.isSliding=!1}}})}},isLayoutRoot:function(){return!!this.floatedFromCollapse||this.callParent()},slideOutFloatedPanel:function(){var e,t=this,i=this.el;t.isSliding||(t.isSliding=!0,t.slideOutFloatedPanelBegin(),"string"==typeof t.collapsed&&(e=t.collapsed.charAt(0)),i.slideOut(e,{preserveScroll:!0,listeners:{afteranimate:function(){t.slideOutFloatedPanelEnd(),t.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in"),t.isSliding=!1}}}))},slideOutFloatedPanelBegin:function(){var e=this,t=this.el;e.collapsed=e.floatedFromCollapse,e.hidden=!0,e.floatedFromCollapse=null,t.un(e.panelMouseMon),e.placeholder.el.un(e.placeholderMouseMon)},slideOutFloatedPanelEnd:function(){this.collapseTool&&this.collapseTool.el.show()},expand:function(e){var t=this;return t.isCollapsingOrExpanding?t:(arguments.length||(e=t.animCollapse),t.collapsed||t.floatedFromCollapse?t.fireEvent("beforeexpand",t,e)===!1?t:t.isPlaceHolderCollapse()?t.placeholderExpand(e):(t.restoreHiddenDocked(),t.beginExpand(),t.collapsed=!1,t.fireHierarchyEvent("expand"),t.doCollapseExpand(2,e)):t)},placeholderExpand:function(e){var t,i,n,r=this,o=r.collapsed,a=Ext.baseCSSPrefix+"border-region-slide-in";return r.floatedFromCollapse&&(i=r.getPosition(!0),r.slideOutFloatedPanelBegin(),r.slideOutFloatedPanelEnd()),r.isCollapsingOrExpanding=2,r.placeholder.hidden=!0,r.placeholder.el.hide(),r.collapsed=!1,r.show(),e?i?(t=r.el.getXY(),r.el.setLeftTop(i[0],i[1]),r.el.moveTo(t[0],t[1],{duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){r.el.removeCls(a),r.isCollapsingOrExpanding=0,r.fireEvent("expand",r)}}})):(r.hidden=!0,r.el.addCls(a),r.el.hide(),r.collapsed=o,r.placeholder.show(),n=o.substr(0,1),r.hidden=!1,r.el.slideIn(n,{preserveScroll:!0,duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){r.collapsed=!1,r.el.removeCls(a),r.placeholder.hide(),r.isCollapsingOrExpanding=0,r.fireEvent("expand",r)}}})):(r.isCollapsingOrExpanding=0,r.fireEvent("expand",r)),r},afterExpand:function(e){var t=this,i=t.ownerLayout;t.isCollapsingOrExpanding=0,t.collapseTool&&t.collapseTool.setType("collapse-"+t.collapseDirection),i&&e&&i.onContentChange(t),t.fireEvent("expand",t)},setBorder:function(e,t){if(!t){var i=this,n=i.header;e=e?Ext.Element.unitizeBox(e===!0?1:e):0,n&&(n.isHeader?n.setBorder(e):n.border=e),i.rendered&&i.bodyBorder!==!1&&i.body.setStyle("border-width",e),i.updateLayout(),i.border=e}},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},initDraggable:function(){this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},ghostTools:function(){var e,t,i,n=[],r=this.header,o=r?r.query("tool[hidden=false]"):[];if(o.length)for(e=0,t=o.length;e<t;e++)i=o[e],n.push({type:i.type});else n=[{type:"placeholder"}];return n},ghost:function(e){var t,i=this,n=i.ghostPanel,r=i.getBox();return n?n.el.show():(n=new Ext.panel.Panel({renderTo:document.body,floating:{shadow:!1},frame:i.frame&&!i.alwaysFramed,alwaysFramed:i.alwaysFramed,overlapHeader:i.overlapHeader,headerPosition:i.headerPosition,baseCls:i.baseCls,cls:i.baseCls+"-ghost "+(e||"")}),i.ghostPanel=n),n.floatParent=i.floatParent,i.floating?n.setZIndex(Ext.Number.from(i.el.getStyle("zIndex"),0)):n.toFront(),i.preventHeader||i.header===!1||(t=n.header,t&&(t.suspendLayouts(),Ext.Array.forEach(t.query("tool"),t.remove,t),t.resumeLayouts()),n.addTool(i.ghostTools()),n.setTitle(i.title),n.setIconCls(i.iconCls)),n.setPagePosition(r.x,r.y),n.setSize(r.width,r.height),i.el.hide(),n},unghost:function(e,t){var i=this;i.ghostPanel&&(e!==!1&&(i.el.show(),t!==!1&&(i.setPagePosition(i.ghostPanel.el.getXY()),"offsets"==i.hideMode&&delete i.el.hideModeStyles),Ext.defer(i.focus,10,i)),i.ghostPanel.el.hide())},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},initResizable:function(e){this.collapsed&&(e.disabled=!0),this.callParent([e])}},function(){this.prototype.animCollapse=Ext.enableFx});Ext.define("Ext.container.ButtonGroup",{extend:"Ext.panel.Panel",alias:"widget.buttongroup",alternateClassName:"Ext.ButtonGroup",requires:["Ext.layout.container.Table"],baseCls:Ext.baseCSSPrefix+"btn-group",layout:{type:"table"},defaultType:"button",frame:!0,frameHeader:!1,titleAlign:"center",initComponent:function(){var e=this,t=e.columns;e.noTitleCls=e.baseCls+"-notitle",t&&(e.layout=Ext.apply({},{columns:t},e.layout)),e.title||e.addCls(e.noTitleCls),e.callParent(arguments)},onBeforeAdd:function(e){e.isButton&&(e.ui=e.ui+"-toolbar"),this.callParent(arguments)},applyDefaults:function(e){return Ext.isString(e)||(e=this.callParent(arguments)),e}});Ext.define("Ext.menu.Menu",{extend:"Ext.panel.Panel",alias:"widget.menu",requires:["Ext.layout.container.Fit","Ext.layout.container.VBox","Ext.menu.CheckItem","Ext.menu.Item","Ext.menu.KeyNav","Ext.menu.Manager","Ext.menu.Separator"],enableKeyNav:!0,allowOtherMenus:!1,ariaRole:"menu",defaultAlign:"tl-bl?",floating:!0,constrain:!0,hidden:!0,hideMode:"visibility",ignoreParentClicks:!1,isMenu:!0,showSeparator:!0,minWidth:void 0,defaultMinWidth:120,initComponent:function(){var e=this,t=Ext.baseCSSPrefix,i=[t+"menu"],n=e.bodyCls?[e.bodyCls]:[],r=e.floating!==!1;e.addEvents("click","mouseenter","mouseleave","mouseover"),Ext.menu.Manager.register(e),e.plain&&i.push(t+"menu-plain"),e.cls=i.join(" "),n.unshift(t+"menu-body"),e.bodyCls=n.join(" "),e.layout||(e.layout={type:"vbox",align:"stretchmax",overflowHandler:"Scroller"}),r&&void 0===e.minWidth&&(e.minWidth=e.defaultMinWidth),r||e.initialConfig.hidden===!0||(e.hidden=!1),e.callParent(arguments),e.on("beforeshow",function(){var t=!!e.items.length;return t&&e.rendered&&e.el.setStyle("visibility",null),t})},beforeRender:function(){this.callParent(arguments),this.getSizeModel().width.shrinkWrap||(this.layout.align="stretch")},onBoxReady:function(){var e,t=this;t.callParent(arguments),t.showSeparator&&(e={cls:Ext.baseCSSPrefix+"menu-icon-separator",html:"&#160;"},(!Ext.isStrict&&Ext.isIE||Ext.isIE6)&&(e.style="height:"+t.el.getHeight()+"px"),t.iconSepEl=t.layout.getElementTarget().insertFirst(e)),t.mon(t.el,{click:t.onClick,mouseover:t.onMouseOver,scope:t}),t.mouseMonitor=t.el.monitorMouseLeave(100,t.onMouseLeave,t),t.enableKeyNav&&(t.keyNav=new Ext.menu.KeyNav(t))},getBubbleTarget:function(){return this.parentMenu||this.ownerButton||this.callParent(arguments)},canActivateItem:function(e){return e&&!e.isDisabled()&&e.isVisible()&&(e.canActivate||e.getXTypes().indexOf("menuitem")<0)},deactivateActiveItem:function(e){var t=this,i=t.activeItem,n=t.focusedItem;i&&(i.deactivate(),i.activated||delete t.activeItem),n&&e&&(n.blur(),delete t.focusedItem)},getFocusEl:function(){return this.focusedItem||this.el},hide:function(){this.deactivateActiveItem(!0),this.callParent(arguments)},getItemFromEvent:function(e){return this.getChildByElement(e.getTarget())},lookupComponent:function(e){var t=this;return"string"==typeof e?e=t.lookupItemFromString(e):Ext.isObject(e)&&(e=t.lookupItemFromObject(e)),e.minWidth=e.minWidth||t.minWidth,e},lookupItemFromObject:function(e){var t,i=this,n=Ext.baseCSSPrefix;return e.isComponent||(e=e.xtype?Ext.ComponentManager.create(e,e.xtype):Ext.create("Ext.menu."+(Ext.isBoolean(e.checked)?"Check":"")+"Item",e)),e.isMenuItem&&(e.parentMenu=i),e.isMenuItem||e.dock||(t=[n+"menu-item",n+"menu-item-cmp"],i.plain||e.indent!==!0&&"no-icon"!==e.iconCls||t.push(n+"menu-item-indent"),e.rendered?e.el.addCls(t):e.cls=(e.cls?e.cls:"")+" "+t.join(" ")),e},lookupItemFromString:function(e){return"separator"==e||"-"==e?new Ext.menu.Separator:new Ext.menu.Item({canActivate:!1,hideOnClick:!1,plain:!0,text:e})},onClick:function(e){var t,i=this;return i.disabled?void e.stopEvent():(t="click"===e.type?i.getItemFromEvent(e):i.activeItem,t&&t.isMenuItem&&(t.menu&&i.ignoreParentClicks?e.stopEvent():t.onClick(e)),t&&!t.disabled||(t=void 0),void i.fireEvent("click",i,t,e))},onDestroy:function(){var e=this;Ext.menu.Manager.unregister(e),delete e.parentMenu,delete e.ownerButton,e.rendered&&(e.el.un(e.mouseMonitor),Ext.destroy(e.keyNav),delete e.keyNav),e.callParent(arguments)},onMouseLeave:function(e){var t=this;t.deactivateActiveItem(),t.disabled||t.fireEvent("mouseleave",t,e)},onMouseOver:function(e){var t=this,i=e.getRelatedTarget(),n=!t.el.contains(i),r=t.getItemFromEvent(e),o=t.parentMenu,a=t.parentItem;n&&o&&(o.setActiveItem(a),a.cancelDeferHide(),o.mouseMonitor.mouseenter()),t.disabled||(r&&!r.activated&&(t.setActiveItem(r),r.activated&&r.expandMenu&&r.expandMenu()),n&&t.fireEvent("mouseenter",t,e),t.fireEvent("mouseover",t,r,e))},setActiveItem:function(e){var t=this;e&&e!=t.activeItem&&(t.deactivateActiveItem(),t.canActivateItem(e)&&(e.activate?(e.activate(),e.activated&&(t.activeItem=e,t.focusedItem=e,t.focus())):(e.focus(),t.focusedItem=e)),e.el.scrollIntoView(t.layout.getRenderTarget()))},showBy:function(e,t,i){var n=this;return n.floating&&e&&(n.show(),n.setPagePosition(n.el.getAlignToXY(e.el||e,t||n.defaultAlign,i)),n.setVerticalPosition()),n},show:function(){var e,t,i,n=this,r=n.maxHeight;return n.rendered||n.doAutoRender(),n.floating&&(e=Ext.fly(n.el.getScopeParent()),t=e.getViewSize().height,n.maxHeight=Math.min(r||t,t)),i=n.callParent(arguments),n.maxHeight=r,i},afterComponentLayout:function(e,t,i,n){var r=this;r.callParent(arguments),r.showSeparator&&r.iconSepEl.setHeight(r.componentLayout.lastComponentSize.contentHeight)},setVerticalPosition:function(){var e,t=this,i=t.el.getY(),n=i,r=t.getHeight(),o=Ext.Element.getViewportHeight().height,a=Ext.fly(t.el.getScopeParent()),s=a.getViewSize().height,l=i-a.getScroll().top;a=null,t.floating&&(e=t.maxHeight?t.maxHeight:s-l,r>s?n=i-l:e<r?n=i-(r-e):i+r>o&&(n=o-r)),t.el.setY(n)}}),Ext.define("Ext.menu.ColorPicker",{extend:"Ext.menu.Menu",alias:"widget.colormenu",requires:["Ext.picker.Color"],hideOnClick:!0,pickerId:null,initComponent:function(){var e=this,t=Ext.apply({},e.initialConfig);delete t.listeners,Ext.apply(e,{plain:!0,showSeparator:!1,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-color-item",id:e.pickerId,xtype:"colorpicker"},t)}),e.callParent(arguments),e.picker=e.down("colorpicker"),e.relayEvents(e.picker,["select"]),e.hideOnClick&&e.on("select",e.hidePickerOnSelect,e)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}}),Ext.define("Ext.menu.DatePicker",{extend:"Ext.menu.Menu",alias:"widget.datemenu",requires:["Ext.picker.Date"],hideOnClick:!0,pickerId:null,initComponent:function(){var e=this,t=Ext.apply({},e.initialConfig);delete t.listeners,Ext.apply(e,{showSeparator:!1,plain:!0,border:!1,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-date-item",id:e.pickerId,xtype:"datepicker"},t)}),e.callParent(arguments),e.picker=e.down("datepicker"),e.relayEvents(e.picker,["select"]),e.hideOnClick&&e.on("select",e.hidePickerOnSelect,e)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}}),Ext.define("Ext.panel.Table",{extend:"Ext.panel.Panel",alias:"widget.tablepanel",uses:["Ext.selection.RowModel","Ext.selection.CellModel","Ext.selection.CheckboxModel","Ext.grid.PagingScroller","Ext.grid.header.Container","Ext.grid.Lockable"],extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",layout:"fit",hasView:!1,viewType:null,selType:"rowmodel",scroll:!0,deferRowRender:!0,sortableColumns:!0,enableLocking:!1,scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,enableColumnHide:!0,rowLines:!0,initComponent:function(){var e,t,i,n=this,r=n.scroll,o=!1,a=!1,s=n.columns||n.colModel,l=n.border;if(n.columnLines&&n.addCls(Ext.baseCSSPrefix+"grid-with-col-lines"),n.rowLines&&n.addCls(Ext.baseCSSPrefix+"grid-with-row-lines"),n.store=Ext.data.StoreManager.lookup(n.store||"ext-empty-store"),s instanceof Ext.grid.header.Container?(n.headerCt=s,n.headerCt.border=l,n.columns=n.headerCt.items.items):(Ext.isArray(s)&&(s={items:s,border:l}),Ext.apply(s,{forceFit:n.forceFit,sortable:n.sortableColumns,enableColumnMove:n.enableColumnMove,enableColumnResize:n.enableColumnResize,enableColumnHide:n.enableColumnHide,border:l,sealed:n.sealedColumns}),n.columns=s.items,(n.enableLocking||Ext.ComponentQuery.query("{locked !== undefined}{processed != true}",n.columns).length)&&(n.self.mixin("lockable",Ext.grid.Lockable),n.injectLockable())),n.scrollTask=new Ext.util.DelayedTask(n.syncHorizontalScroll,n),n.addEvents("reconfigure","viewready"),n.bodyCls=n.bodyCls||"",n.bodyCls+=" "+n.extraBodyCls,n.cls=n.cls||"",n.cls+=" "+n.extraBaseCls,delete n.autoScroll,!n.hasView){if(n.headerCt||(n.headerCt=new Ext.grid.header.Container(s)),n.columns=n.headerCt.items.items,n.store.buffered&&!n.store.remoteSort)for(t=0,i=n.columns.length;t<i;t++)n.columns[t].sortable=!1;n.hideHeaders&&(n.headerCt.height=0,n.headerCt.addCls(Ext.baseCSSPrefix+"grid-header-ct-hidden"),n.addCls(Ext.baseCSSPrefix+"grid-header-hidden"),Ext.isIEQuirks&&(n.headerCt.style={display:"none"})),r===!0||"both"===r?o=a=!0:"horizontal"===r?a=!0:"vertical"===r&&(o=!0),n.relayHeaderCtEvents(n.headerCt),n.features=n.features||[],Ext.isArray(n.features)||(n.features=[n.features]),n.dockedItems=[].concat(n.dockedItems||[]),n.dockedItems.unshift(n.headerCt),n.viewConfig=n.viewConfig||{},n.store&&n.store.buffered?n.viewConfig.preserveScrollOnRefresh=!0:void 0!==n.invalidateScrollerOnRefresh&&(n.viewConfig.preserveScrollOnRefresh=!n.invalidateScrollerOnRefresh),e=n.getView(),n.items=[e],n.hasView=!0,o&&n.store.buffered&&(n.verticalScroller=new Ext.grid.PagingScroller(Ext.apply({panel:n,store:n.store,view:n.view},n.verticalScroller))),a&&(n.hideHeaders||e.on({scroll:{fn:n.onHorizontalScroll,element:"el",scope:n}})),n.mon(e.store,{load:n.onStoreLoad,scope:n}),n.mon(e,{viewready:n.onViewReady,refresh:n.onRestoreHorzScroll,scope:n})}this.relayEvents(n.view,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","selectionchange","beforeselect","select","beforedeselect","deselect"]),n.callParent(arguments),n.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange"]),n.headerCt&&n.headerCt.on("afterlayout",n.onRestoreHorzScroll,n)},relayHeaderCtEvents:function(e){this.relayEvents(e,["columnresize","columnmove","columnhide","columnshow","sortchange"])},getState:function(){var e=this,t=e.callParent(),i=e.store.sorters.first();return t=e.addPropertyToState(t,"columns",(e.headerCt||e).getColumnsState()),i&&(t=e.addPropertyToState(t,"sort",{property:i.property,direction:i.direction,root:i.root})),t},applyState:function(e){var t=this,i=e.sort,n=t.store,r=e.columns;delete e.columns,t.callParent(arguments),r&&(t.headerCt||t).applyColumnsState(r),i&&(n.remoteSort?n.sort({property:i.property,direction:i.direction,root:i.root},null,!1):n.sort(i.property,i.direction))},getStore:function(){return this.store},getView:function(){var e,t=this;return t.view||(e=t.getSelectionModel(),t.view=Ext.widget(Ext.apply({},t.viewConfig,{grid:t,deferInitialRefresh:t.deferRowRender!==!1,scroll:t.scroll,xtype:t.viewType,store:t.store,headerCt:t.headerCt,selModel:e,features:t.features,panel:t,emptyText:t.emptyText?'<div class="'+Ext.baseCSSPrefix+'grid-empty">'+t.emptyText+"</div>":""})),t.view.getComponentLayout().headerCt=t.headerCt,t.mon(t.view,{uievent:t.processEvent,scope:t}),e.view=t.view,t.headerCt.view=t.view,t.relayEvents(t.view,["cellclick","celldblclick"])),t.view},setAutoScroll:Ext.emptyFn,processEvent:function(e,t,i,n,r,o){var a,s=this;if(r!==-1)return a=s.headerCt.getGridColumns()[r],a.processEvent.apply(a,arguments)},determineScrollbars:function(){},invalidateScroller:function(){},scrollByDeltaY:function(e,t){this.getView().scrollBy(0,e,t)},scrollByDeltaX:function(e,t){this.getView().scrollBy(e,0,t)},afterCollapse:function(){var e=this;e.saveScrollPos(),e.saveScrollPos(),e.callParent(arguments)},afterExpand:function(){var e=this;e.callParent(arguments),e.restoreScrollPos(),e.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){this.delayScroll()},onHeaderMove:function(e,t,i,n,r){var o=this;o.optimizedColumnMove===!1?o.view.refresh():o.view.moveColumn(n,r,i),
o.delayScroll()},onHeaderHide:function(e,t){this.delayScroll()},onHeaderShow:function(e,t){this.delayScroll()},delayScroll:function(){var e=this.getScrollTarget().el;e&&this.scrollTask.delay(10,null,null,[e.dom.scrollLeft])},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var e=this.scrollLeftPos;e&&this.syncHorizontalScroll(e,!0)},getScrollerOwner:function(){var e=this;return this.scrollerOwner||(e=this.up("[scrollerOwner]")),e},getLhsMarker:function(){var e=this;return e.lhsMarker||(e.lhsMarker=Ext.DomHelper.append(e.el,{cls:Ext.baseCSSPrefix+"grid-resize-marker"},!0))},getRhsMarker:function(){var e=this;return e.rhsMarker||(e.rhsMarker=Ext.DomHelper.append(e.el,{cls:Ext.baseCSSPrefix+"grid-resize-marker"},!0))},getSelectionModel:function(){this.selModel||(this.selModel={});var e,t="SINGLE";return this.simpleSelect?t="SIMPLE":this.multiSelect&&(t="MULTI"),Ext.applyIf(this.selModel,{allowDeselect:this.allowDeselect,mode:t}),this.selModel.events||(e=this.selModel.selType||this.selType,this.selModel=Ext.create("selection."+e,this.selModel)),this.selModel.hasRelaySetup||(this.relayEvents(this.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect"]),this.selModel.hasRelaySetup=!0),this.disableSelection&&(this.selModel.locked=!0),this.selModel},getScrollTarget:function(){var e=this.getScrollerOwner(),t=e.query("tableview");return t[1]||t[0]},onHorizontalScroll:function(e,t){this.syncHorizontalScroll(t.scrollLeft)},syncHorizontalScroll:function(e,t){var i,n=this;t=t===!0,n.rendered&&(t||e!==n.scrollLeftPos)&&(t&&(i=n.getScrollTarget(),i.el.dom.scrollLeft=e),n.headerCt.el.dom.scrollLeft=e,n.scrollLeftPos=e)},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(e){var t=this;t.store=e,t.getView().bindStore(e)},beforeDestroy:function(){Ext.destroy(this.verticalScroller),this.callParent()},reconfigure:function(e,t){var i=this,n=i.headerCt;i.lockable?i.reconfigureLockable(e,t):(Ext.suspendLayouts(),t&&(delete i.scrollLeftPos,n.removeAll(),n.add(t)),e?(e=Ext.StoreManager.lookup(e),i.bindStore(e)):i.getView().refresh(),n.setSortState(),Ext.resumeLayouts(!0)),i.fireEvent("reconfigure",i,e,t)}}),Ext.define("Ext.tab.Panel",{extend:"Ext.panel.Panel",alias:"widget.tabpanel",alternateClassName:["Ext.TabPanel"],requires:["Ext.layout.container.Card","Ext.tab.Bar"],tabPosition:"top",removePanelHeader:!0,plain:!1,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:void 0,maxTabWidth:void 0,deferredRender:!0,initComponent:function(){var e=this,t=[].concat(e.dockedItems||[]),i=e.activeTab||(e.activeTab=0);e.layout=new Ext.layout.container.Card(Ext.apply({owner:e,deferredRender:e.deferredRender,itemCls:e.itemCls,activeItem:e.activeTab},e.layout)),e.tabBar=new Ext.tab.Bar(Ext.apply({dock:e.tabPosition,plain:e.plain,border:e.border,cardLayout:e.layout,tabPanel:e},e.tabBar)),t.push(e.tabBar),e.dockedItems=t,e.addEvents("beforetabchange","tabchange"),e.callParent(arguments),e.activeTab=e.getComponent(i),e.activeTab&&(e.activeTab.tab.activate(!0),e.tabBar.activeTab=e.activeTab.tab)},setActiveTab:function(e){var t,i=this;if(e=i.getComponent(e))return t=i.getActiveTab(),(t===e||i.fireEvent("beforetabchange",i,e,t)!==!1)&&(e.isComponent||(Ext.suspendLayouts(),e=i.add(e),Ext.resumeLayouts()),i.activeTab=e,Ext.suspendLayouts(),i.layout.setActiveItem(e),e=i.activeTab=i.layout.getActiveItem(),e&&e!==t?(i.tabBar.setActiveTab(e.tab),Ext.resumeLayouts(!0),t!==e&&i.fireEvent("tabchange",i,e,t)):Ext.resumeLayouts(!0),e)},getActiveTab:function(){var e=this,t=e.getComponent(e.activeTab);return t&&e.items.indexOf(t)!=-1?e.activeTab=t:e.activeTab=null,e.activeTab},getTabBar:function(){return this.tabBar},onAdd:function(e,t){var i=this,n=e.tabConfig||{},r={xtype:"tab",card:e,disabled:e.disabled,closable:e.closable,hidden:e.hidden&&!e.hiddenByLayout,tooltip:e.tooltip,tabBar:i.tabBar,closeText:e.closeText};n=Ext.applyIf(n,r),e.tab=i.tabBar.insert(t,n),e.on({scope:i,enable:i.onItemEnable,disable:i.onItemDisable,beforeshow:i.onItemBeforeShow,iconchange:i.onItemIconChange,iconclschange:i.onItemIconClsChange,titlechange:i.onItemTitleChange}),e.isPanel&&(i.removePanelHeader&&(e.rendered?e.header&&e.header.hide():e.header=!1),e.isPanel&&i.border&&e.setBorder(!1))},onItemEnable:function(e){e.tab.enable()},onItemDisable:function(e){e.tab.disable()},onItemBeforeShow:function(e){if(e!==this.activeTab)return this.setActiveTab(e),!1},onItemIconChange:function(e,t){e.tab.setIcon(t)},onItemIconClsChange:function(e,t){e.tab.setIconCls(t)},onItemTitleChange:function(e,t){e.tab.setText(t)},doRemove:function(e,t){var i,n=this;n.destroying||1==n.items.getCount()?n.activeTab=null:(i=n.tabBar.items.indexOf(n.tabBar.findNextActivatable(e.tab)))!==-1&&n.setActiveTab(i),this.callParent(arguments),delete e.tab.card,delete e.tab},onRemove:function(e,t){var i=this;e.un({scope:i,enable:i.onItemEnable,disable:i.onItemDisable,beforeshow:i.onItemBeforeShow}),i.destroying||e.tab.ownerCt!==i.tabBar||i.tabBar.remove(e.tab)}}),Ext.define("Ext.tip.Tip",{extend:"Ext.panel.Panel",alternateClassName:"Ext.Tip",minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:!0,shim:!0,constrain:!0},focusOnToFront:!1,closeAction:"hide",ariaRole:"tooltip",alwaysFramed:!0,frameHeader:!1,initComponent:function(){var e=this;e.floating=Ext.apply({},{shadow:e.shadow},e.self.prototype.floating),e.callParent(arguments),e.constrain=e.constrain||e.constrainPosition},showAt:function(e){var t=this;this.callParent(arguments),t.isVisible()&&(t.setPagePosition(e[0],e[1]),(t.constrainPosition||t.constrain)&&t.doConstrain(),t.toFront(!0))},showBy:function(e,t){this.showAt(this.el.getAlignToXY(e,t||this.defaultAlign))},initDraggable:function(){var e=this;e.draggable={el:e.getDragEl(),delegate:e.header.el,constrain:e,constrainTo:e.el.getScopeParent()},Ext.Component.prototype.initDraggable.call(e)},ghost:void 0,unghost:void 0}),Ext.define("Ext.slider.Tip",{extend:"Ext.tip.Tip",minWidth:10,alias:"widget.slidertip",offsets:null,align:null,position:"",defaultVerticalPosition:"left",defaultHorizontalPosition:"top",isSliderTip:!0,init:function(e){var t,i,n=this;switch(n.position||(n.position=e.vertical?n.defaultVerticalPosition:n.defaultHorizontalPosition),n.position){case"top":i=[0,-10],t="b-t?";break;case"bottom":i=[0,10],t="t-b?";break;case"left":i=[-10,0],t="r-l?";break;case"right":i=[10,0],t="l-r?"}n.align||(n.align=t),n.offsets||(n.offsets=i),e.on({scope:n,dragstart:n.onSlide,drag:n.onSlide,dragend:n.hide,destroy:n.destroy})},onSlide:function(e,t,i){var n=this;n.show(),n.update(n.getText(i)),n.el.alignTo(i.el,n.align,n.offsets)},getText:function(e){return String(e.value)}}),Ext.define("Ext.slider.Multi",{extend:"Ext.form.field.Base",alias:"widget.multislider",alternateClassName:"Ext.slider.MultiSlider",requires:["Ext.slider.Thumb","Ext.slider.Tip","Ext.Number","Ext.util.Format","Ext.Template","Ext.layout.component.field.Slider"],childEls:["endEl","innerEl"],fieldSubTpl:['<div id="{id}" class="'+Ext.baseCSSPrefix+'slider {fieldCls} {vertical}" aria-valuemin="{minValue}" aria-valuemax="{maxValue}" aria-valuenow="{value}" aria-valuetext="{value}">','<div id="{cmpId}-endEl" class="'+Ext.baseCSSPrefix+'slider-end" role="presentation">','<div id="{cmpId}-innerEl" class="'+Ext.baseCSSPrefix+'slider-inner" role="presentation">',"{%this.renderThumbs(out, values)%}","</div>","</div>","</div>",{renderThumbs:function(e,t){for(var i,n,r=t.$comp,o=0,a=r.thumbs,s=a.length;o<s;o++)i=a[o],n=i.getElConfig(),n.id=r.id+"-thumb-"+o,Ext.DomHelper.generateMarkup(n,e)},disableFormats:!0}],vertical:!1,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:!0,animate:!0,dragging:!1,constrainThumbs:!0,componentLayout:"sliderfield",useTips:!0,tipText:null,ariaRole:"slider",initValue:function(){var e=this,t=Ext.value,i=t(e.values,[t(e.value,t(e.minValue,0))]),n=0,r=i.length;for(e.originalValue=i;n<r;n++)e.addThumb(i[n])},initComponent:function(){var e,t,i,n,r,o=this;if(o.thumbs=[],o.keyIncrement=Math.max(o.increment,o.keyIncrement),o.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend"),o.increment&&(o.maxValue=Ext.Number.snapInRange(o.maxValue,o.increment,o.minValue),o.value=o.normalizeValue(o.value)),o.callParent(),o.useTips){for(e=Ext.isObject(o.useTips)?Ext.apply({},o.useTips):o.tipText?{getText:o.tipText}:{},r=o.plugins=o.plugins||[],n=r.length,i=0;i<n;i++)if(r[i].isSliderTip){t=!0;break}t||o.plugins.push(new Ext.slider.Tip(e))}},addThumb:function(e){var t=this,i=new Ext.slider.Thumb({ownerCt:t,ownerLayout:t.getComponentLayout(),value:e,slider:t,index:t.thumbs.length,constrain:t.constrainThumbs,disabled:!!t.readOnly});return t.thumbs.push(i),t.rendered&&i.render(),i},promoteThumb:function(e){var t,i,n=this.thumbs,r=n.length;for(i=0;i<r;i++)t=n[i],t==e?t.bringToFront():t.sendToBack()},getSubTplData:function(){var e=this;return Ext.apply(e.callParent(),{$comp:e,vertical:e.vertical?Ext.baseCSSPrefix+"slider-vert":Ext.baseCSSPrefix+"slider-horz",minValue:e.minValue,maxValue:e.maxValue,value:e.value})},onRender:function(){var e,t=this,i=t.thumbs,n=i.length,r=0;for(t.callParent(arguments),r=0;r<n;r++)e=i[r],e.el=t.el.getById(t.id+"-thumb-"+r),e.onRender()},initEvents:function(){var e=this;e.mon(e.el,{scope:e,mousedown:e.onMouseDown,keydown:e.onKeyDown})},getTrackpoint:function(e){var t,i,n,r=this,o=r.innerEl;return r.vertical?(i="top",n=o.getHeight()):(i="left",n=o.getWidth()),t=Ext.Number.constrain(o.translatePoints(e)[i],0,n),r.vertical?n-t:t},onMouseDown:function(e){var t,i=this,n=!1,r=0,o=i.thumbs,a=o.length;if(!i.disabled){for(;r<a;r++)n=n||e.target==o[r].el.dom;i.clickToChange&&!n&&(t=i.getTrackpoint(e.getXY()),void 0!==t&&i.onClickChange(t)),i.focus()}},onClickChange:function(e){var t,i,n=this;t=n.getNearest(e),t.disabled||(i=t.index,n.setValue(i,Ext.util.Format.round(n.reversePixelValue(e),n.decimalPrecision),void 0,!0))},getNearest:function(e){for(var t,i,n,r=this,o=r.reversePixelValue(e),a=r.maxValue-r.minValue+5,s=null,l=r.thumbs,d=0,u=l.length;d<u;d++)t=r.thumbs[d],i=t.value,n=Math.abs(i-o),Math.abs(n<=a)&&(s=t,a=n);return s},onKeyDown:function(e){var t,i,n=this;if(n.disabled||1!==n.thumbs.length)return void e.preventDefault();switch(t=e.getKey()){case e.UP:case e.RIGHT:e.stopEvent(),i=e.ctrlKey?n.maxValue:n.getValue(0)+n.keyIncrement,n.setValue(0,i,void 0,!0);break;case e.DOWN:case e.LEFT:e.stopEvent(),i=e.ctrlKey?n.minValue:n.getValue(0)-n.keyIncrement,n.setValue(0,i,void 0,!0);break;default:e.preventDefault()}},normalizeValue:function(e){var t=this,i=Ext.Number,n=i[t.zeroBasedSnapping?"snap":"snapInRange"];return e=n.call(i,e,t.increment,t.minValue,t.maxValue),e=Ext.util.Format.round(e,t.decimalPrecision),e=Ext.Number.constrain(e,t.minValue,t.maxValue)},setMinValue:function(e){var t,i=this,n=0,r=i.thumbs,o=r.length;for(i.minValue=e,i.rendered&&i.inputEl.dom.setAttribute("aria-valuemin",e);n<o;++n)t=r[n],t.value=t.value<e?e:t.value;i.syncThumbs()},setMaxValue:function(e){var t,i=this,n=0,r=i.thumbs,o=r.length;for(i.maxValue=e,i.rendered&&i.inputEl.dom.setAttribute("aria-valuemax",e);n<o;++n)t=r[n],t.value=t.value>e?e:t.value;i.syncThumbs()},setValue:function(e,t,i,n){var r=this,o=r.thumbs[e];t=r.normalizeValue(t),t!==o.value&&r.fireEvent("beforechange",r,t,o.value,o)!==!1&&(o.value=t,r.rendered&&(r.inputEl.set({"aria-valuenow":t,"aria-valuetext":t}),o.move(r.calculateThumbPosition(t),Ext.isDefined(i)?i!==!1:r.animate),r.fireEvent("change",r,t,o),r.checkDirty(),n&&r.fireEvent("changecomplete",r,t,o)))},calculateThumbPosition:function(e){return(e-this.minValue)/(this.maxValue-this.minValue)*100},getRatio:function(){var e=this.vertical?this.innerEl.getHeight():this.innerEl.getWidth(),t=this.maxValue-this.minValue;return 0===t?e:e/t},reversePixelValue:function(e){return this.minValue+e/this.getRatio()},reversePercentageValue:function(e){return this.minValue+(this.maxValue-this.minValue)*(e/100)},onDisable:function(){var e,t,i,n=this,r=0,o=n.thumbs,a=o.length;for(n.callParent();r<a;r++)e=o[r],t=e.el,e.disable(),Ext.isIE&&(i=t.getXY(),t.hide(),n.innerEl.addCls(n.disabledCls).dom.disabled=!0,n.thumbHolder||(n.thumbHolder=n.endEl.createChild({cls:Ext.baseCSSPrefix+"slider-thumb "+n.disabledCls})),n.thumbHolder.show().setXY(i))},onEnable:function(){var e,t,i=this,n=0,r=i.thumbs,o=r.length;for(this.callParent();n<o;n++)e=r[n],t=e.el,e.enable(),Ext.isIE&&(i.innerEl.removeCls(i.disabledCls).dom.disabled=!1,i.thumbHolder&&i.thumbHolder.hide(),t.show(),i.syncThumbs())},syncThumbs:function(){if(this.rendered)for(var e=this.thumbs,t=e.length,i=0;i<t;i++)e[i].move(this.calculateThumbPosition(e[i].value))},getValue:function(e){return Ext.isNumber(e)?this.thumbs[e].value:this.getValues()},getValues:function(){for(var e=[],t=0,i=this.thumbs,n=i.length;t<n;t++)e.push(i[t].value);return e},getSubmitValue:function(){var e=this;return e.disabled||!e.submitValue?null:e.getValue()},reset:function(){for(var e,t=this,i=[].concat(t.originalValue),n=0,r=i.length;n<r;n++)e=i[n],t.setValue(n,e);t.clearInvalid(),delete t.wasValid},setReadOnly:function(e){var t=this,i=t.thumbs,n=i.length,r=0;for(t.callParent(arguments),e=t.readOnly;r<n;++r)e?i[r].disable():i[r].enable()},beforeDestroy:function(){var e,t=this,i=t.thumbs,n=0,r=i.length;for(Ext.destroy(t.innerEl,t.endEl,t.focusEl);n<r;n++)e=i[n],Ext.destroy(e);t.callParent()}}),Ext.define("Ext.slider.Single",{extend:"Ext.slider.Multi",alias:["widget.slider","widget.sliderfield"],alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],getValue:function(){return this.callParent([0])},setValue:function(e,t){var i=arguments,n=i.length;return(1==n||n<=3&&"number"!=typeof i[1])&&(i=Ext.toArray(i),i.unshift(0)),this.callParent(i)},getNearest:function(){return this.thumbs[0]}}),Ext.define("Ext.tip.ToolTip",{extend:"Ext.tip.Tip",alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5e3,trackMouse:!1,anchorToTarget:!0,anchorOffset:0,targetCounter:0,quickShowInterval:250,initComponent:function(){var e=this;e.callParent(arguments),e.lastActive=new Date,e.setTarget(e.target),e.origAnchor=e.anchor},onRender:function(e,t){var i=this;i.callParent(arguments),i.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+i.getAnchorPosition(),i.anchorEl=i.el.createChild({cls:Ext.baseCSSPrefix+"tip-anchor "+i.anchorCls})},setTarget:function(e){var t,i=this,n=Ext.get(e);i.target&&(t=Ext.get(i.target),i.mun(t,"mouseover",i.onTargetOver,i),i.mun(t,"mouseout",i.onTargetOut,i),i.mun(t,"mousemove",i.onMouseMove,i)),i.target=n,n&&i.mon(n,{freezeEvent:!0,mouseover:i.onTargetOver,mouseout:i.onTargetOut,mousemove:i.onMouseMove,scope:i}),i.anchor&&(i.anchorTarget=i.target)},onMouseMove:function(e){var t,i=this,n=i.delegate?e.getTarget(i.delegate):i.triggerElement=!0;n?(i.targetXY=e.getXY(),n===i.triggerElement?!i.hidden&&i.trackMouse&&(t=i.getTargetXY(),i.constrainPosition&&(t=i.el.adjustForConstraints(t,i.el.getScopeParent())),i.setPagePosition(t)):(i.hide(),i.lastActive=new Date(0),i.onTargetOver(e))):!i.closable&&i.isVisible()&&i.autoHide!==!1&&i.hide()},getTargetXY:function(){var e,t,i,n,r,o,a,s,l,d,u,c,h=this;if(h.delegate&&(h.anchorTarget=h.triggerElement),h.anchor){if(h.targetCounter++,t=h.getOffsets(),i=h.anchorToTarget&&!h.trackMouse?h.el.getAlignToXY(h.anchorTarget,h.getAnchorAlign()):h.targetXY,n=Ext.Element.getViewWidth()-5,r=Ext.Element.getViewHeight()-5,o=document.documentElement,a=document.body,s=(o.scrollLeft||a.scrollLeft||0)+5,l=(o.scrollTop||a.scrollTop||0)+5,d=[i[0]+t[0],i[1]+t[1]],u=h.getSize(),c=h.constrainPosition,h.anchorEl.removeCls(h.anchorCls),h.targetCounter<2&&c){if(d[0]<s)return h.anchorToTarget&&(h.defaultAlign="l-r",h.mouseOffset&&(h.mouseOffset[0]*=-1)),h.anchor="left",h.getTargetXY();if(d[0]+u.width>n)return h.anchorToTarget&&(h.defaultAlign="r-l",h.mouseOffset&&(h.mouseOffset[0]*=-1)),h.anchor="right",h.getTargetXY();if(d[1]<l)return h.anchorToTarget&&(h.defaultAlign="t-b",h.mouseOffset&&(h.mouseOffset[1]*=-1)),h.anchor="top",h.getTargetXY();if(d[1]+u.height>r)return h.anchorToTarget&&(h.defaultAlign="b-t",h.mouseOffset&&(h.mouseOffset[1]*=-1)),h.anchor="bottom",h.getTargetXY()}return h.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+h.getAnchorPosition(),h.anchorEl.addCls(h.anchorCls),h.targetCounter=0,d}return e=h.getMouseOffset(),h.targetXY?[h.targetXY[0]+e[0],h.targetXY[1]+e[1]]:e},getMouseOffset:function(){var e=this,t=e.anchor?[0,0]:[15,18];return e.mouseOffset&&(t[0]+=e.mouseOffset[0],t[1]+=e.mouseOffset[1]),t},getAnchorPosition:function(){var e,t=this;switch(t.anchor?t.tipAnchor=t.anchor.charAt(0):(e=t.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/),t.tipAnchor=e[1].charAt(0)),t.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var e,t,i=this,n=i.getAnchorPosition().charAt(0);if(i.anchorToTarget&&!i.trackMouse)switch(n){case"t":t=[0,9];break;case"b":t=[0,-13];break;case"r":t=[-13,0];break;default:t=[9,0]}else switch(n){case"t":t=[-15-i.anchorOffset,30];break;case"b":t=[-19-i.anchorOffset,-13-i.el.dom.offsetHeight];break;case"r":t=[-15-i.el.dom.offsetWidth,-13-i.anchorOffset];break;default:t=[25,-13-i.anchorOffset]}return e=i.getMouseOffset(),t[0]+=e[0],t[1]+=e[1],t},onTargetOver:function(e){var t,i=this;i.disabled||e.within(i.target.dom,!0)||(t=e.getTarget(i.delegate),t&&(i.triggerElement=t,i.clearTimer("hide"),i.targetXY=e.getXY(),i.delayShow()))},delayShow:function(){var e=this;e.hidden&&!e.showTimer?Ext.Date.getElapsed(e.lastActive)<e.quickShowInterval?e.show():e.showTimer=Ext.defer(e.show,e.showDelay,e):e.hidden||e.autoHide===!1||e.show()},onShowVeto:function(){this.callParent(),this.clearTimer("show")},onTargetOut:function(e){var t=this;t.disabled||e.within(t.target.dom,!0)||(t.clearTimer("show"),t.autoHide!==!1&&t.delayHide())},delayHide:function(){var e=this;e.hidden||e.hideTimer||(e.hideTimer=Ext.defer(e.hide,e.hideDelay,e))},hide:function(){var e=this;e.clearTimer("dismiss"),e.lastActive=new Date,e.anchorEl&&e.anchorEl.hide(),e.callParent(arguments),delete e.triggerElement},show:function(){var e=this;this.callParent(),this.hidden===!1&&(e.setPagePosition(-1e4,-1e4),e.anchor&&(e.anchor=e.origAnchor),e.calledFromShowAt||e.showAt(e.getTargetXY()),e.anchor?(e.syncAnchor(),e.anchorEl.show()):e.anchorEl.hide())},showAt:function(e){var t=this;t.lastActive=new Date,t.clearTimers(),t.calledFromShowAt=!0,t.isVisible()||this.callParent(arguments),t.isVisible()&&(t.setPagePosition(e[0],e[1]),(t.constrainPosition||t.constrain)&&t.doConstrain(),t.toFront(!0),t.el.sync(!0),t.dismissDelay&&t.autoHide!==!1&&(t.dismissTimer=Ext.defer(t.hide,t.dismissDelay,t)),t.anchor?(t.syncAnchor(),t.anchorEl.isVisible()||t.anchorEl.show()):t.anchorEl.hide()),delete t.calledFromShowAt},syncAnchor:function(){var e,t,i,n=this;switch(n.tipAnchor.charAt(0)){case"t":e="b",t="tl",i=[20+n.anchorOffset,1];break;case"r":e="l",t="tr",i=[-1,12+n.anchorOffset];break;case"b":e="t",t="bl",i=[20+n.anchorOffset,-1];break;default:e="r",t="tl",i=[1,12+n.anchorOffset]}n.anchorEl.alignTo(n.el,e+"-"+t,i),n.anchorEl.setStyle("z-index",parseInt(n.el.getZIndex(),10)||1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(e,t){var i=this;i.callParent(arguments),i.anchor&&i.syncAnchor()},clearTimer:function(e){e+="Timer",clearTimeout(this[e]),delete this[e]},clearTimers:function(){var e=this;e.clearTimer("show"),e.clearTimer("dismiss"),e.clearTimer("hide")},onShow:function(){var e=this;e.callParent(),e.mon(Ext.getDoc(),"mousedown",e.onDocMouseDown,e)},onHide:function(){var e=this;e.callParent(),e.mun(Ext.getDoc(),"mousedown",e.onDocMouseDown,e)},onDocMouseDown:function(e){var t=this;t.closable||e.within(t.el.dom)||(t.disable(),Ext.defer(t.doEnable,100,t))},doEnable:function(){this.isDestroyed||this.enable()},onDisable:function(){this.callParent(),this.clearTimers(),this.hide()},beforeDestroy:function(){var e=this;e.clearTimers(),Ext.destroy(e.anchorEl),delete e.anchorEl,delete e.target,delete e.anchorTarget,delete e.triggerElement,e.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this),this.callParent()}}),Ext.define("Ext.chart.Tip",{requires:["Ext.tip.ToolTip","Ext.chart.TipSurface"],constructor:function(e){var t,i,n,r=this;e.tips&&(r.tipTimeout=null,r.tipConfig=Ext.apply({},e.tips,{renderer:Ext.emptyFn,constrainPosition:!0,autoHide:!0}),r.tooltip=new Ext.tip.ToolTip(r.tipConfig),r.chart.surface.on("mousemove",r.tooltip.onMouseMove,r.tooltip),r.chart.surface.on("mouseleave",function(){r.hideTip()}),r.tipConfig.surface&&(t=r.tipConfig.surface,i=t.sprites,n=new Ext.chart.TipSurface({id:"tipSurfaceComponent",sprites:i}),t.width&&t.height&&n.setSize(t.width,t.height),r.tooltip.add(n),r.spriteTip=n))},showTip:function(e){var t,i,n,r,o,a,s,l,d,u,c=this;c.tooltip&&(clearTimeout(c.tipTimeout),t=c.tooltip,i=c.spriteTip,n=c.tipConfig,r=t.trackMouse,r||(t.trackMouse=!0,o=e.sprite,a=o.surface,s=Ext.get(a.getId()),s&&(l=s.getXY(),d=l[0]+(o.attr.x||0)+(o.attr.translation&&o.attr.translation.x||0),u=l[1]+(o.attr.y||0)+(o.attr.translation&&o.attr.translation.y||0),t.targetXY=[d,u])),i?n.renderer.call(t,e.storeItem,e,i.surface):n.renderer.call(t,e.storeItem,e),t.show(),t.trackMouse=r)},hideTip:function(e){var t=this.tooltip;t&&(clearTimeout(this.tipTimeout),this.tipTimeout=setTimeout(function(){t.hide()},0))}}),Ext.define("Ext.chart.series.Series",{mixins:{observable:"Ext.util.Observable",labels:"Ext.chart.Label",highlights:"Ext.chart.Highlight",tips:"Ext.chart.Tip",callouts:"Ext.chart.Callout"},type:null,title:null,showInLegend:!0,renderer:function(e,t,i,n,r){return i},shadowAttributes:null,animating:!1,constructor:function(e){var t=this;e&&Ext.apply(t,e),t.shadowGroups=[],t.mixins.labels.constructor.call(t,e),t.mixins.highlights.constructor.call(t,e),t.mixins.tips.constructor.call(t,e),t.mixins.callouts.constructor.call(t,e),t.addEvents({scope:t,itemmouseover:!0,itemmouseout:!0,itemmousedown:!0,itemmouseup:!0,mouseleave:!0,afterdraw:!0,titlechange:!0}),t.mixins.observable.constructor.call(t,e),t.on({scope:t,itemmouseover:t.onItemMouseOver,itemmouseout:t.onItemMouseOut,mouseleave:t.onMouseLeave}),t.style&&Ext.apply(t.seriesStyle,t.style)},eachRecord:function(e,t){var i=this.chart;(i.substore||i.store).each(e,t)},getRecordCount:function(){var e=this.chart,t=e.substore||e.store;return t?t.getCount():0},isExcluded:function(e){var t=this.__excludes;return!(!t||!t[e])},setBBox:function(e){var t,i,n=this,r=n.chart,o=r.chartBBox,a=e?0:r.maxGutter[0],s=e?0:r.maxGutter[1];t={x:o.x,y:o.y,width:o.width,height:o.height},n.clipBox=t,i={x:t.x+a-r.zoom.x*r.zoom.width,y:t.y+s-r.zoom.y*r.zoom.height,width:(t.width-2*a)*r.zoom.width,height:(t.height-2*s)*r.zoom.height},n.bbox=i},onAnimate:function(e,t){var i=this;return e.stopAnimation(),i.animating?e.animate(Ext.applyIf(t,i.chart.animate)):(i.animating=!0,e.animate(Ext.apply(Ext.applyIf(t,i.chart.animate),{listeners:{afteranimate:function(){i.animating=!1,i.fireEvent("afterrender")}}})))},getGutters:function(){return[0,0]},onItemMouseOver:function(e){var t=this;e.series===t&&(t.highlight&&t.highlightItem(e),t.tooltip&&t.showTip(e))},onItemMouseOut:function(e){var t=this;e.series===t&&(t.unHighlightItem(),t.tooltip&&t.hideTip(e))},onMouseLeave:function(){var e=this;e.unHighlightItem(),e.tooltip&&e.hideTip()},getItemForPoint:function(e,t){if(!this.items||!this.items.length||this.seriesIsHidden)return null;var i,n,r=this,o=r.items,a=r.bbox;if(!Ext.draw.Draw.withinBox(e,t,a))return null;for(i=0,n=o.length;i<n;i++)if(o[i]&&this.isItemInPoint(e,t,o[i],i))return o[i];return null},isItemInPoint:function(e,t,i,n){return!1},hideAll:function(){var e,t,i,n,r,o,a,s=this,l=s.items;for(s.seriesIsHidden=!0,s._prevShowMarkers=s.showMarkers,s.showMarkers=!1,s.hideLabels(0),i=0,t=l.length;i<t;i++)if(e=l[i],o=e.sprite,o&&o.setAttributes({hidden:!0},!0),o&&o.shadows)for(a=o.shadows,n=0,r=a.length;n<r;++n)a[n].setAttributes({hidden:!0},!0)},showAll:function(){var e=this,t=e.chart.animate;e.chart.animate=!1,e.seriesIsHidden=!1,e.showMarkers=e._prevShowMarkers,e.drawSeries(),e.chart.animate=t},hide:function(){if(this.items){var e,t,i,n,r,o=this,a=o.items;if(a&&a.length){for(e=0,n=a.length;e<n;++e)if(a[e].sprite&&(a[e].sprite.hide(!0),r=a[e].shadows||a[e].sprite.shadows))for(t=0,i=r.length;t<i;++t)r[t].hide(!0);o.hideLabels()}}},getLegendColor:function(e){var t,i,n=this;if(n.seriesStyle){if(t=n.seriesStyle.fill,i=n.seriesStyle.stroke,t&&"none"!=t)return t;if(i)return i}return n.colorArrayStyle?n.colorArrayStyle[n.seriesIdx%n.colorArrayStyle.length]:"#000"},visibleInLegend:function(e){var t=this.__excludes;return t?!t[e]:!this.seriesIsHidden},setTitle:function(e,t){var i=this,n=i.title;Ext.isString(e)&&(t=e,e=0),Ext.isArray(n)?n[e]=t:i.title=t,i.fireEvent("titlechange",t,e)}}),Ext.define("Ext.chart.series.Cartesian",{extend:"Ext.chart.series.Series",alternateClassName:["Ext.chart.CartesianSeries","Ext.chart.CartesianChart"],xField:null,yField:null,axis:"left",getLegendLabels:function(){var e,t,i,n,r,o,a,s=this,l=[],d=s.combinations;for(e=[].concat(s.yField),t=0,i=e.length;t<i;t++)n=s.title,l.push((Ext.isArray(n)?n[t]:n)||e[t]);if(d)for(d=Ext.Array.from(d),t=0,i=d.length;t<i;t++)r=d[t],o=l[r[0]],a=l[r[1]],l[r[1]]=o+" & "+a,l.splice(r[0],1);return l},eachYValue:function(e,t,i){var n,r,o,a=this,s=a.getYValueAccessors();for(n=0,r=s.length;n<r;n++)o=s[n],t.call(i,o(e),n)},getYValueCount:function(){return this.getYValueAccessors().length},combine:function(e,t){var i=this,n=i.getYValueAccessors(),r=n[e],o=n[t];n[t]=function(e){return r(e)+o(e)},n.splice(e,1),i.callParent([e,t])},clearCombinations:function(){delete this.yValueAccessors,this.callParent()},getYValueAccessors:function(){var e,t,i,n,r=this,o=r.yValueAccessors;if(!o)for(o=r.yValueAccessors=[],e=[].concat(r.yField),i=0,n=e.length;i<n;i++)t=e[i],o.push(function(e){return e.get(t)});return o},getMinMaxXValues:function(){var e,t,i,n,r,o,a=this,s=a.chart,l=s.getChartStore(),d=l.data.items,u=a.xField;if(a.getRecordCount()>0)for(n=1/0,r=-n,e=0,t=d.length;e<t;e++)i=d[e],o=i.get(u),o>r&&(r=o),o<n&&(n=o);else n=r=0;return[n,r]},getMinMaxYValues:function(){function e(e,t){d.isExcluded(t)||(e<0?l+=e:s+=e)}function t(e,t){d.isExcluded(t)||(e>a&&(a=e),e<o&&(o=e))}var i,n,r,o,a,s,l,d=this,u=d.chart,c=u.getChartStore(),h=c.data.items,g=d.stacked;if(d.getRecordCount()>0)for(o=1/0,a=-o,i=0,n=h.length;i<n;i++)r=h[i],g?(s=0,l=0,d.eachYValue(r,e),s>a&&(a=s),l<o&&(o=l)):d.eachYValue(r,t);else o=a=0;return[o,a]},getAxesForXAndYFields:function(){var e,t,i,n,r,o,a=this,s=a.chart.axes,l=[].concat(a.axis),d={},u=[].concat(a.yField),c={},h=[].concat(a.xField);if(o="bar"===a.type&&a.column===!1,o&&(e=u,u=h,h=e),Ext.Array.indexOf(l,"top")>-1)t="top";else if(Ext.Array.indexOf(l,"bottom")>-1)t="bottom";else if(s.get("top")&&s.get("bottom")){for(n=0,r=h.length;n<r;n++)c[h[n]]=!0;for(e=[].concat(s.get("bottom").fields),n=0,r=e.length;n<r;n++)if(c[e[n]]){t="bottom";break}for(e=[].concat(s.get("top").fields),n=0,r=e.length;n<r;n++)if(c[e[n]]){t="top";break}}else s.get("top")?t="top":s.get("bottom")&&(t="bottom");if(Ext.Array.indexOf(l,"left")>-1)i="left";else if(Ext.Array.indexOf(l,"right")>-1)i="right";else if(s.get("left")&&s.get("right")){for(n=0,r=u.length;n<r;n++)d[u[n]]=!0;for(e=[].concat(s.get("right").fields),n=0,r=e.length;n<r&&!d[e[n]];n++);for(e=[].concat(s.get("left").fields),n=0,r=e.length;n<r;n++)if(d[e[n]]){i="left";break}}else s.get("left")?i="left":s.get("right")&&(i="right");return o?{xAxis:i,yAxis:t}:{xAxis:t,yAxis:i}}}),Ext.define("Ext.chart.series.Area",{extend:"Ext.chart.series.Cartesian",alias:"series.area",requires:["Ext.chart.axis.Axis","Ext.draw.Color","Ext.fx.Anim"],type:"area",stacked:!0,style:{},constructor:function(e){this.callParent(arguments);var t=this,i=t.chart.surface;e.highlightCfg=Ext.Object.merge({},{lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},e.highlightCfg),Ext.apply(t,e,{__excludes:[]}),t.highlight&&(t.highlightSprite=i.add({type:"path",path:["M",0,0],zIndex:1e3,opacity:.3,lineWidth:5,hidden:!0,stroke:"#444"})),t.group=i.getGroup(t.seriesId)},shrink:function(e,t,i){var n,r,o=e.length,a=Math.floor(o/i),s=0,l=this.areas.length,d=[],u=[],c=[];for(r=0;r<l;++r)d[r]=0;for(n=0;n<o;++n){for(s+=+e[n],r=0;r<l;++r)d[r]+=+t[n][r];if(n%a==0){for(u.push(s/a),r=0;r<l;++r)d[r]/=a;for(c.push(d),s=0,r=0,d=[];r<l;++r)d[r]=0}}return{x:u,y:c}},getBounds:function(){var e,t,i,n,r,o,a,s,l,d,u,c,h,g,p,f,m=this,x=m.chart,y=x.getChartStore(),v=y.data.items,E=[].concat(m.yField),b=E.length,w=[],C=[],S=1/0,_=S,k=S,P=-S,T=-S,I=Math,D=(I.min,I.max,m.getAxesForXAndYFields()),A=D.xAxis,M=D.yAxis;for(m.setBBox(),o=m.bbox,(f=x.axes.get(A))&&("Time"===f.type&&(r=!0),n=f.applyData(),_=n.from,P=n.to),(f=x.axes.get(M))&&(n=f.applyData(),k=n.from,T=n.to),m.xField&&!Ext.isNumber(_)&&(f=m.getMinMaxXValues(),r=!0,_=f[0],P=f[1]),m.yField&&!Ext.isNumber(k)&&(f=m.getMinMaxYValues(),k=f[0],T=f[1]),Ext.isNumber(k)||(k=0),Ext.isNumber(T)||(T=0),e=0,t=v.length;e<t;e++){for(i=v[e],l=i.get(m.xField),d=[],"number"!=typeof l&&(l=r?+l:e),w.push(l),c=0,u=0;u<b;u++)m.__excludes[u]||(p=i.get(E[u]),"number"==typeof p&&d.push(p));C.push(d)}return a=o.width/(P-_||1),s=o.height/(T-k||1),h=w.length,h>o.width&&m.areas&&(g=m.shrink(w,C,o.width),w=g.x,C=g.y),{bbox:o,minX:_,minY:k,xValues:w,yValues:C,xScale:a,yScale:s,areasLen:b}},getPaths:function(){var e,t,i,n,r,o,a,s,l,d,u,c,h=this,g=h.chart,p=(g.getChartStore(),!0),f=h.getBounds(),m=f.bbox,x=h.items=[],y=[],v=0,E=[];for(i=f.xValues.length,t=0;t<i;t++)for(o=f.xValues[t],a=f.yValues[t],n=m.x+(o-f.minX)*f.xScale,s=0,v=0,l=0;l<f.areasLen;l++)h.__excludes[l]||(y[l]||(y[l]=[]),u=a[v],s+=u,r=m.y+m.height-(s-f.minY)*f.yScale,E[l]?(E[l].push("L",n,r),y[l].push(["L",n,r])):(E[l]=["M",n,r],y[l].push(["L",n,r])),x[l]||(x[l]={pointsUp:[],pointsDown:[],series:h}),x[l].pointsUp.push([n,r]),v++);for(l=0;l<f.areasLen;l++)if(!h.__excludes[l]){if(c=E[l],0==l||p)p=!1,c.push("L",n,m.y+m.height,"L",m.x,m.y+m.height,"Z");else{for(e=y[d],e.reverse(),c.push("L",n,e[0][2]),t=0;t<i;t++)c.push(e[t][0],e[t][1],e[t][2]),x[l].pointsDown[i-t-1]=[e[t][1],e[t][2]];c.push("L",m.x,c[2],"Z")}d=l}return{paths:E,areasLen:f.areasLen}},drawSeries:function(){var e,t,i,n,r,o=this,a=o.chart,s=a.getChartStore(),l=a.surface,d=a.animate,u=o.group,c=Ext.apply(o.seriesStyle,o.style),h=o.colorArrayStyle,g=h&&h.length||0;if(o.unHighlightItem(),o.cleanHighlights(),!s||!s.getCount()||o.seriesIsHidden)return o.hide(),void(o.items=[]);for(i=o.getPaths(),o.areas||(o.areas=[]),e=0;e<i.areasLen;e++)o.__excludes[e]||(o.areas[e]||(o.items[e].sprite=o.areas[e]=l.add(Ext.apply({},{type:"path",group:u,path:i.paths[e],stroke:c.stroke||h[e%g],fill:h[e%g]},c||{}))),t=o.areas[e],n=i.paths[e],d?(r=o.renderer(t,!1,{path:n,fill:h[e%g],stroke:c.stroke||h[e%g]},e,s),o.animation=o.onAnimate(t,{to:r})):(r=o.renderer(t,!1,{path:n,hidden:!1,fill:h[e%g],stroke:c.stroke||h[e%g]},e,s),o.areas[e].setAttributes(r,!0)));o.renderLabels(),o.renderCallouts()},onAnimate:function(e,t){return e.show(),this.callParent(arguments)},onCreateLabel:function(e,t,i,n){var r=this,o=r.labelsGroup,a=r.label,s=r.bbox,l=Ext.apply(a,r.seriesLabelStyle);return r.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:o,x:t.point[0],y:s.y+s.height/2},l||{}))},onPlaceLabel:function(e,t,i,n,r,o,a){var s,l,d,u=this,c=u.chart,h=c.resizing,g=u.label,p=g.renderer,f=g.field,m=u.bbox,x=i.point[0],y=i.point[1];e.setAttributes({text:p(t.get(f[a])),hidden:!0},!0),s=e.getBBox(),l=s.width/2,d=s.height/2,x=x-l<m.x?m.x+l:x,x=x+l>m.x+m.width?x-(x+l-m.x-m.width):x,y=y-d<m.y?m.y+d:y,y=y+d>m.y+m.height?y-(y+d-m.y-m.height):y,u.chart.animate&&!u.chart.resizing?(e.show(!0),u.onAnimate(e,{to:{x:x,y:y
}})):(e.setAttributes({x:x,y:y},!0),h?u.animation.on("afteranimate",function(){e.show(!0)}):e.show(!0))},onPlaceCallout:function(e,t,i,n,r,o,a){var s,l,d,u,c,h,g,p,f,m,x,y,v,E=this,b=E.chart,w=(b.surface,b.resizing,E.callouts,E.items),C=0!=n&&w[n-1].point,S=n!=w.length-1&&w[n+1].point,_=i.point,k=e.label.getBBox(),P=30,T=3,I=E.clipRect;C||(C=_),S||(S=_),u=(S[1]-C[1])/(S[0]-C[0]),c=(_[1]-C[1])/(_[0]-C[0]),h=(S[1]-_[1])/(S[0]-_[0]),l=Math.sqrt(1+u*u),s=[1/l,u/l],d=[-s[1],s[0]],c>0&&h<0&&d[1]<0||c<0&&h>0&&d[1]>0?(d[0]*=-1,d[1]*=-1):(Math.abs(c)<Math.abs(h)&&d[0]<0||Math.abs(c)>Math.abs(h)&&d[0]>0)&&(d[0]*=-1,d[1]*=-1),y=_[0]+d[0]*P,v=_[1]+d[1]*P,g=y+(d[0]>0?0:-(k.width+2*T)),p=v-k.height/2-T,f=k.width+2*T,m=k.height+2*T,(g<I[0]||g+f>I[0]+I[2])&&(d[0]*=-1),(p<I[1]||p+m>I[1]+I[3])&&(d[1]*=-1),y=_[0]+d[0]*P,v=_[1]+d[1]*P,g=y+(d[0]>0?0:-(k.width+2*T)),p=v-k.height/2-T,f=k.width+2*T,m=k.height+2*T,e.lines.setAttributes({path:["M",_[0],_[1],"L",y,v,"Z"]},!0),e.box.setAttributes({x:g,y:p,width:f,height:m},!0),e.label.setAttributes({x:y+(d[0]>0?T:-(k.width+T)),y:v},!0);for(x in e)e[x].show(!0)},isItemInPoint:function(e,t,i,n){var r,o,a,s=this,l=i.pointsUp,d=i.pointsDown,u=Math.abs,c=!1,h=!1,g=1/0;for(r=0,o=l.length;r<o;r++)if(a=[l[r][0],l[r][1]],c=!1,h=r==o-1,g>u(e-a[0])&&(g=u(e-a[0]),c=!0,h&&++r),!c||c&&h){if(a=l[r-1],t>=a[1]&&(!d.length||t<=d[r-1][1]))return i.storeIndex=r-1,i.storeField=s.yField[n],i.storeItem=s.chart.store.getAt(r-1),i._points=d.length?[a,d[r-1]]:[a],!0;break}return!1},highlightSeries:function(){var e,t,i;void 0!==this._index&&(e=this.areas[this._index],e.__highlightAnim&&(e.__highlightAnim.paused=!0),e.__highlighted=!0,e.__prevOpacity=e.__prevOpacity||e.attr.opacity||1,e.__prevFill=e.__prevFill||e.attr.fill,e.__prevLineWidth=e.__prevLineWidth||e.attr.lineWidth,i=Ext.draw.Color.fromString(e.__prevFill),t={lineWidth:(e.__prevLineWidth||0)+2},i?t.fill=i.getLighter(.2).toString():t.opacity=Math.max(e.__prevOpacity-.3,0),this.chart.animate?e.__highlightAnim=new Ext.fx.Anim(Ext.apply({target:e,to:t},this.chart.animate)):e.setAttributes(t,!0))},unHighlightSeries:function(){var e;void 0!==this._index&&(e=this.areas[this._index],e.__highlightAnim&&(e.__highlightAnim.paused=!0),e.__highlighted&&(e.__highlighted=!1,e.__highlightAnim=new Ext.fx.Anim({target:e,to:{fill:e.__prevFill,opacity:e.__prevOpacity,lineWidth:e.__prevLineWidth}})))},highlightItem:function(e){var t,i,n=this;return e?(t=e._points,i=2==t.length?["M",t[0][0],t[0][1],"L",t[1][0],t[1][1]]:["M",t[0][0],t[0][1],"L",t[0][0],n.bbox.y+n.bbox.height],void n.highlightSprite.setAttributes({path:i,hidden:!1},!0)):void this.highlightSeries()},unHighlightItem:function(e){e||this.unHighlightSeries(),this.highlightSprite&&this.highlightSprite.hide(!0)},hideAll:function(e){var t=this;e=(isNaN(t._index)?e:t._index)||0,t.__excludes[e]=!0,t.areas[e].hide(!0),t.redraw()},showAll:function(e){var t=this;e=(isNaN(t._index)?e:t._index)||0,t.__excludes[e]=!1,t.areas[e].show(!0),t.redraw()},redraw:function(){var e,t=this;e=t.chart.legend.rebuild,t.chart.legend.rebuild=!1,t.chart.redraw(),t.chart.legend.rebuild=e},hide:function(){if(this.areas){var e,t,i=this,n=i.areas;if(n&&n.length){for(e=0,t=n.length;e<t;++e)n[e]&&n[e].hide(!0);i.hideLabels()}}},getLegendColor:function(e){var t=this;return t.colorArrayStyle[e%t.colorArrayStyle.length]}}),Ext.define("Ext.chart.series.Bar",{extend:"Ext.chart.series.Cartesian",alternateClassName:["Ext.chart.BarSeries","Ext.chart.BarChart","Ext.chart.StackedBarChart"],requires:["Ext.chart.axis.Axis","Ext.fx.Anim"],type:"bar",alias:"series.bar",column:!1,style:{},gutter:38.2,groupGutter:38.2,xPadding:0,yPadding:10,constructor:function(e){this.callParent(arguments);var t,i,n=this,r=n.chart.surface,o=n.chart.shadow;if(e.highlightCfg=Ext.Object.merge({lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},e.highlightCfg),Ext.apply(n,e,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:1.2}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:.9}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:.6}}]}),n.group=r.getGroup(n.seriesId+"-bars"),o)for(t=0,i=n.shadowAttributes.length;t<i;t++)n.shadowGroups.push(r.getGroup(n.seriesId+"-shadows"+t))},getBarGirth:function(){var e=this,t=e.chart.getChartStore(),i=e.column,n=t.getCount(),r=e.gutter/100;return(e.chart.chartBBox[i?"width":"height"]-2*e[i?"xPadding":"yPadding"])/(n*(r+1)-r)},getGutters:function(){var e=this,t=e.column,i=Math.ceil(e[t?"xPadding":"yPadding"]+e.getBarGirth()/2);return e.column?[i,0]:[0,i]},getBounds:function(){var e,t,i,n,r,o,a,s,l,d,u,c,h,g,p,f,m,x,y=this,v=y.chart,E=v.getChartStore(),b=E.data.items,w=[].concat(y.yField),C=w.length,S=C,_=y.groupGutter/100,k=y.column,P=y.xPadding,T=y.yPadding,I=y.stacked,D=y.getBarGirth(),A=k?"width":"height",M=Math,R=M.min,F=M.max,L=M.abs,B=y.getAxesForXAndYFields(),O=B.yAxis;if(y.setBBox(!0),a=y.bbox,y.__excludes)for(f=0,g=y.__excludes.length;f<g;f++)y.__excludes[f]&&S--;if(d=v.axes.get(O),d&&(n=d.applyData(),s=n.from,l=n.to),y.yField&&!Ext.isNumber(s)&&(u=y.getMinMaxYValues(),s=u[0],l=u[1]),Ext.isNumber(s)||(s=0),Ext.isNumber(l)||(l=0),c=(k?a.height-2*T:a.width-2*P)/(l-s),r=D,o=D/((I?1:S)*(_+1)-_),A in y.style&&(o=R(o,y.style[A]),r=o*((I?1:S)*(_+1)-_)),h=k?a.y+a.height-T:a.x+P,I){for(g=[[],[]],e=0,t=b.length;e<t;e++)for(i=b[e],g[0][e]=g[0][e]||0,g[1][e]=g[1][e]||0,f=0;f<C;f++)y.__excludes&&y.__excludes[f]||(p=i.get(w[f]),g[+(p>0)][e]+=L(p));g[+(l>0)].push(L(l)),g[+(s>0)].push(L(s)),x=F.apply(M,g[0]),m=F.apply(M,g[1]),c=(k?a.height-2*T:a.width-2*P)/(m+x),h+=x*c*(k?-1:1)}else s/l<0&&(h-=s*c*(k?-1:1));return{bars:w,bbox:a,shrunkBarWidth:r,barsLen:C,groupBarsLen:S,barWidth:D,groupBarWidth:o,scale:c,zero:h,xPadding:P,yPadding:T,signed:s/l<0,minY:s,maxY:l}},getPaths:function(){var e,t,i,n,r,o,a,s,l,d,u,c,h,g,p,f,m,x,y,v=this,E=v.chart,b=E.getChartStore(),w=b.data.items,C=v.bounds=v.getBounds(),S=v.items=[],_=v.yField,k=v.gutter/100,P=v.groupGutter/100,T=E.animate,I=v.column,D=v.group,A=E.shadow,M=v.shadowGroups,R=(v.shadowAttributes,M.length),F=C.bbox,L=C.barWidth,B=C.shrunkBarWidth,O=v.xPadding,N=v.yPadding,H=v.stacked,j=C.barsLen,V=v.colorArrayStyle,W=V&&V.length||0,z=Math,G=z.max,U=(z.min,z.abs);for(e=0,t=w.length;e<t;e++){for(i=w[e],l=C.zero,d=C.zero,a=0,s=0,u=!1,n=0,g=0;n<j;n++)if(!v.__excludes||!v.__excludes[n]){if(r=i.get(C.bars[n]),o=Math.round((r-G(C.minY,0))*C.scale),c={fill:V[(j>1?n:0)%W]},I?Ext.apply(c,{height:o,width:G(C.groupBarWidth,0),x:F.x+O+.5*(L-B)+e*L*(1+k)+g*C.groupBarWidth*(1+P)*!H,y:l-o}):(x=t-1-e,Ext.apply(c,{height:G(C.groupBarWidth,0),width:o+(l==C.zero),x:l+(l!=C.zero),y:F.y+N+.5*(L-B)+x*L*(1+k)+g*C.groupBarWidth*(1+P)*!H+1})),o<0&&(I?(c.y=d,c.height=U(o)):(c.x=d+o,c.width=U(o))),H&&(o<0?d+=o*(I?-1:1):l+=o*(I?-1:1),a+=U(o),o<0&&(s+=U(o))),c.x=Math.floor(c.x)+1,y=Math.floor(c.y),!Ext.isIE9&&c.y>y&&y--,c.y=y,c.width=Math.floor(c.width),c.height=Math.floor(c.height),S.push({series:v,yField:_[n],storeItem:i,value:[i.get(v.xField),r],attr:c,point:I?[c.x+c.width/2,r>=0?c.y:c.y+c.height]:[r>=0?c.x+c.width:c.x,c.y+c.height/2]}),T&&E.resizing){if(h=I?{x:c.x,y:C.zero,width:c.width,height:0}:{x:C.zero,y:c.y,width:0,height:c.height},A&&(H&&!u||!H))for(u=!0,p=0;p<R;p++)f=M[p].getAt(H?e:e*j+n),f&&f.setAttributes(h,!0);m=D.getAt(e*j+n),m&&m.setAttributes(h,!0)}g++}H&&S.length&&(S[e*g].totalDim=a,S[e*g].totalNegDim=s)}if(H&&0==g)for(e=0,t=w.length;e<t;e++)for(p=0;p<R;p++)f=M[p].getAt(e),f&&f.hide(!0)},renderShadows:function(e,t,i,n){var r,o,a,s,l,d,u,c=this,h=c.chart,g=h.surface,p=h.animate,f=c.stacked,m=c.shadowGroups,x=c.shadowAttributes,y=m.length,v=h.getChartStore(),E=c.column,b=c.items,w=[],C=n.zero;if(f&&e%n.groupBarsLen===0||!f)for(d=e/n.groupBarsLen,r=0;r<y;r++)o=Ext.apply({},x[r]),a=m[r].getAt(f?d:e),Ext.copyTo(o,t,"x,y,width,height"),a||(a=g.add(Ext.apply({type:"rect",group:m[r]},Ext.apply({},i,o)))),f&&(s=b[e].totalDim,l=b[e].totalNegDim,E?(o.y=C+l-s-1,o.height=s):(o.x=C-l,o.width=s)),u=c.renderer(a,v.getAt(d),o,e,v),u.hidden=!!t.hidden,p?c.onAnimate(a,{to:u}):a.setAttributes(u,!0),w.push(a);return w},drawSeries:function(){var e,t,i,n,r,o,a,s,l,d,u,c,h,g,p=this,f=p.chart,m=f.getChartStore(),x=f.surface,y=f.animate,v=p.stacked,E=p.column,b=f.shadow,w=p.shadowGroups,C=w.length,S=p.group,_=p.seriesStyle;if(!m||!m.getCount()||p.seriesIsHidden)return p.hide(),void(p.items=[]);for(u=Ext.apply({},this.style,_),delete u.fill,delete u.x,delete u.y,delete u.width,delete u.height,p.unHighlightItem(),p.cleanHighlights(),p.getPaths(),d=p.bounds,e=p.items,r=E?{y:d.zero,height:0}:{x:d.zero,width:0},t=e.length,i=0;i<t;i++){if(o=S.getAt(i),c=e[i].attr,b&&(e[i].shadows=p.renderShadows(i,c,r,d)),o||(h=Ext.apply({},r,c),h=Ext.apply(h,u||{}),o=x.add(Ext.apply({},{type:"rect",group:S},h))),y){if(a=p.renderer(o,m.getAt(i),c,i,m),o._to=a,g=p.onAnimate(o,{to:Ext.apply(a,u)}),b&&v&&i%d.barsLen===0)for(n=i/d.barsLen,s=0;s<C;s++)g.on("afteranimate",function(){this.show(!0)},w[s].getAt(n))}else a=p.renderer(o,m.getAt(i),Ext.apply(c,{hidden:!1}),i,m),o.setAttributes(Ext.apply(a,u),!0);e[i].sprite=o}for(t=S.getCount(),n=i;n<t;n++)S.getAt(n).hide(!0);if(p.stacked&&(i=m.getCount()),b)for(s=0;s<C;s++)for(l=w[s],t=l.getCount(),n=i;n<t;n++)l.getAt(n).hide(!0);p.renderLabels()},onCreateLabel:function(e,t,i,n){var r=this,o=r.chart.surface,a=r.labelsGroup,s=r.label,l=Ext.apply({},s,r.seriesLabelStyle||{});return o.add(Ext.apply({type:"text",group:a},l||{}))},onPlaceLabel:function(e,t,i,n,r,o,a,s){var l,d,u,c=this,h=c.bounds,g=h.groupBarWidth,p=c.column,f=c.chart,m=f.chartBBox,x=f.resizing,y=(i.value[0],i.value[1]),v=i.attr,E=c.label,b="vertical"==E.orientation,w=[].concat(E.field),C=E.renderer,S=C(t.get(w[s])),_=c.getLabelSize(S),k=_.width,P=_.height,T=h.zero,I="outside",D="insideStart",A="insideEnd",M=10,R=6;h.signed;e.setAttributes({text:S}),e.isOutside=!1,p?(r==I?P+R+v.height>(y>=0?T-m.y:m.y+m.height-T)&&(r=A):P+R>v.height&&(r=I,e.isOutside=!0),l=v.x+g/2,d=r==D?T+(P/2+3)*(y>=0?-1:1):y>=0?v.y+(P/2+3)*(r==I?-1:1):v.y+v.height+(P/2+3)*(r===I?1:-1)):(r==I?k+M+v.width>(y>=0?m.x+m.width-T:T-m.x)&&(r=A):k+M>v.width&&(r=I,e.isOutside=!0),l=r==D?T+(k/2+5)*(y>=0?1:-1):y>=0?v.x+v.width+(k/2+5)*(r===I?1:-1):v.x+(k/2+5)*(r===I?-1:1),d=v.y+g/2),u={x:l,y:d},b&&(u.rotate={x:l,y:d,degrees:270}),o&&x&&(p?(l=v.x+v.width/2,d=T):(l=T,d=v.y+v.height/2),e.setAttributes({x:l,y:d},!0),b&&e.setAttributes({rotate:{x:l,y:d,degrees:270}},!0)),o?c.onAnimate(e,{to:u}):e.setAttributes(Ext.apply(u,{hidden:!1}),!0)},getLabelSize:function(e){var t,i,n,r=this.testerLabel,o=this.label,a=Ext.apply({},o,this.seriesLabelStyle||{}),s="vertical"===o.orientation;return r||(r=this.testerLabel=this.chart.surface.add(Ext.apply({type:"text",opacity:0},a))),r.setAttributes({text:e},!0),t=r.getBBox(),i=t.width,n=t.height,{width:s?n:i,height:s?i:n}},onAnimate:function(e,t){return e.show(),this.callParent(arguments)},isItemInPoint:function(e,t,i){var n=i.sprite.getBBox();return n.x<=e&&n.y<=t&&n.x+n.width>=e&&n.y+n.height>=t},hideAll:function(e){var t=this.chart.axes,i=t.items,n=i.length,r=0;for(e=(isNaN(this._index)?e:this._index)||0,this.__excludes||(this.__excludes=[]),this.__excludes[e]=!0,this.drawSeries(),r;r<n;r++)i[r].drawAxis()},showAll:function(e){var t=this.chart.axes,i=t.items,n=i.length,r=0;for(e=(isNaN(this._index)?e:this._index)||0,this.__excludes||(this.__excludes=[]),this.__excludes[e]=!1,this.drawSeries(),r;r<n;r++)i[r].drawAxis()},getLegendColor:function(e){var t=this,i=t.colorArrayStyle.length;return t.style&&t.style.fill?t.style.fill:t.colorArrayStyle[e%i]},highlightItem:function(e){this.callParent(arguments),this.renderLabels()},unHighlightItem:function(){this.callParent(arguments),this.renderLabels()},cleanHighlights:function(){this.callParent(arguments),this.renderLabels()}}),Ext.define("Ext.chart.series.Column",{alternateClassName:["Ext.chart.ColumnSeries","Ext.chart.ColumnChart","Ext.chart.StackedColumnChart"],extend:"Ext.chart.series.Bar",type:"column",alias:"series.column",column:!0,xPadding:10,yPadding:0}),Ext.define("Ext.chart.series.Gauge",{extend:"Ext.chart.series.Series",type:"gauge",alias:"series.gauge",rad:Math.PI/180,highlightDuration:150,angleField:!1,needle:!1,donut:!1,showInLegend:!1,style:{},constructor:function(e){this.callParent(arguments);var t,i,n=this,r=n.chart,o=r.surface,a=(r.store,r.shadow);if(Ext.apply(n,e,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]}),n.group=o.getGroup(n.seriesId),a)for(t=0,i=n.shadowAttributes.length;t<i;t++)n.shadowGroups.push(o.getGroup(n.seriesId+"-shadows"+t));o.customAttributes.segment=function(e){return n.getSegment(e)}},initialize:function(){var e,t,i,n=this,r=n.chart.getChartStore(),o=r.data.items;if(n.yField=[],n.label.field)for(e=0,t=o.length;e<t;e++)i=o[e],n.yField.push(i.get(n.label.field))},getSegment:function(e){var t=this,i=t.rad,n=Math.cos,r=Math.sin,o=Math.abs,a=t.centerX,s=t.centerY,l=0,d=0,u=0,c=0,h=0,g=0,p=0,f=0,m=.01,x=(e.endRho-e.startRho,e.startAngle),y=e.endAngle,v=(x+y)/2*i,E=e.margin||0,b=o(y-x)>180,w=Math.min(x,y)*i,C=Math.max(x,y)*i,S=!1;return a+=E*n(v),s+=E*r(v),l=a+e.startRho*n(w),h=s+e.startRho*r(w),d=a+e.endRho*n(w),g=s+e.endRho*r(w),u=a+e.startRho*n(C),p=s+e.startRho*r(C),c=a+e.endRho*n(C),f=s+e.endRho*r(C),o(l-u)<=m&&o(h-p)<=m&&(S=!0),S?{path:[["M",l,h],["L",d,g],["A",e.endRho,e.endRho,0,+b,1,c,f],["Z"]]}:{path:[["M",l,h],["L",d,g],["A",e.endRho,e.endRho,0,+b,1,c,f],["L",u,p],["A",e.startRho,e.startRho,0,+b,0,l,h],["Z"]]}},calcMiddle:function(e){var t=this,i=t.rad,n=e.slice,r=t.centerX,o=t.centerY,a=n.startAngle,s=n.endAngle,l=(Math.max("rho"in n?n.rho:t.radius,t.label.minMargin),+t.donut,Math.min(a,s)*i),d=Math.max(a,s)*i,u=-(l+(d-l)/2),c=r+(e.endRho+e.startRho)/2*Math.cos(u),h=o-(e.endRho+e.startRho)/2*Math.sin(u);e.middle={x:c,y:h}},drawSeries:function(){var e,t,i,n,r,o,a,s,l,d,u,c,h,g,p,f,m=this,x=m.chart,y=x.getChartStore(),v=m.group,E=m.chart.animate,b=m.chart.axes.get(0),w=b&&b.minimum||m.minimum||0,C=b&&b.maximum||m.maximum||0,S=m.angleField||m.field||m.xField,_=x.surface,k=x.chartBBox,P=(m.rad,+m.donut),T=[],I=m.seriesStyle,D=(m.seriesLabelStyle,m.colorArrayStyle),A=D&&D.length||0,M=(x.maxGutter[0],x.maxGutter[1],Math.cos),R=Math.sin;if(Ext.apply(I,m.style||{}),m.setBBox(),h=m.bbox,m.colorSet&&(D=m.colorSet,A=D.length),!y||!y.getCount()||m.seriesIsHidden)return m.hide(),void(m.items=[]);for(t=m.centerX=k.x+k.width/2,i=m.centerY=k.y+k.height,m.radius=Math.min(t-k.x,i-k.y),m.slices=r=[],m.items=T=[],m.value||(d=y.getAt(0),m.value=d.get(S)),a=m.value,m.needle?(p={series:m,value:a,startAngle:-180,endAngle:0,rho:m.radius},g=-180*(1-(a-w)/(C-w)),r.push(p)):(g=-180*(1-(a-w)/(C-w)),p={series:m,value:a,startAngle:-180,endAngle:g,rho:m.radius},f={series:m,value:m.maximum-a,startAngle:g,endAngle:0,rho:m.radius},r.push(p,f)),u=0,l=r.length;u<l;u++)n=r[u],o=v.getAt(u),e=Ext.apply({segment:{startAngle:n.startAngle,endAngle:n.endAngle,margin:0,rho:n.rho,startRho:n.rho*+P/100,endRho:n.rho}},Ext.apply(I,D&&{fill:D[u%A]}||{})),s=Ext.apply({},e.segment,{slice:n,series:m,storeItem:d,index:u}),T[u]=s,o||(c=Ext.apply({type:"path",group:v},Ext.apply(I,D&&{fill:D[u%A]}||{})),o=_.add(Ext.apply(c,e))),n.sprite=n.sprite||[],s.sprite=o,n.sprite.push(o),E?(e=m.renderer(o,d,e,u,y),o._to=e,m.onAnimate(o,{to:e})):(e=m.renderer(o,d,Ext.apply(e,{hidden:!1}),u,y),o.setAttributes(e,!0));m.needle&&(g=g*Math.PI/180,m.needleSprite?E?m.onAnimate(m.needleSprite,{to:{path:["M",t+m.radius*+P/100*M(g),i+-Math.abs(m.radius*+P/100*R(g)),"L",t+m.radius*M(g),i+-Math.abs(m.radius*R(g))]}}):m.needleSprite.setAttributes({type:"path",path:["M",t+m.radius*+P/100*M(g),i+-Math.abs(m.radius*+P/100*R(g)),"L",t+m.radius*M(g),i+-Math.abs(m.radius*R(g))]}):m.needleSprite=m.chart.surface.add({type:"path",path:["M",t+m.radius*+P/100*M(g),i+-Math.abs(m.radius*+P/100*R(g)),"L",t+m.radius*M(g),i+-Math.abs(m.radius*R(g))],"stroke-width":4,stroke:"#222"}),m.needleSprite.setAttributes({hidden:!1},!0)),delete m.value},setValue:function(e){this.value=e,this.drawSeries()},onCreateLabel:function(e,t,i,n){},onPlaceLabel:function(e,t,i,n,r,o,a){},onPlaceCallout:function(){},onAnimate:function(e,t){return e.show(),this.callParent(arguments)},isItemInPoint:function(e,t,i,n){var r=this,o=r.centerX,a=r.centerY,s=Math.abs,l=s(e-o),d=s(t-a),u=i.startAngle,c=i.endAngle,h=Math.sqrt(l*l+d*d),g=Math.atan2(t-a,e-o)/r.rad;return 0===n&&g>=u&&g<c&&h>=i.startRho&&h<=i.endRho},showAll:function(){isNaN(this._index)||(this.__excludes[this._index]=!1,this.drawSeries())},getLegendColor:function(e){var t=this;return t.colorArrayStyle[e%t.colorArrayStyle.length]}}),Ext.define("Ext.chart.series.Line",{extend:"Ext.chart.series.Cartesian",alternateClassName:["Ext.chart.LineSeries","Ext.chart.LineChart"],requires:["Ext.chart.axis.Axis","Ext.chart.Shape","Ext.draw.Draw","Ext.fx.Anim"],type:"line",alias:"series.line",selectionTolerance:20,showMarkers:!0,markerConfig:{},style:{},smooth:!1,defaultSmoothness:3,fill:!1,constructor:function(e){this.callParent(arguments);var t,i,n=this,r=n.chart.surface,o=n.chart.shadow;if(e.highlightCfg=Ext.Object.merge({"stroke-width":3},e.highlightCfg),Ext.apply(n,e,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}}]}),n.group=r.getGroup(n.seriesId),n.showMarkers&&(n.markerGroup=r.getGroup(n.seriesId+"-markers")),o)for(t=0,i=n.shadowAttributes.length;t<i;t++)n.shadowGroups.push(r.getGroup(n.seriesId+"-shadows"+t))},shrink:function(e,t,i){for(var n=e.length,r=Math.floor(n/i),o=1,a=0,s=0,l=[+e[0]],d=[+t[0]];o<n;++o)a+=+e[o]||0,s+=+t[o]||0,o%r==0&&(l.push(a/r),d.push(s/r),a=0,s=0);return{x:l,y:d}},drawSeries:function(){var e,t,i,n,r,o,a,s,l,d,u,c,h,g,p,f,m,x,y,v,E,b,w,C,S,_,k,P,T,I,D,A,M,R,F,L,B,O,N,H,j,V,W,z=this,G=z.chart,U=G.axes,q=G.getChartStore(),Y=q.data.items,X=q.getCount(),K=z.chart.surface,$={},Q=z.group,Z=z.showMarkers,J=z.markerGroup,ee=G.shadow,te=z.shadowGroups,ie=z.shadowAttributes,ne=z.smooth,re=te.length,oe=["M"],ae=["M"],se=["M"],le=["M"],de=G.markerIndex,ue=([].concat(z.axis),[]),ce={},he=[],ge=!1,pe=[],fe=z.markerStyle,me=z.seriesStyle,xe=z.colorArrayStyle,ye=xe&&xe.length||0,ve=Ext.isNumber,Ee=z.seriesIdx,be=z.getAxesForXAndYFields(),we=be.xAxis,Ce=be.yAxis;if(z.fireEvent("beforedraw",z)!==!1){if(!X||z.seriesIsHidden){if(z.hide(),z.items=[],z.line){if(z.line.hide(!0),z.line.shadows)for(i=z.line.shadows,x=0,re=i.length;x<re;x++)n=i[x],n.hide(!0);z.fillPath&&z.fillPath.hide(!0)}return z.line=null,void(z.fillPath=null)}if(L=Ext.apply(fe||{},z.markerConfig,{fill:z.seriesStyle.fill||xe[Ee%xe.length]}),O=L.type,delete L.type,B=me,B["stroke-width"]||(B["stroke-width"]=.5),H="opacity"in B?B.opacity:1,W="opacity"in B?B.opacity:.3,j="lineOpacity"in B?B.lineOpacity:H,V="fillOpacity"in B?B.fillOpacity:W,de&&J&&J.getCount())for(m=0;m<de;m++)b=J.getAt(m),J.remove(b),J.add(b),w=J.getAt(J.getCount()-2),b.setAttributes({x:0,y:0,translate:{x:w.attr.translation.x,y:w.attr.translation.y}},!0);for(z.unHighlightItem(),z.cleanHighlights(),z.setBBox(),$=z.bbox,z.clipRect=[$.x,$.y,$.width,$.height],(v=U.get(we))&&(E=v.applyData(),I=E.from,D=E.to),(v=U.get(Ce))&&(E=v.applyData(),A=E.from,M=E.to),z.xField&&!Ext.isNumber(I)&&(v=z.getMinMaxXValues(),I=v[0],D=v[1]),z.yField&&!Ext.isNumber(A)&&(v=z.getMinMaxYValues(),A=v[0],M=v[1]),isNaN(I)?(I=0,P=$.width/(X-1||1)):P=$.width/(D-I||X-1||1),isNaN(A)?(A=0,T=$.height/(X-1||1)):T=$.height/(M-A||X-1||1),m=0,y=Y.length;m<y;m++)e=Y[m],S=e.get(z.xField),("string"==typeof S||"object"==typeof S&&!Ext.isDate(S)||we&&U.get(we)&&"Category"==U.get(we).type)&&(S=S in ce?ce[S]:ce[S]=m),_=e.get(z.yField),"undefined"==typeof _||"string"==typeof _&&!_||(("string"==typeof _||"object"==typeof _&&!Ext.isDate(_)||Ce&&U.get(Ce)&&"Category"==U.get(Ce).type)&&(_=m),pe.push(m),ue.push(S),he.push(_));for(y=ue.length,y>$.width&&(k=z.shrink(ue,he,$.width),ue=k.x,he=k.y),z.items=[],N=0,y=ue.length,m=0;m<y;m++)if(S=ue[m],_=he[m],_!==!1){if(d=($.x+(S-I)*P).toFixed(2),u=($.y+$.height-(_-A)*T).toFixed(2),ge&&(ge=!1,ae.push("M")),ae=ae.concat([d,u]),"undefined"==typeof p&&"undefined"!=typeof u&&(p=u,g=d),z.line&&!G.resizing||(oe=oe.concat([d,$.y+$.height/2])),G.animate&&G.resizing&&z.line&&(z.line.setAttributes({path:oe,opacity:j},!0),z.fillPath&&z.fillPath.setAttributes({path:oe,opacity:V},!0),z.line.shadows))for(i=z.line.shadows,x=0,re=i.length;x<re;x++)n=i[x],n.setAttributes({path:oe},!0);Z&&(b=J.getAt(N++),b?(b.setAttributes({value:'"'+S+", "+_+'"',x:0,y:0,hidden:!1},!0),b._to={translate:{x:+d,y:+u}}):(b=Ext.chart.Shape[O](K,Ext.apply({group:[Q,J],x:0,y:0,translate:{x:+(c||d),y:h||$.y+$.height/2},value:'"'+S+", "+_+'"',zIndex:4e3},L)),b._to={translate:{x:+d,y:+u}})),z.items.push({series:z,value:[S,_],point:[d,u],sprite:b,storeItem:q.getAt(pe[m])}),c=d,h=u}else 1==ae.length&&(ae=[]),ge=!0,z.items.push(!1);if(!(ae.length<=1)){if(z.smooth&&(le=Ext.draw.Draw.smooth(ae,ve(ne)?ne:z.defaultSmoothness)),se=ne?le:ae,G.markerIndex&&z.previousPath?(o=z.previousPath,ne||Ext.Array.erase(o,1,2)):o=ae,!z.line&&(z.line=K.add(Ext.apply({type:"path",group:Q,path:oe,stroke:B.stroke||B.fill},B||{})),z.line.setAttributes({opacity:j},!0),ee&&z.line.setAttributes(Ext.apply({},z.shadowOptions),!0),z.line.setAttributes({fill:"none",zIndex:3e3}),!B.stroke&&ye&&z.line.setAttributes({stroke:xe[Ee%ye]},!0),ee))for(i=z.line.shadows=[],r=0;r<re;r++)t=ie[r],t=Ext.apply({},t,{path:oe}),n=K.add(Ext.apply({},{type:"path",group:te[r]},t)),i.push(n);if(z.fill&&(s=se.concat([["L",d,$.y+$.height],["L",g,$.y+$.height],["L",g,p]]),z.fillPath||(z.fillPath=K.add({group:Q,type:"path",fill:B.fill||xe[Ee%ye],path:oe}))),f=Z&&J.getCount(),G.animate){if(a=z.fill,R=z.line,l=z.renderer(R,!1,{path:se},m,q),Ext.apply(l,B||{},{stroke:B.stroke||B.fill}),delete l.fill,R.show(!0),G.markerIndex&&z.previousPath?z.animation=F=z.onAnimate(R,{to:l,from:{path:o}}):z.animation=F=z.onAnimate(R,{to:l}),ee)for(i=R.shadows,x=0;x<re;x++)i[x].show(!0),G.markerIndex&&z.previousPath?z.onAnimate(i[x],{to:{path:se},from:{path:o}}):z.onAnimate(i[x],{to:{path:se}});if(a&&(z.fillPath.show(!0),z.onAnimate(z.fillPath,{to:Ext.apply({},{path:s,fill:B.fill||xe[Ee%ye],"stroke-width":0,opacity:V},B||{})})),Z){for(N=0,m=0;m<y;m++)z.items[m]&&(C=J.getAt(N++),C&&(l=z.renderer(C,q.getAt(m),C._to,m,q),z.onAnimate(C,{to:Ext.apply(l,L||{})}),C.show(!0)));for(;N<f;N++)C=J.getAt(N),C.hide(!0)}}else{if(l=z.renderer(z.line,!1,{path:se,hidden:!1},m,q),Ext.apply(l,B||{},{stroke:B.stroke||B.fill}),delete l.fill,z.line.setAttributes(l,!0),z.line.setAttributes({opacity:j},!0),ee)for(i=z.line.shadows,x=0;x<re;x++)i[x].setAttributes({path:se,hidden:!1},!0);if(z.fill&&z.fillPath.setAttributes({path:s,hidden:!1,opacity:V},!0),Z){for(N=0,m=0;m<y;m++)z.items[m]&&(C=J.getAt(N++),C&&(l=z.renderer(C,q.getAt(m),C._to,m,q),C.setAttributes(Ext.apply(L||{},l||{}),!0),C.attr.hidden||C.show(!0)));for(;N<f;N++)C=J.getAt(N),C.hide(!0)}}G.markerIndex&&(z.smooth?Ext.Array.erase(ae,1,2):Ext.Array.splice(ae,1,0,ae[1],ae[2]),z.previousPath=ae),z.renderLabels(),z.renderCallouts(),z.fireEvent("draw",z)}}},onCreateLabel:function(e,t,i,n){var r=this,o=r.labelsGroup,a=r.label,s=r.bbox,l=Ext.apply(a,r.seriesLabelStyle);return r.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:o,x:t.point[0],y:s.y+s.height/2},l||{}))},onPlaceLabel:function(e,t,i,n,r,o){var a,s,l,d=this,u=d.chart,c=u.resizing,h=d.label,g=h.renderer,p=h.field,f=d.bbox,m=i.point[0],x=i.point[1],y=i.sprite.attr.radius;e.setAttributes({text:g(t.get(p)),hidden:!0},!0),"rotate"==r?(e.setAttributes({"text-anchor":"start",rotation:{x:m,y:x,degrees:-45}},!0),a=e.getBBox(),s=a.width,l=a.height,m=m<f.x?f.x:m,m=m+s>f.x+f.width?m-(m+s-f.x-f.width):m,x=x-l<f.y?f.y+l:x):"under"!=r&&"over"!=r||(a=i.sprite.getBBox(),a.width=a.width||2*y,a.height=a.height||2*y,x+="over"==r?-a.height:a.height,a=e.getBBox(),s=a.width/2,l=a.height/2,m=m-s<f.x?f.x+s:m,m=m+s>f.x+f.width?m-(m+s-f.x-f.width):m,x=x-l<f.y?f.y+l:x,x=x+l>f.y+f.height?x-(x+l-f.y-f.height):x),d.chart.animate&&!d.chart.resizing?(e.show(!0),d.onAnimate(e,{to:{x:m,y:x}})):(e.setAttributes({x:m,y:x},!0),c&&d.animation?d.animation.on("afteranimate",function(){e.show(!0)}):e.show(!0))},highlightItem:function(){var e=this;e.callParent(arguments),e.line&&!e.highlighted&&("__strokeWidth"in e.line||(e.line.__strokeWidth=parseFloat(e.line.attr["stroke-width"])||0),e.line.__anim&&(e.line.__anim.paused=!0),e.line.__anim=Ext.create("Ext.fx.Anim",{target:e.line,to:{"stroke-width":e.line.__strokeWidth+3}}),e.highlighted=!0)},unHighlightItem:function(){var e=this;e.callParent(arguments),e.line&&e.highlighted&&(e.line.__anim=Ext.create("Ext.fx.Anim",{target:e.line,to:{"stroke-width":e.line.__strokeWidth}}),e.highlighted=!1)},onPlaceCallout:function(e,t,i,n,r,o,a){if(r){var s,l,d,u,c,h,g,p,f,m,x,y,v,E=this,b=E.chart,w=(b.surface,b.resizing,E.callouts),C=E.items,S=0!=n&&C[n-1].point,_=n!=C.length-1&&C[n+1].point,k=[+i.point[0],+i.point[1]],P=w.offsetFromViz||30,T=(w.offsetToSide||10,w.offsetBox||3),I=E.clipRect,D={width:w.styles.width||10,height:w.styles.height||10};S||(S=k),_||(_=k),u=(_[1]-S[1])/(_[0]-S[0]),c=(k[1]-S[1])/(k[0]-S[0]),h=(_[1]-k[1])/(_[0]-k[0]),l=Math.sqrt(1+u*u),s=[1/l,u/l],d=[-s[1],s[0]],c>0&&h<0&&d[1]<0||c<0&&h>0&&d[1]>0?(d[0]*=-1,d[1]*=-1):(Math.abs(c)<Math.abs(h)&&d[0]<0||Math.abs(c)>Math.abs(h)&&d[0]>0)&&(d[0]*=-1,d[1]*=-1),y=k[0]+d[0]*P,v=k[1]+d[1]*P,g=y+(d[0]>0?0:-(D.width+2*T)),p=v-D.height/2-T,f=D.width+2*T,m=D.height+2*T,(g<I[0]||g+f>I[0]+I[2])&&(d[0]*=-1),(p<I[1]||p+m>I[1]+I[3])&&(d[1]*=-1),y=k[0]+d[0]*P,v=k[1]+d[1]*P,g=y+(d[0]>0?0:-(D.width+2*T)),p=v-D.height/2-T,f=D.width+2*T,m=D.height+2*T,b.animate?(E.onAnimate(e.lines,{to:{path:["M",k[0],k[1],"L",y,v,"Z"]}}),e.panel&&e.panel.setPosition(g,p,!0)):(e.lines.setAttributes({path:["M",k[0],k[1],"L",y,v,"Z"]},!0),e.panel&&e.panel.setPosition(g,p));for(x in e)e[x].show(!0)}},isItemInPoint:function(e,t,i,n){var r,o,a,s,l,d,u,c,h,g,p,f,m=this,x=m.items,y=m.selectionTolerance,v=Math.sqrt;Math.abs;return o=x[n],r=n&&x[n-1],n>=l&&(r=x[l-1]),a=r&&r.point,s=o&&o.point,d=r?a[0]:s[0]-y,u=r?a[1]:s[1],c=o?s[0]:a[0]+y,h=o?s[1]:a[1],g=v((e-d)*(e-d)+(t-u)*(t-u)),p=v((e-c)*(e-c)+(t-h)*(t-h)),f=Math.min(g,p),f<=y&&(f==g?r:o)},toggleAll:function(e){var t,i,n,r,o=this;if(e?Ext.chart.series.Cartesian.prototype.showAll.call(o):Ext.chart.series.Cartesian.prototype.hideAll.call(o),o.line&&(o.line.setAttributes({hidden:!e},!0),o.line.shadows))for(t=0,r=o.line.shadows,i=r.length;t<i;t++)n=r[t],n.setAttributes({hidden:!e},!0);o.fillPath&&o.fillPath.setAttributes({hidden:!e},!0)},hideAll:function(){this.toggleAll(!1)},showAll:function(){this.toggleAll(!0)}}),Ext.define("Ext.chart.series.Pie",{alternateClassName:["Ext.chart.PieSeries","Ext.chart.PieChart"],extend:"Ext.chart.series.Series",type:"pie",alias:"series.pie",accuracy:1e5,rad:2*Math.PI/1e5,highlightDuration:150,angleField:!1,lengthField:!1,donut:!1,showInLegend:!1,style:{},constructor:function(e){this.callParent(arguments);var t,i,n=this,r=n.chart,o=r.surface,a=(r.store,r.shadow);if(e.highlightCfg=Ext.merge({segment:{margin:20}},e.highlightCfg),Ext.apply(n,e,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]}),n.group=o.getGroup(n.seriesId),a)for(t=0,i=n.shadowAttributes.length;t<i;t++)n.shadowGroups.push(o.getGroup(n.seriesId+"-shadows"+t));o.customAttributes.segment=function(e){var t=n.getSegment(e);return t.path&&0!==t.path.length||(t.path=["M",0,0]),t},n.__excludes=n.__excludes||[]},initialize:function(){var e,t,i,n=this,r=n.chart.getChartStore(),o=r.data.items;if(n.yField=[],n.label.field)for(e=0,t=o.length;e<t;e++)i=o[e],n.yField.push(i.get(n.label.field))},getSegment:function(e){var t=this,i=t.rad,n=Math.cos,r=Math.sin,o=t.centerX,a=t.centerY,s=0,l=0,d=0,u=0,c=0,h=0,g=0,p=0,f=0,m=0,x=0,y=0,v=.01,E=e.startAngle,b=e.endAngle,w=(E+b)/2*i,C=e.margin||0,S=Math.min(E,b)*i,_=Math.max(E,b)*i,k=n(S),P=r(S),T=n(_),I=r(_),D=n(w),A=r(w),M=0;return _-S<v?{path:""}:(0!==C&&(o+=C*D,a+=C*A),l=o+e.endRho*k,h=a+e.endRho*P,u=o+e.endRho*T,p=a+e.endRho*I,x=o+e.endRho*D,y=a+e.endRho*A,0!==e.startRho?(s=o+e.startRho*k,c=a+e.startRho*P,d=o+e.startRho*T,g=a+e.startRho*I,f=o+e.startRho*D,m=a+e.startRho*A,{path:[["M",l,h],["A",e.endRho,e.endRho,0,0,1,x,y],["L",x,y],["A",e.endRho,e.endRho,0,M,1,u,p],["L",u,p],["L",d,g],["A",e.startRho,e.startRho,0,M,0,f,m],["L",f,m],["A",e.startRho,e.startRho,0,0,0,s,c],["L",s,c],["Z"]]}):{path:[["M",o,a],["L",l,h],["A",e.endRho,e.endRho,0,0,1,x,y],["L",x,y],["A",e.endRho,e.endRho,0,M,1,u,p],["L",u,p],["L",o,a],["Z"]]})},calcMiddle:function(e){var t=this,i=t.rad,n=e.slice,r=t.centerX,o=t.centerY,a=n.startAngle,s=n.endAngle,l=(+t.donut,-(a+s)*i/2),d=(e.endRho+e.startRho)/2,u=r+d*Math.cos(l),c=o-d*Math.sin(l);e.middle={x:u,y:c}},drawSeries:function(){var e,t,i,n,r,o,a,s,l,d,u,c,h,g,p,f,m,x,y,v,E,b=this,w=b.chart.getChartStore(),C=w.data.items,S=b.group,_=b.chart.animate,k=b.angleField||b.field||b.xField,P=[].concat(b.lengthField),T=0,I=b.chart,D=I.surface,A=I.chartBBox,M=I.shadow,R=b.shadowGroups,F=b.shadowAttributes,L=R.length,B=P.length,O=0,N=+b.donut,H=[],j=[],V=0,W=0,z=0,G=b.seriesStyle,U=b.colorArrayStyle,q=U&&U.length||0,Y=0;if(Ext.apply(G,b.style||{}),b.setBBox(),E=b.bbox,b.colorSet&&(U=b.colorSet,q=U.length),!w||!w.getCount()||b.seriesIsHidden)return b.hide(),void(b.items=[]);for(b.unHighlightItem(),b.cleanHighlights(),a=b.centerX=A.x+A.width/2,s=b.centerY=A.y+A.height/2,b.radius=Math.min(a-A.x,s-A.y),b.slices=u=[],b.items=j=[],m=0,f=C.length;m<f;m++)if(e=C[m],(!this.__excludes||!this.__excludes[m])&&(V+=+e.get(k),P[0])){for(x=0,T=0;x<B;x++)T+=+e.get(P[x]);H[m]=T,W=Math.max(W,T)}for(V=V||1,m=0,f=C.length;m<f;m++){if(e=C[m],this.__excludes&&this.__excludes[m]?h=0:(h=e.get(k),0==Y&&(Y=1)),1==Y)for(Y=2,b.firstAngle=z=b.accuracy*h/V/2,x=0;x<m;x++)u[x].startAngle=u[x].endAngle=b.firstAngle;y=z-b.accuracy*h/V,d={series:b,value:h,startAngle:z,endAngle:y,storeItem:e},P[0]?(p=+H[m],d.rho=Math.floor(b.radius/W*p)):d.rho=b.radius,u[m]=d,function(){z=y}()}if(M)for(m=0,f=u.length;m<f;m++)for(d=u[m],d.shadowAttrs=[],x=0,O=0,n=[];x<B;x++){for(c=S.getAt(m*B+x),l=P[x]?w.getAt(m).get(P[x])/H[m]*d.rho:d.rho,t={segment:{startAngle:d.startAngle,endAngle:d.endAngle,margin:0,rho:d.rho,startRho:O+l*N/100,endRho:O+l},hidden:!d.value&&d.startAngle%b.accuracy==d.endAngle%b.accuracy},o=0,n=[];o<L;o++)i=F[o],r=R[o].getAt(m),r||(r=I.surface.add(Ext.apply({},{type:"path",group:R[o],strokeLinejoin:"round"},t,i))),i=b.renderer(r,w.getAt(m),Ext.apply({},t,i),m,w),_?b.onAnimate(r,{to:i}):r.setAttributes(i,!0),n.push(r);d.shadowAttrs[x]=n}for(m=0,f=u.length;m<f;m++)for(d=u[m],x=0,O=0;x<B;x++)c=S.getAt(m*B+x),l=P[x]?w.getAt(m).get(P[x])/H[m]*d.rho:d.rho,t=Ext.apply({segment:{startAngle:d.startAngle,endAngle:d.endAngle,margin:0,rho:d.rho,startRho:O+l*N/100,endRho:O+l},hidden:!d.value&&d.startAngle%b.accuracy==d.endAngle%b.accuracy},Ext.apply(G,U&&{fill:U[(B>1?x:m)%q]}||{})),g=Ext.apply({},t.segment,{slice:d,series:b,storeItem:d.storeItem,index:m}),b.calcMiddle(g),M&&(g.shadows=d.shadowAttrs[x]),j[m]=g,c||(v=Ext.apply({type:"path",group:S,middle:g.middle},Ext.apply(G,U&&{fill:U[(B>1?x:m)%q]}||{})),c=D.add(Ext.apply(v,t))),d.sprite=d.sprite||[],g.sprite=c,d.sprite.push(c),d.point=[g.middle.x,g.middle.y],_?(t=b.renderer(c,w.getAt(m),t,m,w),c._to=t,c._animating=!0,b.onAnimate(c,{to:t,listeners:{afteranimate:{fn:function(){this._animating=!1},scope:c}}})):(t=b.renderer(c,w.getAt(m),Ext.apply(t,{
hidden:!1}),m,w),c.setAttributes(t,!0)),O+=l;for(f=S.getCount(),m=0;m<f;m++)!u[m/B>>0]&&S.getAt(m)&&S.getAt(m).hide(!0);if(M)for(L=R.length,o=0;o<f;o++)if(!u[o/B>>0])for(x=0;x<L;x++)R[x].getAt(o)&&R[x].getAt(o).hide(!0);b.renderLabels(),b.renderCallouts()},onCreateLabel:function(e,t,i,n){var r=this,o=r.labelsGroup,a=r.label,s=(r.centerX,r.centerY,t.middle),l=Ext.apply(r.seriesLabelStyle||{},a||{});return r.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:o,x:s.x,y:s.y},l))},onPlaceLabel:function(e,t,i,n,r,o,a){function s(e){return e<0&&(e+=360),e%360}var l,d=this,u=d.chart,c=u.resizing,h=d.label,g=h.renderer,p=[].concat(h.field),f=d.centerX,m=d.centerY,x=i.middle,y={x:x.x,y:x.y},v=x.x-f,E=x.y-m,b={},w=1,C=Math.atan2(E,v||1),S=180*C/Math.PI;switch(y.hidden=!1,this.__excludes&&this.__excludes[n]&&(y.hidden=!0),e.setAttributes({text:g(t.get(p[a]))},!0),r){case"outside":w=2*Math.sqrt(v*v+E*E),y.x=w*Math.cos(C)+f,y.y=w*Math.sin(C)+m;break;case"rotate":S=s(S),S=S>90&&S<270?S+180:S,l=e.attr.rotation.degrees,null!=l&&Math.abs(l-S)>90?(S>l?S-=360:S+=360,S%=360):S=s(S),y.rotate={degrees:S,x:y.x,y:y.y}}y.translate={x:0,y:0},!o||c||"rotate"==r&&null==l?e.setAttributes(y,!0):d.onAnimate(e,{to:y}),e._from=b},onPlaceCallout:function(e,t,i,n,r,o,a){var s,l,d=this,u=d.chart,c=d.centerX,h=d.centerY,g=i.middle,p={x:g.x,y:g.y},f=g.x-c,m=g.y-h,x=1,y=Math.atan2(m,f||1),v=e.label.getBBox(),E=20,b=10,w=10;x=i.endRho+E,s=(i.endRho+i.startRho)/2+(i.endRho-i.startRho)/3,p.x=x*Math.cos(y)+c,p.y=x*Math.sin(y)+h,f=s*Math.cos(y),m=s*Math.sin(y),u.animate?(d.onAnimate(e.lines,{to:{path:["M",f+c,m+h,"L",p.x,p.y,"Z","M",p.x,p.y,"l",f>0?b:-b,0,"z"]}}),d.onAnimate(e.box,{to:{x:p.x+(f>0?b:-(b+v.width+2*w)),y:p.y+(m>0?-v.height-w/2:-v.height-w/2),width:v.width+2*w,height:v.height+2*w}}),d.onAnimate(e.label,{to:{x:p.x+(f>0?b+w:-(b+v.width+w)),y:p.y+(m>0?-v.height/4:-v.height/4)}})):(e.lines.setAttributes({path:["M",f+c,m+h,"L",p.x,p.y,"Z","M",p.x,p.y,"l",f>0?b:-b,0,"z"]},!0),e.box.setAttributes({x:p.x+(f>0?b:-(b+v.width+2*w)),y:p.y+(m>0?-v.height-w/2:-v.height-w/2),width:v.width+2*w,height:v.height+2*w},!0),e.label.setAttributes({x:p.x+(f>0?b+w:-(b+v.width+w)),y:p.y+(m>0?-v.height/4:-v.height/4)},!0));for(l in e)e[l].show(!0)},onAnimate:function(e,t){return e.show(),this.callParent(arguments)},isItemInPoint:function(e,t,i,n){var r=this,o=r.centerX,a=r.centerY,s=Math.abs,l=s(e-o),d=s(t-a),u=i.startAngle,c=i.endAngle,h=Math.sqrt(l*l+d*d),g=Math.atan2(t-a,e-o)/r.rad;return g>r.firstAngle&&(g-=r.accuracy),g<=u&&g>c&&h>=i.startRho&&h<=i.endRho},hideAll:function(e){var t,i,n,r,o,a,s;for(e=(isNaN(this._index)?e:this._index)||0,this.__excludes=this.__excludes||[],this.__excludes[e]=!0,s=this.slices[e].sprite,o=0,a=s.length;o<a;o++)s[o].setAttributes({hidden:!0},!0);if(this.slices[e].shadowAttrs)for(t=0,r=this.slices[e].shadowAttrs,i=r.length;t<i;t++)for(n=r[t],o=0,a=n.length;o<a;o++)n[o].setAttributes({hidden:!0},!0);this.drawSeries()},showAll:function(e){e=(isNaN(this._index)?e:this._index)||0,this.__excludes[e]=!1,this.drawSeries()},highlightItem:function(e){var t,i,n,r,o,a,s,l,d,u,c,h,g,p,f,m,x,y=this,v=y.rad;if(e=e||this.items[this._index],this.unHighlightItem(),!(!e||y.animating||e.sprite&&e.sprite._animating)&&(y.callParent([e]),y.highlight&&"segment"in y.highlightCfg&&(t=y.highlightCfg.segment,i=y.chart.animate,y.labelsGroup&&(c=y.labelsGroup,h=y.label.display,g=c.getAt(e.index),p=(e.startAngle+e.endAngle)/2*v,f=t.margin||0,m=f*Math.cos(p),x=f*Math.sin(p),Math.abs(m)<1e-10&&(m=0),Math.abs(x)<1e-10&&(x=0),i?(g.stopAnimation(),g.animate({to:{translate:{x:m,y:x}},duration:y.highlightDuration})):g.setAttributes({translate:{x:m,y:x}},!0)),y.chart.shadow&&e.shadows)))for(r=0,o=e.shadows,s=o.length;r<s;r++){a=o[r],l={},d=e.sprite._from.segment;for(u in d)u in t||(l[u]=d[u]);n={segment:Ext.applyIf(l,y.highlightCfg.segment)},i?(a.stopAnimation(),a.animate({to:n,duration:y.highlightDuration})):a.setAttributes(n,!0)}},unHighlightItem:function(){var e,t,i,n,r,o,a,s,l,d,u,c,h,g,p,f,m,x,y,v=this;if(v.highlight){if("segment"in v.highlightCfg&&v.items)for(e=v.items,t=v.chart.animate,i=!!v.chart.shadow,n=v.labelsGroup,r=e.length,o=0,a=0,s=v.label.display;o<r;o++)if(m=e[o],m&&(g=m.sprite,g&&g._highlighted&&(n&&(x=n.getAt(m.index),y=Ext.apply({translate:{x:0,y:0}},"rotate"==s?{rotate:{x:x.attr.x,y:x.attr.y,degrees:x.attr.rotation.degrees}}:{}),t?(x.stopAnimation(),x.animate({to:y,duration:v.highlightDuration})):x.setAttributes(y,!0)),i)))for(p=m.shadows,l=p.length;a<l;a++){u={},c=m.sprite._to.segment,h=m.sprite._from.segment,Ext.apply(u,h);for(d in c)d in h||(u[d]=c[d]);f=p[a],t?(f.stopAnimation(),f.animate({to:{segment:u},duration:v.highlightDuration})):f.setAttributes({segment:u},!0)}v.callParent(arguments)}},getLegendColor:function(e){var t=this;return t.colorSet&&t.colorSet[e%t.colorSet.length]||t.colorArrayStyle[e%t.colorArrayStyle.length]}}),Ext.define("Ext.chart.series.Radar",{extend:"Ext.chart.series.Series",requires:["Ext.chart.Shape","Ext.fx.Anim"],type:"radar",alias:"series.radar",rad:Math.PI/180,showInLegend:!1,style:{},constructor:function(e){this.callParent(arguments);var t=this,i=t.chart.surface;t.group=i.getGroup(t.seriesId),t.showMarkers&&(t.markerGroup=i.getGroup(t.seriesId+"-markers"))},drawSeries:function(){var e,t,i,n,r,o,a,s,l,d,u,c,h,g,p,f,m=this,x=m.chart.getChartStore(),y=x.data.items,v=m.group,E=m.chart,b=E.series.items,w=(E.animate,m.field||m.yField),C=E.surface,S=E.chartBBox,_=m.seriesIdx,k=m.colorArrayStyle,P=0,T=[],I=Math.max,D=Math.cos,A=Math.sin,M=2*Math.PI,R=x.getCount(),F=m.seriesStyle,L=(m.seriesLabelStyle,E.resizing||!m.radar,E.axes&&E.axes.get(0)),B=!(L&&L.maximum);if(m.setBBox(),P=B?0:L.maximum||0,Ext.apply(F,m.style||{}),!x||!x.getCount()||m.seriesIsHidden)return m.hide(),m.items=[],m.radar&&m.radar.hide(!0),void(m.radar=null);if(F.stroke||(F.stroke=k[_%k.length]),m.unHighlightItem(),m.cleanHighlights(),o=m.centerX=S.x+S.width/2,a=m.centerY=S.y+S.height/2,m.radius=l=Math.min(S.width,S.height)/2,m.items=s=[],B){for(i=0,n=b.length;i<n;i++)r=b[i],T.push(r.yField);for(e=0;e<R;e++)for(t=y[e],p=0,f=T.length;p<f;p++)P=I(+t.get(T[p]),P)}for(P=P||1,d=[],u=[],p=0;p<R;p++)t=y[p],g=l*t.get(w)/P,c=g*D(p/R*M),h=g*A(p/R*M),0==p?(u.push("M",c+o,h+a),d.push("M",.01*c+o,.01*h+a)):(u.push("L",c+o,h+a),d.push("L",.01*c+o,.01*h+a)),s.push({sprite:!1,point:[o+c,a+h],storeItem:t,series:m});u.push("Z"),m.radar||(m.radar=C.add(Ext.apply({type:"path",group:v,path:d},F||{}))),E.resizing&&m.radar.setAttributes({path:d},!0),E.animate?m.onAnimate(m.radar,{to:Ext.apply({path:u},F||{})}):m.radar.setAttributes(Ext.apply({path:u},F||{}),!0),m.showMarkers&&m.drawMarkers(),m.renderLabels(),m.renderCallouts()},drawMarkers:function(){var e,t,i,n,r=this,o=r.chart,a=o.surface,s=Ext.apply({},r.markerStyle||{}),l=Ext.apply(s,r.markerConfig,{fill:r.colorArrayStyle[r.seriesIdx%r.colorArrayStyle.length]}),d=r.items,u=l.type,c=r.markerGroup,h=r.centerX,g=r.centerY;for(delete l.type,t=0,i=d.length;t<i;t++)e=d[t],n=c.getAt(t),n?n.show():n=Ext.chart.Shape[u](a,Ext.apply({group:c,x:0,y:0,translate:{x:h,y:g}},l)),e.sprite=n,o.resizing&&n.setAttributes({x:0,y:0,translate:{x:h,y:g}},!0),n._to={translate:{x:e.point[0],y:e.point[1]}},o.animate?r.onAnimate(n,{to:n._to}):n.setAttributes(Ext.apply(n._to,l||{}),!0)},isItemInPoint:function(e,t,i){var n,r=10,o=Math.abs;return n=i.point,o(n[0]-e)<=r&&o(n[1]-t)<=r},onCreateLabel:function(e,t,i,n){var r=this,o=r.labelsGroup,a=r.label,s=r.centerX,l=r.centerY;t.point,Ext.apply(r.seriesLabelStyle||{},a);return r.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:o,x:s,y:l},a||{}))},onPlaceLabel:function(e,t,i,n,r,o){var a=this,s=a.chart,l=s.resizing,d=a.label,u=d.renderer,c=d.field,h=a.centerX,g=a.centerY,p={x:i.point[0],y:i.point[1]};p.x-h,p.y-g;e.setAttributes({text:u(t.get(c)),hidden:!0},!0),l&&e.setAttributes({x:h,y:g},!0),o?(e.show(!0),a.onAnimate(e,{to:p})):(e.setAttributes(p,!0),e.show(!0))},toggleAll:function(e){var t,i,n,r,o=this;if(e?Ext.chart.series.Radar.superclass.showAll.call(o):Ext.chart.series.Radar.superclass.hideAll.call(o),o.radar&&(o.radar.setAttributes({hidden:!e},!0),o.radar.shadows))for(t=0,r=o.radar.shadows,i=r.length;t<i;t++)n=r[t],n.setAttributes({hidden:!e},!0)},hideAll:function(){this.toggleAll(!1),this.hideMarkers(0)},showAll:function(){this.toggleAll(!0)},hideMarkers:function(e){for(var t=this,i=t.markerGroup&&t.markerGroup.getCount()||0,n=e||0;n<i;n++)t.markerGroup.getAt(n).hide(!0)}}),Ext.define("Ext.chart.series.Scatter",{extend:"Ext.chart.series.Cartesian",requires:["Ext.chart.axis.Axis","Ext.chart.Shape","Ext.fx.Anim"],type:"scatter",alias:"series.scatter",constructor:function(e){this.callParent(arguments);var t,i,n=this,r=n.chart.shadow,o=n.chart.surface;if(Ext.apply(n,e,{style:{},markerConfig:{},shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)"},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)"},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)"}]}),n.group=o.getGroup(n.seriesId),r)for(t=0,i=n.shadowAttributes.length;t<i;t++)n.shadowGroups.push(o.getGroup(n.seriesId+"-shadows"+t))},getBounds:function(){var e,t,i,n,r,o,a,s,l,d=this,u=d.chart,c=u.getChartStore(),h=u.axes,g=d.getAxesForXAndYFields(),p=g.xAxis,f=g.yAxis;return d.setBBox(),e=d.bbox,(s=h.get(p))&&(l=s.applyData(),n=l.from,o=l.to),(s=h.get(f))&&(l=s.applyData(),r=l.from,a=l.to),d.xField&&!Ext.isNumber(n)&&(s=d.getMinMaxXValues(),n=s[0],o=s[1]),d.yField&&!Ext.isNumber(r)&&(s=d.getMinMaxYValues(),r=s[0],a=s[1]),isNaN(n)?(n=0,o=c.getCount()-1,t=e.width/(c.getCount()-1)):t=e.width/(o-n),isNaN(r)?(r=0,a=c.getCount()-1,i=e.height/(c.getCount()-1)):i=e.height/(a-r),{bbox:e,minX:n,minY:r,xScale:t,yScale:i}},getPaths:function(){var e,t,i,n,r,o,a,s,l=this,d=l.chart,u=d.shadow,c=d.getChartStore(),h=c.data.items,g=l.group,p=l.bounds=l.getBounds(),f=l.bbox,m=p.xScale,x=p.yScale,y=p.minX,v=p.minY,E=f.x,b=f.y,w=f.height,C=(l.items=[],[]);for(e=0,t=h.length;e<t;e++)i=h[e],o=i.get(l.xField),a=i.get(l.yField),"undefined"==typeof a||"string"==typeof a&&!a||null==o||null==a||(("string"==typeof o||"object"==typeof o&&!Ext.isDate(o))&&(o=e),("string"==typeof a||"object"==typeof a&&!Ext.isDate(a))&&(a=e),n=E+(o-y)*m,r=b+w-(a-v)*x,C.push({x:n,y:r}),l.items.push({series:l,value:[o,a],point:[n,r],storeItem:i}),d.animate&&d.resizing&&(s=g.getAt(e),s&&(l.resetPoint(s),u&&l.resetShadow(s))));return C},resetPoint:function(e){var t=this.bbox;e.setAttributes({translate:{x:(t.x+t.width)/2,y:(t.y+t.height)/2}},!0)},resetShadow:function(e){var t,i,n=this,r=e.shadows,o=n.shadowAttributes,a=n.shadowGroups.length,s=n.bbox;for(t=0;t<a;t++)i=Ext.apply({},o[t]),i.translate?(i.translate.x+=(s.x+s.width)/2,i.translate.y+=(s.y+s.height)/2):i.translate={x:(s.x+s.width)/2,y:(s.y+s.height)/2},r[t].setAttributes(i,!0)},createPoint:function(e,t){var i=this,n=i.chart,r=i.group,o=i.bbox;return Ext.chart.Shape[t](n.surface,Ext.apply({},{x:0,y:0,group:r,translate:{x:(o.x+o.width)/2,y:(o.y+o.height)/2}},e))},createShadow:function(e,t,i){var n,r,o,a,s=this,l=s.chart,d=s.shadowGroups,u=s.shadowAttributes,c=d.length,h=s.bbox;for(e.shadows=o=[],n=0;n<c;n++)a=Ext.apply({},u[n]),a.translate?(a.translate.x+=(h.x+h.width)/2,a.translate.y+=(h.y+h.height)/2):Ext.apply(a,{translate:{x:(h.x+h.width)/2,y:(h.y+h.height)/2}}),Ext.apply(a,t),r=Ext.chart.Shape[i](l.surface,Ext.apply({},{x:0,y:0,group:d[n]},a)),o.push(r)},drawSeries:function(){var e,t,i,n,r,o,a,s,l,d,u,c=this,h=c.chart,g=h.getChartStore(),p=c.group,f=h.shadow,m=c.shadowGroups,x=c.shadowAttributes,y=m.length;if(o=Ext.apply(c.markerStyle,c.markerConfig),s=o.type,delete o.type,!g||!g.getCount())return c.hide(),void(c.items=[]);for(c.unHighlightItem(),c.cleanHighlights(),t=c.getPaths(),n=t.length,r=0;r<n;r++){if(i=t[r],e=p.getAt(r),Ext.apply(i,o),e||(e=c.createPoint(i,s),f&&c.createShadow(e,o,s)),l=e.shadows,h.animate)for(d=c.renderer(e,g.getAt(r),{translate:i},r,g),e._to=d,c.onAnimate(e,{to:d}),a=0;a<y;a++)u=Ext.apply({},x[a]),d=c.renderer(l[a],g.getAt(r),Ext.apply({},{hidden:!1,translate:{x:i.x+(u.translate?u.translate.x:0),y:i.y+(u.translate?u.translate.y:0)}},u),r,g),c.onAnimate(l[a],{to:d});else for(d=c.renderer(e,g.getAt(r),{translate:i},r,g),e._to=d,e.setAttributes(d,!0),a=0;a<y;a++)u=Ext.apply({},x[a]),d=c.renderer(l[a],g.getAt(r),Ext.apply({},{hidden:!1,translate:{x:i.x+(u.translate?u.translate.x:0),y:i.y+(u.translate?u.translate.y:0)}},u),r,g),l[a].setAttributes(d,!0);c.items[r].sprite=e}for(n=p.getCount(),r=t.length;r<n;r++)p.getAt(r).hide(!0);c.renderLabels(),c.renderCallouts()},onCreateLabel:function(e,t,i,n){var r=this,o=r.labelsGroup,a=r.label,s=Ext.apply({},a,r.seriesLabelStyle),l=r.bbox;return r.chart.surface.add(Ext.apply({type:"text",group:o,x:t.point[0],y:l.y+l.height/2},s))},onPlaceLabel:function(e,t,i,n,r,o){var a,s,l,d,u=this,c=u.chart,h=c.resizing,g=u.label,p=g.renderer,f=g.field,m=u.bbox,x=i.point[0],y=i.point[1],v=i.sprite.attr.radius;e.setAttributes({text:p(t.get(f)),hidden:!0},!0),"rotate"==r?(e.setAttributes({"text-anchor":"start",rotation:{x:x,y:y,degrees:-45}},!0),a=e.getBBox(),s=a.width,l=a.height,x=x<m.x?m.x:x,x=x+s>m.x+m.width?x-(x+s-m.x-m.width):x,y=y-l<m.y?m.y+l:y):"under"!=r&&"over"!=r||(a=i.sprite.getBBox(),a.width=a.width||2*v,a.height=a.height||2*v,y+="over"==r?-a.height:a.height,a=e.getBBox(),s=a.width/2,l=a.height/2,x=x-s<m.x?m.x+s:x,x=x+s>m.x+m.width?x-(x+s-m.x-m.width):x,y=y-l<m.y?m.y+l:y,y=y+l>m.y+m.height?y-(y+l-m.y-m.height):y),c.animate?h?(d=i.sprite.getActiveAnimation(),d?d.on("afteranimate",function(){e.setAttributes({x:x,y:y},!0),e.show(!0)}):e.show(!0)):u.onAnimate(e,{to:{x:x,y:y}}):(e.setAttributes({x:x,y:y},!0),e.show(!0))},onPlaceCallout:function(e,t,i,n,r,o,a){var s,l,d,u,c,h,g,p,f=this,m=f.chart,x=(m.surface,m.resizing,f.callouts,f.items,i.point),y=e.label.getBBox(),v=30,E=3,b=f.bbox;s=[Math.cos(Math.PI/4),-Math.sin(Math.PI/4)],g=x[0]+s[0]*v,p=x[1]+s[1]*v,l=g+(s[0]>0?0:-(y.width+2*E)),d=p-y.height/2-E,u=y.width+2*E,c=y.height+2*E,(l<b[0]||l+u>b[0]+b[2])&&(s[0]*=-1),(d<b[1]||d+c>b[1]+b[3])&&(s[1]*=-1),g=x[0]+s[0]*v,p=x[1]+s[1]*v,l=g+(s[0]>0?0:-(y.width+2*E)),d=p-y.height/2-E,u=y.width+2*E,c=y.height+2*E,m.animate?(f.onAnimate(e.lines,{to:{path:["M",x[0],x[1],"L",g,p,"Z"]}},!0),f.onAnimate(e.box,{to:{x:l,y:d,width:u,height:c}},!0),f.onAnimate(e.label,{to:{x:g+(s[0]>0?E:-(y.width+E)),y:p}},!0)):(e.lines.setAttributes({path:["M",x[0],x[1],"L",g,p,"Z"]},!0),e.box.setAttributes({x:l,y:d,width:u,height:c},!0),e.label.setAttributes({x:g+(s[0]>0?E:-(y.width+E)),y:p},!0));for(h in e)e[h].show(!0)},onAnimate:function(e,t){return e.show(),this.callParent(arguments)},isItemInPoint:function(e,t,i){var n,r=10;Math.abs;return n=i.point,n[0]-r<=e&&n[0]+r>=e&&n[1]-r<=t&&n[1]+r>=t}}),Ext.define("Ext.tip.QuickTip",{extend:"Ext.tip.ToolTip",alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:!1,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor"},initComponent:function(){var e=this;e.target=e.target||Ext.getDoc(),e.targets=e.targets||{},e.callParent()},register:function(e){for(var t,i,n,r=Ext.isArray(e)?e:arguments,o=0,a=r.length;o<a;o++)if(e=r[o],t=e.target)if(Ext.isArray(t))for(i=0,n=t.length;i<n;i++)this.targets[Ext.id(t[i])]=e;else this.targets[Ext.id(t)]=e},unregister:function(e){delete this.targets[Ext.id(e)]},cancelShow:function(e){var t=this,i=t.activeTarget;e=Ext.get(e).dom,t.isVisible()?i&&i.el==e&&t.hide():i&&i.el==e&&t.clearTimer("show")},getTipCfg:function(e){var t,i=e.getTarget(),n=i.title;return this.interceptTitles&&n&&Ext.isString(n)?(i.qtip=n,i.removeAttribute("title"),e.preventDefault(),{text:n}):(t=this.tagConfig,(i=e.getTarget("["+t.namespace+t.attribute+"]"))?{target:i,text:i.getAttribute(t.namespace+t.attribute)}:void 0)},onTargetOver:function(e){var t,i,n,r,o,a,s,l,d,u,c,h=this,g=e.getTarget(h.delegate);if(!h.disabled&&(h.targetXY=e.getXY(),g&&1===g.nodeType&&g!=document.documentElement&&g!=document.body)){if(h.activeTarget&&(g==h.activeTarget.el||Ext.fly(h.activeTarget.el).contains(g)))return h.clearTimer("hide"),void h.show();if(g){l=h.targets;for(c in l)if(l.hasOwnProperty(c)&&(u=l[c],d=Ext.fly(u.target),d&&(d.dom===g||d.contains(g)))){n=d.dom;break}if(n)return h.activeTarget=h.targets[n.id],h.activeTarget.el=g,h.anchor=h.activeTarget.anchor,h.anchor&&(h.anchorTarget=g),t=Ext.isDefined(h.activeTarget.showDelay),t&&(i=h.showDelay,h.showDelay=h.activeTarget.showDelay),h.delayShow(),void(t&&(h.showDelay=i))}n=Ext.fly(g,"_quicktip-target"),r=h.tagConfig,o=r.namespace,a=h.getTipCfg(e),a&&(a.target&&(g=a.target,n=Ext.fly(g,"_quicktip-target")),s=n.getAttribute(o+r.hide),h.activeTarget={el:g,text:a.text,width:+n.getAttribute(o+r.width)||null,autoHide:"user"!=s&&"false"!==s,title:n.getAttribute(o+r.title),cls:n.getAttribute(o+r.cls),align:n.getAttribute(o+r.align)},h.anchor=n.getAttribute(o+r.anchor),h.anchor&&(h.anchorTarget=g),t=Ext.isDefined(h.activeTarget.showDelay),t&&(i=h.showDelay,h.showDelay=h.activeTarget.showDelay),h.delayShow(),t&&(h.showDelay=i))}},onTargetOut:function(e){var t,i,n=this,r=n.activeTarget;r&&e.within(n.activeTarget.el)&&!n.getTipCfg(e)||(n.clearTimer("show"),delete n.activeTarget,n.autoHide!==!1&&(t=r&&Ext.isDefined(r.hideDelay),t&&(i=n.hideDelay,n.hideDelay=r.hideDelay),n.delayHide(),t&&(n.hideDelay=i)))},showAt:function(e){var t,i=this,n=i.activeTarget;n&&(i.rendered||(i.render(Ext.getBody()),i.activeTarget=n),i.suspendLayouts(),n.title?(i.setTitle(n.title),i.header.show()):i.header.hide(),i.update(n.text),i.autoHide=n.autoHide,i.dismissDelay=n.dismissDelay||i.dismissDelay,n.mouseOffset&&(e[0]+=n.mouseOffset[0],e[1]+=n.mouseOffset[1]),t=i.lastCls,t&&(i.removeCls(t),delete i.lastCls),t=n.cls,t&&(i.addCls(t),i.lastCls=t),i.setWidth(n.width),i.anchor?i.constrainPosition=!1:n.align?(e=i.el.getAlignToXY(n.el,n.align),i.constrainPosition=!1):i.constrainPosition=!0,i.resumeLayouts(!0)),i.callParent([e])},hide:function(){delete this.activeTarget,this.callParent()}}),Ext.define("Ext.tip.QuickTipManager",function(){var e,t=!1;return{requires:["Ext.tip.QuickTip"],singleton:!0,alternateClassName:"Ext.QuickTips",init:function(i,n){if(!e){if(!Ext.isReady)return void Ext.onReady(function(){Ext.tip.QuickTipManager.init(i,n)});var r=Ext.apply({disabled:t,id:"ext-quicktips-tip"},n),o=r.className,a=r.xtype;o?delete r.className:a&&(o="widget."+a,delete r.xtype),i!==!1&&(r.renderTo=document.body),e=Ext.create(o||"Ext.tip.QuickTip",r)}},destroy:function(){if(e){var t;e.destroy(),e=t}},ddDisable:function(){e&&!t&&e.disable()},ddEnable:function(){e&&!t&&e.enable()},enable:function(){e&&e.enable(),t=!1},disable:function(){e&&e.disable(),t=!0},isEnabled:function(){return void 0!==e&&!e.disabled},getQuickTip:function(){return e},register:function(){e.register.apply(e,arguments)},unregister:function(){e.unregister.apply(e,arguments)},tips:function(){e.register.apply(e,arguments)}}}()),Ext.define("Ext.app.Application",{extend:"Ext.app.Controller",requires:["Ext.ModelManager","Ext.data.Model","Ext.data.StoreManager","Ext.tip.QuickTipManager","Ext.ComponentManager","Ext.app.EventBus"],scope:void 0,enableQuickTips:!0,appFolder:"app",autoCreateViewport:!1,constructor:function(e){e=e||{},Ext.apply(this,e);var t,i,n,r,o,a,s,l=this,d=e.requires||[];if(Ext.Loader.setPath(l.name,l.appFolder),l.paths){o=l.paths;for(s in o)o.hasOwnProperty(s)&&(a=o[s],Ext.Loader.setPath(s,a))}for(l.callParent(arguments),l.eventbus=new Ext.app.EventBus,t=Ext.Array.from(l.controllers),i=t&&t.length,l.controllers=new Ext.util.MixedCollection,l.autoCreateViewport&&d.push(l.getModuleClassName("Viewport","view")),n=0;n<i;n++)d.push(l.getModuleClassName(t[n],"controller"));Ext.require(d),Ext.onReady(function(){for(l.init(l),n=0;n<i;n++)r=l.getController(t[n]),r.init(l);l.onBeforeLaunch.call(l)},l)},control:function(e,t,i){this.eventbus.control(e,t,i)},launch:Ext.emptyFn,onBeforeLaunch:function(){var e,t,i,n,r=this;for(r.enableQuickTips&&Ext.tip.QuickTipManager.init(),r.autoCreateViewport&&r.getView("Viewport").create(),r.launch.call(this.scope||this),r.launched=!0,r.fireEvent("launch",this),e=r.controllers.items,i=e.length,t=0;t<i;t++)n=e[t],n.onLaunch(this)},getModuleClassName:function(e,t){return e.indexOf(".")!==-1&&(Ext.ClassManager.isCreated(e)||Ext.Loader.isAClassNameWithAKnownPrefix(e))?e:this.name+"."+t+"."+e},getController:function(e){var t=this.controllers.get(e);return t||(t=Ext.create(this.getModuleClassName(e,"controller"),{application:this,id:e}),this.controllers.add(t)),t},getStore:function(e){var t=Ext.StoreManager.get(e);return t||(t=Ext.create(this.getModuleClassName(e,"store"),{storeId:e})),t},getModel:function(e){return e=this.getModuleClassName(e,"model"),Ext.ModelManager.getModel(e)},getView:function(e){return e=this.getModuleClassName(e,"view"),Ext.ClassManager.get(e)}}),Ext.define("Ext.form.field.HtmlEditor",{extend:"Ext.Component",mixins:{labelable:"Ext.form.Labelable",field:"Ext.form.field.Field"},alias:"widget.htmleditor",alternateClassName:"Ext.form.HtmlEditor",requires:["Ext.tip.QuickTipManager","Ext.picker.Color","Ext.toolbar.Item","Ext.toolbar.Toolbar","Ext.util.Format","Ext.layout.component.field.HtmlEditor"],childEls:["iframeEl","textareaEl"],fieldSubTpl:["{beforeTextAreaTpl}",'<textarea id="{cmpId}-textareaEl" name="{name}" tabIndex="-1" {inputAttrTpl}',' class="{textareaCls}" style="{size}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{cmpId}-iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' style="overflow:auto;{size}" src="{iframeSrc}"></iframe>',"{afterIFrameTpl}",{disableFormats:!0}],subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:!0,enableFontSize:!0,enableColors:!0,enableAlignments:!0,enableLists:!0,enableSourceEdit:!0,enableLinks:!0,enableFont:!0,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultFont:"tahoma",defaultValue:Ext.isOpera||Ext.isIE6?"&#160;":"&#8203;",editorWrapCls:Ext.baseCSSPrefix+"html-editor-wrap",componentLayout:"htmleditor",initialized:!1,activated:!1,sourceEditMode:!1,iframePad:3,hideMode:"offsets",afterBodyEl:"</div>",maskOnDisable:!0,initComponent:function(){var e=this;e.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange"),e.callParent(arguments),e.createToolbar(e),e.initLabelable(),e.initField()},getRefItems:function(){return[this.toolbar]},createToolbar:function(e){function t(t,i,n){return{itemId:t,cls:d+"btn-icon",iconCls:d+"edit-"+t,enableToggle:i!==!1,scope:e,handler:n||e.relayBtnCmd,clickEvent:"mousedown",tooltip:l?e.buttonTips[t]||o:o,overflowText:e.buttonTips[t].title||o,tabIndex:-1}}var i,n,r,o,a=this,s=[],l=Ext.tip.QuickTipManager&&Ext.tip.QuickTipManager.isEnabled(),d=Ext.baseCSSPrefix;for(a.enableFont&&!Ext.isSafari2&&(n=Ext.widget("component",{renderTpl:['<select id="{id}-selectEl" class="{cls}">','<tpl for="fonts">','<option value="{[values.toLowerCase()]}" style="font-family:{.}"<tpl if="values.toLowerCase()==parent.defaultFont"> selected</tpl>>{.}</option>',"</tpl>","</select>"],renderData:{cls:d+"font-select",fonts:a.fontFamilies,defaultFont:a.defaultFont},childEls:["selectEl"],afterRender:function(){a.fontSelect=this.selectEl,Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var e=this.selectEl;e&&(e.dom.disabled=!0),Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var e=this.selectEl;e&&(e.dom.disabled=!1),Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){a.relayCmd("fontname",a.fontSelect.dom.value),a.deferFocus()},element:"selectEl"}}),s.push(n,"-")),a.enableFormat&&s.push(t("bold"),t("italic"),t("underline")),a.enableFontSize&&s.push("-",t("increasefontsize",!1,a.adjustFont),t("decreasefontsize",!1,a.adjustFont)),a.enableColors&&s.push("-",{itemId:"forecolor",cls:d+"btn-icon",iconCls:d+"edit-forecolor",overflowText:e.buttonTips.forecolor.title,tooltip:l?e.buttonTips.forecolor||o:o,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",allowReselect:!0,focus:Ext.emptyFn,value:"000000",plain:!0,clickEvent:"mousedown",handler:function(e,t){a.execCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+t:t),a.deferFocus(),this.up("menu").hide()}}]})},{itemId:"backcolor",cls:d+"btn-icon",iconCls:d+"edit-backcolor",overflowText:e.buttonTips.backcolor.title,tooltip:l?e.buttonTips.backcolor||o:o,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:!0,allowReselect:!0,clickEvent:"mousedown",handler:function(e,t){Ext.isGecko?(a.execCmd("useCSS",!1),a.execCmd("hilitecolor",t),a.execCmd("useCSS",!0),a.deferFocus()):(a.execCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE?"#"+t:t),a.deferFocus()),this.up("menu").hide()}}]})}),a.enableAlignments&&s.push("-",t("justifyleft"),t("justifycenter"),t("justifyright")),Ext.isSafari2||(a.enableLinks&&s.push("-",t("createlink",!1,a.createLink)),a.enableLists&&s.push("-",t("insertorderedlist"),t("insertunorderedlist")),a.enableSourceEdit&&s.push("-",t("sourceedit",!0,function(e){a.toggleSourceEdit(!a.sourceEditMode)}))),i=0;i<s.length;i++)"sourceedit"!==s[i].itemId&&(s[i].disabled=!0);r=Ext.widget("toolbar",{id:a.id+"-toolbar",ownerCt:a,cls:Ext.baseCSSPrefix+"html-editor-tb",enableOverflow:!0,items:s,ownerLayout:a.getComponentLayout(),listeners:{click:function(e){e.preventDefault()},element:"el"}}),a.toolbar=r},getMaskTarget:function(){return this.bodyEl},setReadOnly:function(e){var t,i=this,n=i.textareaEl,r=i.iframeEl;i.readOnly=e,n&&(n.dom.readOnly=e),i.initialized&&(t=i.getEditorBody(),Ext.isIE?(r.setDisplayed(!1),t.contentEditable=!e,r.setDisplayed(!0)):i.setDesignMode(!e),t&&(t.style.cursor=e?"default":"text"),i.disableItems(e))},getDocMarkup:function(){var e=this,t=e.iframeEl.getHeight()-2*e.iframePad;return Ext.String.format('<html><head><style type="text/css">body{border:0;margin:0;padding:{0}px;height:{1}px;box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box;cursor:text}</style></head><body></body></html>',e.iframePad,t)},getEditorBody:function(){var e=this.getDoc();return e.body||e.documentElement},getDoc:function(){return!Ext.isIE&&this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return Ext.isIE?this.iframeEl.dom.contentWindow:window.frames[this.iframeEl.dom.name]},finishRenderChildren:function(){this.callParent(),this.toolbar.finishRender()},onRender:function(){var e=this;e.callParent(arguments),e.inputEl=e.iframeEl,e.monitorTask=Ext.TaskManager.start({run:e.checkDesignMode,scope:e,interval:100})},initRenderTpl:function(){var e=this;return e.hasOwnProperty("renderTpl")||(e.renderTpl=e.getTpl("labelableRenderTpl")),e.callParent()},initRenderData:function(){return this.beforeSubTpl='<div class="'+this.editorWrapCls+'">'+Ext.DomHelper.markup(this.toolbar.getRenderTree()),Ext.applyIf(this.callParent(),this.getLabelableRenderData())},getSubTplData:function(){return{$comp:this,cmpId:this.id,id:this.getInputId(),textareaCls:Ext.baseCSSPrefix+"hidden",value:this.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,size:"height:100px;width:100%"}},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initFrameDoc:function(){var e,t,i=this;Ext.TaskManager.stop(i.monitorTask),e=i.getDoc(),i.win=i.getWin(),e.open(),e.write(i.getDocMarkup()),e.close(),t={run:function(){var e=i.getDoc();(e.body||"complete"===e.readyState)&&(Ext.TaskManager.stop(t),i.setDesignMode(!0),Ext.defer(i.initEditor,10,i))},interval:10,duration:1e4,scope:i},Ext.TaskManager.start(t)},checkDesignMode:function(){var e=this,t=e.getDoc();!t||t.editorInitialized&&"on"===e.getDesignMode()||e.initFrameDoc()},setDesignMode:function(e){var t=this,i=t.getDoc();i&&(t.readOnly&&(e=!1),i.designMode=/on|true/i.test(String(e).toLowerCase())?"on":"off")},getDesignMode:function(){var e=this.getDoc();return e?String(e.designMode).toLowerCase():""},disableItems:function(e){var t,i,n=this.getToolbar().items.items,r=n.length;for(t=0;t<r;t++)i=n[t],"sourceedit"!==i.getItemId()&&i.setDisabled(e)},toggleSourceEdit:function(e){var t=this,i=t.iframeEl,n=t.textareaEl,r=Ext.baseCSSPrefix+"hidden",o=t.getToolbar().getComponent("sourceedit");Ext.isBoolean(e)||(e=!t.sourceEditMode),t.sourceEditMode=e,o.pressed!==e&&o.toggle(e),e?(t.disableItems(!0),t.syncValue(),i.addCls(r),n.removeCls(r),n.dom.removeAttribute("tabIndex"),n.focus(),t.inputEl=n):(t.initialized&&t.disableItems(t.readOnly),t.pushValue(),i.removeCls(r),n.addCls(r),n.dom.setAttribute("tabIndex",-1),t.deferFocus(),t.inputEl=i),t.fireEvent("editmodechange",t,e),t.updateLayout()},createLink:function(){var e=prompt(this.createLinkText,this.defaultLinkValue);e&&"http://"!==e&&this.relayCmd("createlink",e)},clearInvalid:Ext.emptyFn,setValue:function(e){var t=this,i=t.textareaEl;return t.mixins.field.setValue.call(t,e),null!==e&&void 0!==e||(e=""),i&&(i.dom.value=e),t.pushValue(),this},cleanHtml:function(e){return e=String(e),Ext.isWebKit&&(e=e.replace(/\sclass="(?:Apple-style-span|khtml-block-placeholder)"/gi,"")),e.charCodeAt(0)===parseInt(this.defaultValue.replace(/\D/g,""),10)&&(e=e.substring(1)),e},syncValue:function(){var e,t,i,n,r,o=this;o.initialized&&(e=o.getEditorBody(),i=e.innerHTML,Ext.isWebKit&&(n=e.getAttribute("style"),r=n.match(/text-align:(.*?);/i),r&&r[1]&&(i='<div style="'+r[0]+'">'+i+"</div>")),i=o.cleanHtml(i),o.fireEvent("beforesync",o,i)!==!1&&(o.textareaEl.dom.value!=i&&(o.textareaEl.dom.value=i,t=!0),o.fireEvent("sync",o,i),t&&o.checkChange()))},getValue:function(){var e,t=this;return t.sourceEditMode||t.syncValue(),e=t.rendered?t.textareaEl.dom.value:t.value,t.value=e,e},pushValue:function(){var e,t=this;t.initialized&&(e=t.textareaEl.dom.value||"",!t.activated&&e.length<1&&(e=t.defaultValue),t.fireEvent("beforepush",t,e)!==!1&&(t.getEditorBody().innerHTML=e,Ext.isGecko&&(t.setDesignMode(!1),t.setDesignMode(!0)),t.fireEvent("push",t,e)))},deferFocus:function(){this.focus(!1,!0)},getFocusEl:function(){var e=this,t=e.win;return t&&!e.sourceEditMode?t:e.textareaEl},initEditor:function(){try{var e,t,i=this,n=i.getEditorBody(),r=i.textareaEl.getStyles("font-size","font-family","background-image","background-repeat","background-color","color");if(r["background-attachment"]="fixed",n.bgProperties="fixed",Ext.DomHelper.applyStyles(n,r),e=i.getDoc())try{Ext.EventManager.removeAll(e)}catch(e){}t=Ext.Function.bind(i.onEditorEvent,i),Ext.EventManager.on(e,{mousedown:t,dblclick:t,click:t,keyup:t,buffer:100}),t=i.onRelayedEvent,Ext.EventManager.on(e,{mousedown:t,mousemove:t,mouseup:t,click:t,dblclick:t,scope:i}),Ext.isGecko&&Ext.EventManager.on(e,"keypress",i.applyCommand,i),i.fixKeys&&Ext.EventManager.on(e,"keydown",i.fixKeys,i),Ext.EventManager.on(window,"unload",i.beforeDestroy,i),e.editorInitialized=!0,i.initialized=!0,i.pushValue(),i.setReadOnly(i.readOnly),i.fireEvent("initialize",i)}catch(e){}},beforeDestroy:function(){var e,t,i=this,n=i.monitorTask;if(n&&Ext.TaskManager.stop(n),i.rendered){try{if(e=i.getDoc()){Ext.EventManager.removeAll(Ext.fly(e));for(t in e)e.hasOwnProperty&&e.hasOwnProperty(t)&&delete e[t]}}catch(e){}Ext.destroyMembers(i,"toolbar","iframeEl","textareaEl")}i.callParent()},onRelayedEvent:function(e){var t=this.iframeEl,i=t.getXY(),n=e.getXY();e.xy=[i[0]+n[0],i[1]+n[1]],e.injectEvent(t),e.xy=n},onFirstFocus:function(){var e,t,i=this;if(i.activated=!0,i.disableItems(i.readOnly),Ext.isGecko){i.win.focus(),e=i.win.getSelection(),e.focusNode&&3===e.focusNode.nodeType||(t=e.getRangeAt(0),t.selectNodeContents(i.getEditorBody()),t.collapse(!0),i.deferFocus());try{i.execCmd("useCSS",!0),i.execCmd("styleWithCSS",!1)}catch(e){}}i.fireEvent("activate",i)},adjustFont:function(e){
var t,i="increasefontsize"===e.getItemId()?1:-1,n=this.getDoc().queryCommandValue("FontSize")||"2",r=Ext.isString(n)&&n.indexOf("px")!==-1;n=parseInt(n,10),r?(n=n<=10?1+i:n<=13?2+i:n<=16?3+i:n<=18?4+i:n<=24?5+i:6+i,n=Ext.Number.constrain(n,1,6)):(t=Ext.isSafari,t&&(i*=2),n=Math.max(1,n+i)+(t?"px":0)),this.execCmd("FontSize",n)},onEditorEvent:function(e){this.updateToolbar()},updateToolbar:function(){function e(){for(var e,n=0,r=arguments.length;n<r;n++)e=arguments[n],t[e].toggle(i.queryCommandState(e))}var t,i,n,r,o=this;if(!o.readOnly){if(!o.activated)return void o.onFirstFocus();t=o.getToolbar().items.map,i=o.getDoc(),o.enableFont&&!Ext.isSafari2&&(n=(i.queryCommandValue("FontName")||o.defaultFont).toLowerCase(),r=o.fontSelect.dom,n!==r.value&&(r.value=n)),o.enableFormat&&e("bold","italic","underline"),o.enableAlignments&&e("justifyleft","justifycenter","justifyright"),!Ext.isSafari2&&o.enableLists&&e("insertorderedlist","insertunorderedlist"),Ext.menu.Manager.hideAll(),o.syncValue()}},relayBtnCmd:function(e){this.relayCmd(e.getItemId())},relayCmd:function(e,t){Ext.defer(function(){var i=this;i.focus(),i.execCmd(e,t),i.updateToolbar()},10,this)},execCmd:function(e,t){var i,n=this,r=n.getDoc();r.execCommand(e,!1,t===i?null:t),n.syncValue()},applyCommand:function(e){if(e.ctrlKey){var t,i=this,n=e.getCharCode();if(n>0){switch(n=String.fromCharCode(n)){case"b":t="bold";break;case"i":t="italic";break;case"u":t="underline"}t&&(i.win.focus(),i.execCmd(t),i.deferFocus(),e.preventDefault())}}},insertAtCursor:function(e){var t,i=this;i.activated&&(i.win.focus(),Ext.isIE?(t=i.getDoc().selection.createRange(),t&&(t.pasteHTML(e),i.syncValue(),i.deferFocus())):(i.execCmd("InsertHTML",e),i.deferFocus()))},fixKeys:function(){return Ext.isIE?function(e){var t,i,n=this,r=e.getKey(),o=n.getDoc(),a=n.readOnly;r===e.TAB?(e.stopEvent(),a||(t=o.selection.createRange(),t&&(t.collapse(!0),t.pasteHTML("&#160;&#160;&#160;&#160;"),n.deferFocus()))):r===e.ENTER&&(a||(t=o.selection.createRange(),t&&(i=t.parentElement(),i&&"li"===i.tagName.toLowerCase()||(e.stopEvent(),t.pasteHTML("<br />"),t.collapse(!1),t.select()))))}:Ext.isOpera?function(e){var t=this;e.getKey()===e.TAB&&(e.stopEvent(),t.readOnly||(t.win.focus(),t.execCmd("InsertHTML","&#160;&#160;&#160;&#160;"),t.deferFocus()))}:Ext.isWebKit?function(e){var t=this,i=e.getKey(),n=t.readOnly;i===e.TAB?(e.stopEvent(),n||(t.execCmd("InsertText","\t"),t.deferFocus())):i===e.ENTER&&(e.stopEvent(),n||(t.execCmd("InsertHtml","<br /><br />"),t.deferFocus()))}:null}(),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:Ext.baseCSSPrefix+"html-editor-tip"}}}),Ext.define("Ext.panel.Tool",{extend:"Ext.Component",requires:["Ext.tip.QuickTipManager"],alias:"widget.tool",baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img id="{id}-toolEl" src="{blank}" class="{baseCls}-{type}" role="presentation"/>'],tooltipType:"qtip",stopEvent:!0,height:15,width:15,initComponent:function(){var e=this;e.addEvents("click"),e.type=e.type||e.id,Ext.applyIf(e.renderData,{baseCls:e.baseCls,blank:Ext.BLANK_IMAGE_URL,type:e.type}),e.tooltip=e.tooltip||e.qtip,e.callParent(),e.on({element:"toolEl",click:e.onClick,mousedown:e.onMouseDown,mouseover:e.onMouseOver,mouseout:e.onMouseOut,scope:e})},afterRender:function(){var e,t=this;t.callParent(arguments),t.tooltip&&(Ext.isObject(t.tooltip)?Ext.tip.QuickTipManager.register(Ext.apply({target:t.id},t.tooltip)):(e="qtip"==t.tooltipType?"data-qtip":"title",t.toolEl.dom.setAttribute(e,t.tooltip)))},getFocusEl:function(){return this.el},setType:function(e){var t=this;return t.type=e,t.rendered&&(t.toolEl.dom.className=t.baseCls+"-"+e),t},bindTo:function(e){this.owner=e},onClick:function(e,t){var i,n=this;return!n.disabled&&(i=n.owner||n.ownerCt,n.el.removeCls(n.toolPressedCls),n.el.removeCls(n.toolOverCls),n.stopEvent!==!1&&e.stopEvent(),Ext.callback(n.handler,n.scope||n,[e,t,i,n]),n.fireEvent("click",n,e),!0)},onDestroy:function(){Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.id),this.callParent()},onMouseDown:function(){return!this.disabled&&void this.el.addCls(this.toolPressedCls)},onMouseOver:function(){return!this.disabled&&void this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}}),Ext.define("Ext.toolbar.Paging",{extend:"Ext.toolbar.Toolbar",alias:"widget.pagingtoolbar",alternateClassName:"Ext.PagingToolbar",requires:["Ext.toolbar.TextItem","Ext.form.field.Number"],mixins:{bindable:"Ext.util.Bindable"},displayInfo:!1,prependButtons:!1,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){var e=this;return[{itemId:"first",tooltip:e.firstText,overflowText:e.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:!0,handler:e.moveFirst,scope:e},{itemId:"prev",tooltip:e.prevText,overflowText:e.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:!0,handler:e.movePrevious,scope:e},"-",e.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:!1,minValue:1,hideTrigger:!0,enableKeyEvents:!0,keyNavEnabled:!1,selectOnFocus:!0,submitValue:!1,isFormField:!1,width:e.inputItemWidth,margins:"-1 2 3 2",listeners:{scope:e,keydown:e.onPagingKeyDown,blur:e.onPagingBlur}},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(e.afterPageText,1)},"-",{itemId:"next",tooltip:e.nextText,overflowText:e.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:!0,handler:e.moveNext,scope:e},{itemId:"last",tooltip:e.lastText,overflowText:e.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:!0,handler:e.moveLast,scope:e},"-",{itemId:"refresh",tooltip:e.refreshText,overflowText:e.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",handler:e.doRefresh,scope:e}]},initComponent:function(){var e=this,t=e.getPagingItems(),i=e.items||e.buttons||[];e.prependButtons?e.items=i.concat(t):e.items=t.concat(i),delete e.buttons,e.displayInfo&&(e.items.push("->"),e.items.push({xtype:"tbtext",itemId:"displayItem"})),e.callParent(),e.addEvents("change","beforechange"),e.on("beforerender",e.onLoad,e,{single:!0}),e.bindStore(e.store||"ext-empty-store",!0)},updateInfo:function(){var e,t,i=this,n=i.child("#displayItem"),r=i.store,o=i.getPageData();n&&(e=r.getCount(),t=0===e?i.emptyMsg:Ext.String.format(i.displayMsg,o.fromRecord,o.toRecord,o.total),n.setText(t))},onLoad:function(){var e,t,i,n,r,o,a=this;r=a.store.getCount(),o=0===r,o?(t=0,i=0,n=Ext.String.format(a.afterPageText,0)):(e=a.getPageData(),t=e.currentPage,i=e.pageCount,n=Ext.String.format(a.afterPageText,isNaN(i)?1:i)),Ext.suspendLayouts(),a.child("#afterTextItem").setText(n),a.child("#inputItem").setDisabled(o).setValue(t),a.child("#first").setDisabled(1===t||o),a.child("#prev").setDisabled(1===t||o),a.child("#next").setDisabled(t===i||o),a.child("#last").setDisabled(t===i||o),a.child("#refresh").enable(),a.updateInfo(),Ext.resumeLayouts(!0),a.rendered&&a.fireEvent("change",a,e)},getPageData:function(){var e=this.store,t=e.getTotalCount();return{total:t,currentPage:e.currentPage,pageCount:Math.ceil(t/e.pageSize),fromRecord:(e.currentPage-1)*e.pageSize+1,toRecord:Math.min(e.currentPage*e.pageSize,t)}},onLoadError:function(){this.rendered&&this.child("#refresh").enable()},readPageFromInput:function(e){var t=this.child("#inputItem").getValue(),i=parseInt(t,10);return!t||isNaN(i)?(this.child("#inputItem").setValue(e.currentPage),!1):i},onPagingFocus:function(){this.child("#inputItem").select()},onPagingBlur:function(e){var t=this.getPageData().currentPage;this.child("#inputItem").setValue(t)},onPagingKeyDown:function(e,t){var i,n=this,r=t.getKey(),o=n.getPageData(),a=t.shiftKey?10:1;r==t.RETURN?(t.stopEvent(),i=n.readPageFromInput(o),i!==!1&&(i=Math.min(Math.max(1,i),o.pageCount),n.fireEvent("beforechange",n,i)!==!1&&n.store.loadPage(i))):r==t.HOME||r==t.END?(t.stopEvent(),i=r==t.HOME?1:o.pageCount,e.setValue(i)):r!=t.UP&&r!=t.PAGE_UP&&r!=t.DOWN&&r!=t.PAGE_DOWN||(t.stopEvent(),i=n.readPageFromInput(o),i&&(r!=t.DOWN&&r!=t.PAGE_DOWN||(a*=-1),i+=a,i>=1&&i<=o.pageCount&&e.setValue(i)))},beforeLoad:function(){this.rendered&&this.refresh&&this.refresh.disable()},moveFirst:function(){this.fireEvent("beforechange",this,1)!==!1&&this.store.loadPage(1)},movePrevious:function(){var e=this,t=e.store.currentPage-1;t>0&&e.fireEvent("beforechange",e,t)!==!1&&e.store.previousPage()},moveNext:function(){var e=this,t=e.getPageData().pageCount,i=e.store.currentPage+1;i<=t&&e.fireEvent("beforechange",e,i)!==!1&&e.store.nextPage()},moveLast:function(){var e=this,t=e.getPageData().pageCount;e.fireEvent("beforechange",e,t)!==!1&&e.store.loadPage(t)},doRefresh:function(){var e=this,t=e.store.currentPage;e.fireEvent("beforechange",e,t)!==!1&&e.store.loadPage(t)},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},unbind:function(e){this.bindStore(null)},bind:function(e){this.bindStore(e)},onDestroy:function(){this.unbind(),this.callParent()}}),Ext.define("Ext.tree.Column",{extend:"Ext.grid.column.Column",alias:"widget.treecolumn",tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",treePrefix:Ext.baseCSSPrefix+"tree-",elbowPrefix:Ext.baseCSSPrefix+"tree-elbow-",expanderCls:Ext.baseCSSPrefix+"tree-expander",imgText:'<img src="{1}" class="{0}" />',checkboxText:'<input type="button" role="checkbox" class="{0}" {1} />',initComponent:function(){var e=this;e.origRenderer=e.renderer||e.defaultRenderer,e.origScope=e.scope||window,e.renderer=e.treeRenderer,e.scope=e,e.callParent()},treeRenderer:function(e,t,i,n,r,o,a){for(var s=this,l=[],d=Ext.String.format,u=i.getDepth(),c=s.treePrefix,h=s.elbowPrefix,g=s.expanderCls,p=s.imgText,f=s.checkboxText,m=s.origRenderer.apply(s.origScope,arguments),x=Ext.BLANK_IMAGE_URL,y=i.get("href"),v=i.get("hrefTarget"),E=i.get("cls");i;)(!i.isRoot()||i.isRoot()&&a.rootVisible)&&(i.getDepth()===u?(l.unshift(d(p,c+"icon "+c+"icon"+(i.get("icon")?"-inline ":i.isLeaf()?"-leaf ":"-parent ")+(i.get("iconCls")||""),i.get("icon")||x)),null!==i.get("checked")&&(l.unshift(d(f,c+"checkbox"+(i.get("checked")?" "+c+"checkbox-checked":""),i.get("checked")?'aria-checked="true"':"")),i.get("checked")&&(t.tdCls+=" "+c+"checked")),i.isLast()?i.isExpandable()?l.unshift(d(p,h+"end-plus "+g,x)):l.unshift(d(p,h+"end",x)):i.isExpandable()?l.unshift(d(p,h+"plus "+g,x)):l.unshift(d(p,c+"elbow",x))):i.isLast()||0===i.getDepth()?l.unshift(d(p,h+"empty",x)):0!==i.getDepth()&&l.unshift(d(p,h+"line",x))),i=i.parentNode;return y?l.push('<a href="',y,'" target="',v,'">',m,"</a>"):l.push(m),E&&(t.tdCls+=" "+E),l.join("")},defaultRenderer:function(e){return e}}),Ext.define("Ext.view.DragZone",{extend:"Ext.dd.DragZone",containerScroll:!1,constructor:function(e){var t,i,n,r=this;Ext.apply(r,e),r.ddGroup||(r.ddGroup="view-dd-zone-"+r.view.id),t=r.view,i=t.ownerCt,n=i?i.getTargetEl().dom:t.el.dom.parentNode,r.callParent([n]),r.ddel=Ext.get(document.createElement("div")),r.ddel.addCls(Ext.baseCSSPrefix+"grid-dd-wrap")},init:function(e,t,i){this.initTarget(e,t,i),this.view.mon(this.view,{itemmousedown:this.onItemMouseDown,scope:this})},onValidDrop:function(e,t,i){this.callParent(),e.el.focus()},onItemMouseDown:function(e,t,i,n,r){if(!this.isPreventDrag(r,t,i,n)&&(this.view.focus(),this.handleMouseDown(r),"MULTI"==e.getSelectionModel().selectionMode&&!r.ctrlKey&&e.getSelectionModel().isSelected(t)))return!1},isPreventDrag:function(e){return!1},getDragData:function(e){var t=this.view,i=e.getTarget(t.getItemSelector());if(i)return{copy:t.copy||t.allowCopy&&e.ctrlKey,event:new Ext.EventObjectImpl(e),view:t,ddel:this.ddel,item:i,records:t.getSelectionModel().getSelection(),fromPosition:Ext.fly(i).getXY()}},onInitDrag:function(e,t){var i=this,n=i.dragData,r=n.view,o=r.getSelectionModel(),a=r.getRecord(n.item);n.event;return o.isSelected(a)||o.select(a,!0),n.records=o.getSelection(),i.ddel.update(i.getDragText()),i.proxy.update(i.ddel.dom),i.onStartDrag(e,t),!0},getDragText:function(){var e=this.dragData.records.length;return Ext.String.format(this.dragText,e,1==e?"":"s")},getRepairXY:function(e,t){return!!t&&t.fromPosition}}),Ext.define("Ext.tree.ViewDragZone",{extend:"Ext.view.DragZone",isPreventDrag:function(e,t){return t.get("allowDrag")===!1||!!e.getTarget(this.view.expanderSelector)},afterRepair:function(){var e,t,i=this,n=i.view,r=n.selectedItemCls,o=i.dragData.records,a=o.length,s=Ext.fly;if(Ext.enableFx&&i.repairHighlight)for(e=0;e<a;e++)t=n.getNode(o[e]),s(t.firstChild).highlight(i.repairHighlightColor,{listeners:{beforeanimate:function(){n.isSelected(t)&&s(t).removeCls(r)},afteranimate:function(){n.isSelected(t)&&s(t).addCls(r)}}});i.dragging=!1}}),Ext.define("Ext.view.DropZone",{extend:"Ext.dd.DropZone",indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",constructor:function(e){var t=this;Ext.apply(t,e),t.ddGroup||(t.ddGroup="view-dd-zone-"+t.view.id),t.callParent([t.view.el])},fireViewEvent:function(){var e,t=this;return t.lock(),e=t.view.fireEvent.apply(t.view,arguments),t.unlock(),e},getTargetFromEvent:function(e){var t,i,n,r,o,a,s=e.getTarget(this.view.getItemSelector());if(!s)for(t=e.getPageY(),r=0,i=this.view.getNodes(),o=i.length;r<o;r++)if(n=i[r],a=Ext.fly(n).getBox(),t<=a.bottom)return n;return s},getIndicator:function(){var e=this;return e.indicator||(e.indicator=new Ext.Component({html:e.indicatorHtml,cls:e.indicatorCls,ownerCt:e.view,floating:!0,shadow:!1})),e.indicator},getPosition:function(e,t){var i,n=e.getXY()[1],r=Ext.fly(t).getRegion();return i=r.bottom-n>=(r.bottom-r.top)/2?"before":"after"},containsRecordAtOffset:function(e,t,i){if(!t)return!1;var n=this.view,r=n.indexOf(t),o=n.getNode(r+i),a=o?n.getRecord(o):null;return a&&Ext.Array.contains(e,a)},positionIndicator:function(e,t,i){var n,r=this,o=r.view,a=r.getPosition(i,e),s=o.getRecord(e),l=t.records;Ext.Array.contains(l,s)||("before"!=a||r.containsRecordAtOffset(l,s,-1))&&("after"!=a||r.containsRecordAtOffset(l,s,1))?r.invalidateDrop():(r.valid=!0,r.overRecord==s&&r.currentPosition==a||(n=Ext.fly(e).getY()-o.el.getY()-1,"after"==a&&(n+=Ext.fly(e).getHeight()),r.getIndicator().setWidth(Ext.fly(o.el).getWidth()).showAt(0,n),r.overRecord=s,r.currentPosition=a))},invalidateDrop:function(){this.valid&&(this.valid=!1,this.getIndicator().hide())},onNodeOver:function(e,t,i,n){var r=this;return Ext.Array.contains(n.records,r.view.getRecord(e))||r.positionIndicator(e,n,i),r.valid?r.dropAllowed:r.dropNotAllowed},notifyOut:function(e,t,i,n){var r=this;r.callParent(arguments),delete r.overRecord,delete r.currentPosition,r.indicator&&r.indicator.hide()},onContainerOver:function(e,t,i){var n=this,r=n.view,o=r.store.getCount();return o?n.positionIndicator(r.getNode(o-1),i,t):(delete n.overRecord,delete n.currentPosition,n.getIndicator().setWidth(Ext.fly(r.el).getWidth()).showAt(0,0),n.valid=!0),n.dropAllowed},onContainerDrop:function(e,t,i){return this.onNodeDrop(e,null,t,i)},onNodeDrop:function(e,t,i,n){var r=this,o=!1,a={wait:!1,processDrop:function(){r.invalidateDrop(),r.handleNodeDrop(n,r.overRecord,r.currentPosition),o=!0,r.fireViewEvent("drop",e,n,r.overRecord,r.currentPosition)},cancelDrop:function(){r.invalidateDrop(),o=!0}},s=!1;if(r.valid){if(s=r.fireViewEvent("beforedrop",e,n,r.overRecord,r.currentPosition,a),a.wait)return;s!==!1&&(o||a.processDrop())}return s},destroy:function(){Ext.destroy(this.indicator),delete this.indicator,this.callParent()}}),Ext.define("Ext.grid.ViewDropZone",{extend:"Ext.view.DropZone",indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",handleNodeDrop:function(e,t,i){var n,r,o,a,s=this.view,l=s.getStore();if(e.copy)for(r=e.records,e.records=[],o=0,a=r.length;o<a;o++)e.records.push(r[o].copy(r[o].getId()));else e.view.store.remove(e.records,e.view===s);n=l.indexOf(t),"before"!==i&&n++,l.insert(n,e.records),s.getSelectionModel().select(e.records)}}),Ext.define("Ext.tree.ViewDropZone",{extend:"Ext.view.DropZone",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,expandDelay:500,indicatorCls:Ext.baseCSSPrefix+"tree-ddindicator",expandNode:function(e){var t=this.view;e.isLeaf()||e.isExpanded()||(t.expand(e),this.expandProcId=!1)},queueExpand:function(e){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[e])},cancelExpand:function(){this.expandProcId&&(clearTimeout(this.expandProcId),this.expandProcId=!1)},getPosition:function(e,t){var i,n=this.view,r=n.getRecord(t),o=e.getPageY(),a=r.isLeaf(),s=!1,l=Ext.fly(t).getRegion();return r.isRoot()?"append":this.appendOnly?!a&&"append":(this.allowParentInsert||(s=r.hasChildNodes()&&r.isExpanded()),i=(l.bottom-l.top)/(a?2:3),o>=l.top&&o<l.top+i?"before":!s&&(a||o>=l.bottom-i&&o<=l.bottom)?"after":"append")},isValidDropPoint:function(e,t,i,n,r){if(!e||!r.item)return!1;var o,a,s=this.view,l=s.getRecord(e),d=r.records,u=d.length,c=d.length;if(!(l&&t&&u))return!1;for(o=0;o<c;o++)if(a=d[o],a.isNode&&a.contains(l))return!1;return("append"!==t||l.get("allowDrop")!==!1)&&(("append"==t||l.parentNode.get("allowDrop")!==!1)&&!Ext.Array.contains(d,l))},onNodeOver:function(e,t,i,n){var r=this.getPosition(i,e),o=this.dropNotAllowed,a=this.view,s=a.getRecord(e),l=this.getIndicator(),d=0;return this.cancelExpand(),"append"!=r||this.expandProcId||Ext.Array.contains(n.records,s)||s.isLeaf()||s.isExpanded()||this.queueExpand(s),this.isValidDropPoint(e,r,t,i,n)?(this.valid=!0,this.currentPosition=r,this.overRecord=s,l.setWidth(Ext.fly(e).getWidth()),d=Ext.fly(e).getY()-Ext.fly(a.el).getY()-1,"before"==r?(o=s.isFirst()?Ext.baseCSSPrefix+"tree-drop-ok-above":Ext.baseCSSPrefix+"tree-drop-ok-between",l.showAt(0,d),t.proxy.show()):"after"==r?(o=s.isLast()?Ext.baseCSSPrefix+"tree-drop-ok-below":Ext.baseCSSPrefix+"tree-drop-ok-between",d+=Ext.fly(e).getHeight(),l.showAt(0,d),t.proxy.show()):(o=Ext.baseCSSPrefix+"tree-drop-ok-append",l.hide())):this.valid=!1,this.currentCls=o,o},onContainerOver:function(e,t,i){return t.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},notifyOut:function(){this.callParent(arguments),this.cancelExpand()},handleNodeDrop:function(e,t,i){var n,r,o,a,s,l,d,u=this,c=u.view,h=t.parentNode,g=(c.getStore(),[]);if(e.copy)for(n=e.records,e.records=[],r=0,o=n.length;r<o;r++)e.records.push(Ext.apply({},n[r].data));u.cancelExpand(),"before"==i?(a=h.insertBefore,s=[null,t],t=h):"after"==i?(t.nextSibling?(a=h.insertBefore,s=[null,t.nextSibling]):(a=h.appendChild,s=[null]),t=h):(t.isExpanded()||(l=!0),a=t.appendChild,s=[null]),d=function(){var i,n,l,d,h;for(r=0,o=e.records.length;r<o;r++)s[0]=e.records[r],i=a.apply(t,s),Ext.enableFx&&u.dropHighlight&&g.push(c.getNode(i));if(Ext.enableFx&&u.dropHighlight)for(l=g.length,d=u.dropHighlightColor,n=0;n<l;n++)h=g[n],h&&Ext.fly(h.firstChild?h.firstChild:h).highlight(d)},l?t.expand(!1,d):d()}}),Ext.define("Ext.view.TableChunker",{singleton:!0,requires:["Ext.XTemplate"],metaTableTpl:["{%if (this.openTableWrap)out.push(this.openTableWrap())%}",'<table class="'+Ext.baseCSSPrefix+"grid-table "+Ext.baseCSSPrefix+'grid-table-resizer" border="0" cellspacing="0" cellpadding="0" {[this.embedFullWidth(values)]}>',"<tbody>",'<tr class="'+Ext.baseCSSPrefix+'grid-header-row">','<tpl for="columns">','<th class="'+Ext.baseCSSPrefix+'grid-col-resizer-{id}" style="width: {width}px; height: 0px;"></th>',"</tpl>","</tr>","{[this.openRows()]}","{row}",'<tpl for="features">',"{[this.embedFeature(values, parent, xindex, xcount)]}","</tpl>","{[this.closeRows()]}","</tbody>","</table>","{%if (this.closeTableWrap)out.push(this.closeTableWrap())%}"],constructor:function(){Ext.XTemplate.prototype.recurse=function(e,t){return this.apply(t?e[t]:e)}},embedFeature:function(e,t,i,n){var r="";return e.disabled||(r=e.getFeatureTpl(e,t,i,n)),r},embedFullWidth:function(e){var t='style="width:{fullWidth}px;';return e.rowCount||(t+="height:1px;"),t+'"'},openRows:function(){return'<tpl for="rows">'},closeRows:function(){return"</tpl>"},metaRowTpl:['<tr class="'+Ext.baseCSSPrefix+'grid-row {[this.embedRowCls()]}" {[this.embedRowAttr()]}>','<tpl for="columns">','<td class="{cls} '+Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+'grid-cell-{columnId} {{id}-modified} {{id}-tdCls} {[this.firstOrLastCls(xindex, xcount)]}" {{id}-tdAttr}>','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {unselectableCls}" style="text-align: {align}; {{id}-style};">{{id}}</div>',"</td>","</tpl>","</tr>"],firstOrLastCls:function(e,t){return 1===e?Ext.view.Table.prototype.firstCls:e===t?Ext.view.Table.prototype.lastCls:void 0},embedRowCls:function(){return"{rowCls}"},embedRowAttr:function(){return"{rowAttr}"},openTableWrap:void 0,closeTableWrap:void 0,getTableTpl:function(e,t){for(var i,n,r={openRows:this.openRows,closeRows:this.closeRows,embedFeature:this.embedFeature,embedFullWidth:this.embedFullWidth,openTableWrap:this.openTableWrap,closeTableWrap:this.closeTableWrap},o={},a=e.features||[],s=a.length,l=0,d={embedRowCls:this.embedRowCls,embedRowAttr:this.embedRowAttr,firstOrLastCls:this.firstOrLastCls,unselectableAttr:e.enableTextSelection?"":'unselectable="on"',unselectableCls:e.enableTextSelection?"":Ext.baseCSSPrefix+"unselectable"},u=Array.prototype.slice.call(this.metaRowTpl,0);l<s;l++)a[l].disabled||(a[l].mutateMetaRowTpl(u),Ext.apply(d,a[l].getMetaRowTplFragments()),Ext.apply(o,a[l].getFragmentTpl()),Ext.apply(r,a[l].getTableFragments()));return u=new Ext.XTemplate(u.join(""),d),e.row=u.applyTemplate(e),n=new Ext.XTemplate(this.metaTableTpl.join(""),r),i=n.applyTemplate(e),t||(i=new Ext.XTemplate(i,o)),i}}),Ext.define("Ext.view.View",{extend:"Ext.view.AbstractView",alternateClassName:"Ext.DataView",alias:"widget.dataview",deferHighlight:Ext.isIE6||Ext.isIE7?100:0,inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",focus:"Focus"}},initComponent:function(){var e=this;e.callParent(),e.deferHighlight&&(e.setHighlightedItem=Ext.Function.createBuffered(e.setHighlightedItem,e.deferHighlight,e))},addCmpEvents:function(){this.addEvents("beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","beforeitemkeydown","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect","beforedeselect","select","deselect","focuschange","highlightitem","unhighlightitem")},getFocusEl:function(){return this.getTargetEl()},afterRender:function(){var e=this;e.callParent(),e.mon(e.getTargetEl(),{scope:e,freezeEvent:!0,click:e.handleEvent,mousedown:e.handleEvent,mouseup:e.handleEvent,dblclick:e.handleEvent,contextmenu:e.handleEvent,mouseover:e.handleEvent,mouseout:e.handleEvent,keydown:e.handleEvent})},handleEvent:function(e){var t=this,i="keydown"==e.type&&e.getKey();t.processUIEvent(e)!==!1&&t.processSpecialEvent(e),i===e.SPACE&&(t.inputTagRe.test(e.getTarget().tagName)||e.stopEvent())},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,stillOverItem:function(e,t){var i;return!(!t||"object"!=typeof t.offsetParent)&&(i="mouseout"==e.type?e.getRelatedTarget():e.getTarget(),Ext.fly(t).contains(i))},processUIEvent:function(e){var t,i,n,r=this,o=e.getTarget(r.getItemSelector(),r.getTargetEl()),a=this.statics().EventMap,s=e.type,l=r.mouseOverItem;if(o||("mouseover"==s&&r.stillOverItem(e,l)&&(o=l),"keydown"==s&&(i=r.getSelectionModel().getLastSelected(),i&&(o=r.getNode(i)))),o){if(t=r.indexOf(o),i||(i=r.getRecord(o)),!i||r.processItemEvent(i,o,t,e)===!1)return!1;if(n=r.isNewItemEvent(o,e),n===!1)return!1;if(r["onBeforeItem"+a[n]](i,o,t,e)===!1||r.fireEvent("beforeitem"+n,r,i,o,t,e)===!1||r["onItem"+a[n]](i,o,t,e)===!1)return!1;r.fireEvent("item"+n,r,i,o,t,e)}else{if(r.processContainerEvent(e)===!1||r["onBeforeContainer"+a[s]](e)===!1||r.fireEvent("beforecontainer"+s,r,e)===!1||r["onContainer"+a[s]](e)===!1)return!1;r.fireEvent("container"+s,r,e)}return!0},isNewItemEvent:function(e,t){var i=this,n=i.mouseOverItem,r=t.type;switch(r){case"mouseover":return e!==n&&(i.mouseOverItem=e,"mouseenter");case"mouseout":return!i.stillOverItem(t,n)&&(i.mouseOverItem=null,"mouseleave")}return r},onItemMouseEnter:function(e,t,i,n){this.trackOver&&this.highlightItem(t)},onItemMouseLeave:function(e,t,i,n){this.trackOver&&this.clearHighlight()},onItemMouseDown:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,setHighlightedItem:function(e){var t=this,i=t.highlightedItem;i!=e&&(i&&(Ext.fly(i).removeCls(t.overItemCls),t.fireEvent("unhighlightitem",t,i)),t.highlightedItem=e,e&&(Ext.fly(e).addCls(t.overItemCls),t.fireEvent("highlightitem",t,e)))},highlightItem:function(e){this.setHighlightedItem(e)},clearHighlight:function(){this.setHighlightedItem(void 0)},onUpdate:function(e,t){var i,n,r,o=this;o.viewReady&&(i=o.getNode(t),n=o.callParent(arguments),r=o.highlightedItem,r&&r===i&&(delete o.highlightedItem,n&&o.highlightItem(n)))},refresh:function(){this.clearHighlight(),this.callParent(arguments)}}),Ext.define("Ext.view.BoundList",{extend:"Ext.view.View",alias:"widget.boundlist",alternateClassName:"Ext.BoundList",requires:["Ext.layout.component.BoundList","Ext.toolbar.Paging"],pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:!1,trackOver:!0,refreshed:0,deferInitialRefresh:!1,componentLayout:"boundlist",childEls:["listEl"],renderTpl:['<div id="{id}-listEl" class="{baseCls}-list-ct" style="overflow:auto"></div>',"{%","var me=values.$comp, pagingToolbar=me.pagingToolbar;","if (pagingToolbar) {","pagingToolbar.ownerLayout = me.componentLayout;","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:!0}],initComponent:function(){var e=this,t=e.baseCls,i=e.itemCls;e.selectedItemCls=t+"-selected",e.overItemCls=t+"-item-over",e.itemSelector="."+i,e.floating&&e.addCls(t+"-floating"),e.tpl?Ext.isString(e.tpl)&&(e.tpl=new Ext.XTemplate(e.tpl)):e.tpl=new Ext.XTemplate('<ul><tpl for=".">','<li role="option" class="'+i+'">'+e.getInnerTpl(e.displayField)+"</li>","</tpl></ul>"),e.pageSize&&(e.pagingToolbar=e.createPagingToolbar()),e.callParent()},beforeRender:function(){var e=this;e.callParent(arguments),e.up("menu")&&e.addCls(Ext.baseCSSPrefix+"menu")},getBubbleTarget:function(){return this.pickerField},getRefItems:function(){return this.pagingToolbar?[this.pagingToolbar]:[]},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.store,border:!1,ownerCt:this,ownerLayout:this.getComponentLayout()})},finishRenderChildren:function(){var e=this.pagingToolbar;this.callParent(arguments),e&&e.finishRender()},refresh:function(){var e=this,t=e.pagingToolbar;e.callParent(),e.rendered&&t&&t.rendered&&!e.preserveScrollOnRefresh&&e.el.appendChild(t.el)},bindStore:function(e,t){var i=this.pagingToolbar;this.callParent(arguments),i&&i.bindStore(this.store,t)},getTargetEl:function(){return this.listEl||this.el},getInnerTpl:function(e){return"{"+e+"}"},onDestroy:function(){Ext.destroyMembers(this,"pagingToolbar","listEl"),this.callParent()}}),Ext.define("Ext.picker.Time",{extend:"Ext.view.BoundList",alias:"widget.timepicker",requires:["Ext.data.Store","Ext.Date"],increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:Ext.baseCSSPrefix+"timepicker",loadMask:!1,initComponent:function(){var e=this,t=Ext.Date,i=t.clearTime,n=e.initDate;e.absMin=i(new Date(n[0],n[1],n[2])),e.absMax=t.add(i(new Date(n[0],n[1],n[2])),"mi",1439),e.store=e.createStore(),e.updateList(),e.callParent()},setMinValue:function(e){this.minValue=e,this.updateList()},setMaxValue:function(e){this.maxValue=e,this.updateList()},normalizeDate:function(e){var t=this.initDate;return e.setFullYear(t[0],t[1],t[2]),e},updateList:function(){var e=this,t=e.normalizeDate(e.minValue||e.absMin),i=e.normalizeDate(e.maxValue||e.absMax);e.store.filterBy(function(e){var n=e.get("date");return n>=t&&n<=i})},createStore:function(){for(var e=this,t=Ext.Date,i=[],n=e.absMin,r=e.absMax;n<=r;)i.push({disp:t.dateFormat(n,e.format),date:n}),n=t.add(n,"mi",e.increment);return new Ext.data.Store({fields:["disp","date"],data:i})}}),Ext.define("Ext.view.BoundListKeyNav",{extend:"Ext.util.KeyNav",requires:"Ext.view.BoundList",constructor:function(e,t){var i=this;i.boundList=t.boundList,i.callParent([e,Ext.apply({},t,i.defaultHandlers)]);
},defaultHandlers:{up:function(){var e=this,t=e.boundList,i=t.all,n=t.highlightedItem,r=n?t.indexOf(n):-1,o=r>0?r-1:i.getCount()-1;e.highlightAt(o)},down:function(){var e=this,t=e.boundList,i=t.all,n=t.highlightedItem,r=n?t.indexOf(n):-1,o=r<i.getCount()-1?r+1:0;e.highlightAt(o)},pageup:function(){},pagedown:function(){},home:function(){this.highlightAt(0)},end:function(){var e=this;e.highlightAt(e.boundList.all.getCount()-1)},enter:function(e){this.selectHighlighted(e)}},highlightAt:function(e){var t=this.boundList,i=t.all.item(e);i&&(i=i.dom,t.highlightItem(i),t.getTargetEl().scrollChildIntoView(i,!1))},selectHighlighted:function(e){var t=this,i=t.boundList,n=i.highlightedItem,r=i.getSelectionModel();n&&r.selectWithEvent(i.getRecord(n),e)}}),Ext.define("Ext.form.field.ComboBox",{extend:"Ext.form.field.Picker",requires:["Ext.util.DelayedTask","Ext.EventObject","Ext.view.BoundList","Ext.view.BoundListKeyNav","Ext.data.StoreManager","Ext.layout.component.field.ComboBox"],alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],mixins:{bindable:"Ext.util.Bindable"},componentLayout:"combobox",triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",hiddenDataCls:Ext.baseCSSPrefix+"hide-display "+Ext.baseCSSPrefix+"form-data-hidden",fieldSubTpl:['<div class="{hiddenDataCls}" role="presentation"></div>','<input id="{id}" type="{type}" {inputAttrTpl} class="{fieldCls} {typeCls}" autocomplete="off"','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"/>",{compiled:!0,disableFormats:!0}],getSubTplData:function(){var e=this;return Ext.applyIf(e.subTplData,{hiddenDataCls:e.hiddenDataCls}),e.callParent(arguments)},afterRender:function(){var e=this;e.callParent(arguments),e.setHiddenValue(e.value)},multiSelect:!1,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:!0,pageSize:0,autoSelect:!0,typeAhead:!1,typeAheadDelay:250,selectOnTab:!0,forceSelection:!1,growToLongestValue:!0,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},ignoreSelection:0,removingRecords:null,resizeComboToGrow:function(){var e=this;return e.grow&&e.growToLongestValue},initComponent:function(){var e,t,i=this,n=Ext.isDefined,r=i.store,o=i.transform;Ext.applyIf(i.renderSelectors,{hiddenDataEl:"."+i.hiddenDataCls.split(" ").join(".")}),this.addEvents("beforequery","select","beforeselect","beforedeselect"),o&&(e=Ext.getDom(o),e&&(i.store||(r=Ext.Array.map(Ext.Array.from(e.options),function(e){return[e.value,e.text]})),i.name||(i.name=e.name),"value"in i||(i.value=e.value))),i.bindStore(r||"ext-empty-store",!0),r=i.store,r.autoCreated&&(i.queryMode="local",i.valueField=i.displayField="field1",r.expanded||(i.displayField="field2")),n(i.valueField)||(i.valueField=i.displayField),t="local"===i.queryMode,n(i.queryDelay)||(i.queryDelay=t?10:500),n(i.minChars)||(i.minChars=t?0:4),i.displayTpl?Ext.isString(i.displayTpl)&&(i.displayTpl=new Ext.XTemplate(i.displayTpl)):i.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+i.displayField+'"]]}<tpl if="xindex < xcount">'+i.delimiter+"</tpl></tpl>"),i.callParent(),i.doQueryTask=new Ext.util.DelayedTask(i.doRawQuery,i),i.store.getCount()>0&&i.setValue(i.value),e&&(i.render(e.parentNode,e),Ext.removeNode(e),delete i.renderTo)},getStore:function(){return this.store},beforeBlur:function(){this.doQueryTask.cancel(),this.assertValue()},assertValue:function(){var e,t=this,i=t.getRawValue();t.forceSelection&&(t.multiSelect?i!==t.getDisplayValue()&&t.setValue(t.lastSelection):(e=t.findRecordByDisplay(i),e?t.select(e):t.setValue(t.lastSelection))),t.collapse()},onTypeAhead:function(){var e,t,i,n=this,r=n.displayField,o=n.store.findRecord(r,n.getRawValue()),a=n.getPicker();o&&(e=o.get(r),t=e.length,i=n.getRawValue().length,a.highlightItem(a.getNode(o)),0!==i&&i!==t&&(n.setRawValue(e),n.selectText(i,e.length)))},resetToDefault:Ext.emptyFn,beforeReset:function(){this.callParent(),this.clearFilter()},onUnbindStore:function(e){var t=this.picker;!e&&t&&t.bindStore(null),this.clearFilter()},onBindStore:function(e,t){var i=this.picker;t||this.resetToDefault(),i&&i.bindStore(e)},getStoreListeners:function(){var e=this;return{beforeload:e.onBeforeLoad,clear:e.onClear,datachanged:e.onDataChanged,load:e.onLoad,exception:e.onException,remove:e.onRemove}},onBeforeLoad:function(){++this.ignoreSelection},onDataChanged:function(){var e=this;e.resizeComboToGrow()&&e.updateLayout()},onClear:function(){var e=this;e.resizeComboToGrow()&&(e.removingRecords=!0,e.onDataChanged())},onRemove:function(){var e=this;e.resizeComboToGrow()&&(e.removingRecords=!0)},onException:function(){this.ignoreSelection>0&&--this.ignoreSelection,this.collapse()},onLoad:function(){var e=this;e.value;e.ignoreSelection>0&&--e.ignoreSelection,e.rawQuery?(e.rawQuery=!1,e.syncSelection(),e.picker&&!e.picker.getSelectionModel().hasSelection()&&e.doAutoSelect()):e.value||0===e.value?e.setValue(e.value):e.store.getCount()?e.doAutoSelect():e.setValue(e.value)},doRawQuery:function(){this.doQuery(this.getRawValue(),!1,!0)},doQuery:function(e,t,i){e=e||"";var n,r=this,o={query:e,forceAll:t,combo:r,cancel:!1},a=r.store,s="local"===r.queryMode;return r.fireEvent("beforequery",o)!==!1&&!o.cancel&&(e=o.query,t=o.forceAll,(t||e.length>=r.minChars)&&(r.expand(),r.queryCaching&&r.lastQuery===e||(r.lastQuery=e,s?(a.suspendEvents(),n=r.clearFilter(),e||!t?(r.activeFilter=new Ext.util.Filter({root:"data",property:r.displayField,value:e}),a.filter(r.activeFilter),n=!0):delete r.activeFilter,a.resumeEvents(),r.rendered&&n&&r.getPicker().refresh()):(r.rawQuery=i,r.pageSize?r.loadPage(1):a.load({params:r.getParams(e)}))),r.getRawValue()!==r.getDisplayValue()&&(r.ignoreSelection++,r.picker.getSelectionModel().deselectAll(),r.ignoreSelection--),s&&r.doAutoSelect(),r.typeAhead&&r.doTypeAhead()),!0)},clearFilter:function(){var e,t=this.store,i=this.activeFilter,n=t.filters;return i&&(n.getCount()>1&&(n.remove(i),e=n.getRange()),t.clearFilter(!0),e&&t.filter(e)),!!i},loadPage:function(e){this.store.loadPage(e,{params:this.getParams(this.lastQuery)})},onPageChange:function(e,t){return this.loadPage(t),!1},getParams:function(e){var t={},i=this.queryParam;return i&&(t[i]=e),t},doAutoSelect:function(){var e,t,i=this,n=i.picker;n&&i.autoSelect&&i.store.getCount()>0&&(e=n.getSelectionModel().lastSelected,t=n.getNode(e||0),t&&(n.highlightItem(t),n.listEl.scrollChildIntoView(t,!1)))},doTypeAhead:function(){this.typeAheadTask||(this.typeAheadTask=new Ext.util.DelayedTask(this.onTypeAhead,this)),this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE&&this.typeAheadTask.delay(this.typeAheadDelay)},onTriggerClick:function(){var e=this;e.readOnly||e.disabled||(e.isExpanded?e.collapse():(e.onFocus({}),"all"===e.triggerAction?e.doQuery(e.allQuery,!0):e.doQuery(e.getRawValue(),!1,!0)),e.inputEl.focus())},onKeyUp:function(e,t){var i=this,n=e.getKey();i.readOnly||i.disabled||!i.editable||(i.lastKey=n,e.isSpecialKey()&&n!=e.BACKSPACE&&n!=e.DELETE||i.doQueryTask.delay(i.queryDelay)),i.enableKeyEvents&&i.callParent(arguments)},initEvents:function(){var e=this;e.callParent(),e.enableKeyEvents||e.mon(e.inputEl,"keyup",e.onKeyUp,e)},onDestroy:function(){this.bindStore(null),this.callParent()},onAdded:function(){var e=this;e.callParent(arguments),e.picker&&(e.picker.ownerCt=e.up("[floating]"),e.picker.registerWithOwnerCt())},createPicker:function(){var e,t=this,i=Ext.apply({xtype:"boundlist",pickerField:t,selModel:{mode:t.multiSelect?"SIMPLE":"SINGLE"},floating:!0,hidden:!0,store:t.store,displayField:t.displayField,focusOnToFront:!1,pageSize:t.pageSize,tpl:t.tpl},t.listConfig,t.defaultListConfig);return e=t.picker=Ext.widget(i),t.pageSize&&e.pagingToolbar.on("beforechange",t.onPageChange,t),t.mon(e,{itemclick:t.onItemClick,refresh:t.onListRefresh,scope:t}),t.mon(e.getSelectionModel(),{beforeselect:t.onBeforeSelect,beforedeselect:t.onBeforeDeselect,selectionchange:t.onListSelectionChange,scope:t}),e},alignPicker:function(){var e=this,t=e.getPicker(),i=e.getPosition()[1]-Ext.getBody().getScroll().top,n=Ext.Element.getViewHeight()-i-e.getHeight(),r=Math.max(i,n);t.height&&(delete t.height,t.updateLayout()),t.getHeight()>r-5&&t.setHeight(r-5),e.callParent()},onListRefresh:function(){this.alignPicker(),this.syncSelection()},onItemClick:function(e,t){var i=this,n=i.picker.getSelectionModel().getSelection(),r=i.valueField;!i.multiSelect&&n.length&&t.get(r)===n[0].get(r)&&(i.displayTplData=[t.data],i.setRawValue(i.getDisplayValue()),i.collapse())},onBeforeSelect:function(e,t){return this.fireEvent("beforeselect",this,t,t.index)},onBeforeDeselect:function(e,t){return this.fireEvent("beforedeselect",this,t,t.index)},onListSelectionChange:function(e,t){var i=this,n=i.multiSelect,r=t.length>0;!i.ignoreSelection&&i.isExpanded&&(n||Ext.defer(i.collapse,1,i),(n||r)&&i.setValue(t,!1),r&&i.fireEvent("select",i,t),i.inputEl.focus())},onExpand:function(){var e=this,t=e.listKeyNav,i=e.selectOnTab,n=e.getPicker();t?t.enable():t=e.listKeyNav=new Ext.view.BoundListKeyNav(this.inputEl,{boundList:n,forceKeyDown:!0,tab:function(t){return i&&(this.selectHighlighted(t),e.triggerBlur()),!0}}),i&&(e.ignoreMonitorTab=!0),Ext.defer(t.enable,1,t),e.inputEl.focus()},onCollapse:function(){var e=this,t=e.listKeyNav;t&&(t.disable(),e.ignoreMonitorTab=!1)},select:function(e){this.setValue(e,!0)},findRecord:function(e,t){var i=this.store,n=i.findExact(e,t);return n!==-1&&i.getAt(n)},findRecordByValue:function(e){return this.findRecord(this.valueField,e)},findRecordByDisplay:function(e){return this.findRecord(this.displayField,e)},setValue:function(e,t){var i,n,r,o,a=this,s=a.valueNotFoundText,l=a.inputEl,d=[],u=[],c=[];if(a.store.loading)return a.value=e,a.setHiddenValue(a.value),a;for(e=Ext.Array.from(e),i=0,n=e.length;i<n;i++)r=e[i],r&&r.isModel||(r=a.findRecordByValue(r)),r?(d.push(r),u.push(r.data),c.push(r.get(a.valueField))):a.forceSelection?Ext.isDefined(s)&&u.push(s):(c.push(e[i]),o={},o[a.displayField]=e[i],u.push(o));return a.setHiddenValue(c),a.value=a.multiSelect?c:c[0],Ext.isDefined(a.value)||(a.value=null),a.displayTplData=u,a.lastSelection=a.valueModels=d,l&&a.emptyText&&!Ext.isEmpty(e)&&l.removeCls(a.emptyCls),a.setRawValue(a.getDisplayValue()),a.checkChange(),t!==!1&&a.syncSelection(),a.applyEmptyText(),a},setHiddenValue:function(e){var t,i,n,r,o,a,s=this,l=s.hiddenName;if(s.hiddenDataEl&&l){for(e=Ext.Array.from(e),i=s.hiddenDataEl.dom,n=i.childNodes,r=n[0],o=e.length,a=n.length,!r&&o>0&&(s.hiddenDataEl.update(Ext.DomHelper.markup({tag:"input",type:"hidden",name:l})),a=1,r=i.firstChild);a>o;)i.removeChild(n[0]),--a;for(;a<o;)i.appendChild(r.cloneNode(!0)),++a;for(t=0;t<o;t++)n[t].value=e[t]}},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var e=this,t=e.picker,i=e.getRawValue(),n=e.value;return e.getDisplayValue()!==i&&(n=i,e.value=e.displayTplData=e.valueModels=null,t&&(e.ignoreSelection++,t.getSelectionModel().deselectAll(),e.ignoreSelection--)),n},getSubmitValue:function(){return this.getValue()},isEqual:function(e,t){var i,n,r=Ext.Array.from;if(e=r(e),t=r(t),n=e.length,n!==t.length)return!1;for(i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0},clearValue:function(){this.setValue([])},syncSelection:function(){var e,t,i,n,r=this,o=r.picker,a=r.valueModels||[],s=a.length;if(o){for(e=[],i=0;i<s;i++)n=a[i],n&&n.isModel&&r.store.indexOf(n)>=0&&e.push(n);r.ignoreSelection++,t=o.getSelectionModel(),t.deselectAll(),e.length&&t.select(e),r.ignoreSelection--}},onEditorTab:function(e){var t=this.listKeyNav;this.selectOnTab&&t&&t.selectHighlighted(e)}}),Ext.define("Ext.form.field.Time",{extend:"Ext.form.field.ComboBox",alias:"widget.timefield",requires:["Ext.form.field.Date","Ext.picker.Time","Ext.view.BoundListKeyNav","Ext.Date"],alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:Ext.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,pickerMaxHeight:300,selectOnTab:!0,snapToIncrement:!1,initDate:"1/1/2008",initDateFormat:"j/n/Y",ignoreSelection:0,queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var e=this,t=e.minValue,i=e.maxValue;t&&e.setMinValue(t),i&&e.setMaxValue(i),e.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : this.formatDate(values["'+e.displayField+'"])]}<tpl if="xindex < xcount">'+e.delimiter+"</tpl></tpl>",{formatDate:Ext.Function.bind(e.formatDate,e)}),this.callParent()},transformOriginalValue:function(e){return Ext.isString(e)?this.rawToValue(e):e},isEqual:function(e,t){return Ext.Date.isEqual(e,t)},setMinValue:function(e){var t=this,i=t.picker;t.setLimit(e,!0),i&&i.setMinValue(t.minValue)},setMaxValue:function(e){var t=this,i=t.picker;t.setLimit(e,!1),i&&i.setMaxValue(t.maxValue)},setLimit:function(e,t){var i,n,r=this;Ext.isString(e)?i=r.parseDate(e):Ext.isDate(e)&&(i=e),i?(n=Ext.Date.clearTime(new Date(r.initDate)),n.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())):n=null,r[t?"minValue":"maxValue"]=n},rawToValue:function(e){return this.parseDate(e)||e||null},valueToRaw:function(e){return this.formatDate(this.parseDate(e))},getErrors:function(e){var t,i=this,n=Ext.String.format,r=i.callParent(arguments),o=i.minValue,a=i.maxValue;return e=i.formatDate(e||i.processRawValue(i.getRawValue())),null===e||e.length<1?r:(t=i.parseDate(e))?(o&&t<o&&r.push(n(i.minText,i.formatDate(o))),a&&t>a&&r.push(n(i.maxText,i.formatDate(a))),r):(r.push(n(i.invalidText,e,Ext.Date.unescapeFormat(i.format))),r)},formatDate:function(){return Ext.form.field.Date.prototype.formatDate.apply(this,arguments)},parseDate:function(e){var t,i=this,n=e,r=i.altFormats,o=i.altFormatsArray,a=0;if(e&&!Ext.isDate(e)&&(n=i.safeParse(e,i.format),!n&&r))for(o=o||r.split("|"),t=o.length;a<t&&!n;++a)n=i.safeParse(e,o[a]);return n&&i.snapToIncrement&&(n=new Date(Ext.Number.snap(n.getTime(),60*i.increment*1e3))),n},safeParse:function(e,t){var i,n=this,r=Ext.Date,o=null;return r.formatContainsDateInfo(t)?o=r.parse(e,t):(i=r.parse(n.initDate+" "+e,n.initDateFormat+" "+t),i&&(o=i)),o},getSubmitValue:function(){var e=this,t=e.submitFormat||e.format,i=e.getValue();return i?Ext.Date.format(i,t):null},createPicker:function(){var e,t=this;return t.listConfig=Ext.apply({xtype:"timepicker",selModel:{mode:"SINGLE"},cls:void 0,minValue:t.minValue,maxValue:t.maxValue,increment:t.increment,format:t.format,maxHeight:t.pickerMaxHeight},t.listConfig),e=t.callParent(),t.store=e.store,e},onItemClick:function(e,t){var i=this,n=e.getSelectionModel().getSelection();n.length>0&&(n=n[0],n&&Ext.Date.isEqual(t.get("date"),n.get("date"))&&i.collapse())},onListSelectionChange:function(e,t){var i=this,n=t[0],r=n?n.get("date"):null;i.ignoreSelection||(i.skipSync=!0,i.setValue(r),i.skipSync=!1,i.fireEvent("select",i,r),i.picker.clearHighlight(),i.collapse(),i.inputEl.focus())},syncSelection:function(){var e,t,i,n,r,o,a,s=this,l=s.picker;if(l&&!s.skipSync){if(l.clearHighlight(),i=s.getValue(),t=l.getSelectionModel(),s.ignoreSelection++,null===i)t.deselectAll();else if(Ext.isDate(i)){for(n=l.store.data.items,o=n.length,r=0;r<o;r++)if(a=n[r],Ext.Date.isEqual(a.get("date"),i)){e=a;break}t.select(e)}s.ignoreSelection--}},postBlur:function(){var e=this;e.callParent(arguments),e.setRawValue(e.formatDate(e.getValue()))},setValue:function(){this.getPicker(),this.callParent(arguments)},getValue:function(){return this.parseDate(this.callParent(arguments))}}),Ext.define("Ext.view.Table",{extend:"Ext.view.View",alias:"widget.tableview",uses:["Ext.view.TableLayout","Ext.view.TableChunker","Ext.util.DelayedTask","Ext.util.MixedCollection"],componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",itemSelector:"tr."+Ext.baseCSSPrefix+"grid-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",rowSelector:"tr."+Ext.baseCSSPrefix+"grid-row",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",headerRowSelector:"tr."+Ext.baseCSSPrefix+"grid-header-row",selectedItemCls:Ext.baseCSSPrefix+"grid-row-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-row-focused",overItemCls:Ext.baseCSSPrefix+"grid-row-over",altRowCls:Ext.baseCSSPrefix+"grid-row-alt",rowClsRe:new RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-row-(first|last|alt)(?:\\s+|$)","g"),cellRe:new RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+) ",""),trackOver:!0,getRowClass:null,stripeRows:!0,markDirty:!0,initialTpl:"<div></div>",initComponent:function(){var e=this,t=e.scroll;e.table=new Ext.dom.Element.Fly,e.table.id=e.id+"gridTable",e.autoScroll=void 0,t===!0||"both"===t?e.autoScroll=!0:"horizontal"===t?e.overflowX="auto":"vertical"===t&&(e.overflowY="auto"),e.selModel.view=e,e.headerCt.view=e,e.headerCt.markDirty=e.markDirty,e.initFeatures(e.grid),delete e.grid,e.tpl=e.getTpl("initialTpl"),e.callParent()},moveColumn:function(e,t,i){var n,r,o,a,s,l,d=this,u=i>1?document.createDocumentFragment():void 0,c=t,h=d.getGridColumns().length,g=h-1,p=(d.firstCls||d.lastCls)&&(0===t||t==h||0===e||e==g);if(d.rendered){for(l=d.el.query(d.headerRowSelector),o=d.el.query(d.rowSelector),t>e&&u&&(c-=i),n=0,a=l.length;n<a;++n)if(s=l[n],u){for(r=0;r<i;r++)u.appendChild(s.cells[e]);s.insertBefore(u,s.cells[c]||null)}else s.insertBefore(s.cells[e],s.cells[c]||null);for(n=0,a=o.length;n<a;n++)if(s=o[n],p&&(0===e?(Ext.fly(s.cells[0]).removeCls(d.firstCls),Ext.fly(s.cells[1]).addCls(d.firstCls)):e===g&&(Ext.fly(s.cells[g]).removeCls(d.lastCls),Ext.fly(s.cells[g-1]).addCls(d.lastCls)),0===t?(Ext.fly(s.cells[0]).removeCls(d.firstCls),Ext.fly(s.cells[e]).addCls(d.firstCls)):t===h&&(Ext.fly(s.cells[g]).removeCls(d.lastCls),Ext.fly(s.cells[e]).addCls(d.lastCls))),u){for(r=0;r<i;r++)u.appendChild(s.cells[e]);s.insertBefore(u,s.cells[c]||null)}else s.insertBefore(s.cells[e],s.cells[c]||null);d.setNewTemplate()}},scrollToTop:Ext.emptyFn,addElListener:function(e,t,i){this.mon(this,e,t,i,{element:"el"})},getGridColumns:function(){return this.headerCt.getGridColumns()},getHeaderAtIndex:function(e){return this.headerCt.getHeaderAtIndex(e)},getCell:function(e,t){var i=this.getNode(e);return Ext.fly(i).down(t.getCellSelector())},getFeature:function(e){var t=this.featuresMC;if(t)return t.get(e)},initFeatures:function(e){var t,i,n,r,o=this;for(o.featuresMC=new Ext.util.MixedCollection,i=o.features=o.constructFeatures(),r=i?i.length:0,t=0;t<r;t++)n=i[t],n.view=o,n.grid=e,o.featuresMC.add(n),n.init()},constructFeatures:function(){var e,t,i,n=this,r=n.features,o=0;if(r)for(t=[],i=r.length;o<i;o++)e=r[o],e.isFeature||(e=Ext.create("feature."+e.ftype,e)),t[o]=e;return t},attachEventsForFeatures:function(){for(var e=this.features,t=e.length,i=0;i<t;i++)e[i].isFeature&&e[i].attachEvents()},afterRender:function(){var e=this;e.callParent(),e.enableTextSelection||e.el.unselectable(),e.attachEventsForFeatures()},onViewScroll:function(e,t){this.callParent(arguments),this.fireEvent("bodyscroll",e,t)},prepareData:function(e,t,i){for(var n,r=this,o=r.headerCt.prepareData(e,t,i,r,r.ownerCt),a=r.features,s=a.length,l=0;l<s;l++)n=a[l],n.isFeature&&Ext.apply(o,n.getAdditionalData(e,t,i,o,r));return o},collectData:function(e,t){var i,n,r,o,a,s=this,l=s.callParent(arguments),d=s.headerCt,u=d.getFullWidth(),c=s.features,h=c.length,g={rows:l,fullWidth:u},p=0,f=0;if(n=l.length,s.getRowClass)for(;f<n;f++)r={},o=l[f],a=o.rowCls||"",o.rowCls=this.getRowClass(e[f],f,r,s.store)+" "+a;for(;p<h;p++)if(i=c[p],i.isFeature&&i.collectData&&!i.disabled){g=i.collectData(e,l,t,u,g);break}return g},refreshSize:function(){var e,t=this;t.table.attach(t.el.child("table",!0)),t.hasLoadingHeight||(e=t.up("tablepanel"),Ext.suspendLayouts(),t.callParent(),e&&Ext.getScrollbarSize().width&&(t.autoScroll||t.overflowY)&&e.updateLayout(),Ext.resumeLayouts(!0))},setNewTemplate:function(){var e=this,t=e.headerCt.getColumnsForTpl(!0);e.tpl=e.getTableChunker().getTableTpl({rowCount:e.store.getCount(),columns:t,features:e.features,enableTextSelection:e.enableTextSelection})},getTableChunker:function(){return this.chunker||Ext.view.TableChunker},addRowCls:function(e,t){var i=this.getNode(e);i&&Ext.fly(i).addCls(t)},removeRowCls:function(e,t){var i=this.getNode(e);i&&Ext.fly(i).removeCls(t)},onRowSelect:function(e){this.addRowCls(e,this.selectedItemCls)},onRowDeselect:function(e){var t=this;t.removeRowCls(e,t.selectedItemCls),t.removeRowCls(e,t.focusedItemCls)},onCellSelect:function(e){var t=this.getCellByPosition(e,!0);t&&Ext.fly(t).addCls(this.selectedCellCls)},onCellDeselect:function(e){var t=this.getCellByPosition(e,!0);t&&Ext.fly(t).removeCls(this.selectedCellCls)},onCellFocus:function(e){this.focusCell(e)},getCellByPosition:function(e,t){if(e){var i=this.getNode(e.row),n=this.headerCt.getHeaderAtIndex(e.column);if(n&&i)return Ext.fly(i).down(n.getCellSelector(),t)}return!1},onRowFocus:function(e,t,i){var n=this;t?(n.addRowCls(e,n.focusedItemCls),i||n.focusRow(e)):n.removeRowCls(e,n.focusedItemCls)},focusRow:function(e){var t,i,n,r,o=this,a=o.getNode(e),s=o.el,l=0,d=o.ownerCt;a&&s&&(i=s.getY(),n=i+s.dom.clientHeight,t=Ext.fly(a).getRegion(),t.top<i?l=t.top-i:t.bottom>n&&(l=t.bottom-n),r=o.getRecord(a),e=o.store.indexOf(r),l&&d.scrollByDeltaY(l),o.fireEvent("rowfocus",r,a,e))},focusCell:function(e){var t,i,n=this,r=n.getCellByPosition(e),o=n.el,a=0,s=0,l=o.getRegion(),d=n.ownerCt;l.bottom=l.top+o.dom.clientHeight,l.right=l.left+o.dom.clientWidth,r&&(t=r.getRegion(),t.top<l.top?a=t.top-l.top:t.bottom>l.bottom&&(a=t.bottom-l.bottom),t.left<l.left?s=t.left-l.left:t.right>l.right&&(s=t.right-l.right),a&&d.scrollByDeltaY(a),s&&d.scrollByDeltaX(s),o.focus(),n.fireEvent("cellfocus",i,r,e))},scrollByDelta:function(e,t){t=t||"scrollTop";var i=this.el.dom;i[t]=i[t]+=e},onUpdate:function(e,t,i,n){var r,o,a,s,l,d,u,c,h,g,p,l,f,m,x,y,v=this,E=v.editingPlugin&&v.editingPlugin.editing;if(v.viewReady&&(r=v.store.indexOf(t),f=v.headerCt.getGridColumns(),m=v.overItemCls,f.length&&r>-1)){if(o=v.bufferRender([t],r)[0],u=v.all.item(r)){if(c=u.dom,x=u.hasCls(m),c.mergeAttributes)c.mergeAttributes(o,!0);else for(a=o.attributes,s=a.length,l=0;l<s;l++)d=a[l].name,"id"!==d&&c.setAttribute(d,a[l].value);for(x&&u.addCls(m),h=u.query(v.cellSelector),g=Ext.fly(o).query(v.cellSelector),p=g.length,y=h[0].parentNode,l=0;l<p;l++)v.shouldUpdateCell(f[l],n)&&(E?Ext.fly(h[l]).syncContent(g[l]):(y.insertBefore(g[l],h[l]),y.removeChild(h[l])))}v.fireEvent("itemupdate",t,r,o)}},shouldUpdateCell:function(e,t){return!!e.hasCustomRenderer||(!t||Ext.Array.contains(t,e.dataIndex))},refresh:function(){var e=this;e.setNewTemplate(),e.callParent(arguments),e.doStripeRows(0),e.headerCt.setSortState()},clearViewEl:function(){this.callParent(),delete this.table.dom},processItemEvent:function(e,t,i,n){var r,o=this,a=n.getTarget(o.cellSelector,t),s=a?a.cellIndex:-1,l=o.statics().EventMap,d=o.getSelectionModel(),u=n.type;return"keydown"==u&&!a&&d.getCurrentPosition&&(a=o.getCellByPosition(d.getCurrentPosition()),a&&(a=a.dom,s=a.cellIndex)),r=o.fireEvent("uievent",u,o,a,i,s,n,e,t),r!==!1&&o.callParent(arguments)!==!1&&("mouseover"==u||"mouseout"==u||(!a||!(o["onBeforeCell"+l[u]](a,s,e,t,i,n)===!1||o.fireEvent("beforecell"+u,o,a,s,e,t,i,n)===!1||o["onCell"+l[u]](a,s,e,t,i,n)===!1||o.fireEvent("cell"+u,o,a,s,e,t,i,n)===!1)))},processSpecialEvent:function(e){var t,i,n,r,o,a,s=this,l=(s.statics().EventMap,s.features),d=l.length,u=e.type,c=s.ownerCt;if(s.callParent(arguments),"mouseover"!=u&&"mouseout"!=u){for(t=0;t<d;t++)if(i=l[t],i.hasFeatureEvent&&(r=e.getTarget(i.eventSelector,s.getTargetEl()),r&&(n=i.eventPrefix,o=i.getFireEventArgs("before"+n+u,s,r,e),a=i.getFireEventArgs(n+u,s,r,e),s.fireEvent.apply(s,o)===!1||c.fireEvent.apply(c,o)===!1||s.fireEvent.apply(s,a)===!1||c.fireEvent.apply(c,a)===!1)))return!1;return!0}},onCellMouseDown:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,expandToFit:function(e){if(e){var t=this.getMaxContentWidth(e);delete e.flex,e.setWidth(t)}},getMaxContentWidth:function(e){for(var t,i=e.getCellInnerSelector(),n=this.el.query(i),r=0,o=n.length,a=e.el.dom.scrollWidth;r<o;r++)t=n[r].scrollWidth,t>a&&(a=t);return a},getPositionByEvent:function(e){var t=this,i=e.getTarget(t.cellSelector),n=e.getTarget(t.itemSelector),r=t.getRecord(n),o=t.getHeaderByCell(i);return t.getPosition(r,o)},getHeaderByCell:function(e){if(e){var t=e.className.match(this.cellRe);if(t&&t[1])return Ext.getCmp(t[1])}return!1},walkCells:function(e,t,i,n,r,o){if(e){var a=this,s=e.row,l=e.column,d=a.store.getCount(),u=a.getFirstVisibleColumnIndex(),c=a.getLastVisibleColumnIndex(),h={row:s,column:l},g=a.headerCt.getHeaderAtIndex(l);if(!g||g.hidden)return!1;switch(i=i||{},t=t.toLowerCase()){case"right":if(l===c){if(n||s===d-1)return!1;i.ctrlKey||(h.row=s+1,h.column=u)}else i.ctrlKey?h.column=c:h.column=l+a.getRightGap(g);break;case"left":if(l===u){if(n||0===s)return!1;i.ctrlKey||(h.row=s-1,h.column=c)}else i.ctrlKey?h.column=u:h.column=l+a.getLeftGap(g);break;case"up":if(0===s)return!1;i.ctrlKey?h.row=0:h.row=s-1;break;case"down":if(s===d-1)return!1;i.ctrlKey?h.row=d-1:h.row=s+1}return(!r||r.call(o||window,h)===!0)&&h}},getFirstVisibleColumnIndex:function(){var e=this.getHeaderCt().getVisibleGridColumns()[0];return e?e.getIndex():-1},getLastVisibleColumnIndex:function(){var e=this.getHeaderCt().getVisibleGridColumns(),t=e[e.length-1];return t.getIndex()},getHeaderCt:function(){return this.headerCt},getPosition:function(e,t){var i=this,n=i.store,r=i.headerCt.getGridColumns();return{row:n.indexOf(e),column:Ext.Array.indexOf(r,t)}},getRightGap:function(e){for(var t,i=this.getHeaderCt(),n=i.getGridColumns(),r=Ext.Array.indexOf(n,e),o=r+1;o<=n.length;o++)if(!n[o].hidden){t=o;break}return t-r},beforeDestroy:function(){this.rendered&&this.el.removeAllListeners(),this.callParent(arguments)},getLeftGap:function(e){for(var t,i=this.getHeaderCt(),n=i.getGridColumns(),r=Ext.Array.indexOf(n,e),o=r-1;o>=0;o--)if(!n[o].hidden){t=o;break}return t-r},onAdd:function(e,t,i){this.callParent(arguments),this.doStripeRows(i)},onRemove:function(e,t,i){this.callParent(arguments),this.doStripeRows(i)},doStripeRows:function(e,t){var i,n,r,o,a=this;if(a.rendered&&a.stripeRows)for(i=a.getNodes(e,t),r=0,n=i.length;r<n;r++)o=i[r],o.className=o.className.replace(a.rowClsRe," "),e++,e%2===0&&(o.className+=" "+a.altRowCls)}}),Ext.define("Ext.grid.Lockable",{requires:["Ext.grid.LockingView","Ext.view.Table"],syncRowHeight:!0,headerCounter:0,scrollDelta:40,unlockText:"Unlock",lockText:"Lock",determineXTypeToCreate:function(){var e,t,i,n,r,o=this;return o.subGridXType?e=o.subGridXType:(t=this.getXTypes().split("/"),i=t.length,n=t[i-1],r=t[i-2],e="tablepanel"!==r?r:n),e},injectLockable:function(){this.lockable=!0,this.hasView=!0;var e,t,i,n,r,o,a,s,l,d,u,c,h,g,p=this,f=0===Ext.getScrollbarSize().width,m=p.store=Ext.StoreManager.lookup(p.store),x=p.determineXTypeToCreate(),y=p.getSelectionModel();for(e=p.constructFeatures(),p.cloneFeatures(),t=p.constructFeatures(),i=p.constructPlugins(),p.clonePlugins(),n=p.constructPlugins(),delete p.features,delete p.plugins,a=0,s=e?e.length:0;a<s;a++)e[a].lockingPartner=t[a],t[a].lockingPartner=e[a];for(r=Ext.apply({xtype:x,store:m,scrollerOwner:!1,enableAnimations:!1,scroll:!!f&&"vertical",selModel:y,border:!1,cls:Ext.baseCSSPrefix+"grid-inner-locked",isLayoutRoot:function(){return!1},features:e,plugins:i},p.lockedGridConfig),o=Ext.apply({xtype:x,store:m,scrollerOwner:!1,enableAnimations:!1,selModel:y,border:!1,isLayoutRoot:function(){return!1},features:t,plugins:n},p.normalGridConfig),p.addCls(Ext.baseCSSPrefix+"grid-locked"),Ext.copyTo(o,p,p.bothCfgCopy),Ext.copyTo(r,p,p.bothCfgCopy),Ext.copyTo(o,p,p.normalCfgCopy),Ext.copyTo(r,p,p.lockedCfgCopy),a=0;a<p.normalCfgCopy.length;a++)delete p[p.normalCfgCopy[a]];for(a=0;a<p.lockedCfgCopy.length;a++)delete p[p.lockedCfgCopy[a]];p.addEvents("lockcolumn","unlockcolumn"),p.addStateEvents(["lockcolumn","unlockcolumn"]),p.lockedHeights=[],p.normalHeights=[],l=p.processColumns(p.columns),r.width=l.lockedWidth+Ext.num(y.headerWidth,0),r.columns=l.locked,o.columns=l.normal,o.flex=1,r.viewConfig=p.lockedViewConfig||{},r.viewConfig.loadingUseMsg=!1,o.viewConfig=p.normalViewConfig||{},Ext.applyIf(r.viewConfig,p.viewConfig),Ext.applyIf(o.viewConfig,p.viewConfig),p.lockedGrid=Ext.ComponentManager.create(r),c=p.lockedGrid.getView(),o.viewConfig.lockingPartner=c,p.normalGrid=Ext.ComponentManager.create(o),h=p.normalGrid.getView(),p.view=new Ext.grid.LockingView({locked:p.lockedGrid,normal:p.normalGrid,panel:p}),g={scroll:{fn:p.onLockedViewScroll,element:"el",scope:p}},f||(g.mousewheel={fn:p.onLockedViewMouseWheel,element:"el",scope:p}),p.syncRowHeight&&(g.refresh=p.onLockedViewRefresh,g.itemupdate=p.onLockedViewItemUpdate,g.scope=p),c.on(g),g={scroll:{fn:p.onNormalViewScroll,element:"el",scope:p},refresh:p.syncRowHeight?p.onNormalViewRefresh:p.updateSpacer,scope:p},h.on(g),d=p.lockedGrid.headerCt,u=p.normalGrid.headerCt,d.lockedCt=!0,d.lockableInjected=!0,u.lockableInjected=!0,d.on({columnshow:p.onLockedHeaderShow,columnhide:p.onLockedHeaderHide,columnmove:p.onLockedHeaderMove,sortchange:p.onLockedHeaderSortChange,columnresize:p.onLockedHeaderResize,scope:p}),u.on({columnmove:p.onNormalHeaderMove,sortchange:p.onNormalHeaderSortChange,scope:p}),p.modifyHeaderCt(),p.items=[p.lockedGrid,p.normalGrid],p.relayHeaderCtEvents(d),p.relayHeaderCtEvents(u),p.layout={type:"hbox",align:"stretch"}},processColumns:function(e){for(var t,i=0,n=e.length,r=0,o=[],a=[];i<n;++i)t=e[i],t.isComponent||(t=Ext.apply({},e[i])),t.processed=!0,t.locked?(t.hidden||(r+=t.width||Ext.grid.header.Container.prototype.defaultWidth),o.push(t)):a.push(t),t.headerId||(t.headerId=(t.initialConfig||t).id||"L"+ ++this.headerCounter);return{lockedWidth:r,locked:{items:o,itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt"},normal:{items:a,itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt"}}},onLockedViewMouseWheel:function(e){var t,i,n=this,r=-n.scrollDelta,o=r*e.getWheelDeltas().y,a=n.lockedGrid.getView().el.dom;a&&(t=a.scrollTop!==a.scrollHeight-a.clientHeight,i=0!==a.scrollTop),(o<0&&i||o>0&&t)&&(e.stopEvent(),n.scrolling=!0,a.scrollTop+=o,n.normalGrid.getView().el.dom.scrollTop=a.scrollTop,n.scrolling=!1,n.onNormalViewScroll())},onLockedViewScroll:function(){var e,t,i=this,n=i.lockedGrid.getView(),r=i.normalGrid.getView();i.scrolling||(i.scrolling=!0,r.el.dom.scrollTop=n.el.dom.scrollTop,i.store.buffered&&(t=n.el.child("table",!0),e=r.el.child("table",!0),t.style.position="absolute"),i.scrolling=!1)},onNormalViewScroll:function(){var e,t,i=this,n=i.lockedGrid.getView(),r=i.normalGrid.getView();i.scrolling||(i.scrolling=!0,n.el.dom.scrollTop=r.el.dom.scrollTop,i.store.buffered&&(t=n.el.child("table",!0),e=r.el.child("table",!0),t.style.position="absolute",t.style.top=e.style.top),i.scrolling=!1)},onLockedHeaderMove:function(){this.syncRowHeight&&this.onNormalViewRefresh()},onNormalHeaderMove:function(){this.syncRowHeight&&this.onLockedViewRefresh()},updateSpacer:function(){
var e=this,t=e.lockedGrid.getView().el,i=e.normalGrid.getView().el.dom,n=t.dom.id+"-spacer",r=i.offsetHeight-i.clientHeight+"px";e.spacerEl=Ext.getDom(n),e.spacerEl?e.spacerEl.style.height=r:Ext.core.DomHelper.append(t,{id:n,style:"height: "+r})},onLockedViewRefresh:function(){if(this.normalGrid.headerCt.getGridColumns().length){var e=this,t=e.lockedGrid.getView(),i=t.el,n=i.query(t.getItemSelector()),r=n.length,o=0;for(e.lockedHeights=[];o<r;o++)e.lockedHeights[o]=n[o].offsetHeight;e.syncRowHeights(),e.updateSpacer()}},onNormalViewRefresh:function(){if(this.lockedGrid.headerCt.getGridColumns().length){var e=this,t=e.normalGrid.getView(),i=t.el,n=i.query(t.getItemSelector()),r=n.length,o=0;for(e.normalHeights=[];o<r;o++)e.normalHeights[o]=n[o].offsetHeight;e.syncRowHeights(),e.updateSpacer()}},onLockedViewItemUpdate:function(e,t,i){this.normalGrid.headerCt.getGridColumns().length&&(this.lockedHeights[t]=i.offsetHeight,this.syncRowHeights())},onNormalViewItemUpdate:function(e,t,i){this.lockedGrid.headerCt.getGridColumns().length&&(this.normalHeights[t]=i.offsetHeight,this.syncRowHeights())},syncRowHeights:function(){var e,t,i,n,r,o=this,a=o.lockedHeights,s=o.normalHeights,l=a.length,d=0;if(a.length&&s.length){for(e=o.lockedGrid.getView(),t=o.normalGrid.getView(),i=e.el.query(e.getItemSelector()),n=t.el.query(t.getItemSelector());d<l;d++)isNaN(a[d])||isNaN(s[d])||(a[d]>s[d]?Ext.fly(n[d]).setHeight(a[d]):a[d]<s[d]&&Ext.fly(i[d]).setHeight(s[d]));r=t.el.dom.scrollTop,t.el.dom.scrollTop=r,e.el.dom.scrollTop=r,o.lockedHeights=[],o.normalHeights=[]}},modifyHeaderCt:function(){var e=this;e.lockedGrid.headerCt.getMenuItems=e.getMenuItems(e.lockedGrid.headerCt.getMenuItems,!0),e.normalGrid.headerCt.getMenuItems=e.getMenuItems(e.normalGrid.headerCt.getMenuItems,!1)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},getMenuItems:function(e,t){var i=this,n=i.unlockText,r=i.lockText,o=Ext.baseCSSPrefix+"hmenu-unlock",a=Ext.baseCSSPrefix+"hmenu-lock",s=Ext.Function.bind(i.onUnlockMenuClick,i),l=Ext.Function.bind(i.onLockMenuClick,i);return function(){var i=e.call(this);return i.push("-",{cls:o,text:n,handler:s,disabled:!t}),i.push({cls:a,text:r,handler:l,disabled:t}),i}},lock:function(e,t){var i=this,n=i.normalGrid,r=i.lockedGrid,o=n.headerCt,a=r.headerCt;e=e||o.getMenu().activeHeader,e.flex&&(e.width=e.getWidth(),delete e.flex),Ext.suspendLayouts(),e.ownerCt.remove(e,!1),e.locked=!0,Ext.isDefined(t)?a.insert(t,e):a.add(e),i.syncLockedSection(),Ext.resumeLayouts(!0),i.updateSpacer(),i.fireEvent("lockcolumn",i,e)},syncLockedSection:function(){var e=this;e.syncLockedWidth(),e.lockedGrid.getView().refresh(),e.normalGrid.getView().refresh()},syncLockedWidth:function(){var e=this,t=e.lockedGrid,i=t.headerCt.getFullWidth(!0);return Ext.suspendLayouts(),i>0?(t.setWidth(i),t.show()):t.hide(),Ext.resumeLayouts(!0),i>0},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:function(e,t,i){i&&this.normalGrid.headerCt.clearOtherSortStates(null,!0)},onNormalHeaderSortChange:function(e,t,i){i&&this.lockedGrid.headerCt.clearOtherSortStates(null,!0)},unlock:function(e,t){var i=this,n=i.normalGrid,r=i.lockedGrid,o=n.headerCt,a=r.headerCt,s=!1;Ext.isDefined(t)||(t=0),e=e||a.getMenu().activeHeader,Ext.suspendLayouts(),e.ownerCt.remove(e,!1),i.syncLockedWidth()&&(s=!0),e.locked=!1,o.insert(t,e),i.normalGrid.getView().refresh(),s&&i.lockedGrid.getView().refresh(),Ext.resumeLayouts(!0),i.fireEvent("unlockcolumn",i,e)},applyColumnsState:function(e){var t,i,n,r,o=this,a=o.lockedGrid,s=a.headerCt,l=o.normalGrid.headerCt,d=Ext.Array.toMap(s.items,"headerId"),u=Ext.Array.toMap(l.items,"headerId"),c=[],h=[],g=1,p=e.length;for(t=0;t<p;t++)r=e[t],n=d[r.id],i=n||u[r.id],i&&(i.applyColumnState&&i.applyColumnState(r),void 0===i.locked&&(i.locked=!!n),i.locked?(c.push(i),i.hidden||"number"!=typeof i.width||(g+=i.width)):h.push(i));c.length+h.length==s.items.getCount()+l.items.getCount()&&(s.removeAll(!1),l.removeAll(!1),s.add(c),l.add(h),a.setWidth(g))},getColumnsState:function(){var e=this,t=e.lockedGrid.headerCt.getColumnsState(),i=e.normalGrid.headerCt.getColumnsState();return t.concat(i)},reconfigureLockable:function(e,t){var i=this,n=i.lockedGrid,r=i.normalGrid;t&&(Ext.suspendLayouts(),n.headerCt.removeAll(),r.headerCt.removeAll(),t=i.processColumns(t),n.setWidth(t.lockedWidth),n.headerCt.add(t.locked.items),r.headerCt.add(t.normal.items),Ext.resumeLayouts(!0)),e?(e=Ext.data.StoreManager.lookup(e),i.store=e,n.bindStore(e),r.bindStore(e)):(n.getView().refresh(),r.getView().refresh())},cloneFeatures:function(){var e,t,i=this,n=i.features,r=0;if(n)for(t=n.length;r<t;r++)e=n[r],e.isFeature&&(n[r]=e.clone())},clonePlugins:function(){var e,t,i=this,n=i.plugins,r=0;if(n)for(t=n.length;r<t;r++)e=n[r],"function"==typeof e.init&&(n[r]=e.clone())}},function(){this.borrow(Ext.view.Table,["constructFeatures"]),this.borrow(Ext.AbstractComponent,["constructPlugins","constructPlugin"])}),Ext.define("Ext.grid.View",{extend:"Ext.view.Table",alias:"widget.gridview",stripeRows:!0,autoScroll:!0}),Ext.define("Ext.grid.Panel",{extend:"Ext.panel.Table",requires:["Ext.grid.View"],alias:["widget.gridpanel","widget.grid"],alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"gridview",lockable:!1,bothCfgCopy:["invalidateScrollerOnRefresh","hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns"],normalCfgCopy:["verticalScroller","verticalScrollDock","verticalScrollerType","scroll"],lockedCfgCopy:[],rowLines:!0}),Ext.define("Ext.grid.property.Grid",{extend:"Ext.grid.Panel",alias:"widget.propertygrid",alternateClassName:"Ext.grid.PropertyGrid",uses:["Ext.grid.plugin.CellEditing","Ext.grid.property.Store","Ext.grid.property.HeaderContainer","Ext.XTemplate","Ext.grid.CellEditor","Ext.form.field.Date","Ext.form.field.Text","Ext.form.field.Number","Ext.form.field.ComboBox"],valueField:"value",nameField:"name",enableColumnMove:!1,columnLines:!0,stripeRows:!1,trackMouseOver:!1,clicksToEdit:1,enableHdMenu:!1,initComponent:function(){var e=this;e.addCls(Ext.baseCSSPrefix+"property-grid"),e.plugins=e.plugins||[],e.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:e.clicksToEdit,startEdit:function(t,i){return this.self.prototype.startEdit.call(this,t,e.headerCt.child("#"+e.valueField))}})),e.selModel={selType:"cellmodel",onCellSelect:function(e){return 1!=e.column&&(e.column=1),this.self.prototype.onCellSelect.call(this,e)}},e.customRenderers=e.customRenderers||{},e.customEditors=e.customEditors||{},e.store||(e.propStore=e.store=new Ext.grid.property.Store(e,e.source)),e.sortableColumns&&e.store.sort("name","ASC"),e.columns=new Ext.grid.property.HeaderContainer(e,e.store),e.addEvents("beforepropertychange","propertychange"),e.callParent(),e.getView().walkCells=this.walkCells,e.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:!0})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:!0})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:!0})}),boolean:new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:!1,store:[[!0,e.headerCt.trueText],[!1,e.headerCt.falseText]]})})},e.store.on("update",e.onUpdate,e)},onUpdate:function(e,t,i){var n,r,o=this;o.rendered&&i==Ext.data.Model.EDIT&&(n=t.get(o.valueField),r=t.modified.value,o.fireEvent("beforepropertychange",o.source,t.getId(),n,r)!==!1?(o.source&&(o.source[t.getId()]=n),t.commit(),o.fireEvent("propertychange",o.source,t.getId(),n,r)):t.reject())},walkCells:function(e,t,i,n,r,o){return"left"==t?t="up":"right"==t&&(t="down"),e=Ext.view.Table.prototype.walkCells.call(this,e,t,i,n,r,o),e.column||(e.column=1),e},getCellEditor:function(e,t){var i=this,n=e.get(i.nameField),r=e.get(i.valueField),o=i.customEditors[n];return o?o instanceof Ext.grid.CellEditor||(o instanceof Ext.form.field.Base||(o=Ext.ComponentManager.create(o,"textfield")),o=i.customEditors[n]=new Ext.grid.CellEditor({field:o})):o=Ext.isDate(r)?i.editors.date:Ext.isNumber(r)?i.editors.number:Ext.isBoolean(r)?i.editors.boolean:i.editors.string,o.editorId=n,o},beforeDestroy:function(){var e=this;e.callParent(),e.destroyEditors(e.editors),e.destroyEditors(e.customEditors),delete e.source},destroyEditors:function(e){for(var t in e)e.hasOwnProperty(t)&&Ext.destroy(e[t])},setSource:function(e){this.source=e,this.propStore.setSource(e)},getSource:function(){return this.propStore.getSource()},setProperty:function(e,t,i){this.propStore.setValue(e,t,i)},removeProperty:function(e){this.propStore.remove(e)}}),Ext.define("Ext.tree.View",{extend:"Ext.view.Table",alias:"widget.treeview",requires:["Ext.data.NodeStore"],loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",leafCls:Ext.baseCSSPrefix+"grid-tree-node-leaf",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",blockRefresh:!0,loadMask:!1,rootVisible:!0,deferInitialRefresh:!1,expandDuration:250,collapseDuration:250,toggleOnDblClick:!0,stripeRows:!1,uiFields:["expanded","loaded","checked","expandable","leaf","icon","iconCls","loading","qtip","qtitle"],initComponent:function(){var e=this,t=e.panel.getStore();void 0===e.initialConfig.animate&&(e.animate=Ext.enableFx),e.store=new Ext.data.NodeStore({treeStore:t,recursive:!0,rootVisible:e.rootVisible,listeners:{beforeexpand:e.onBeforeExpand,expand:e.onExpand,beforecollapse:e.onBeforeCollapse,collapse:e.onCollapse,write:e.onStoreWrite,datachanged:e.onStoreDataChanged,scope:e}}),e.node&&e.setRootNode(e.node),e.animQueue={},e.animWraps={},e.addEvents("afteritemexpand","afteritemcollapse"),e.callParent(arguments),e.on({element:"el",scope:e,delegate:e.expanderSelector,mouseover:e.onExpanderMouseOver,mouseout:e.onExpanderMouseOut}),e.on({element:"el",scope:e,delegate:e.checkboxSelector,click:e.onCheckboxChange})},getMaskStore:function(){return this.panel.getStore()},afterComponentLayout:function(){this.callParent(arguments);var e=this.stretcher;e&&e.setWidth(this.getWidth()-Ext.getScrollbarSize().width)},processUIEvent:function(e){return!e.getTarget("."+this.nodeAnimWrapCls,this.el)&&this.callParent(arguments)},onClear:function(){this.store.removeAll()},setRootNode:function(e){var t=this;t.store.setNode(e),t.node=e},onCheckboxChange:function(e,t){var i=this,n=e.getTarget(i.getItemSelector(),i.getTargetEl());n&&i.onCheckChange(i.getRecord(n))},onCheckChange:function(e){var t=e.get("checked");Ext.isBoolean(t)&&(t=!t,e.set("checked",t),this.fireEvent("checkchange",e,t))},getChecked:function(){var e=[];return this.node.cascadeBy(function(t){t.get("checked")&&e.push(t)}),e},isItemChecked:function(e){return e.get("checked")},createAnimWrap:function(e,t){for(var i,n,r,o="",a=this.panel.headerCt,s=a.getGridColumns(),l=0,d=s.length,u=this.getNode(e);l<d;l++)i=s[l],o+='<th style="width: '+(i.hidden?0:i.getDesiredWidth())+'px; height: 0px;"></th>';return r=Ext.get(u),n=r.insertSibling({tag:"tr",html:['<td colspan="'+a.getColumnCount()+'">','<div class="'+this.nodeAnimWrapCls+'">','<table class="'+Ext.baseCSSPrefix+'grid-table" style="width: '+a.getFullWidth()+'px;"><tbody>',o,"</tbody></table>","</div>","</td>"].join("")},"after"),{record:e,node:u,el:n,expanding:!1,collapsing:!1,animating:!1,animateEl:n.down("div"),targetEl:n.down("tbody")}},getAnimWrap:function(e,t){if(!this.animate)return null;var i=this.animWraps,n=i[e.internalId];if(t!==!1)for(;!n&&e;)e=e.parentNode,e&&(n=i[e.internalId]);return n},doAdd:function(e,t,i){var n,r,o,a=this,s=t[0],l=s.parentNode,d=a.all.elements,u=0,c=a.getAnimWrap(l);return c&&c.expanding?(l=c.record,n=c.targetEl,r=n.dom.childNodes,o=r.length-1,u=i-a.indexOf(l)-1,!o||u>=o?n.appendChild(e):Ext.fly(r[u+1]).insertSibling(e,"before",!0),Ext.Array.insert(d,i,e),void(c.isAnimating&&a.onExpand(l))):a.callParent(arguments)},beginBulkUpdate:function(){this.bulkUpdate=!0},endBulkUpdate:function(){this.bulkUpdate=!1},onRemove:function(e,t,i){var n=this,r=n.bulkUpdate;n.viewReady&&(n.doRemove(t,i),r||n.updateIndexes(i),0===n.store.getCount()&&n.refresh(),r||n.fireEvent("itemremove",t,i))},doRemove:function(e,t){var i=this,n=i.all,r=i.getAnimWrap(e),o=n.item(t),a=o?o.dom:null;return a&&r&&r.collapsing?(r.targetEl.appendChild(a),void n.removeElement(t)):i.callParent(arguments)},onBeforeExpand:function(e,t,i){var n,r=this;r.rendered&&r.animate&&r.getNode(e)&&(n=r.getAnimWrap(e,!1),n?n.collapsing&&n.targetEl.select(r.itemSelector).remove():(n=r.animWraps[e.internalId]=r.createAnimWrap(e),n.animateEl.setHeight(0)),n.expanding=!0,n.collapsing=!1)},onExpand:function(e){var t,i,n,r=this,o=r.animQueue,a=e.getId(),s=r.getNode(e),l=s?r.indexOf(s):-1;if(r.singleExpand&&r.ensureSingleExpand(e),l!==-1){if(t=r.getAnimWrap(e,!1),!t)return r.isExpandingOrCollapsing=!1,void r.fireEvent("afteritemexpand",e,l,s);i=t.animateEl,n=t.targetEl,i.stopAnimation(),o[a]=!0,i.slideIn("t",{duration:r.expandDuration,listeners:{scope:r,lastframe:function(){t.el.insertSibling(n.query(r.itemSelector),"before"),t.el.remove(),r.refreshSize(),delete r.animWraps[t.record.internalId],delete o[a]}},callback:function(){r.isExpandingOrCollapsing=!1,r.fireEvent("afteritemexpand",e,l,s)}}),t.isAnimating=!0}},onBeforeCollapse:function(e,t,i){var n,r=this;r.rendered&&r.animate&&r.getNode(e)&&(n=r.getAnimWrap(e),n?n.expanding&&n.targetEl.select(this.itemSelector).remove():n=r.animWraps[e.internalId]=r.createAnimWrap(e,i),n.expanding=!1,n.collapsing=!0)},onCollapse:function(e){var t,i,n=this,r=n.animQueue,o=e.getId(),a=n.getNode(e),s=a?n.indexOf(a):-1,l=n.getAnimWrap(e);if(s!==-1){if(!l)return n.isExpandingOrCollapsing=!1,void n.fireEvent("afteritemcollapse",e,s,a);t=l.animateEl,i=l.targetEl,r[o]=!0,t.stopAnimation(),t.slideOut("t",{duration:n.collapseDuration,listeners:{scope:n,lastframe:function(){l.el.remove(),n.refreshSize(),delete n.animWraps[l.record.internalId],delete r[o]}},callback:function(){n.isExpandingOrCollapsing=!1,n.fireEvent("afteritemcollapse",e,s,a)}}),l.isAnimating=!0}},isAnimating:function(e){return!!this.animQueue[e.getId()]},collectData:function(e){for(var t,i,n=this.callParent(arguments),r=n.rows,o=r.length,a=0;a<o;a++)t=r[a],i=e[a],i.get("qtip")&&(t.rowAttr='data-qtip="'+i.get("qtip")+'"',i.get("qtitle")&&(t.rowAttr+=' data-qtitle="'+i.get("qtitle")+'"')),i.isExpanded()&&(t.rowCls=(t.rowCls||"")+" "+this.expandedCls),i.isLeaf()&&(t.rowCls=(t.rowCls||"")+" "+this.leafCls),i.isLoading()&&(t.rowCls=(t.rowCls||"")+" "+this.loadingCls);return n},expand:function(e,t,i,n){return e.expand(t,i,n)},collapse:function(e,t,i,n){return e.collapse(t,i,n)},toggle:function(e,t,i,n){var r=this,o=!!this.animate;o&&this.isExpandingOrCollapsing||(e.isLeaf()||(this.isExpandingOrCollapsing=o),e.isExpanded()?r.collapse(e,t,i,n):r.expand(e,t,i,n))},onItemDblClick:function(e,t,i){var n=this,r=n.editingPlugin;n.callParent(arguments),!n.toggleOnDblClick||!e.isExpandable()||r&&2===r.clicksToEdit||n.toggle(e)},onBeforeItemMouseDown:function(e,t,i,n){return!n.getTarget(this.expanderSelector,t)&&this.callParent(arguments)},onItemClick:function(e,t,i,n){return n.getTarget(this.expanderSelector,t)&&e.isExpandable()?(this.toggle(e,n.ctrlKey),!1):this.callParent(arguments)},onExpanderMouseOver:function(e,t){e.getTarget(this.cellSelector,10,!0).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(e,t){e.getTarget(this.cellSelector,10,!0).removeCls(this.expanderIconOverCls)},getTreeStore:function(){return this.panel.store},ensureSingleExpand:function(e){var t=e.parentNode;t&&t.eachChild(function(t){t!==e&&t.isExpanded()&&t.collapse()})},shouldUpdateCell:function(e,t){if(t)for(var i=0,n=t.length;i<n;++i)if(Ext.Array.contains(this.uiFields,t[i]))return!0;return this.callParent(arguments)},onStoreWrite:function(e,t){var i=this.panel.store;i.fireEvent("write",i,t)},onStoreDataChanged:function(e,t){var i=this.panel.store;i.fireEvent("datachanged",i)}}),Ext.define("Ext.tree.Panel",{extend:"Ext.panel.Table",alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],requires:["Ext.tree.View","Ext.selection.TreeModel","Ext.tree.Column","Ext.data.TreeStore"],viewType:"treeview",selType:"treemodel",treeCls:Ext.baseCSSPrefix+"tree-panel",deferRowRender:!1,rowLines:!1,lines:!0,useArrows:!1,singleExpand:!1,ddConfig:{enableDrag:!0,enableDrop:!0},rootVisible:!0,displayField:"text",root:null,normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:!0,constructor:function(e){e=e||{},void 0===e.animate&&(e.animate=Ext.isDefined(this.animate)?this.animate:Ext.enableFx),this.enableAnimations=e.animate,delete e.animate,this.callParent([e])},initComponent:function(){var e,t=this,i=[t.treeCls];t.useArrows&&(i.push(Ext.baseCSSPrefix+"tree-arrows"),t.lines=!1),t.lines?i.push(Ext.baseCSSPrefix+"tree-lines"):t.useArrows||i.push(Ext.baseCSSPrefix+"tree-no-lines"),Ext.isString(t.store)?t.store=Ext.StoreMgr.lookup(t.store):!t.store||Ext.isObject(t.store)&&!t.store.isStore?t.store=new Ext.data.TreeStore(Ext.apply({},t.store||{},{root:t.root,fields:t.fields,model:t.model,folderSort:t.folderSort})):t.root&&(t.store=Ext.data.StoreManager.lookup(t.store),t.store.setRootNode(t.root),void 0!==t.folderSort&&(t.store.folderSort=t.folderSort,t.store.sort())),t.viewConfig=Ext.apply({},t.viewConfig),t.viewConfig=Ext.applyIf(t.viewConfig,{rootVisible:t.rootVisible,animate:t.enableAnimations,singleExpand:t.singleExpand,node:t.store.getRootNode(),hideHeaders:t.hideHeaders}),t.mon(t.store,{scope:t,rootchange:t.onRootChange,clear:t.onClear}),t.relayEvents(t.store,["beforeload","load"]),t.mon(t.store,{append:t.createRelayer("itemappend"),remove:t.createRelayer("itemremove"),move:t.createRelayer("itemmove",[0,4]),insert:t.createRelayer("iteminsert"),beforeappend:t.createRelayer("beforeitemappend"),beforeremove:t.createRelayer("beforeitemremove"),beforemove:t.createRelayer("beforeitemmove"),beforeinsert:t.createRelayer("beforeiteminsert"),expand:t.createRelayer("itemexpand",[0,1]),collapse:t.createRelayer("itemcollapse",[0,1]),beforeexpand:t.createRelayer("beforeitemexpand",[0,1]),beforecollapse:t.createRelayer("beforeitemcollapse",[0,1])}),t.columns||(void 0===t.initialConfig.hideHeaders&&(t.hideHeaders=!0),t.addCls(Ext.baseCSSPrefix+"autowidth-table"),t.columns=[{xtype:"treecolumn",text:"Name",width:Ext.isIE6?null:1e4,dataIndex:t.displayField}]),t.cls&&i.push(t.cls),t.cls=i.join(" "),t.callParent(),e=t.getView(),t.relayEvents(e,["checkchange","afteritemexpand","afteritemcollapse"]),e.rootVisible||t.getRootNode()||t.setRootNode({expanded:!0})},onClear:function(){this.view.onClear()},setRootNode:function(){return this.store.setRootNode.apply(this.store,arguments)},getRootNode:function(){return this.store.getRootNode()},onRootChange:function(e){this.view.setRootNode(e)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(e){return e.get("checked")},expandNode:function(e,t,i,n){return this.getView().expand(e,t,i,n||this)},collapseNode:function(e,t,i,n){return this.getView().collapse(e,t,i,n||this)},expandAll:function(e,t){var i=this,n=i.getRootNode(),r=i.enableAnimations,o=i.getView();n&&(r||o.beginBulkUpdate(),n.expand(!0,e,t||i),r||o.endBulkUpdate())},collapseAll:function(e,t){var i=this,n=i.getRootNode(),r=i.enableAnimations,o=i.getView();n&&(r||o.beginBulkUpdate(),t=t||i,o.rootVisible?n.collapse(!0,e,t):n.collapseChildren(!0,e,t),r||o.endBulkUpdate())},expandPath:function(e,t,i,n,r){var o,a,s=this,l=s.getRootNode(),d=1;s.getView();return t=t||s.getRootNode().idProperty,i=i||"/",Ext.isEmpty(e)?void Ext.callback(n,r||s,[!1,null]):(o=e.split(i),l.get(t)!=o[1]?void Ext.callback(n,r||s,[!1,l]):(a=function(){if(++d===o.length)return void Ext.callback(n,r||s,[!0,l]);var e=l.findChild(t,o[d]);return e?(l=e,void l.expand(!1,a)):void Ext.callback(n,r||s,[!1,l])},void l.expand(!1,a)))},selectPath:function(e,t,i,n,r){var o,a,s,l=this;t=t||l.getRootNode().idProperty,i=i||"/",a=e.split(i),s=a.pop(),a.length>1?l.expandPath(a.join(i),t,i,function(e,i){var o=i;return e&&i&&(i=i.findChild(t,s))?(l.getSelectionModel().select(i),void Ext.callback(n,r||l,[!0,i])):void Ext.callback(n,r||l,[!1,o])},l):(o=l.getRootNode(),o.getId()===s?(l.getSelectionModel().select(o),Ext.callback(n,r||l,[!0,o])):Ext.callback(n,r||l,[!1,null]))}}),Ext.define("Ext.window.Window",{extend:"Ext.panel.Panel",alternateClassName:"Ext.Window",requires:["Ext.util.ComponentDragger","Ext.util.Region","Ext.EventManager"],alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:"offsets",floating:!0,ariaRole:"alertdialog",itemCls:Ext.baseCSSPrefix+"window-item",initialAlphaNum:/^[a-z0-9]/,overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isWindow:!0,initComponent:function(){var e=this;e.frame=!1,e.callParent(),e.addEvents("resize","maximize","minimize","restore"),e.plain&&e.addClsWithUI("plain"),e.modal&&(e.ariaRole="dialog"),e.floating&&e.on({element:"el",mousedown:e.onMouseDown,scope:e}),e.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var e,t=this;return e=t.callParent(),e.tabIndex=-1,e},getState:function(){var e=this,t=e.callParent()||{},i=!!e.maximized;return t.maximized=i,Ext.apply(t,{size:i?e.restoreSize:e.getSize(),pos:i?e.restorePos:e.getPosition()}),t},applyState:function(e){var t=this;e&&(t.maximized=e.maximized,t.maximized?(t.hasSavedRestore=!0,t.restoreSize=e.size,t.restorePos=e.pos):Ext.apply(t,{width:e.size.width,height:e.size.height,x:e.pos[0],y:e.pos[1]}))},onMouseDown:function(e){var t;this.floating&&(Ext.fly(e.getTarget()).focusable()&&(t=!0),this.toFront(t))},onRender:function(e,t){var i=this;i.callParent(arguments),i.focusEl=i.el,i.maximizable&&i.header.on({scope:i,dblclick:i.toggleMaximize})},afterRender:function(){var e,t=this;t.callParent(),t.maximized&&(t.maximized=!1,t.maximize()),t.closable?(e=t.getKeyMap(),e.on(27,t.onEsc,t)):e=t.keyMap,e&&t.hidden&&e.disable()},initDraggable:function(){var e,t=this;t.header||t.updateHeader(!0),t.header&&(e=Ext.applyIf({el:t.el,delegate:"#"+Ext.escapeId(t.header.id)},t.draggable),(t.constrain||t.constrainHeader)&&(e.constrain=t.constrain,e.constrainDelegate=t.constrainHeader,e.constrainTo=t.constrainTo||t.container),t.dd=new Ext.util.ComponentDragger(this,e),t.relayEvents(t.dd,["dragstart","drag","dragend"]))},onEsc:function(e,t){Ext.FocusManager&&Ext.FocusManager.enabled&&Ext.FocusManager.focusedCmp!==this||(t.stopEvent(),this.close())},beforeDestroy:function(){var e=this;e.rendered&&(delete this.animateTarget,e.hide(),Ext.destroy(e.keyMap)),e.callParent()},addTools:function(){var e=this;e.callParent(),e.minimizable&&e.addTool({type:"minimize",handler:Ext.Function.bind(e.minimize,e,[])}),e.maximizable&&(e.addTool({type:"maximize",handler:Ext.Function.bind(e.maximize,e,[])}),e.addTool({type:"restore",handler:Ext.Function.bind(e.restore,e,[]),hidden:!0}))},getFocusEl:function(){return this.getDefaultFocus()},getDefaultFocus:function(){var e,t,i=this,n=i.defaultButton||i.defaultFocus;return void 0!==n&&(Ext.isNumber(n)?e=i.query("button")[n]:Ext.isString(n)?(t=n,t.match(i.initialAlphaNum)&&(e=i.down("#"+t)),e||(e=i.down(t))):n.focus&&(e=n)),e||i.el},onFocus:function(){var e,t=this;Ext.FocusManager&&Ext.FocusManager.enabled||(e=t.getDefaultFocus())===t?t.callParent(arguments):e.focus()},beforeLayout:function(){var e=this.el.shadow;this.callParent(),e&&e.hide()},onShow:function(){var e=this;e.callParent(arguments),e.expandOnShow&&e.expand(!1),e.syncMonitorWindowResize(),e.keyMap&&e.keyMap.enable()},doClose:function(){var e=this;e.hidden?(e.fireEvent("close",e),"destroy"==e.closeAction&&this.destroy()):e.hide(e.animateTarget,e.doClose,e)},afterHide:function(){var e=this;e.syncMonitorWindowResize(),e.keyMap&&e.keyMap.disable(),e.callParent(arguments)},onWindowResize:function(){var e,t=this;t.maximized?t.fitContainer():(e=t.getSizeModel(),(e.width.natural||e.height.natural)&&t.updateLayout()),t.doConstrain()},minimize:function(){return this.fireEvent("minimize",this),this},afterCollapse:function(){var e=this;e.maximizable&&(e.tools.maximize.hide(),e.tools.restore.hide()),e.resizer&&e.resizer.disable(),e.callParent(arguments)},afterExpand:function(){var e=this;e.maximized?e.tools.restore.show():e.maximizable&&e.tools.maximize.show(),e.resizer&&e.resizer.enable(),e.callParent(arguments)},maximize:function(){var e=this;return e.maximized||(e.expand(!1),e.hasSavedRestore||(e.restoreSize=e.getSize(),e.restorePos=e.getPosition(!0)),e.maximizable&&(e.tools.maximize.hide(),e.tools.restore.show()),e.maximized=!0,e.el.disableShadow(),e.dd&&e.dd.disable(),e.resizer&&e.resizer.disable(),e.collapseTool&&e.collapseTool.hide(),e.el.addCls(Ext.baseCSSPrefix+"window-maximized"),e.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct"),e.syncMonitorWindowResize(),e.fitContainer(),e.fireEvent("maximize",e)),e},restore:function(){var e=this,t=e.tools;return e.maximized&&(delete e.hasSavedRestore,e.removeCls(Ext.baseCSSPrefix+"window-maximized"),t.restore&&t.restore.hide(),t.maximize&&t.maximize.show(),e.collapseTool&&e.collapseTool.show(),e.maximized=!1,e.setPosition(e.restorePos),e.setSize(e.restoreSize),delete e.restorePos,delete e.restoreSize,e.el.enableShadow(!0),e.dd&&e.dd.enable(),e.resizer&&e.resizer.enable(),e.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct"),e.syncMonitorWindowResize(),e.doConstrain(),e.fireEvent("restore",e)),e},syncMonitorWindowResize:function(){var e=this,t=e._monitoringResize,i=e.monitorResize||e.constrain||e.constrainHeader||e.maximized,n=e.hidden||e.destroying||e.isDestroyed;i&&!n?t||(Ext.EventManager.onWindowResize(e.onWindowResize,e),e._monitoringResize=!0):t&&(Ext.EventManager.removeResizeListener(e.onWindowResize,e),e._monitoringResize=!1)},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()}}),Ext.define("Ext.window.MessageBox",{extend:"Ext.window.Window",requires:["Ext.toolbar.Toolbar","Ext.form.field.Text","Ext.form.field.TextArea","Ext.form.field.Display","Ext.button.Button","Ext.layout.container.Anchor","Ext.layout.container.HBox","Ext.ProgressBar"],alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:!1,title:"&#160;",width:600,height:500,minWidth:250,maxWidth:600,minHeight:110,maxHeight:500,constrain:!0,cls:Ext.baseCSSPrefix+"message-box",layout:{type:"vbox",align:"stretch"},defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},iconHeight:35,makeButton:function(e){var t=this.buttonIds[e];return new Ext.button.Button({handler:this.btnCallback,itemId:t,scope:this,text:this.buttonText[t],minWidth:75})},btnCallback:function(e){var t,i,n=this;(n.cfg.prompt||n.cfg.multiline)&&(i=n.cfg.multiline?n.textArea:n.textField,t=i.getValue(),i.reset()),e.blur(),n.hide(),n.userCallback(e.itemId,t,n.cfg)},hide:function(){var e=this;e.dd.endDrag(),e.progressBar.reset(),e.removeCls(e.cfg.cls),e.callParent(arguments)},initComponent:function(){var e,t,i,n=this,r=n.id;for(n.title="&#160;",n.topContainer=new Ext.container.Container({layout:"hbox",style:{padding:"10px",overflow:"hidden"},items:[n.iconComponent=new Ext.Component({cls:n.baseCls+"-icon",width:50,height:n.iconHeight}),n.promptContainer=new Ext.container.Container({flex:1,layout:{type:"anchor"},items:[n.msg=new Ext.form.field.Display({id:r+"-displayfield",cls:n.baseCls+"-text"}),n.textField=new Ext.form.field.Text({id:r+"-testfield",anchor:"100%",enableKeyEvents:!0,listeners:{keydown:n.onPromptKey,scope:n}}),n.textArea=new Ext.form.field.TextArea({id:r+"-textarea",anchor:"100%",height:75})]})]}),n.progressBar=new Ext.ProgressBar({id:r+"-progressbar",margins:"0 10 0 10"}),n.items=[n.topContainer,n.progressBar],n.msgButtons=[],e=0;e<4;e++)t=n.makeButton(e),n.msgButtons[t.itemId]=t,n.msgButtons.push(t);n.bottomTb=new Ext.toolbar.Toolbar({id:r+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[n.msgButtons[0],n.msgButtons[1],n.msgButtons[2],n.msgButtons[3]]}),n.dockedItems=[n.bottomTb],i=n.bottomTb.getLayout(),i.finishedLayout=Ext.Function.createInterceptor(i.finishedLayout,function(e){n.tbWidth=e.getProp("contentWidth")}),n.on("close",n.onClose,n),n.callParent()},onClose:function(){var e=this.header.child("[type=close]");e.itemId="cancel",this.btnCallback(e),delete e.itemId},onPromptKey:function(e,t){var i,n=this;t.keyCode!==Ext.EventObject.RETURN&&10!==t.keyCode||(n.msgButtons.ok.isVisible()?(i=!0,n.msgButtons.ok.handler.call(n,n.msgButtons.ok)):n.msgButtons.yes.isVisible()&&(n.msgButtons.yes.handler.call(n,n.msgButtons.yes),i=!0),i&&n.textField.blur())},reconfigure:function(e){var t,i=this,n=0,r=!0,o=i.maxWidth,a=i.buttonText;for(i.updateButtonText(),e=e||{},i.cfg=e,e.width&&(o=e.width),delete i.defaultFocus,i.animateTarget=e.animateTarget||void 0,i.modal=e.modal!==!1,e.title&&i.setTitle(e.title||"&#160;"),Ext.isObject(e.buttons)?(i.buttonText=e.buttons,n=0):(i.buttonText=e.buttonText||i.buttonText,n=Ext.isNumber(e.buttons)?e.buttons:0),n|=i.updateButtonText(),i.buttonText=a,Ext.suspendLayouts(),i.hidden=!1,i.rendered?i.setSize(o,i.maxHeight):(i.width=o,i.render(Ext.getBody())),i.closable=e.closable&&!e.wait,i.header.child("[type=close]").setVisible(e.closable!==!1),e.title||i.closable?i.header.show():i.header.hide(),i.liveDrag=!e.proxyDrag,i.userCallback=Ext.Function.bind(e.callback||e.fn||Ext.emptyFn,e.scope||Ext.global),i.setIcon(e.icon),e.msg?(i.msg.setValue(e.msg),i.msg.show()):i.msg.hide(),Ext.resumeLayouts(!0),Ext.suspendLayouts(),e.prompt||e.multiline?(i.multiline=e.multiline,e.multiline?(i.textArea.setValue(e.value),i.textArea.setHeight(e.defaultTextHeight||i.defaultTextHeight),i.textArea.show(),i.textField.hide(),i.defaultFocus=i.textArea):(i.textField.setValue(e.value),i.textArea.hide(),i.textField.show(),i.defaultFocus=i.textField)):(i.textArea.hide(),i.textField.hide()),e.progress||e.wait?(i.progressBar.show(),i.updateProgress(0,e.progressText),e.wait===!0&&i.progressBar.wait(e.waitConfig)):i.progressBar.hide(),t=0;t<4;t++)n&Math.pow(2,t)?(i.defaultFocus||(i.defaultFocus=i.msgButtons[t]),i.msgButtons[t].show(),r=!1):i.msgButtons[t].hide();r?i.bottomTb.hide():i.bottomTb.show(),Ext.resumeLayouts(!0)},updateButtonText:function(){var e,t,i=this,n=i.buttonText,r=0;for(e in n)n.hasOwnProperty(e)&&(t=i.msgButtons[e],t&&(i.cfg&&i.cfg.buttonText&&(r|=Math.pow(2,Ext.Array.indexOf(i.buttonIds,e))),t.text!=n[e]&&t.setText(n[e])));return r},show:function(e){var t=this;return t.reconfigure(e),t.addCls(e.cls),t.doAutoSize(),t.hidden=!0,t.callParent(),t},onShow:function(){this.callParent(arguments),this.center()},doAutoSize:function(){var e,t,i=this,n=i.header.rendered&&i.header.isVisible(),r=i.bottomTb.rendered&&i.bottomTb.isVisible();return Ext.isDefined(i.frameWidth)||(i.frameWidth=i.el.getWidth()-i.body.getWidth()),i.minWidth=i.cfg.minWidth||Ext.getClass(this).prototype.minWidth,e=Math.max(n?i.header.getMinWidth():0,i.cfg.width||i.msg.getWidth()+i.iconComponent.getWidth()+25,r?i.tbWidth:0),t=(n?i.header.getHeight():0)+i.topContainer.getHeight()+i.progressBar.getHeight()+(r?i.bottomTb.getHeight()+i.bottomTb.el.getMargin("tb"):0),
i.setSize(e+i.frameWidth,t+i.frameWidth),i},updateText:function(e){return this.msg.setValue(e),this.doAutoSize(!0)},setIcon:function(e){var t=this;return t.iconComponent.removeCls(t.messageIconCls),e?(t.iconComponent.show(),t.iconComponent.addCls(Ext.baseCSSPrefix+"dlg-icon"),t.iconComponent.addCls(t.messageIconCls=e)):(t.iconComponent.removeCls(Ext.baseCSSPrefix+"dlg-icon"),t.iconComponent.hide()),t},updateProgress:function(e,t,i){return this.progressBar.updateProgress(e,t),i&&this.updateText(i),this},onEsc:function(){this.closable!==!1&&this.callParent(arguments)},confirm:function(e,t,i,n){return Ext.isString(e)&&(e={title:e,icon:this.QUESTION,msg:t,buttons:this.YESNO,callback:i,scope:n}),this.show(e)},prompt:function(e,t,i,n,r,o){return Ext.isString(e)&&(e={prompt:!0,title:e,minWidth:this.minPromptWidth,msg:t,buttons:this.OKCANCEL,callback:i,scope:n,multiline:r,value:o}),this.show(e)},wait:function(e,t,i){return Ext.isString(e)&&(e={title:t,msg:e,closable:!1,wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:i}),this.show(e)},alert:function(e,t,i,n){return Ext.isString(e)&&(e={title:e,msg:t,buttons:this.OK,fn:i,scope:n,minWidth:this.minWidth}),this.show(e)},progress:function(e,t,i){return Ext.isString(e)&&(e={title:e,msg:t,progress:!0,progressText:i}),this.show(e)}},function(){Ext.MessageBox=Ext.Msg=new this}),Ext.define("Ext.form.Basic",{extend:"Ext.util.Observable",alternateClassName:"Ext.form.BasicForm",requires:["Ext.util.MixedCollection","Ext.form.action.Load","Ext.form.action.Submit","Ext.window.MessageBox","Ext.data.Errors","Ext.util.DelayedTask"],constructor:function(e,t){var i,n,r=this,o=r.onItemAddOrRemove;if(r.owner=e,r.mon(e,{add:o,remove:o,scope:r}),Ext.apply(r,t),Ext.isString(r.paramOrder)&&(r.paramOrder=r.paramOrder.split(/[\s,|]/)),r.api){i=r.api=Ext.apply({},r.api);for(n in i)i.hasOwnProperty(n)&&(i[n]=Ext.direct.Manager.parseMethod(i[n]))}r.checkValidityTask=new Ext.util.DelayedTask(r.checkValidity,r),r.addEvents("beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"),r.callParent()},initialize:function(){var e=this;e.initialized=!0,e.onValidityChange(!e.hasInvalidField())},timeout:30,paramsAsHash:!1,waitTitle:"Please Wait...",trackResetOnLoad:!1,wasDirty:!1,destroy:function(){this.clearListeners(),this.checkValidityTask.cancel()},onItemAddOrRemove:function(e,t){function i(e){n[r?"mon":"mun"](e,{validitychange:n.checkValidity,dirtychange:n.checkDirty,scope:n,buffer:100}),delete n._fields}var n=this,r=!!t.ownerCt,o=t.isContainer;t.isFormField?i(t):o&&(t.isDestroyed||t.destroying?delete n._fields:Ext.Array.forEach(t.query("[isFormField]"),i)),delete this._boundItems,n.initialized&&n.checkValidityTask.delay(10)},getFields:function(){var e=this._fields;return e||(e=this._fields=new Ext.util.MixedCollection,e.addAll(this.owner.query("[isFormField]"))),e},getBoundItems:function(){var e=this._boundItems;return e&&0!==e.getCount()||(e=this._boundItems=new Ext.util.MixedCollection,e.addAll(this.owner.query("[formBind]"))),e},hasInvalidField:function(){return!!this.getFields().findBy(function(e){var t,i=e.preventMark;return e.preventMark=!0,t=e.isValid(),e.preventMark=i,!t})},isValid:function(){var e,t=this;return Ext.suspendLayouts(),e=t.getFields().filterBy(function(e){return!e.validate()}),Ext.resumeLayouts(!0),e.length<1},checkValidity:function(){var e=this,t=!e.hasInvalidField();t!==e.wasValid&&(e.onValidityChange(t),e.fireEvent("validitychange",e,t),e.wasValid=t)},onValidityChange:function(e){var t,i,n,r,o=this.getBoundItems();if(o)for(t=o.items,n=t.length,i=0;i<n;i++)r=t[i],r.disabled===e&&r.setDisabled(!e)},isDirty:function(){return!!this.getFields().findBy(function(e){return e.isDirty()})},checkDirty:function(){var e=this.isDirty();e!==this.wasDirty&&(this.fireEvent("dirtychange",this,e),this.wasDirty=e)},hasUpload:function(){return!!this.getFields().findBy(function(e){return e.isFileUpload()})},doAction:function(e,t){return Ext.isString(e)&&(e=Ext.ClassManager.instantiateByAlias("formaction."+e,Ext.apply({},t,{form:this}))),this.fireEvent("beforeaction",this,e)!==!1&&(this.beforeAction(e),Ext.defer(e.run,100,e)),this},submit:function(e){e=e||{};var t,i=this;return t=e.standardSubmit||i.standardSubmit?"standardsubmit":i.api?"directsubmit":"submit",i.doAction(t,e)},load:function(e){return this.doAction(this.api?"directload":"load",e)},updateRecord:function(e){e=e||this._record;for(var t,i=e.fields.items,n=this.getFieldValues(),r={},o=0,a=i.length;o<a;++o)t=i[o].name,n.hasOwnProperty(t)&&(r[t]=n[t]);return e.beginEdit(),e.set(r),e.endEdit(),this},loadRecord:function(e){return this._record=e,this.setValues(e.data)},getRecord:function(){return this._record},beforeAction:function(e){var t,i,n,r=e.waitMsg,o=Ext.baseCSSPrefix+"mask-loading",a=this.getFields().items,s=a.length;for(t=0;t<s;t++)i=a[t],i.isFormField&&i.syncValue&&i.syncValue();r&&(n=this.waitMsgTarget,n===!0?this.owner.el.mask(r,o):n?(n=this.waitMsgTarget=Ext.get(n),n.mask(r,o)):Ext.MessageBox.wait(r,e.waitTitle||this.waitTitle))},afterAction:function(e,t){if(e.waitMsg){var i=Ext.MessageBox,n=this.waitMsgTarget;n===!0?this.owner.el.unmask():n?n.unmask():(i.suspendEvents(),i.hide(),i.resumeEvents())}t?(e.reset&&this.reset(),Ext.callback(e.success,e.scope||e,[this,e]),this.fireEvent("actioncomplete",this,e)):(Ext.callback(e.failure,e.scope||e,[this,e]),this.fireEvent("actionfailed",this,e))},findField:function(e){return this.getFields().findBy(function(t){return t.id===e||t.getName()===e})},markInvalid:function(e){function t(e,t){var i=s.findField(e);i&&i.markInvalid(t)}var i,n,r,o,a,s=this;if(Ext.isArray(e))for(n=e.length,i=0;i<n;i++)r=e[i],t(r.id,r.msg);else if(e instanceof Ext.data.Errors)for(n=e.items.length,i=0;i<n;i++)r=e.items[i],t(r.field,r.message);else for(a in e)e.hasOwnProperty(a)&&(o=e[a],t(a,o,e));return this},setValues:function(e){function t(e,t){var i=o.findField(e);i&&(i.setValue(t),o.trackResetOnLoad&&i.resetOriginalValue())}var i,n,r,o=this;if(Ext.isArray(e))for(n=e.length,i=0;i<n;i++)r=e[i],t(r.id,r.value);else Ext.iterate(e,t);return this},getValues:function(e,t,i,n){var r,o,a,s,l,d,u={},c=this.getFields().items,h=c.length,g=Ext.isArray;for(r=0;r<h;r++)if(o=c[r],(!t||o.isDirty())&&(a=o[n?"getModelData":"getSubmitData"](i),Ext.isObject(a)))for(d in a)a.hasOwnProperty(d)&&(s=a[d],i&&""===s&&(s=o.emptyText||""),u.hasOwnProperty(d)?(l=u[d],g(l)||(l=u[d]=[l]),g(s)?u[d]=u[d]=l.concat(s):l.push(s)):u[d]=s);return e&&(u=Ext.Object.toQueryString(u)),u},getFieldValues:function(e){return this.getValues(!1,e,!1,!0)},clearInvalid:function(){Ext.suspendLayouts();var e,t=this,i=t.getFields().items,n=i.length;for(e=0;e<n;e++)i[e].clearInvalid();return Ext.resumeLayouts(!0),t},reset:function(){Ext.suspendLayouts();var e,t=this,i=t.getFields().items,n=i.length;for(e=0;e<n;e++)i[e].reset();return Ext.resumeLayouts(!0),t},applyToFields:function(e){var t,i=this.getFields().items,n=i.length;for(t=0;t<n;t++)Ext.apply(i[t],e);return this},applyIfToFields:function(e){var t,i=this.getFields().items,n=i.length;for(t=0;t<n;t++)Ext.applyIf(i[t],e);return this}}),Ext.define("Ext.form.Panel",{extend:"Ext.panel.Panel",mixins:{fieldAncestor:"Ext.form.FieldAncestor"},alias:"widget.form",alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],requires:["Ext.form.Basic","Ext.util.TaskRunner"],layout:"anchor",ariaRole:"form",basicFormConfigs:["api","baseParams","errorReader","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){var e=this;e.frame&&(e.border=!1),e.initFieldAncestor(),e.callParent(),e.relayEvents(e.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]),e.pollForChanges&&e.startPolling(e.pollInterval||500)},initItems:function(){var e=this;e.form=e.createForm(),e.callParent()},afterFirstLayout:function(){this.callParent(),this.form.initialize()},createForm:function(){for(var e,t={},i=this.basicFormConfigs,n=i.length,r=0;r<n;++r)e=i[r],t[e]=this[e];return new Ext.form.Basic(this,t)},getForm:function(){return this.form},loadRecord:function(e){return this.getForm().loadRecord(e)},getRecord:function(){return this.getForm().getRecord()},getValues:function(e,t,i,n){return this.getForm().getValues(e,t,i,n)},beforeDestroy:function(){this.stopPolling(),this.form.destroy(),this.callParent()},load:function(e){this.form.load(e)},submit:function(e){this.form.submit(e)},startPolling:function(e){this.stopPolling();var t=new Ext.util.TaskRunner(e);t.start({interval:0,run:this.checkChange,scope:this}),this.pollTask=t},stopPolling:function(){var e=this.pollTask;e&&(e.stopAll(),delete this.pollTask)},checkChange:function(){var e,t=this.form.getFields().items,i=t.length;for(e=0;e<i;e++)t[e].checkChange()}}),Ext.define("Ext.grid.RowEditor",{extend:"Ext.form.Panel",requires:["Ext.tip.ToolTip","Ext.util.HashMap","Ext.util.KeyNav"],saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:!1,hideMode:"offsets",initComponent:function(){var e,t=this;t.cls=Ext.baseCSSPrefix+"grid-row-editor",t.layout={type:"hbox",align:"middle"},t.columns=new Ext.util.HashMap,t.columns.getKey=function(e){var t;return e.getEditor&&(t=e.getEditor())?t.id:e.id},t.mon(t.columns,{add:t.onFieldAdd,remove:t.onFieldRemove,replace:t.onFieldReplace,scope:t}),t.callParent(arguments),t.fields&&(t.setField(t.fields),delete t.fields),t.mon(Ext.container.Container.hierarchyEventSource,{scope:t,show:t.repositionIfVisible}),e=t.getForm(),e.trackResetOnLoad=!0},onFieldChange:function(){var e=this,t=e.getForm(),i=t.isValid();e.errorSummary&&e.isVisible()&&e[i?"hideToolTip":"showToolTip"](),e.updateButton(i),e.isValid=i},updateButton:function(e){var t=this.floatingButtons;t&&t.child("#update").setDisabled(!e)},afterRender:function(){var e=this,t=e.editingPlugin;e.callParent(arguments),e.mon(e.renderTo,"scroll",e.onCtScroll,e,{buffer:100}),e.mon(e.el,{click:Ext.emptyFn,stopPropagation:!0}),e.el.swallowEvent(["keypress","keydown"]),e.keyNav=new Ext.util.KeyNav(e.el,{enter:t.completeEdit,esc:t.onEscKey,scope:t}),e.mon(t.view,{beforerefresh:e.onBeforeViewRefresh,refresh:e.onViewRefresh,itemremove:e.onViewItemRemove,scope:e})},onBeforeViewRefresh:function(e){var t=this,i=e.el.dom;t.el.dom.parentNode===i&&i.removeChild(t.el.dom)},onViewRefresh:function(e){var t,i=this,n=e.el.dom,r=i.context;n.appendChild(i.el.dom),r&&(t=r.store.indexOf(r.record))>=0?(r.row=e.getNode(t),i.reposition(),i.tooltip&&i.tooltip.isVisible()&&i.tooltip.setTarget(r.row)):i.editingPlugin.cancelEdit()},onViewItemRemove:function(e,t){var i=this.context;i&&e===i.record&&this.editingPlugin.cancelEdit()},onCtScroll:function(e,t){var i=this,n=t.scrollTop,r=t.scrollLeft;n!==i.lastScrollTop&&(i.lastScrollTop=n,(i.tooltip&&i.tooltip.isVisible()||i.hiddenTip)&&i.repositionTip()),r!==i.lastScrollLeft&&(i.lastScrollLeft=r,i.reposition())},onColumnAdd:function(e){e.isGroupHeader||this.setField(e)},onColumnRemove:function(e){this.columns.remove(e)},onColumnResize:function(e,t){e.isGroupHeader||(e.getEditor().setWidth(t-2),this.repositionIfVisible())},onColumnHide:function(e){e.isGroupHeader||(e.getEditor().hide(),this.repositionIfVisible())},onColumnShow:function(e){var t=e.getEditor();t.setWidth(e.getWidth()-2).show(),this.repositionIfVisible()},onColumnMove:function(e,t,i){if(!e.isGroupHeader){var n=e.getEditor();this.items.indexOf(n)!=i&&this.move(t,i)}},onFieldAdd:function(e,t,i){var n,r,o=this;i.isGroupHeader||(n=o.editingPlugin.grid.headerCt.getHeaderIndex(i),r=i.getEditor({xtype:"displayfield"}),o.insert(n,r))},onFieldRemove:function(e,t,i){var n,r,o=this;i.isGroupHeader||(n=i.getEditor(),r=n.el,o.remove(n,!1),r&&r.remove())},onFieldReplace:function(e,t,i,n){this.onFieldRemove(e,t,n)},clearFields:function(){var e,t=this.columns;for(e in t)t.hasOwnProperty(e)&&t.removeAtKey(e)},getFloatingButtons:function(){var e,t=this,i=Ext.baseCSSPrefix,n=i+"grid-row-editor-buttons",r=t.editingPlugin,o=Ext.panel.Panel.prototype.minButtonWidth;return t.floatingButtons||(e=t.floatingButtons=new Ext.Container({renderTpl:['<div class="{baseCls}-ml"></div>','<div class="{baseCls}-mr"></div>','<div class="{baseCls}-bl"></div>','<div class="{baseCls}-br"></div>','<div class="{baseCls}-bc"></div>',"{%this.renderContainer(out,values)%}"],width:200,renderTo:t.el,baseCls:n,layout:{type:"hbox",align:"middle"},defaults:{flex:1,margins:"0 1 0 1"},items:[{itemId:"update",xtype:"button",handler:r.completeEdit,scope:r,text:t.saveBtnText,minWidth:o},{xtype:"button",handler:r.cancelEdit,scope:r,text:t.cancelBtnText,minWidth:o}]}),t.mon(e.el,{mousedown:Ext.emptyFn,click:Ext.emptyFn,stopEvent:!0})),t.floatingButtons},repositionIfVisible:function(e){var t=this,i=t.view;(!e||e!=t&&i.isDescendantOf(e))&&t.isVisible()&&i.isVisible(!0)&&t.reposition()},reposition:function(e){var t,i,n,r,o=this,a=o.context,s=a&&Ext.get(a.row),l=o.getFloatingButtons(),d=l.el,u=o.editingPlugin.grid,c=u.view.el,h=u.headerCt.getFullWidth(),g=u.getWidth(),p=Math.min(h,g),f=u.view.el.dom.scrollLeft,m=l.getWidth(),x=(p-m)/2+f,y=function(){d.scrollIntoView(c,!1),e&&e.callback&&e.callback.call(e.scope||o)};s&&Ext.isElement(s.dom)&&(s.scrollIntoView(c,!1),t=s.getXY()[1]-5,i=s.getHeight(),n=i+(o.editingPlugin.grid.rowLines?9:10),o.getHeight()!=n&&(o.setHeight(n),o.el.setLeft(0)),e?(r={to:{y:t},duration:e.duration||125,listeners:{afteranimate:function(){y(),t=s.getXY()[1]-5}}},o.el.animate(r)):(o.el.setY(t),y())),o.getWidth()!=h&&o.setWidth(h),d.setLeft(x)},getEditor:function(e){var t=this;return Ext.isNumber(e)?t.query(">[isFormField]")[e]:e.isHeader&&!e.isGroupHeader?e.getEditor():void 0},removeField:function(e){var t=this;e=t.getEditor(e),t.mun(e,"validitychange",t.onValidityChange,t),t.columns.removeAtKey(e.id),Ext.destroy(e)},setField:function(e){var t,i,n,r=this;if(Ext.isArray(e))for(i=e.length,t=0;t<i;t++)r.setField(e[t]);else n=e.getEditor(null,{xtype:"displayfield",getModelData:function(){return null}}),n.margins="0 0 0 2",r.mon(n,"change",r.onFieldChange,r),r.isVisible()&&r.context&&(n.is("displayfield")?r.renderColumnData(n,r.context.record,e):(n.suspendEvents(),n.setValue(r.context.record.get(e.dataIndex)),n.resumeEvents())),r.columns.add(n.id,e),e.hidden?r.onColumnHide(e):e.rendered&&r.onColumnShow(e)},loadRecord:function(e){var t,i,n,r=this,o=r.getForm(),a=o.getFields(),s=a.items,l=s.length;for(t=0;t<l;t++)s[t].suspendEvents();for(o.loadRecord(e),t=0;t<l;t++)s[t].resumeEvents();for(n=o.isValid(),r.errorSummary&&(n?r.hideToolTip():r.showToolTip()),r.updateButton(n),i=r.query(">displayfield"),l=i.length,t=0;t<l;t++)r.renderColumnData(i[t],e)},renderColumnData:function(e,t,i){var n,r,o,a=this,s=a.editingPlugin.grid,l=s.headerCt,d=s.view,u=d.store,c=i||a.columns.get(e.id),h=t.get(c.dataIndex),g=c.editRenderer||c.renderer;g&&(n={tdCls:"",style:""},r=u.indexOf(t),o=l.getHeaderIndex(c),h=g.call(c.scope||l.ownerCt,h,n,t,r,o,u,d)),e.setRawValue(h),e.resetOriginalValue()},beforeEdit:function(){var e=this;if(e.isVisible()&&e.errorSummary&&!e.autoCancel&&e.isDirty())return e.showToolTip(),!1},startEdit:function(e,t){var i=this,n=i.editingPlugin.grid,r=n.store,o=i.context=Ext.apply(i.editingPlugin.context,{view:n.getView(),store:r});o.grid.getSelectionModel().select(e),i.loadRecord(e),i.isVisible()?i.reposition({callback:this.focusContextCell}):(i.show(),i.focusContextCell())},focusContextCell:function(){var e=this.getEditor(this.context.colIdx);e&&e.focus&&e.focus()},cancelEdit:function(){var e,t=this,i=t.getForm(),n=i.getFields(),r=n.items,o=r.length;for(t.hide(),i.clearInvalid(),e=0;e<o;e++)r[e].suspendEvents();for(i.reset(),e=0;e<o;e++)r[e].resumeEvents()},completeEdit:function(){var e=this,t=e.getForm();if(t.isValid())return t.updateRecord(e.context.record),e.hide(),!0},onShow:function(){this.callParent(arguments),this.reposition()},onHide:function(){var e=this;e.callParent(arguments),e.tooltip&&e.hideToolTip(),e.context&&(e.context.view.focus(),e.context=null)},isDirty:function(){var e=this,t=e.getForm();return t.isDirty()},getToolTip:function(){return this.tooltip||(this.tooltip=new Ext.tip.ToolTip({cls:Ext.baseCSSPrefix+"grid-row-editor-errors",title:this.errorsText,autoHide:!1,closable:!0,closeAction:"disable",anchor:"left"}))},hideToolTip:function(){var e=this,t=e.getToolTip();t.rendered&&t.disable(),e.hiddenTip=!1},showToolTip:function(){var e=this,t=e.getToolTip(),i=e.context,n=Ext.get(i.row),r=i.grid.view.el;t.setTarget(n),t.showAt([-1e4,-1e4]),t.update(e.getErrors()),t.mouseOffset=[r.getWidth()-n.getWidth()+e.lastScrollLeft+15,0],e.repositionTip(),t.doLayout(),t.enable()},repositionTip:function(){var e=this,t=e.getToolTip(),i=e.context,n=Ext.get(i.row),r=i.grid.view.el,o=r.getHeight(),a=e.lastScrollTop,s=a+o,l=n.getHeight(),d=n.dom.offsetTop,u=d+l;u>a&&d<s?(t.show(),e.hiddenTip=!1):(t.hide(),e.hiddenTip=!0)},getErrors:function(){function e(e){return"<li>"+e+"</li>"}var t,i=this,n=!i.autoCancel&&i.isDirty()?i.dirtyText+"<br />":"",r=[],o=i.query(">[isFormField]"),a=o.length;for(t=0;t<a;t++)r=r.concat(Ext.Array.map(o[t].getErrors(),e));return n+"<ul>"+r.join("")+"</ul>"},beforeDestroy:function(){Ext.destroy(this.floatingButtons,this.tooltip),this.callParent()}}),Ext.define("Ext.grid.plugin.RowEditing",{extend:"Ext.grid.plugin.Editing",alias:"plugin.rowediting",requires:["Ext.grid.RowEditor"],editStyle:"row",autoCancel:!0,errorSummary:!0,constructor:function(){var e=this;e.callParent(arguments),e.clicksToMoveEditor||(e.clicksToMoveEditor=e.clicksToEdit),e.autoCancel=!!e.autoCancel},init:function(e){this.callParent([e])},destroy:function(){var e=this;Ext.destroy(e.editor),e.callParent(arguments)},startEdit:function(e,t){var i=this,n=i.getEditor();return n.beforeEdit()!==!1&&i.callParent(arguments)!==!1&&(n.startEdit(i.context.record,i.context.column),!0)},cancelEdit:function(){var e=this;e.editing&&(e.getEditor().cancelEdit(),e.callParent(arguments))},completeEdit:function(){var e=this;e.editing&&e.validateEdit()&&(e.editing=!1,e.fireEvent("edit",e,e.context))},validateEdit:function(){var e,t,i,n=this,r=n.editor,o=n.context,a=o.record,s={},l={},d=r.items.items,u=d.length;for(e=0;e<u;e++)i=d[e],t=i.name,s[t]=i.getValue(),l[t]=a.get(t);return Ext.apply(o,{newValues:s,originalValues:l}),n.callParent(arguments)&&n.getEditor().completeEdit()},getEditor:function(){var e=this;return e.editor||(e.editor=e.initEditor()),e.editor},initEditor:function(){var e,t,i=this,n=i.grid,r=i.view,o=n.headerCt,a=["saveBtnText","cancelBtnText","errorsText","dirtyText"],s=a.length,l={autoCancel:i.autoCancel,errorSummary:i.errorSummary,fields:o.getGridColumns(),hidden:!0,view:r,editingPlugin:i,renderTo:r.el};for(e=0;e<s;e++)t=a[e],Ext.isDefined(i[t])&&(l[t]=i[t]);return Ext.create("Ext.grid.RowEditor",l)},initEditTriggers:function(){var e=this,t=e.view,i=1===e.clicksToMoveEditor?"click":"dblclick";e.callParent(arguments),e.clicksToMoveEditor!==e.clicksToEdit&&e.mon(t,"cell"+i,e.moveEditorByClick,e),t.on({render:function(){e.mon(e.grid.headerCt,{scope:e,columnresize:e.onColumnResize,columnhide:e.onColumnHide,columnshow:e.onColumnShow,columnmove:e.onColumnMove})},single:!0})},startEditByClick:function(){var e=this;e.editing&&e.clicksToMoveEditor!==e.clicksToEdit||e.callParent(arguments)},moveEditorByClick:function(){var e=this;e.editing&&e.superclass.onCellClick.apply(e,arguments)},onColumnAdd:function(e,t){if(t.isHeader){var i,n=this;n.initFieldAccessors(t),i=n.editor,i&&i.onColumnAdd&&i.onColumnAdd(t)}},onColumnRemove:function(e,t){if(t.isHeader){var i=this,n=i.getEditor();n&&n.onColumnRemove&&n.onColumnRemove(t),i.removeFieldAccessors(t)}},onColumnResize:function(e,t,i){if(t.isHeader){var n=this,r=n.getEditor();r&&r.onColumnResize&&r.onColumnResize(t,i)}},onColumnHide:function(e,t){var i=this,n=i.getEditor();n&&n.onColumnHide&&n.onColumnHide(t)},onColumnShow:function(e,t){var i=this,n=i.getEditor();n&&n.onColumnShow&&n.onColumnShow(t)},onColumnMove:function(e,t,i,n){var r=this,o=r.getEditor();o&&o.onColumnMove&&o.onColumnMove(t,i,n-(n>i?1:0))},setColumnField:function(e,t){var i=this,n=i.getEditor();n.removeField(e),i.callParent(arguments),i.getEditor().setField(e)}}),Ext.define("Ext.view.TableLayout",{extend:"Ext.layout.component.Auto",alias:["layout.tableview"],type:"tableview",beginLayout:function(e){var t=this;t.callParent(arguments),t.owner.table.dom&&(e.tableContext=e.getEl(t.owner.table),e.headerContext=e.context.getCmp(t.headerCt))},calculate:function(e){var t=this;t.callParent(arguments),e.tableContext&&(e.state.columnWidthsSynced?e.hasProp("columnWidthsFlushed")?e.tableContext.setHeight(e.tableContext.el.dom.offsetHeight,!1):t.done=!1:(e.headerContext.hasProp("columnWidthsDone")&&(e.context.queueFlush(t),e.state.columnWidthsSynced=!0),t.done=!1))},measureContentHeight:function(e){if(!e.headerContext||e.hasProp("columnWidthsFlushed"))return this.callParent(arguments)},flush:function(){var e,t=this,i=t.ownerContext.context,n=t.headerCt.getGridColumns(),r=0,o=n.length,a=t.owner.el,s=0;for(i.currentLayout=t,r=0;r<o;r++)e=n[r].hidden?0:i.getCmp(n[r]).props.width,s+=e,a.select(t.getColumnSelector(n[r])).setWidth(e);a.select("table."+Ext.baseCSSPrefix+"grid-table-resizer").setWidth(s),t.ownerContext.setProp("columnWidthsFlushed",!0)},finishedLayout:function(){var e,t=this;t.callParent(arguments),Ext.isGecko&&(e=t.headerCt.getGridColumns()[0],e&&(e=t.owner.el.down(t.getColumnSelector(e)),e&&(e.setStyle("display","none"),e.dom.scrollWidth,e.setStyle("display",""))))},getColumnSelector:function(e){return"th."+Ext.baseCSSPrefix+"grid-col-resizer-"+e.id}}),Ext._endTime=(new Date).getTime(),Ext._beforereadyhandler&&Ext._beforereadyhandler()},/*!********************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/AlertMessage.js ***!
  \********************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.AlertMessage",{extend:"devilry_extjsextras.MarkupMoreInfoBox",alias:"widget.alertmessage",requires:["Ext.fx.Animator","Ext.util.DelayedTask"],tpl:['<div class="alert alert-{type}{extracls}{closablecls}" style="{style}">','<tpl if="closable">','<button type="button" class="close" data-dismiss="alert"></button>',"</tpl>",'<tpl if="title">',"<strong>{title}</strong>: ","</tpl>","{message}","</div>"],boxMargin:void 0,type:"warning",message:"",messagetpl:null,messagedata:void 0,closable:!1,title:null,moretext:gettext("Details"),lesstext:gettext("Details"),initComponent:function(){var e="bootstrap devilry_extjsextras_alertmessage";this.cls&&(e=Ext.String.format("{0} {1}",e,this.cls)),this.cls=e,this.callParent(arguments),this.update(this.messagetpl||this.message,this.type,this.messagedata),this.addListener({scope:this,element:"el",delegate:".close",click:function(e){e.preventDefault(),this.fireEvent("closed",this)}}),Ext.isEmpty(this.autoclose)||(this.autoclose===!0&&(this.autoclose=this._calculateAutocloseTime()),this.cancelTask=new Ext.util.DelayedTask(function(){this.fadeOutAndClose()},this),this.addListener({scope:this,element:"el",delegate:"div.alert",mouseleave:this._onMouseLeave,mouseenter:this._onMouseEnter}),this._deferAutoclose())},_deferAutoclose:function(){this.cancelTask.delay(1e3*this.autoclose)},_onMouseEnter:function(){this.cancelTask.cancel()},_onMouseLeave:function(){this._deferAutoclose()},_calculateAutocloseTime:function(){var e=this.message;Ext.isEmpty(this.title)||(e+=this.title);var t=Ext.String.splitWords(e),i=.4*t.length;return i=i>3?i:3,Math.round(2+i)},fadeOutAndClose:function(){Ext.create("Ext.fx.Animator",{target:this.getEl(),duration:3e3,keyframes:{0:{opacity:1},100:{opacity:.1}},listeners:{scope:this,afteranimate:function(){this.fireEvent("closed",this)}}})},update:function(e,t,i){t&&(this.type=t),i?(this.setTplAttrs(i),this.message=Ext.create("Ext.XTemplate",e).apply(i)):this.message=e;var n="";Ext.isEmpty(this.boxMargin)||(n=Ext.String.format("margin: {0};",this.boxMargin)),this.callParent([{type:this.type,message:this.message,title:this.title,style:n,closable:this.closable,extracls:Ext.isEmpty(this.extracls)?"":" "+this.extracls,closablecls:this.closable?" closable":""}])},updateData:function(e,t){this.update(this.messagetpl,t,e)}})},/*!************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/AlertMessageList.js ***!
  \************************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.AlertMessageList",{extend:"Ext.panel.Panel",requires:["devilry_extjsextras.AlertMessage"],alias:"widget.alertmessagelist",hidden:!0,frame:!1,border:!1,bodyStyle:"background-color: transparent !important;",layout:"anchor",initComponent:function(){Ext.isEmpty(this.cls)?this.cls=[]:this.cls=Ext.toArray(),this.cls.push("devilry_extjsextras_alertmessagelist"),this.on("remove",this._onRemove,this),this.callParent(arguments),this.addListener({scope:this,closed:this.onClose})},onClose:function(e){this.remove(e,!0)},add:function(e){var t={};Ext.apply(t,this.messageDefaults),Ext.apply(t,e);var i=Ext.widget("alertmessage",t);this.callParent([i]),i.enableBubble("closed"),this.show()},_onRemove:function(){var e=this.query("alertmessage");0===e.length&&this.hide()},addMany:function(e,t){Ext.Array.each(e,function(e){this.add({message:e,type:t})},this)},addArray:function(e){Ext.Array.each(e,function(e){this.add(e)},this)}})},/*!***********************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/AutoSizedWindow.js ***!
  \***********************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.AutoSizedWindow",{extend:"Ext.window.Window",alias:"widget.devilry_extjsextras_autosizedwindow",windowPadding:20,initComponent:function(){this._preferredWidth=this.width,this._preferredHeight=this.height,this._setupAutosizing(),this.maximizable=!1,this.callParent(arguments)},_setupAutosizing:function(){Ext.fly(window).on("resize",this._onWindowResize,this),this.on("show",this._onShowWindow,this)},_onShowWindow:function(){this.setSizeAndPosition()},_onWindowResize:function(){this.isVisible()&&this.isFloating()&&this.setSizeAndPosition()},setSizeAndPosition:function(){if(this.isFloating()){var e=this.windowPadding,t=Ext.getBody().getViewSize(),i=t.width-e,n=t.height-e,r=n,o=i;this._preferredHeight&&(r=n<this._preferredHeight?n:this._preferredHeight),this._preferredWidth&&(o=i<this._preferredWidth?i:this._preferredWidth),this.setSize({width:o,height:r}),this.center()}},getPreferredHeight:function(){return this._preferredHeight},getPreferredWidth:function(){return this._preferredWidth}})},/*!********************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/CancelButton.js ***!
  \********************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.CancelButton",{extend:"Ext.button.Button",alias:"widget.cancelbutton",scale:"medium",cls:"devilry_extjsextras_cancelbutton",text:pgettext("uibutton","Cancel")})},/*!***************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/ConfirmDeleteDialog.js ***!
  \***************************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.ConfirmDeleteDialog",{extend:"Ext.window.Window",cls:"devilry_confirmdeletedialog bootstrap",requires:["devilry_extjsextras.DjangoRestframeworkProxyErrorHandler","devilry_extjsextras.AlertMessageList","devilry_extjsextras.form.Help","devilry_extjsextras.CancelButton","devilry_extjsextras.DeleteButton"],width:350,height:230,required_confirm_text:gettext("DELETE"),helptpl:["<p>",gettext("Type {required_confirm_text} in the field below to confirm that you really intend to delete {short_description}."),"</p>"],_apply_template:function(e,t){return Ext.create("Ext.XTemplate",e).apply(t)},initComponent:function(){this.addEvents({deleteConfirmed:!0});var e=this._apply_template(gettext('Write "{something}"'),{something:this.required_confirm_text});Ext.apply(this,{layout:"fit",closable:!1,modal:!0,title:this._apply_template(gettext("Delete {something}?"),{something:this.short_description}),items:{xtype:"form",bodyPadding:20,autoScroll:!0,border:0,layout:"anchor",defaults:{anchor:"100%"},items:[{xtype:"alertmessagelist"},{xtype:"box",margin:{bottom:5},cls:"bootstrap",tpl:this.helptpl,data:{short_description:this.short_description,required_confirm_text:this.required_confirm_text}},{name:"confirm_text",xtype:"textfield",regex:new RegExp("^"+this.required_confirm_text+"$"),invalidText:e,allowBlank:!1,listeners:{scope:this,render:function(e){Ext.defer(function(){e.focus()},200)}}}],buttons:["->",{xtype:"cancelbutton",listeners:{scope:this,click:function(){this._close()}}},{xtype:"deletebutton",formBind:!0,listeners:{scope:this,click:this._onDelete}}],listeners:{scope:this,render:this._onRenderForm}}}),this.callParent(arguments)},_getForm:function(){return this.down("form").getForm()},getFormPanel:function(){return this.down("form")},_onRenderForm:function(){this.getFormPanel().keyNav=Ext.create("Ext.util.KeyNav",this.getFormPanel().el,{enter:this._onDelete,scope:this})},_onDelete:function(){var e=this._getForm();e.isValid()&&this.fireEvent("deleteConfirmed",this)},_close:function(){this.close()}})},/*!******************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/ContainerWithEditTitle.js ***!
  \******************************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.ContainerWithEditTitle",{extend:"Ext.container.Container",alias:"widget.containerwithedittitle",cls:"containerwithedittitle",titleTag:"h4",titleCls:"titlebox bootstrap",buttonText:pgettext("uibutton","edit"),buttonSuffix:"",constructor:function(e){this.mixins.observable.constructor.call(this,e),this.addEvents("edit"),this.callParent([e])},initComponent:function(){var e=["{title}","&nbsp;",'<a class="edit_link btn btn-mini" style="margin-top: -6px;" href="{editurl}">',this.buttonText,this.buttonSuffix,"</a>"],t=Ext.String.format("<{0}>{1}</{2}>",this.titleTag,e.join(""),this.titleTag);Ext.apply(this,{layout:"anchor",items:[{xtype:"box",itemId:"title",anchor:"100%",cls:this.titleCls,tpl:t,data:{title:this.title,editurl:"#"},listeners:{scope:this,element:"el",delegate:"a.edit_link",click:function(e){e.preventDefault(),this.fireEvent("edit",this)}}},this.body]}),this.callParent(arguments)},updateTitle:function(e,t){"undefined"==typeof t&&(t="#"),this.down("#title").update({title:e,editurl:t})}})},/*!********************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/CreateButton.js ***!
  \********************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.CreateButton",{extend:"devilry_extjsextras.PrimaryButton",alias:"widget.createbutton",cls:"devilry_extjsextras_createbutton",text:pgettext("uibutton","Create")})},/*!***********************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/DatetimeHelpers.js ***!
  \***********************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.DatetimeHelpers",{singleton:!0,requires:["Ext.Date"],formatDateTimeShort:function(e){return Ext.Date.format(e,pgettext("extjs short datetime","Y-m-d H:i"))},formatDateTimeLong:function(e){return Ext.Date.format(e,pgettext("extjs long datetime","Y-m-d H:i"))},parseRestformattedDatetime:function(e){return Ext.Date.parse(e,"c")},formatTimedeltaShort:function(e){return e.days>0?interpolate(gettext("%s days"),[e.days]):e.hours>0?interpolate(gettext("%s hours"),[e.hours]):e.minutes>0?interpolate(gettext("%s minutes"),[e.minutes]):interpolate(gettext("%s seconds"),[e.seconds])},formatTimedeltaRelative:function(e,t){return t?interpolate(gettext("In %(delta)s"),{delta:this.formatTimedeltaShort(e)},!0):interpolate(gettext("%(delta)s ago"),{delta:this.formatTimedeltaShort(e)},!0)}})},/*!********************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/DeleteButton.js ***!
  \********************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.DeleteButton",{extend:"Ext.button.Button",alias:"widget.deletebutton",ui:"danger",scale:"large",cls:"devilry_deletebutton",text:pgettext("uibutton","Delete")})},/*!********************************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/DjangoRestframeworkProxyErrorHandler.js ***!
  \********************************************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.DjangoRestframeworkProxyErrorHandler",{extend:"devilry_extjsextras.ProxyErrorHandler",_decodeResponseTextJSON:function(e){try{return Ext.JSON.decode(e.responseText)}catch(e){return null}},_addFieldErrors:function(e){Ext.isEmpty(e.field_errors)||(this.fielderrors=e.field_errors)},_addMessages:function(e){e.detail&&this.errormessages.push(e.detail),e.errors&&(this.errormessages=this.errormessages.concat(e.errors))},addRestErrorsFromResponse:function(e){var t=this._decodeResponseTextJSON(e);t&&(this._addMessages(t),this._addFieldErrors(t))},addErrors:function(e,t){e&&this.addRestErrorsFromResponse(e),this.hasErrors()||this.addErrorsFromOperation(t)},addBatchErrors:function(e){Ext.Array.each(e.exceptions,function(e){var t=this.parseHttpError(e.error,e.request);this.errormessages.push(t)},this)}})},/*!***************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/EvenRandomSelection.js ***!
  \***************************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.EvenRandomSelection",{config:{selection:[]},constructor:function(e){this.pool=[],this.initConfig(e)},getRandomItem:function(){0===this.pool.length&&(this.pool=Ext.Array.clone(this.selection));var e=Math.floor(Math.random()*this.pool.length),t=this.pool[e];return Ext.Array.remove(this.pool,t),t}})},/*!********************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/FloatingAlertmessageList.js ***!
  \********************************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.FloatingAlertmessageList",{extend:"devilry_extjsextras.AlertMessageList",alias:"widget.floatingalertmessagelist",cls:"devilry_extjsextras_floatingalertmessagelist",messageDefaults:{closable:!0,boxMargin:"0"},initComponent:function(){Ext.apply(this,{hidden:!0,border:!1,frame:!1,floating:!0,shadow:!1,bodyPadding:0,sidePadding:10}),this._setupAutosizing(),this.callParent(arguments)},_setupAutosizing:function(){Ext.fly(window).on("resize",this._onWindowResize,this),this.on("show",this._onShowWindow,this)},_onShowWindow:function(){this._setSizeAndPosition(),Ext.defer(function(){this._setSizeAndPosition()},100,this),Ext.defer(function(){this._setSizeAndPosition()},400,this)},_onWindowResize:function(){this.isVisible()&&this.isFloating()&&this._setSizeAndPosition()},_setSizeAndPosition:function(){if(this.isFloating()){var e=Ext.getBody().getViewSize(),t=.42*e.width,i=e.width-t-this.sidePadding;this.setSize({width:t}),this.setPosition(i,0)}}})},/*!**********************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/GridBigButtonCheckboxModel.js ***!
  \**********************************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.GridBigButtonCheckboxModel",{extend:"Ext.selection.CheckboxModel",headerWidth:50,getHeaderConfig:function(){var e=this.callParent(arguments);return""!==e.cls&&(e.cls+=" devilry-column-header-checkbox-bigbutton"),e},renderer:function(e,t,i,n,r,o,a){var s=Ext.baseCSSPrefix;return t.tdCls=s+"grid-cell-special "+s+"grid-cell-row-checker devilry-grid-cell-row-checker-bigbutton",'<div class="'+s+'grid-row-checker">&#160;</div>'}})},/*!****************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/GridMultiSelectModel.js ***!
  \****************************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.GridMultiSelectModel",{extend:"Ext.selection.CheckboxModel",onRowMouseDown:function(e,t,i,n,r){e.el.focus();var o=this;if((!o.checkOnly||checker)&&0===r.button){var a=o.getSelectionMode();"SINGLE"!==a&&o.setSelectionMode("SIMPLE"),o.selectWithEvent(t,r),o.setSelectionMode(a)}}})},/*!***********************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/HtmlErrorDialog.js ***!
  \***********************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.HtmlErrorDialog",{extend:"Ext.window.Window",cls:"devilry_extjsextras_htmlerrordialog bootstrap",alias:"widget.htmlerrordialog",requires:["devilry_extjsextras.OkButton"],width:350,height:250,modal:!0,closable:!1,bodyPadding:15,bodyHtml:void 0,bodyTpl:void 0,bodyData:void 0,title:gettext("Error"),initComponent:function(){Ext.apply(this,{layout:"fit",autoScroll:!0,items:{xtype:"box",tpl:this.bodyTpl,data:this.data,html:this.bodyHtml},buttons:["->",{xtype:"okbutton",listeners:{scope:this,click:function(){this.close()},render:function(e){Ext.defer(function(){e.focus()},150)}}}]}),this.callParent(arguments)}})},/*!*************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/MarkupMoreInfoBox.js ***!
  \*************************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.MarkupMoreInfoBox",{extend:"Ext.Component",alias:"widget.markupmoreinfobox",border:!1,frame:!1,cls:"markupmoreinfobox bootstrap",lesstext:gettext("Less info"),moretext:gettext("More info"),moresuffix:'<span class="expandable-indicator"></span>',lesssuffix:'<span class="collapsible-indicator"></span>',moreCls:"",initComponent:function(){this.morebutton=['<a href="#" class="morebutton">',this.moretext,this.moresuffix,"</a>"].join(""),Ext.isEmpty(this.data)||this.setTplAttrs(this.data),this.addListener({scope:this,element:"el",delegate:"a.morebutton",click:this._onMore}),this.addListener({scope:this,element:"el",delegate:"a.lessbutton",click:this._onLess}),this.callParent(arguments)},_getMoreEl:function(){var e=Ext.get(this.getEl().query(".more")[0]);return e.enableDisplayMode(),e},_getMoreButtonEl:function(){var e=Ext.get(this.getEl().query("a.morebutton")[0]);return e.enableDisplayMode(),e},_getLessButtonEl:function(){var e=Ext.get(this.getEl().query("a.lessbutton")[0]);return e.enableDisplayMode(),e},_onMore:function(e){e.preventDefault();var t=this._getMoreButtonEl();this.moretext=t.getHTML(),t.setHTML(this.lesstext+this.lesssuffix),this._getMoreEl().show(),this.hide(),this.show(),Ext.defer(function(){t.replaceCls("morebutton","lessbutton")},200,this)},_onLess:function(e){e.preventDefault(),this._getMoreEl().hide();var t=this._getLessButtonEl();t.setHTML(this.moretext),this.hide(),this.show(),Ext.defer(function(){t.replaceCls("lessbutton","morebutton")},200,this)},setTplAttrs:function(e){e.MORE_BUTTON=this.morebutton,e.MORE_ATTRS=Ext.String.format('class="more {0}" style="display: none;"',this.moreCls),e.MORE_STYLE='style="display: none;"'},update:function(e){return this.setTplAttrs(e),this.callParent([e])}})},/*!*******************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/MoreInfoBox.js ***!
  \*******************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.MoreInfoBox",{extend:"Ext.panel.Panel",alias:"widget.moreinfobox",border:!1,frame:!1,collapsedCls:"muted",expandedCls:null,moretext:gettext("More info"),lesstext:gettext("Less info"),small_morelink:!1,constructor:function(e){this.callParent([e]),this.addEvents("moreclick","lessclick")},initComponent:function(){var e="devilry_extjsextras_moreinfobox bootstrap";this.cls&&(e=Ext.String.format("{0} {1}",e,this.cls)),Ext.isEmpty(this.collapsedCls)||(this.bodyCls=this.collapsedCls),this.cls=e,this.moreWidget.anchor="100%",this.moreWidget.hidden=!0,Ext.apply(this,{layout:"anchor",items:[{xtype:"box",itemId:"introBox",anchor:"100%",tpl:["<p>","{introtext}",this.small_morelink?"<small>":"",' <a href="#" class="morebutton" style="white-space: nowrap;">',"{moretext}",'<span class="expandable-indicator"></span>',"</a>",'<a href="#" class="lessbutton" style="white-space: nowrap; display: none;">',"{lesstext}",'<span class="collapsible-indicator"></span>',"</a>",this.small_morelink?"</small>":"","</p>"],data:{introtext:this.introtext,moretext:this.moretext,lesstext:this.lesstext},listeners:{scope:this,element:"el",delegate:"a",click:this._onMoreOrLess}},this.moreWidget]}),this.callParent(arguments)},_getMoreWidget:function(){return this.getComponent(1)},_getIntroBox:function(){return this.down("#introBox")},_getLessButtonEl:function(){var e=Ext.get(this._getIntroBox().getEl().query("a.lessbutton")[0]);return e.enableDisplayMode(),e},_getMoreButtonEl:function(){var e=Ext.get(this._getIntroBox().getEl().query("a.morebutton")[0]);return e.enableDisplayMode(),e},_onMoreOrLess:function(e){e.preventDefault();var t=Ext.get(e.target);t.hasCls("morebutton")?this._onMore():this._onLess()},_onMore:function(e){Ext.isEmpty(this.collapsedCls)||this.removeBodyCls(this.collapsedCls),Ext.isEmpty(this.expandedCls)||this.addBodyCls(this.expandedCls),this._getMoreButtonEl().hide(),this._getLessButtonEl().show(),this._getMoreWidget().show(),this.fireEvent("moreclick",this)},_onLess:function(e){Ext.isEmpty(this.expandedCls)||this.removeBodyCls(this.expandedCls),Ext.isEmpty(this.collapsedCls)||this.addBodyCls(this.collapsedCls),this._getMoreButtonEl().show(),this._getLessButtonEl().hide(),this._getMoreWidget().hide(),this.fireEvent("lessclick",this)}})},/*!******************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/NextButton.js ***!
  \******************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.NextButton",{extend:"devilry_extjsextras.PrimaryButton",alias:"widget.nextbutton",cls:"devilry_extjsextras_nextbutton",text:pgettext("uibutton","Next")})},/*!****************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/OkButton.js ***!
  \****************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.OkButton",{extend:"devilry_extjsextras.PrimaryButton",alias:"widget.okbutton",cls:"devilry_extjsextras_okbutton",text:pgettext("uibutton","Ok"),width:70})},/*!*********************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/OkCancelPanel.js ***!
  \*********************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.OkCancelPanel",{extend:"Ext.panel.Panel",alias:"widget.okcancelpanel",cls:"devilry_extjsextras_okcancelpanel bootstrap",oktext:pgettext("uibutton","Ok"),canceltext:gettext("Cancel"),okbutton_ui:"primary",constructor:function(e){this.callParent([e]),this.addEvents("ok","cancel")},initComponent:function(){Ext.apply(this,{fbar:[{xtype:"button",itemId:"cancelbutton",cls:"cancelbutton",text:this.canceltext,listeners:{scope:this,click:this._onCancelButtonClick}},{xtype:"button",itemId:"okbutton",ui:this.okbutton_ui,scale:"large",cls:"okbutton",text:this.oktext,listeners:{scope:this,click:this._onOkButtonClick}}]}),this.callParent(arguments)},_onCancelButtonClick:function(){this.fireEvent("cancel",this)},_onOkButtonClick:function(){this.fireEvent("ok",this)}})},/*!*********************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/PrimaryButton.js ***!
  \*********************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.PrimaryButton",{extend:"Ext.button.Button",alias:"widget.primarybutton",cls:"devilry_primarybutton",scale:"large",ui:"primary"})},/*!*************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/ProxyErrorHandler.js ***!
  \*************************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.ProxyErrorHandler",{constructor:function(){this.errormessages=[],this.fielderrors={}},hasErrors:function(){return this.errormessages.length>0||Ext.Object.getSize(this.fielderrors)>0},addErrorsFromOperation:function(e){var t=this.getErrorMessageFromOperation(e);Ext.isEmpty(t)||this.errormessages.push(t)},_formatTpl:function(e,t){return Ext.create("Ext.XTemplate",e).apply(t)},_formatUrl:function(e){return Ext.String.format('<a href="{0}" target="_blank">{0}</a>',e)},parseHttpError:function(e,t){var i;return i=0===e.status?this._formatTpl(gettext('Could not connect to server at URL "{url}".'),{url:this._formatUrl(t.url)}):this._formatTpl("The server responded with error message <em>{status}: {statusText}</em> when we made a {method}-request to URL {url}.",{status:e.status,statusText:e.statusText,method:t.method,url:this._formatUrl(t.url)})},getErrorMessageFromOperation:function(e){var t=e.getError();return void 0===t?null:this.parseHttpError(t,e.request)},asArrayOfStrings:function(){var e=Ext.clone(this.errormessages);return Ext.Object.each(this.fielderrors,function(t,i){e.push(Ext.String.format("{0}: {1}",i,t))},this),e},asHtmlList:function(){return Ext.create("Ext.XTemplate","<ul>",'<tpl for="messages">',"<li>{.}</li>","</tpl>","</ul>").apply({messages:this.asArrayOfStrings()})}})},/*!***********************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/RestfulApiProxyErrorHandler.js ***!
  \***********************************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.RestfulApiProxyErrorHandler",{extend:"devilry_extjsextras.ProxyErrorHandler",addRestfulErrorsFromOperation:function(e){if(e.responseData&&e.responseData.items){var t=e.responseData.items;return this.errormessages=t.errormessages,this.fielderrors=this._removeGlobalFromFieldErrors(t.fielderrors),!0}return!1},_removeGlobalFromFieldErrors:function(e){var t={};return Ext.Object.each(e,function(e,i){"__all__"!=e&&(t[e]=i)}),t},addErrors:function(e){this.addRestfulErrorsFromOperation(e)||this.addErrorsFromOperation(e)}})},/*!*********************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/RouteNotFound.js ***!
  \*********************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.RouteNotFound",{extend:"Ext.Component",alias:"widget.routenotfound",cls:"bootstrap",tpl:['<div class="alert alert-block error">','  <h1 class="alert-heading">{title}</h1>',"  <p>{route}</p>",'  <div class="alert-actions">','    <a class="btn" href="#">{gotodashboard}</a>',"  </div>","</div>"],data:{title:gettext("Route not found"),gotodashboard:gettext("Return to dashboard")},route:void 0,initComponent:function(){this.data.route=this.route,this.callParent(arguments)}})},/*!**************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/Router.js ***!
  \**************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.Router",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.util.History"],namedParam:/:\w+/g,splatParam:/\*\w+/g,escapeRegExp:/[-[\]{}()+?.,\\^$|#\s]/g,constructor:function(e,t){this.handler=e,this.routes=[],this.started=!1,this.eventsSuspended=!1,this.mixins.observable.constructor.call(this,t),this.addEvents("beforeroute","afterroute")},add:function(e,t){var i;if("regexp"==Ext.typeOf(e))i=e;else{if("string"!=Ext.typeOf(e))throw"pattern must be regex.";i=this._patternToRegExp(e)}this.routes.push({regex:i,action:t})},start:function(){if(this.started)throw"Can only start() once!";this.started=!0,this._initHistory()},_trigger:function(e){if(this.eventsSuspended)return void(this.eventsSuspended=!1);null==e&&(e="");var t={token:e,url:"#"+e};for(var i in this.routes){var n=this.routes[i],r=e.match(n.regex);if(r){var o=r.slice(1);return this.fireEvent("beforeroute",this,t),Ext.bind(this.handler[n.action],this.handler,o,!0)(Ext.apply(t,{action:n.action})),void this.fireEvent("afterroute",this,t)}}Ext.bind(this.handler.routeNotFound,this.handler)(Ext.apply(t,{action:"routeNotFound"}))},_initHistory:function(){Ext.util.History.init(this._onHistoryReady,this)},_onHistoryReady:function(e){this.resume();var t=e.getToken();null==t&&(t=""),this._trigger(t)},_onHistoryChange:function(e){this._trigger(e)},suspend:function(){this.mun(Ext.util.History,"change",this._onHistoryChange,this)},resume:function(){this.mon(Ext.util.History,"change",this._onHistoryChange,this)},startOrResume:function(){this.started?this.resume():this.start()},_patternToRegExp:function(e){var t=e.replace(this.escapeRegExp,"\\$&");return t=t.replace(this.namedParam,"([^/]*)"),t=t.replace(this.splatParam,"(.*?)"),new RegExp("^"+t+"$")},normalizeToken:function(e){return e.length>0&&"#"==e.charAt(0)?e.substring(1):e},_navigate:function(e,t,i){e=this.normalizeToken(e),t&&e==Ext.util.History.getToken()||(i&&(this.eventsSuspended=!0),Ext.util.History.add(e))},navigate:function(e,t){this._navigate(e,t)},setHashWithoutEvent:function(e){this._navigate(e,!0,!0)}})},/*!******************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/SaveButton.js ***!
  \******************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.SaveButton",{extend:"devilry_extjsextras.PrimaryButton",alias:"widget.savebutton",cls:"devilry_extjsextras_savebutton",text:pgettext("uibutton","Save")})},/*!***********************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/SingleActionBox.js ***!
  \***********************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.SingleActionBox",{extend:"Ext.container.Container",alias:"widget.singleactionbox",cls:"devilry_singleactionbox bootstrap",bodyTpl:"<p>{html}</p>",titleTpl:"<strong>{text}</strong>",buttonScale:"medium",buttonWidth:130,buttonUi:"default",initComponent:function(){this.addEvents({click:!0});var e=this.bodyData;Ext.isEmpty(e)&&(e={html:this.bodyHtml}),Ext.apply(this,{layout:"anchor",items:[{anchor:"100%",xtype:"box",itemId:"singleactionbox_title",tpl:this.titleTpl,data:{text:this.titleText}},{anchor:"100%",xtype:"container",layout:"column",items:[{xtype:"box",itemId:"singleactionbox_body",tpl:this.bodyTpl,data:e,padding:"0 20 0 0",columnWidth:1},{xtype:"button",scale:this.buttonScale,text:this.buttonText,ui:this.buttonUi,itemId:"singleactionbox_button",width:this.buttonWidth,listeners:{scope:this,click:this._onClick}}]}]}),this.callParent(arguments)},setBodyHtml:function(e){this.down("#singleactionbox_body").update({html:e})},setTitleText:function(e){this.down("#singleactionbox_title").update({text:e})},setButtonText:function(e){this.down("#singleactionbox_button").setText(e)},_onClick:function(){this.fireEvent("click",this)}})},/*!**************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/UnfocusedContainer.js ***!
  \**************************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.UnfocusedContainer",{extend:"Ext.container.Container",alias:"widget.unfocusedcontainer",cls:"devilry_extjsextras_unfocusedcontainer",defaultOpacity:.6,hoverOpacity:1,initComponent:function(){this.on("render",this._onRender,this),this.callParent(arguments)},_onRender:function(){this.getEl().setOpacity(this.defaultOpacity),this.getEl().on({scope:this,mouseenter:this._onMouseEnter,mouseleave:this._onMouseLeave})},_onMouseEnter:function(){this.getEl().setOpacity(this.hoverOpacity),this.mouseEnterExtras()},_onMouseLeave:function(){this.getEl().setOpacity(this.defaultOpacity),this.mouseLeaveExtras()},mouseEnterExtras:function(){},mouseLeaveExtras:function(){}})},/*!**********************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/form/DateField.js ***!
  \**********************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.form.DateField",{extend:"Ext.form.field.Date",alias:"widget.devilry_extjsextras_datefield",cls:"devilry_extjsextras_datefield",format:pgettext("extjs date input format","Y-m-d")})},/*!**************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/form/DateTimeField.js ***!
  \**************************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.form.DateTimeField",{extend:"Ext.form.FieldContainer",mixins:{field:"Ext.form.field.Field"},alias:"widget.devilry_extjsextras-datetimefield",requires:["Ext.util.DelayedTask"],combineErrors:!0,msgTarget:"under",readOnly:!1,allowBlank:!0,dateConfig:{},timeConfig:{},dateFieldEmptyText:pgettext("extjs date emptytext","YYYY-MM-DD"),timeFieldEmptyText:pgettext("extjs time emptytext","hh:mm"),initComponent:function(){this.childrenRendered=0,this.currentValue=null,this.currentIsValid=!1,Ext.apply(this,{layout:"column",items:[Ext.Object.merge({xtype:"devilry_extjsextras_datefield",columnWidth:.5,isFormField:!1,emptyText:this.dateFieldEmptyText,submitValue:!1,allowBlank:this.allowBlank,listeners:{scope:this,render:this._onChildRender,blur:this._onItemBlur,change:this._onFieldChange,focus:this._onItemFocus}},this.dateConfig),Ext.Object.merge({xtype:"devilry_extjsextras_timefield",columnWidth:.5,isFormField:!1,emptyText:this.timeFieldEmptyText,submitValue:!1,allowBlank:this.allowBlank,listeners:{scope:this,render:this._onChildRender,blur:this._onItemBlur,change:this._onFieldChange,focus:this._onItemFocus}},this.timeConfig)]}),this.callParent(arguments),this.inputEl={dom:{},swallowEvent:function(){}},this.initField()},getDateField:function(){return this.down("devilry_extjsextras_datefield")},getTimeField:function(){return this.down("devilry_extjsextras_timefield")},_onFieldChange:function(e,t,i){var n=this.currentValue,r=this.getValue();if(null!==this.newFullValue){this.currentValue=r,this.fireEvent("change",this,r,n);var o=this.isValid();o!==this.currentIsValid&&(this.currentIsValid=o,this.fireEvent("validitychange",this,o))}},_onChildRender:function(){this.childrenRendered++,2==this.childrenRendered&&(Ext.isEmpty(this.value)||this.setValue(this.value),this.fireEvent("allRendered",this))},focus:function(){this.callParent(),this.getDateField().focus()},_onItemFocus:function(e){this.blurTask&&this.blurTask.cancel(),this.focussedItem=e},_onItemBlur:function(e){e==this.focussedItem&&(this.blurTask=new Ext.util.DelayedTask(function(){this.fireEvent("blur",this)},this),this.blurTask.delay(100))},getValue:function(){var e=null,t=this.getDateField().getSubmitValue();if(t){var i=this.getTimeField().getSubmitValue();if(i){var n=this.getFormat();e=Ext.Date.parse(t+" "+i,n)}else e=this.getDateField().getValue()}return e},getSubmitValue:function(){var e=this.getFormat(),t=this.getValue();return t?Ext.Date.format(t,e):null},setValue:function(e){Ext.isString(e)&&(e=Ext.Date.parse(e,this.getFormat())),this.getDateField().setValue(e),this.getTimeField().setValue(e)},setMinimumValue:function(e){this.getDateField().setMinValue(e)},getFormat:function(){return(this.getDateField().submitFormat||this.getDateField().format)+" "+(this.getTimeField().submitFormat||this.getTimeField().format)},getSubmitData:function(){var e=null;return this.disabled||!this.submitValue||this.isFileUpload()||(e={},e[this.getName()]=""+this.getSubmitValue()),e},isValid:function(){return this.getDateField().isValid()&&this.getTimeField().isValid()}})},/*!***********************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/form/ErrorUtils.js ***!
  \***********************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.form.ErrorUtils",{singleton:!0,_getFieldByName:function(e,t){var i=Ext.String.format("[name={0}]",t),n=e.query(i);return n.length>0?n[0]:null},markFieldErrorsAsInvalid:function(e,t){Ext.Object.each(t,function(t,i){var n=this._getFieldByName(e,t);n&&n.markInvalid(i)},this)},_getFieldLabel:function(e,t){var i=e.fieldLabel;if("undefined"==typeof i&&"radiofield"==e.getXType()){var n=e.up("radiogroup");i=n.fieldLabel}return"undefined"==typeof i&&(i=t),i},addFieldErrorsToAlertMessageList:function(e,t,i){Ext.Object.each(t,function(t,n){var r=n.join(". "),o=this._getFieldByName(e,t);if(o){var a=this._getFieldLabel(o,t),s=Ext.String.format("<strong>{0}:</strong> {1}",a,r);i.add({message:s,type:"error"})}else console.error(Ext.String.format("Field error in field that is not in the form. Field name: {0}. Error: {1}.",t,r))},this)}})},/*!*****************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/form/Help.js ***!
  \*****************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.form.Help",{extend:"Ext.Component",alias:"widget.formhelp",cls:"formhelp bootstrap"})},/*!**********************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/form/TimeField.js ***!
  \**********************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.form.TimeField",{extend:"Ext.form.field.Time",alias:"widget.devilry_extjsextras_timefield",cls:"devilry_extjsextras_timefield",format:pgettext("extjs time input format","H:i"),increment:30,requires:["devilry_extjsextras.form.TimeFieldPicker"],createPicker:function(){var e;return this.listConfig=Ext.apply({xtype:"devilry_extjsextras_timefieldpicker",selModel:{mode:"SINGLE"},cls:void 0,minValue:this.minValue,maxValue:this.maxValue,increment:this.increment,format:this.format,maxHeight:this.pickerMaxHeight},this.listConfig),e=this.callParent(),this.store=e.store,e}})},/*!****************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_extjsextras/static/devilry_extjsextras/form/TimeFieldPicker.js ***!
  \****************************************************************************************************************************/
function(e,t){Ext.define("devilry_extjsextras.form.TimeFieldPicker",{extend:"Ext.picker.Time",alias:"widget.devilry_extjsextras_timefieldpicker",cls:"devilry_extjsextras_timefieldpicker",requires:["Ext.Date","Ext.util.MixedCollection"],specialTimes:["12:00","13:00","14:00","15:00","16:00","23:59"],initComponent:function(){this.tpl=Ext.create("Ext.XTemplate",'<ul><tpl for=".">','<li role="option" class="'+this.itemCls+'">','<tpl if="isSpecial">','<tpl if="isLastSpecial">','<div style="margin-bottom: 6px;">',"<strong>{disp}</strong>","<div>","<tpl else>","<strong>{disp}</strong>","</tpl>","<tpl else>","{disp}","</tpl>","</li>","</tpl></ul>"),this.callParent(arguments)},_createSpecialTimesMap:function(){var e=new Ext.util.MixedCollection;return e},_addSpecialTimes:function(e){Ext.Array.each(this.specialTimes,function(t,i){var n=this._parseTimeStringToDateObj(t),r=Ext.Date.format(n,this.format);e.push({disp:r,date:n,isSpecial:!0,isLastSpecial:i==this.specialTimes.length-1})},this)},_addAutoIncrementedTimes:function(e){for(var t=this.absMin,i=this.absMax;t<=i;)e.push({disp:Ext.Date.dateFormat(t,this.format),date:t}),t=Ext.Date.add(t,"mi",this.increment)},createStore:function(){var e=[];return this._addSpecialTimes(e),this._addAutoIncrementedTimes(e),new Ext.data.Store({fields:[{name:"disp",type:"string"},{name:"date",type:"date"},{name:"isSpecial",type:"bool",defaultValue:!1},{name:"isLastSpecial",type:"bool",defaultValue:!1}],data:e})},_parseTimeStringToDateObj:function(e){var t=Ext.Date.parse(e,"H:i",!0);return this._getTimeByMinuteOffset(60*t.getHours()+t.getMinutes())},_getTimeByMinuteOffset:function(e){return Ext.Date.add(this.absMin,Ext.Date.MINUTE,e)}})},/*!*************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_header/static/devilry_header/app/Breadcrumbs.js ***!
  \*************************************************************************************************************/
function(e,t){Ext.define("devilry_header.Breadcrumbs",{extend:"Ext.Component",alias:"widget.breadcrumbs",cls:"devilry_header_breadcrumbcomponent",requires:["Ext.ComponentQuery"],tpl:['<ul class="devilry_header_breadcrumb">','<tpl for="breadcrumbs">','<tpl if="xindex != xcount">',"<li>",'<tpl for=".">','<tpl if="xindex &gt; 1">'," | ","</tpl>",'<a href="{url}">{text}</a>',"</tpl>",'<span class="divider">/</span>',"</li>","</tpl>",'<tpl if="xindex == xcount">','<li class="active">{[this.getFirstText(values)]}</li>',"</tpl>","</tpl>","</ul>",{isMultiChoice:function(e){return e.length>1},getFirstText:function(e){return e[0].text}}],defaultBreadcrumbs:void 0,initComponent:function(){this.clear(),this.callParent(arguments),this.draw()},set:function(e,t){this.clear();var i=this.getDefaultBreadcrumbs();i&&this.addMany(i),this.addMany(e),this.add("",t),this.draw()},getDefaultBreadcrumbs:function(){return this.defaultBreadcrumbs},addMany:function(e){Ext.Array.each(e,function(e){Ext.isArray(e)?this.addMultiChoice(e):this.add(e.url,e.text)},this)},formatUrl:function(e,t){return e},add:function(e,t,i){this.addMultiChoice([{url:this.formatUrl(e),text:t,meta:i}])},addMultiChoice:function(e){this.breadcrumbs.push(e)},clear:function(){this.breadcrumbs=[]},draw:function(){var e=Ext.get("devilry_header2"),t=null;if(Ext.isEmpty(e))console.warn("Could not find #devilry_header2 when drawing the breadcrumb.");else{var i=Ext.ComponentQuery.query("devilryheader2");1==i.length&&(t=i[0])}0===this.breadcrumbs.length?(this.hide(),null!=t&&t.resizeHeaderForNoBreadcrumbs()):(this.show(),this.update({breadcrumbs:this.breadcrumbs}),null!=t&&t.resizeHeaderForBreadcrumbs())},setHome:function(){this.clear(),this.draw()},statics:{getInBody:function(){var e=Ext.ComponentQuery.query("breadcrumbs");if(1===e.length)return e[0];throw 0===e.length?"Could not find any devilry_header.Breadcrumbs component in body.":"Found more than one devilry_header.Breadcrumbs component in body."}}})},/*!*********************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_header/static/devilry_header/app/Header2.js ***!
  \*********************************************************************************************************/
function(e,t){Ext.define("devilry_header.Header2",{extend:"Ext.container.Container",alias:"widget.devilryheader2",margin:"0 0 0 0",height:42,heightWithoutBreadcrumb:42,heightWithBreadcrumb:72,requires:["devilry_header.Breadcrumbs"],constructor:function(e){e.cls="devilry_header2_extjsplaceholder",this.headerel=Ext.get("devilry_header2"),this.callParent(arguments),this.setNavClass(e.navclass)},initComponent:function(){this.callParent(arguments);var e;e=this.breadcrumbs?this.breadcrumbs:Ext.widget("breadcrumbs"),this._setBreadcrumbComponent(e)},setNavClass:function(e){this.navclass=e,this.headerel.addCls(Ext.String.format("devilry_header2_role_{0}",e))},_setBreadcrumbComponent:function(e){var t=Ext.widget("container",{cls:"devilry_header2_breadcrumbwrapper"});t.add(e);var i=Ext.get("devilry_header2_extjsbreadcrumb");t.render(i)},resizeHeaderForBreadcrumbs:function(){this.setHeight(this.heightWithBreadcrumb),this.headerel.addCls("devilry_header2_extjs_with_breadcrumb")},resizeHeaderForNoBreadcrumbs:function(){this.setHeight(this.heightWithoutBreadcrumb),this.headerel.removeCls("devilry_header2_extjs_with_breadcrumb")}})},/*!****************!*\
  !*** ./app.js ***!
  \****************/
function(e,t){var i=Ext.Object.fromQueryString(window.location.search);if(Ext.isEmpty(i.routeTo))Ext.application({name:"devilry_subjectadmin",appFolder:window.DevilrySettings.DEVILRY_STATIC_URL+"/devilry_subjectadmin/app",paths:{devilry:window.DevilrySettings.DEVILRY_STATIC_URL+"/extjs_classes",devilry_extjsextras:window.DevilrySettings.DEVILRY_STATIC_URL+"/devilry_extjsextras",devilry_theme:window.DevilrySettings.DEVILRY_STATIC_URL+"/devilry_theme",devilry_i18n:window.DevilrySettings.DEVILRY_STATIC_URL+"/devilry_i18n",devilry_usersearch:window.DevilrySettings.DEVILRY_STATIC_URL+"/devilry_usersearch",devilry_header:window.DevilrySettings.DEVILRY_STATIC_URL+"/devilry_header/app",devilry_authenticateduserinfo:window.DevilrySettings.DEVILRY_STATIC_URL+"/devilry_authenticateduserinfo"},requires:["Ext.container.Viewport","Ext.layout.container.Border","Ext.layout.container.Column","Ext.layout.container.Card","Ext.form.RadioGroup","Ext.form.field.Radio","Ext.util.Cookies","devilry_extjsextras.Router","devilry_extjsextras.RouteNotFound","devilry_extjsextras.AlertMessage","devilry_header.Header2","devilry_subjectadmin.utils.Breadcrumbs","devilry_subjectadmin.utils.UrlLookup","devilry_extjsextras.form.DateField","devilry_extjsextras.form.TimeField","devilry_extjsextras.FloatingAlertmessageList","devilry_authenticateduserinfo.UserInfo"],controllers:["Dashboard","CreateNewAssignment","subject.ListAll","subject.SubjectController","period.PeriodController","period.EditDuration","CreateNewPeriod","assignment.AssignmentController","assignment.EditPublishingTime","assignment.EditAnonymous","assignment.EditDeadlineHandling","assignment.EditGradeEditor","managestudents.ManageStudentsController","managestudents.Select","managestudents.NoGroupSelectedViewPlugin","managestudents.SingleGroupSelectedViewPlugin","managestudents.MultipleGroupsSelectedViewPlugin","AddGroups","AllWhereIsAdmin","BulkManageDeadlines","RelatedStudents","RelatedExaminers","PassedPreviousPeriodController","DetailedPeriodOverviewController","ExaminerStatsController","GuideSystem","guides.CreateNewAssignment","guides.QualifiedForFinalExams"],refs:[{ref:"alertmessagelist",selector:"viewport floatingalertmessagelist#appAlertmessagelist"}],constructor:function(){this.addEvents("periodSuccessfullyLoaded","assignmentSuccessfullyLoaded","managestudentsSuccessfullyLoaded","managestudentsNoGroupSelected","managestudentsSingleGroupSelected","managestudentsMultipleGroupsSelected","managestudentsGroupSorterChanged","beforeroute","afterroute"),this.callParent(arguments)},launch:function(){this._createViewport()},_createViewport:function(){this.viewport=Ext.create("Ext.container.Viewport",{xtype:"container",layout:"border"}),this.viewport.setLoading(),devilry_authenticateduserinfo.UserInfo.load(this._onUserInfoLoaded,this)},_onUserInfoLoaded:function(e){this.userInfoRecord=e,this.breadcrumbs=Ext.create("devilry_subjectadmin.utils.Breadcrumbs"),this.primaryContentContainer=Ext.widget("container",{region:"center",layout:"fit"}),this.viewport.removeAll(),this.viewport.add([{xtype:"devilryheader2",region:"north",navclass:this.userInfoRecord.isSubjectPeriodOrAssignmentAdmin()?"subjectadmin":"nodeadmin",breadcrumbs:this.breadcrumbs},{xtype:"container",region:"center",cls:"devilry_subtlebg",layout:"fit",items:[{xtype:"floatingalertmessagelist",itemId:"appAlertmessagelist",anchor:"100%"},this.primaryContentContainer]},{xtype:"guidesystemview",region:"east",hidden:!0,width:220}]),this.viewport.setLoading(!1),this._onViewportReady()},_onViewportReady:function(){this._setupRoutes()},setPrimaryContent:function(e){this.primaryContentContainer.removeAll(),this.primaryContentContainer.add(e)},onAfterDelete:function(e){this.route.navigate("")},setTitle:function(e){window.document.title=Ext.String.format("{0} - Devilry",e)},addOnNextRouteMessage:function(e){this._hasOnNextRouteMessages()||(this.onNextRouteMessages=[]),this.onNextRouteMessages.push(e)},_hasOnNextRouteMessages:function(){return!Ext.isEmpty(this.onNextRouteMessages)},_showOnNextRouteMessages:function(){this.getAlertmessagelist().addArray(this.onNextRouteMessages),this.onNextRouteMessages=void 0},_setupRoutes:function(){this.route=Ext.create("devilry_extjsextras.Router",this,{listeners:{scope:this,beforeroute:this._beforeRoute,afterroute:this._afterRoute}}),this.route.add("","dashboard"),this.route.add("/allsubjects/","allSubjects"),this.route.add("/","allWhereIsAdmin"),this.route.add("/subject/:subject_id/","showSubject"),this.route.add("/subject/:subject_id/@@create-new-period","createNewPeriod"),this.route.add("/period/:period_id/","showPeriod"),this.route.add("/period/:period_id/@@relatedstudents","showRelatedStudents"),this.route.add("/period/:period_id/@@relatedexaminers","showRelatedExaminers"),this.route.add("/period/:period_id/@@detailedoverview","detailedPeriodOverview"),this.route.add("/period/:period_id/@@create-new-assignment/","createNewAssignment"),this.route.add("/period/:period_id/@@create-new-assignment/:defaults","createNewAssignment"),this.route.add("/assignment/:assignment_id/","showAssignment"),this.route.add("/assignment/:assignment_id/@@manage-students/","manageStudents"),this.route.add("/assignment/:assignment_id/@@examinerstats","examinerstats"),this.route.add("/assignment/:assignment_id/@@manage-students/@@select-delivery/:group_id/:delivery_id","manageGroupsSelectDelivery"),this.route.add("/assignment/:assignment_id/@@manage-students/@@select/:group_ids","manageGroupsSelectGroups"),this.route.add("/assignment/:assignment_id/@@manage-students/@@add-students","manageGroupsAddStudents"),this.route.add("/assignment/:assignment_id/@@bulk-manage-deadlines/","bulkManageDeadlines"),this.route.add("/assignment/:assignment_id/@@bulk-manage-deadlines/@@edit/:bulkdeadline_id","bulkEditDeadlines"),this.route.add("/assignment/:assignment_id/@@bulk-manage-deadlines/@@add","bulkAddDeadlines"),this.route.add("/assignment/:assignment_id/@@bulk-manage-deadlines/:bulkdeadline_id","bulkManageDeadlines"),this.route.add("/assignment/:assignment_id/@@passed-previous-period","passedPreviousPeriod"),this.route.start()},_beforeRoute:function(e,t){this.getAlertmessagelist().removeAll(),this.fireEvent("beforeroute",e,t),this._hasOnNextRouteMessages()&&this._showOnNextRouteMessages()},_afterRoute:function(e,t){this.fireEvent("afterroute",e,t)},routeNotFound:function(e){this.breadcrumbs.set([],gettext("Route not found")),this.setPrimaryContent({xtype:"routenotfound",route:e.token})},dashboard:function(){this.breadcrumbs.setHome(),this.setPrimaryContent({xtype:"dashboard"})},allSubjects:function(e){this.breadcrumbs.set([],gettext("All my courses")),this.setPrimaryContent({xtype:"subjectlistall"})},showSubject:function(e,t){this.setPrimaryContent({xtype:"subjectoverview",subject_id:t})},createNewPeriod:function(e,t){this.setPrimaryContent({xtype:"createnewperiod",subject_id:t})},showPeriod:function(e,t){this.setPrimaryContent({xtype:"periodoverview",period_id:t})},showRelatedStudents:function(e,t){this.setPrimaryContent({xtype:"relatedstudents",period_id:t})},showRelatedExaminers:function(e,t){this.setPrimaryContent({xtype:"relatedexaminers",period_id:t})},detailedPeriodOverview:function(e,t){this.setPrimaryContent({xtype:"detailedperiodoverview",period_id:t})},passedPreviousPeriod:function(e,t){this.setPrimaryContent({xtype:"passedpreviousperiodoverview",assignment_id:t})},createNewAssignment:function(e,t,i){this.setPrimaryContent({xtype:"createnewassignment",period_id:t,defaults:i})},showAssignment:function(e,t){this.setPrimaryContent({xtype:"assignmentoverview",url:e.url,assignment_id:t})},examinerstats:function(e,t){this.setPrimaryContent({xtype:"examinerstatsoverview",assignment_id:t})},manageStudents:function(e,t){this.setPrimaryContent({xtype:"managestudentsoverview",assignment_id:t})},manageGroups:function(e,t){this.setPrimaryContent({xtype:"managestudentsoverview",assignment_id:t})},manageGroupsSelectGroups:function(e,t,i){this.setPrimaryContent({xtype:"managestudentsoverview",assignment_id:t,select_groupids_on_load:i})},manageGroupsSelectDelivery:function(e,t,i,n){this.setPrimaryContent({xtype:"managestudentsoverview",assignment_id:t,select_groupids_on_load:i,select_delivery_on_load:n})},manageGroupsAddStudents:function(e,t){this.setPrimaryContent({xtype:"addgroupsoverview",assignment_id:t,on_save_success_url:devilry_subjectadmin.utils.UrlLookup.manageStudents(t),breadcrumbtype:"managestudents"})},bulkManageDeadlines:function(e,t,i,n,r){this.setPrimaryContent({xtype:"bulkmanagedeadlinespanel",assignment_id:t,bulkdeadline_id:i,edit_deadline:n,add_deadline:r})},bulkEditDeadlines:function(e,t,i){this.bulkManageDeadlines(e,t,i,!0)},bulkAddDeadlines:function(e,t){this.bulkManageDeadlines(e,t,void 0,!1,!0)},allWhereIsAdmin:function(){this.setPrimaryContent({xtype:"allwhereisadminpanel"})}});else{var n=Ext.String.format("{0}/devilry_subjectadmin/#{1}",window.DevilrySettings.DEVILRY_URLPATH_PREFIX,i.routeTo);window.location=n}},/*!*************************************!*\
  !*** ./app/controller/AddGroups.js ***!
  \*************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.AddGroups",{extend:"Ext.app.Controller",mixins:["devilry_subjectadmin.utils.LoadAssignmentMixin","devilry_subjectadmin.utils.BasenodeBreadcrumbMixin","devilry_subjectadmin.utils.DjangoRestframeworkProxyErrorMixin"],requires:["Ext.tip.ToolTip","devilry_subjectadmin.utils.UrlLookup"],views:["addgroups.Overview","addgroups.AddGroups","addgroups.AllIgnoredHelp","addgroups.AllowDuplicatesCheckbox"],models:["Assignment"],stores:["RelatedStudentsRo","RelatedExaminersRo","Groups"],refs:[{ref:"overview",selector:"addgroupsoverview"},{ref:"selectedStudentsGrid",selector:"addgroupsoverview grid"},{ref:"allIgnoredHelp",selector:"addgroupsoverview addgroupsallignored"},{ref:"allowDuplicatesCheckbox",selector:"addgroupsallowduplicatescheckbox"},{ref:"automapExaminersCheckbox",selector:"addgroupsoverview #automapExaminersCheckbox"},{ref:"includeTagsCheckbox",selector:"addgroupsoverview #includeTagsCheckbox"},{ref:"tagsColumn",selector:"addgroupsoverview #tagsColumn"},{ref:"tagsAndExaminersColumn",selector:"addgroupsoverview #tagsAndExaminersColumn"},{ref:"saveButton",selector:"addgroupsoverview #saveButton"},{ref:"formPanel",selector:"addgroupsoverview #firstDeadlineForm"},{ref:"firstDeadlineField",selector:"addgroupsoverview #firstDeadlineForm devilry_extjsextras-datetimefield"}],init:function(){this.control({addgroupsoverview:{render:this._onRender},"addgroupsoverview addgroupspanel #studentsGrid":{selectionchange:this._onGridSelectionChange},"addgroupsoverview #saveButton":{click:this._onSave},"addgroupsoverview #selectAll":{click:this._onSelectAll},"addgroupsoverview #deselectAll":{click:this._onDeselectAll},"addgroupsallignored #allowDuplicatesButton":{click:this._onAllowDuplicatesButtonClick},"addgroupsoverview addgroupsallowduplicatescheckbox":{change:this._onAllowDuplicatesChange,render:this._setTooltip},"addgroupsoverview #includeTagsCheckbox":{change:this._onIncludeTagsChange,render:this._setTooltip},"addgroupsoverview #automapExaminersCheckbox":{change:this._onAutomapExaminersChange,render:this._setTooltip},"addgroupsoverview #firstDeadlineForm devilry_extjsextras-datetimefield":{allRendered:this._onRenderFirstDeadline,validitychange:this._onFirstDeadlineValidityChange}}),this.mon(this.getAssignmentModel().proxy,{scope:this,exception:this._onAssignmentProxyError}),this.mon(this.getGroupsStore().proxy,{scope:this,exception:this._onGroupsProxyError}),this.mon(this.getAssignmentModel().proxy,{scope:this,exception:this._onAssignmentProxyError}),this.mon(this.getRelatedStudentsRoStore().proxy,{scope:this,exception:this._onRelatedStudentsProxyError}),this.mon(this.getRelatedExaminersRoStore().proxy,{scope:this,exception:this._onRelatedExaminersProxyError})},_setTooltip:function(e){Ext.create("Ext.tip.ToolTip",{target:e.el,constrainPosition:!0,anchor:"top",dismissDelay:3e4,html:e.tooltip})},_onRender:function(){var e=this.getOverview().assignment_id;this.on_save_success_url=this.getOverview().on_save_success_url,this.getOverview().setLoading(!0),this.setLoadingBreadcrumb(),this.getAssignmentModel().load(e,{scope:this,callback:function(e,t){t.success&&this.onLoadAssignmentSuccess(e)}})},_onProxyError:function(e,t){this.getOverview()&&this.getOverview().isVisible()&&(this.getOverview().setLoading(!1),this.handleProxyErrorNoForm(this.application.getAlertmessagelist(),e,t))},_onAssignmentProxyError:function(e,t,i){this._onProxyError(t,i)},_onGroupsProxyError:function(e,t,i){this._onProxyError(t,i),this._loadGroupsStore()},_onRelatedStudentsProxyError:function(e,t,i){this._onProxyError(t,i)},_onRelatedExaminersProxyError:function(e,t,i){this._onProxyError(t,i)},_onGridSelectionChange:function(e,t){this._enableSaveButtonIfOk()},_enableSaveButtonIfOk:function(){var e=this.getSelectedStudentsGrid().getSelectionModel().getSelection();e.length>0&&this.getFirstDeadlineField().isValid()?this.getSaveButton().enable():this.getSaveButton().disable()},onLoadAssignmentSuccess:function(e){this.assignmentRecord=e,this._setBreadcrumb(),this.getRelatedStudentsRoStore().setAssignment(this.assignmentRecord.get("id"));var t=this.getRelatedStudentsRoStore();t.load({scope:this,callback:function(e,t){t.success&&this._onLoadRelatedStudentsStoreSuccess()}})},_onLoadRelatedStudentsStoreSuccess:function(e){this.getRelatedExaminersRoStore().setAssignment(this.assignmentRecord.get("id"));var t=this.getRelatedExaminersRoStore();t.load({scope:this,callback:function(e,t){t.success&&this._onLoadRelatedExaminersStoreSuccess()}})},_onLoadRelatedExaminersStoreSuccess:function(){this.getGroupsStore().setAssignment(this.assignmentRecord.get("id")),this._loadGroupsStore()},_loadGroupsStore:function(){this.getOverview().setLoading(!0),this.getGroupsStore().load({scope:this,callback:function(e,t){t.success&&this._onAllLoaded()}})},_onAllLoaded:function(){this.getOverview().setLoading(!1),this.relatedExaminersMappedByTag=this.getRelatedExaminersRoStore().getMappedByTags();var e=this.getRelatedStudentsRoStore();e.clearFilter(),this._filterOutRelatedStudentsAlreadyInGroup(),e.sortBySpecialSorter("full_name"),this._setBody()},_filterOutRelatedStudentsAlreadyInGroup:function(){var e=this.getRelatedStudentsRoStore(),t=this.getGroupsStore().getGroupsMappedByUserId();e.filterBy(function(e){var i=e.get("user").id;return"undefined"==typeof t[i]})},_setBreadcrumb:function(){var e=this.getOverview().breadcrumbtype;"managestudents"==e&&this.setSubviewBreadcrumb(this.assignmentRecord,"Assignment",[{text:gettext("Students"),url:devilry_subjectadmin.utils.UrlLookup.manageStudents(this.assignmentRecord.get("id"))}],gettext("Add students"))},_onRenderFirstDeadline:function(){this.getFirstDeadlineField().setValue(this.assignmentRecord.get("first_deadline"))},_onFirstDeadlineValidityChange:function(e,t){this._enableSaveButtonIfOk()},_onSelectAll:function(){var e=this.getSelectedStudentsGrid().getSelectionModel();e.selectAll()},_onDeselectAll:function(){var e=this.getSelectedStudentsGrid().getSelectionModel();e.deselectAll()},_onAllowDuplicatesButtonClick:function(){this.getAllowDuplicatesCheckbox().setValue(!0)},_onAllowDuplicatesChange:function(e,t){t?this.getRelatedStudentsRoStore().clearFilter():this._filterOutRelatedStudentsAlreadyInGroup(),this._checkAllIgnored()},_onIncludeTagsChange:function(e,t){t?(this.getTagsColumn().show(),this.getAutomapExaminersCheckbox().enable()):(this.getAutomapExaminersCheckbox().getValue()===!0?this.getAutomapExaminersCheckbox().setValue(!1):this.getTagsColumn().hide(),this.getAutomapExaminersCheckbox().disable())},_onAutomapExaminersChange:function(e,t){t?(this.getTagsColumn().hide(),this.getTagsAndExaminersColumn().show()):(this.getTagsAndExaminersColumn().hide(),this.getIncludeTagsCheckbox().getValue()===!0&&this.getTagsColumn().show())},_setBody:function(){var e=this._getIgnoredCount();this.getOverview().setBody({xtype:"addgroupspanel",ignoredcount:e,relatedExaminersMappedByTag:this.relatedExaminersMappedByTag,periodinfo:this.assignmentRecord.getPeriodInfoFromBreadcrumb()}),this._checkAllIgnored()},_getIgnoredCount:function(){var e=this.getRelatedStudentsRoStore().getTotalCount()-this.getRelatedStudentsRoStore().getCount();return e},_checkAllIgnored:function(){var e=this._getIgnoredCount(),t=this.getRelatedStudentsRoStore().getTotalCount(),i=t==e;if(i){var n=this.assignmentRecord.getPeriodInfoFromBreadcrumb();this.getAllIgnoredHelp().setBody(n,t),this.getOverview().getLayout().setActiveItem(1)}else this.getOverview().getLayout().setActiveItem(0)},_onSave:function(){this.application.getAlertmessagelist().removeAll(),this.getOverview().setLoading(gettext("Saving")+" ..."),this._saveFirstDeadline()},_saveFirstDeadline:function(){var e=this.getFormPanel().getForm(),t=this.assignmentRecord;e.updateRecord(t),t.save({scope:this,callback:function(e,t){t.success&&this._onSaveFirstDeadlineSuccess()}})},_onSaveFirstDeadlineSuccess:function(){this._addGroups()},_addGroups:function(){var e=this.getSelectedStudentsGrid().getSelectionModel(),t=e.getSelection(),i=this.getGroupsStore(),n=this.getIncludeTagsCheckbox().getValue(),r=this.getAutomapExaminersCheckbox().getValue();Ext.Array.each(t,function(e){var t=i.addFromRelatedStudentRecord({relatedStudentRecord:e,includeTags:n});r&&t.setExaminersFromMapOfRelatedExaminers(this.relatedExaminersMappedByTag)},this),this._syncGroupsStore()},_syncGroupsStore:function(){this.getGroupsStore().sync({scope:this,success:this._onSyncGroupsStoreSuccess})},_onSyncGroupsStoreSuccess:function(e,t){this.getOverview().setLoading(!1);var i=[],n=e.operations;Ext.Array.each(n,function(e){"create"==e.action&&Ext.Array.each(e.records,function(e){i.push(e)},this)},this),this.application.route.navigate(this.on_save_success_url)}})},/*!*******************************************!*\
  !*** ./app/controller/AllWhereIsAdmin.js ***!
  \*******************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.AllWhereIsAdmin",{extend:"Ext.app.Controller",views:["allwhereisadmin.AllWhereIsAdminPanel"],stores:["AllWhereIsAdmin"],refs:[{ref:"allWhereIsAdminList",selector:"allwhereisadminlist"}],init:function(){this.control({"viewport allwhereisadminpanel allwhereisadminlist":{render:this._onRenderAllWhereIsAdminList}})},_onRenderAllWhereIsAdminList:function(){this.getAllWhereIsAdminStore().load({scope:this,callback:function(e,t){t.success&&this._onLoadSuccess(e)}});var e=gettext("All my courses");this.application.breadcrumbs.set([{text:gettext("Course manager"),url:"#"}],e)},_onLoadSuccess:function(e){this.getAllWhereIsAdminList().update({loadingtext:null,subjects:e})}})},/*!***********************************************!*\
  !*** ./app/controller/BulkManageDeadlines.js ***!
  \***********************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.BulkManageDeadlines",{extend:"Ext.app.Controller",mixins:["devilry_subjectadmin.utils.DjangoRestframeworkLoadFailureMixin","devilry_subjectadmin.utils.LoadAssignmentMixin","devilry_subjectadmin.utils.BasenodeBreadcrumbMixin","devilry_subjectadmin.utils.DjangoRestframeworkProxyErrorMixin"],requires:["devilry_subjectadmin.utils.UrlLookup","devilry_extjsextras.DjangoRestframeworkProxyErrorHandler","devilry_extjsextras.form.ErrorUtils","devilry_extjsextras.ConfirmDeleteDialog"],views:["bulkmanagedeadlines.BulkManageDeadlinesPanel","bulkmanagedeadlines.DeadlinePanel"],models:["Assignment"],stores:["DeadlinesBulk","Groups","SearchForGroups"],refs:[{ref:"bulkManageDeadlinesPanel",selector:"bulkmanagedeadlinespanel"},{ref:"deadlinesContainer",selector:"bulkmanagedeadlinespanel #deadlinesContainer"},{ref:"globalAlertmessagelist",selector:"bulkmanagedeadlinespanel #globalAlertmessagelist"},{ref:"normalBodyContainer",selector:"bulkmanagedeadlinespanel #normalBodyContainer"},{ref:"addDeadlineBodyContainer",selector:"bulkmanagedeadlinespanel #addDeadlineBodyContainer"}],init:function(){this.control({"viewport bulkmanagedeadlinespanel #globalAlertmessagelist":{render:this._onRender},"viewport bulkmanagedeadlinespanel bulkmanagedeadlines_deadline header":{click:this._onDeadlineHeaderClick},"viewport bulkmanagedeadlinespanel bulkmanagedeadlines_deadline":{editDeadline:this._onEditDeadline,deleteDeadline:this._onDeleteDeadline},"viewport bulkmanagedeadlinespanel #addDeadlineButton":{click:this._onAddDeadline},"viewport bulkmanagedeadlinespanel bulkmanagedeadlines_createdeadlineform":{saveDeadline:this._onSaveNewDeadline,cancel:this._onCancelAddNewDeadline,fieldvaliditychange:this._onCreateFormFieldValiditityChange},"viewport bulkmanagedeadlinespanel bulkmanagedeadlines_createdeadlineform #createmodeSpecificGroups":{change:this._onCreatemodeSpecificGroupsChange},"viewport bulkmanagedeadlinespanel bulkmanagedeadlines_createdeadlineform #createmodeSpecificGroupsSelectpanel bulkmanagedeadlines_allgroupsgrid":{selectionchange:this._onCreatemodeSpecificGroupsGridSelectionChange},"viewport bulkmanagedeadlinespanel bulkmanagedeadlines_editdeadlineform":{saveDeadline:this._onSaveExistingDeadline,cancel:this._onCancelEditExistingDeadline,fieldvaliditychange:this._onEditFormFieldValiditityChange},"viewport bulkmanagedeadlinespanel bulkmanagedeadlines_editdeadlineform #editSpecificGroupsFieldset":{expand:this._onExpandEditSpecificGroupsFieldset,collapse:this._onCollapseEditSpecificGroupsFieldset},"viewport bulkmanagedeadlinespanel bulkmanagedeadlines_editdeadlineform bulkmanagedeadlines_groupsindeadlineselectgrid":{selectionchange:this._onGroupsInDeadlineSelectionChange}}),this.mon(this.getDeadlinesBulkStore().proxy,{scope:this,exception:this._onDeadlinesBulkStoreProxyError})},_onRender:function(){this.setLoadingBreadcrumb(),this.getBulkManageDeadlinesPanel().setLoading(),this.assignment_id=this.getBulkManageDeadlinesPanel().assignment_id,this.loadAssignment(this.assignment_id);var e=this.getDeadlinesBulkStore();e.proxy.setUrl(this.assignment_id),e.load({scope:this,callback:function(e,t){this.getBulkManageDeadlinesPanel().setLoading(!1),t.success&&this._onLoadSuccess(e,t)}})},_setBreadcrumbAndTitle:function(e){var t=gettext("Deadlines");this.setSubviewBreadcrumb(this.assignmentRecord,"Assignment",[],t);var i=this.getPathFromBreadcrumb(this.assignmentRecord);this.application.setTitle(Ext.String.format("{0}.{1}",i,t))},onLoadAssignmentSuccess:function(e){this.assignmentRecord=e,this.getSearchForGroupsStore().setAssignment(this.assignmentRecord.get("id")),this._setBreadcrumbAndTitle()},onLoadAssignmentFailure:function(e){this.onLoadFailure(e)},_onLoadSuccess:function(e,t){this._populateDeadlinesContainer(e)},_populateDeadlinesContainer:function(e){var t=0;Ext.Array.each(e,function(i){this.getDeadlinesContainer().add({xtype:"bulkmanagedeadlines_deadline",deadlineRecord:i,assignment_id:this.assignment_id,listeners:{scope:this,single:!0,render:function(i,n){t++,t==e.length&&Ext.defer(function(){this._onAllDeadlinePanelsRendered()},200,this)}}})},this)},_onAllDeadlinePanelsRendered:function(){var e=this.getBulkManageDeadlinesPanel().bulkdeadline_id;if("undefined"!=typeof e)this._expandDeadlineById(e);else{var t=this.getBulkManageDeadlinesPanel().add_deadline;t&&this._onAddDeadline()}},_expandDeadlineById:function(e){var t=Ext.String.format("#deadline-{0}",e),i=this.getDeadlinesContainer().down(t);if(i){this._expandDeadlinePanel(i);var n=this.getBulkManageDeadlinesPanel().edit_deadline;n&&this._onEditDeadline(i,i.deadlineRecord)}},_scrollTo:function(e){e.el.scrollIntoView(this.getBulkManageDeadlinesPanel().getEl(),!1,!0)},_onDeadlineHeaderClick:function(e){var t=e.up("bulkmanagedeadlines_deadline"),i=t.getCollapsed();if(i){var n=t.deadlineRecord,r=devilry_subjectadmin.utils.UrlLookup.bulkManageSpecificDeadline(this.assignment_id,n.get("bulkdeadline_id"));this.application.route.setHashWithoutEvent(r),this._expandDeadlinePanel(t)}else t.collapse(),this._setNoDeadlineSelectedHash()},_setNoDeadlineSelectedHash:function(){var e=devilry_subjectadmin.utils.UrlLookup.bulkManageDeadlines(this.assignment_id);this.application.route.setHashWithoutEvent(e)},_expandDeadlinePanel:function(e){e.expand(),Ext.defer(function(){this._scrollTo(e)},300,this)},_onEditDeadline:function(e,t){var i=e.down("bulkmanagedeadlines_editdeadlineform");i.down("alertmessagelist").removeAll();var n=devilry_subjectadmin.utils.UrlLookup.bulkEditSpecificDeadline(this.assignment_id,t.get("bulkdeadline_id"));this.application.route.setHashWithoutEvent(n),this._setActiveDeadlineFormPanel(i),e.getLayout().setActiveItem("editDeadline"),this._scrollTo(i);var r=i.getForm();r.setValues({deadline:t.get("deadline"),text:t.get("text")})},_onCancelEditExistingDeadline:function(e){this._unsetActiveDeadlineFormPanel();var t=e.up("bulkmanagedeadlines_deadline"),i=t.deadlineRecord,n=devilry_subjectadmin.utils.UrlLookup.bulkManageSpecificDeadline(this.assignment_id,i.get("bulkdeadline_id"));t.getLayout().setActiveItem("viewDeadline"),this.application.route.setHashWithoutEvent(n),this._scrollTo(t)},_onSaveExistingDeadline:function(e){if(this._editFormIsValid(e)){e.setLoading(gettext("Saving")+" ...");var t=e.up("bulkmanagedeadlines_deadline"),i=t.deadlineRecord,n=e.getForm(),r=n.getFieldValues();if(i.set("deadline",r.deadline),i.set("text",r.text),r.editSpecific){var o=e.down("bulkmanagedeadlines_groupsindeadlineselectgrid"),a=this._getGroupIdsFromGridSelection(o);i.set("group_ids",a)}i.save({scope:this,callback:function(t,i){if(e.setLoading(!1),i.success){t.updateBulkDeadlineIdFromOperation(i);var n=devilry_subjectadmin.utils.UrlLookup.bulkManageSpecificDeadline(this.assignment_id,t.get("bulkdeadline_id"));this.application.route.setHashWithoutEvent(n),window.location.reload()}}})}},_onEditFormFieldValiditityChange:function(e){this._enableOrDisableEditFormSavebutton(e)},_editFormIsValid:function(e){var t=e.getForm();if(!t.isValid())return!1;if(t.getFieldValues().editSpecific){var i=e.down("bulkmanagedeadlines_groupsindeadlineselectgrid");if(0===i.getSelectionModel().getSelection().length)return!1}return!0},_enableOrDisableEditFormSavebutton:function(e){var t=e.down("#saveDeadlineButton");this._editFormIsValid(e)?t.enable():t.disable()},_onCollapseEditSpecificGroupsFieldset:function(e){var t=e.up("bulkmanagedeadlines_editdeadlineform");this._enableOrDisableEditFormSavebutton(t)},_onExpandEditSpecificGroupsFieldset:function(e){var t=e.down("bulkmanagedeadlines_groupsindeadlineselectgrid"),i=Ext.getBody().getViewSize();t.setHeight(i.height-180);var n=e.up("bulkmanagedeadlines_editdeadlineform");this._scrollTo(n.down("#saveDeadlineButton")),t.getSelectionModel().deselectAll(),this._enableOrDisableEditFormSavebutton(n)},_onGroupsInDeadlineSelectionChange:function(e,t){var i=e.view.up("bulkmanagedeadlines_editdeadlineform");this._enableOrDisableEditFormSavebutton(i)},_setShowNextProxyErrorInWindow:function(){this.showNextProxyErrorInWindow=!0},_unsetShowNextProxyErrorInWindow:function(){this.showNextProxyErrorInWindow=!1},_setActiveDeadlineFormPanel:function(e){this.activeDeadlineFormPanel=e},_unsetActiveDeadlineFormPanel:function(){this.activeDeadlineFormPanel=void 0},_onDeadlinesBulkStoreProxyError:function(e,t,i){var n;this.activeDeadlineFormPanel?(n=this.activeDeadlineFormPanel.down("alertmessagelist"),n.removeAll(),this.handleProxyError(n,this.activeDeadlineFormPanel,t,i),this._scrollTo(n)):(n=this.getGlobalAlertmessagelist(),n.removeAll(),this.showNextProxyErrorInWindow?(this._unsetShowNextProxyErrorInWindow(),this.handleProxyUsingHtmlErrorDialog(t,i)):this.handleProxyErrorNoForm(n,t,i))},_onDeleteDeadline:function(e,t){Ext.create("devilry_extjsextras.ConfirmDeleteDialog",{width:400,height:320,short_description:Ext.String.format("<strong>{0}</strong>",t.formatDeadline()),helptpl:["<p>",gettext("Type {required_confirm_text} in the field below to confirm that you really intend to delete {short_description}."),"</p>","<p>",gettext("Note that deleting a deadlines deletes all deliveries made on that deadline. For this reason, only superusers are permitted to delete deadlines with any deliveries."),"</p>"],listeners:{scope:this,deleteConfirmed:function(e){this._onConfirmDeleteDeadline(e,t)}}}).show()},_onConfirmDeleteDeadline:function(e,t){this.getBulkManageDeadlinesPanel().setLoading(gettext("Saving")+" ..."),e.close(),this._setShowNextProxyErrorInWindow(),t.destroy({scope:this,failure:function(){this.getBulkManageDeadlinesPanel().setLoading(!1)},success:function(){this._unsetShowNextProxyErrorInWindow(),this._setNoDeadlineSelectedHash(),e.close(),window.location.reload()}})},_onAddDeadline:function(){this.getNormalBodyContainer().hide(),this.getAddDeadlineBodyContainer().down("alertmessagelist").removeAll(),this.getAddDeadlineBodyContainer().show(),this.getAddDeadlineBodyContainer().down("#deadlineField").focus(),this.getAddDeadlineBodyContainer().down("#createmodeContainer").show();var e=devilry_subjectadmin.utils.UrlLookup.bulkManageAddDeadlines(this.assignment_id);this.application.route.setHashWithoutEvent(e)},_onCancelAddNewDeadline:function(e){this._unsetActiveDeadlineFormPanel(),this.getAddDeadlineBodyContainer().hide(),this.getNormalBodyContainer().show(),this._setNoDeadlineSelectedHash()},_onSaveNewDeadline:function(e){if(this._createFormIsValid(e)){this._setActiveDeadlineFormPanel(e),e.setLoading(gettext("Saving")+" ...");var t=e.getForm(),i=t.getFieldValues(),n=Ext.create("devilry_subjectadmin.model.DeadlineBulk");if(n.set("deadline",i.deadline),n.set("text",i.text),n.set("createmode",i.createmode),"specific-groups"===i.createmode){var r=e.down("#createmodeSpecificGroupsSelectpanel bulkmanagedeadlines_allgroupsgrid"),o=this._getGroupIdsFromGridSelection(r);n.set("group_ids",o)}n.save({scope:this,callback:function(t,i){if(e.setLoading(!1),i.success){t.updateBulkDeadlineIdFromOperation(i);var n=devilry_subjectadmin.utils.UrlLookup.bulkManageSpecificDeadline(this.assignment_id,t.get("bulkdeadline_id"));this.application.route.setHashWithoutEvent(n),window.location.reload()}}})}},_getGroupIdsFromGridSelection:function(e){var t=e.getSelectionModel().getSelection(),i=[];return Ext.Array.each(t,function(e){i.push(e.get("id"))},this),i},_onCreateFormFieldValiditityChange:function(e){this._enableOrDisableCreateFormSavebutton(e)},_createFormIsValid:function(e){var t=e.getForm();if(!t.isValid())return!1;var i=t.getFieldValues().createmode;if(Ext.isArray(i)&&(i=i[1]),"specific-groups"===i){var n=e.down("bulkmanagedeadlines_allgroupsgrid");if(0===n.getSelectionModel().getSelection().length)return!1}return!0},_enableOrDisableCreateFormSavebutton:function(e){var t=e.down("#saveDeadlineButton");this._createFormIsValid(e)?t.enable():t.disable()},_onCreatemodeSpecificGroupsChange:function(e,t){var i=e.up("bulkmanagedeadlines_createdeadlineform");this._enableOrDisableCreateFormSavebutton(i),t?this._onCreatemodeSpecificGroupsSelect(i):this._onCreatemodeSpecificGroupsDeSelect(i)},_onCreatemodeSpecificGroupsDeSelect:function(e){e.down("#createmodeSpecificGroupsSelectpanel").hide()},_onCreatemodeSpecificGroupsSelect:function(e){var t=e.down("#createmodeSpecificGroupsSelectpanel");t.show(),this.getGroupsStore().isLoading()||this._loadGroupsStore();var i=t.down("bulkmanagedeadlines_allgroupsgrid"),n=Ext.getBody().getViewSize();i.setHeight(n.height-170)},_loadGroupsStore:function(e){this.getGroupsStore().loadGroupsInAssignment(this.assignmentRecord.get("id"),{scope:this,callback:function(t,i){i.success?this._onLoadGroupsStoreSuccess(e):this._onLoadGroupsStoreFailure(i)}})},_onLoadGroupsStoreSuccess:function(e){},_onLoadGroupsStoreFailure:function(e){var t=Ext.create("devilry_extjsextras.DjangoRestframeworkProxyErrorHandler");t.addErrors(null,e);var i=t.asHtmlList();Ext.widget("htmlerrordialog",{title:gettext("Failed to load groups"),bodyHtml:i}).show()},_onCreatemodeSpecificGroupsGridSelectionChange:function(e){var t=e.view.up("bulkmanagedeadlines_createdeadlineform");this._enableOrDisableCreateFormSavebutton(t)}})},/*!***********************************************!*\
  !*** ./app/controller/CreateNewAssignment.js ***!
  \***********************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.CreateNewAssignment",{extend:"Ext.app.Controller",mixins:{basenodeBreadcrumbMixin:"devilry_subjectadmin.utils.BasenodeBreadcrumbMixin",onLoadFailure:"devilry_subjectadmin.utils.DjangoRestframeworkLoadFailureMixin",handleProxyError:"devilry_subjectadmin.utils.DjangoRestframeworkProxyErrorMixin"},requires:["Ext.Date","Ext.util.KeyNav","devilry_extjsextras.NextButton","devilry_extjsextras.form.ErrorUtils","devilry_extjsextras.DjangoRestframeworkProxyErrorHandler","devilry_subjectadmin.utils.AutoGenShortname","devilry_subjectadmin.utils.UrlLookup"],views:["createnewassignment.Form","createnewassignment.CreateNewAssignment"],models:["CreateNewAssignment","Period"],stores:["Assignments"],refs:[{ref:"globalAlertmessagelist",selector:"#appAlertmessagelist"},{ref:"createNewAssignmentForm",selector:"createnewassignmentform"},{ref:"cardPanel",selector:"createnewassignmentform #cardPanel"},{ref:"createNewAssignment",selector:"createnewassignment"},{ref:"pageHeading",selector:"createnewassignment #pageHeading"},{ref:"shortNameField",selector:"createnewassignmentform textfield[name=short_name]"},{ref:"longNameField",selector:"createnewassignmentform textfield[name=long_name]"},{ref:"deliveryTypesRadioGroup",selector:"createnewassignmentform #deliveryTypesRadioGroup"},{ref:"firstDeadlineField",selector:"createnewassignmentform devilry_extjsextras-datetimefield[name=first_deadline]"},{ref:"firstDeadlineHelp",selector:"createnewassignmentform #firstDeadlineHelp"},{ref:"publishingTimeField",selector:"createnewassignmentform devilry_extjsextras-datetimefield[name=publishing_time]"},{ref:"publishingTimeHelp",selector:"createnewassignmentform #publishingTimeHelp"},{ref:"advancedOptionsPanel",selector:"createnewassignmentform #advancedOptionsPanel"},{ref:"setupExaminersContainer",selector:"createnewassignmentform #setupExaminersContainer"},{ref:"selectAssignmentToCopyStudentsFrom",selector:"createnewassignmentform #selectAssignmentToCopyStudentsFrom"},{ref:"selectAssignmentToCopyStudentsFromCombo",selector:"createnewassignmentform #selectAssignmentToCopyStudentsFrom selectsingleassignment"},{ref:"setupStudentsCopyFromAssignmentRadio",selector:"createnewassignmentform #setupStudentsCopyFromAssignmentRadio"},{ref:"setupStudentsAllRelatedRadio",selector:"createnewassignmentform #setupStudentsAllRelatedRadio"},{ref:"setupExaminersCopyFromAssignmentRadio",selector:"createnewassignmentform #setupExaminersCopyFromAssignmentRadio"},{ref:"setupExaminersByTagsRadio",selector:"createnewassignmentform #setupExaminersByTagsRadio"},{ref:"setupExaminersByTagsHelp",selector:"createnewassignmentform #setupExaminersByTagsHelp"}],ui_datetimeformat:"Y-m-d H:i",transport_datetimeformat:"Y-m-dTH:i",init:function(){this.control({"viewport createnewassignmentform textfield[name=long_name]":{render:this._onRenderLongName,blur:this._onLongNameBlur},"viewport createnewassignmentform #nextButton":{click:this._onNext},"viewport createnewassignmentform #deliveryTypesRadioGroup radio":{change:this._onDeliveryTypesSelect},"viewport createnewassignmentform devilry_extjsextras-datetimefield[name=publishing_time] devilry_extjsextras_datefield":{change:this._onPublishingTimeDateFieldChange},"viewport createnewassignmentform #backButton":{click:this._onBack},"viewport createnewassignmentform #createButton":{click:this._onCreate},"viewport createnewassignmentform #studentsSetupRadiogroup":{change:this._onStudentsSetupRadiogroupChange},"viewport createnewassignmentform selectsingleassignment[name=copyfromassignment_id]":{change:this._onSelectAssignmentToCopyFromChange}})},_mask:function(e){this.getCreateNewAssignmentForm().setLoading(e)},_unmask:function(){this.getCreateNewAssignmentForm().setLoading(!1)},_onHitEnter:function(){var e=this.getCardPanel().getLayout().getActiveItem().itemId;this._isValid()&&("pageOne"===e?this._onNext():this._onCreate())},_onLoadFailure:function(e){this._unmask(),this.onLoadFailure(e)},_loadPeriod:function(e){this.getPeriodModel().load(e,{scope:this,callback:function(e,t){t.success?this._onLoadPeriodSuccess(e):this._onLoadPeriodFailure(t)}})},_onLoadPeriodSuccess:function(e){this.periodRecord=e,this.periodpath=this.getPathFromBreadcrumb(this.periodRecord),this._updateHeader(),this.setSubviewBreadcrumb(this.periodRecord,"Period",[],gettext("Create new assignment")),this._loadAssignments()},_onLoadPeriodFailure:function(e){this._onLoadFailure(e)},_loadAssignments:function(){this.getAssignmentsStore().loadAssignmentsInPeriod(this.periodRecord.get("id"),this._onLoadAssignments,this)},_onLoadAssignments:function(e,t){t.success?this._onLoadAssignmentsSuccess(e):this._onLoadFailure(t)},_applyInitialValues:function(e){var t=this.getCreateNewAssignment().defaults;if(!Ext.isEmpty(t)){var i=Ext.Object.fromQueryString(t);Ext.isEmpty(i.first_deadline)||(e.first_deadline=Ext.Date.parse(i,this.transport_datetimeformat)),Ext.isEmpty(i.delivery_types)||(e.delivery_types=parseInt(i.delivery_types,10)),Ext.isEmpty(i.setupstudents_mode)||(e.setupstudents_mode=i.setupstudents_mode),Ext.isEmpty(i.setupexaminers_mode)||(e.setupexaminers_mode=i.setupexaminers_mode),Ext.isEmpty(i.copyfromassignment_id)||(e.copyfromassignment_id=parseInt(i.copyfromassignment_id,10)),Ext.isEmpty(i.only_copy_passing_groups)||(e.only_copy_passing_groups="true"===i.only_copy_passing_groups),Ext.isEmpty(i.anonymous)||(e.anonymous="true"===i.anonymous)}},_onLoadAssignmentsSuccess:function(e){var t={};this._autoapplyIntialValues(t),e.length>0&&(this.getSetupStudentsCopyFromAssignmentRadio().show(),t.copyfromassignment_id=e[0].get("id")),this._applyInitialValues(t),this.getCreateNewAssignmentForm().getForm().setValues(t),Ext.defer(function(){this._onFullyRenderedAndInitialized(t)},200,this)},_onFullyRenderedAndInitialized:function(e){var t=this.getFirstDeadlineField().down("devilry_extjsextras_timefield");null===t.getValue()&&t.setValue("23:59");var i=this.getFirstDeadlineField().down("devilry_extjsextras_datefield");i.clearInvalid(),this.getLongNameField().selectText(),e.anonymous&&this.getAdvancedOptionsPanel().expand();this.getSelectAssignmentToCopyStudentsFromCombo().getValue();this._unmask()},_onPublishingTimeDateFieldChange:function(){this._syncPubtimeAndFirstDeadline()},_syncPubtimeAndFirstDeadline:function(){var e=this.getPublishingTimeField().down("devilry_extjsextras_datefield");e.setMinValue(new Date),e.setMaxValue(this.periodRecord.get("end_time"));var t=this.getFirstDeadlineField().down("devilry_extjsextras_datefield"),i=e.getValue();if(null!==i){t.setMinValue(e.getValue());var n=t.getValue();null!==n&&i>n&&(t.validate(),this.application.getAlertmessagelist().add({type:"warning",autoclose:!0,message:gettext("The publishing time is set to a later date than the submission date.")}))}t.setMaxValue(this.periodRecord.get("end_time"))},_em:function(e){return Ext.String.format("<em>{0}</em>",e)},_autoapplyIntialValues:function(e){var t=[];if(this._autoapplyNamesFromLastAssignment(e,t),this._autoapplyFirstDeadline(e,t),this._autoapplyPublishingTime(e,t),0!==t.length){var i=[],n=[];Ext.Array.each(t,function(e){i.push(this._em(e.label)),n.push(Ext.String.format("<h2>{0}</h2>",e.label)),n.push(Ext.create("Ext.XTemplate",e.detailstpl).apply(e.detailsdata))},this),this.application.getAlertmessagelist().add({type:"info",autoclose:6,messagetpl:[gettext("Devilry suggested values for: {labels}.")," <small>{MORE_BUTTON}</small>","<div {MORE_ATTRS}>{details}</div>"],messagedata:{labels:i.join(", "),details:n.join("")}})}},_autoapplyNamesFromLastAssignment:function(e,t){if(0!==this.getAssignmentsStore().getCount()){var i=this.getAssignmentsStore().first(),n=i.get("short_name"),r=i.get("long_name"),o=this._getNumberInName(n),a=this._getNumberInName(r);if(o===a&&null!==o){var s=parseInt(o,10),l=s+1,d=n.replace(s.toString(),l.toString()),u=r.replace(s.toString(),l.toString());Ext.apply(e,{long_name:u,short_name:d}),t.push({label:gettext("Name"),detailstpl:["<p>",gettext("Suggested {long_name} as the name, based on {last_long_name}."),"</p>"],detailsdata:{last_long_name:Ext.String.format("<em>{0}</em>",r),long_name:Ext.String.format("<em>{0}</em>",u)}})}}},_autoapplyFirstDeadline:function(e,t){var i=this.getAssignmentsStore().smartAutodetectFirstDeadline();if(null!==i){e.first_deadline=i.detectedDateTime;var n=i.lastAssignment.get("first_deadline");t.push({label:gettext("Submission date"),detailstpl:["<p>",gettext("Calculated by adding the most common timespan between submission dates ({days} days) to the submission date of the last published assignment, {previous_assignment} ({previous_first_deadline})."),"</p>",'<tpl if="hasExtraDelay">',"<p>",gettext("You have a break in the regular timespan. Since you use a short interval between 1 day and 14 days, we assume this means you have skipped an interval or two, and suggested a submission date based on those assumptions."),"</p>","</tpl>"],detailsdata:{days:i.mostCommonDayDiff.days,previous_assignment:this._em(i.lastAssignment.get("short_name")),previous_first_deadline:devilry_extjsextras.DatetimeHelpers.formatDateTimeShort(n),hasExtraDelay:i.delayCount>1}})}},_autoapplyPublishingTime:function(e,t){e.publishing_time=new Date},_getNumberInName:function(e){var t=e.match(/\d+/);return null!==t&&1===t.length?t[0]:null},_onRenderLongName:function(){this.setLoadingBreadcrumb(),this._mask(gettext("Loading")+" ..."),this.getCreateNewAssignmentForm().keyNav=Ext.create("Ext.util.KeyNav",this.getCreateNewAssignmentForm().el,{enter:this._onHitEnter,scope:this}),this.getCreateNewAssignmentForm().mon(this.getCreateNewAssignmentModel().proxy,{scope:this,exception:this._onProxyError}),this.period_id=this.getCreateNewAssignment().period_id,this._loadPeriod(this.period_id)},_updateHeader:function(){var e=this.getPathFromBreadcrumb(this.periodRecord);this.getPageHeading().update({heading:gettext("Create new assignment"),subheading:e})},_onDeliveryTypesSelect:function(e,t){var i=0===e.getGroupValue();i?(this.getFirstDeadlineField().show(),this.getFirstDeadlineHelp().show(),this.getPublishingTimeField().show(),this.getPublishingTimeHelp().show(),this.getFirstDeadlineField().isValid()||this.getFirstDeadlineField().setValue(null)):(this.getFirstDeadlineField().hide(),this.getFirstDeadlineHelp().hide(),this.getPublishingTimeField().hide(),this.getPublishingTimeHelp().hide(),this.getFirstDeadlineField().isValid()||this.getFirstDeadlineField().setValue(new Date))},_onLongNameBlur:function(e){var t=this.getShortNameField();if(""===t.getValue()){var i=e.getValue(),n=devilry_subjectadmin.utils.AutoGenShortname.autogenShortname(i);t.setValue(n)}},_onNext:function(){this.getGlobalAlertmessagelist().removeAll(),this.getCardPanel().getLayout().setActiveItem(1)},_onBack:function(){this.getCardPanel().getLayout().setActiveItem(0)},_labelExaminerCopyFromAssignment:function(){var e=this.getSelectAssignmentToCopyStudentsFromCombo().getValue(),t=this.getAssignmentsStore(),i=t.findExact("id",e);if(i===-1)return void this.getSelectAssignmentToCopyStudentsFromCombo().setValue(t.first().get("id"));var n=t.getAt(i),r=interpolate(gettext("Copy from %(assignment)s."),{assignment:n.get("long_name")},!0),o=this.getSetupExaminersCopyFromAssignmentRadio();o.boxLabelEl.setHTML(r)},_hilight:function(e){Ext.create("Ext.fx.Animator",{target:e.getEl(),duration:2e3,keyframes:{0:{backgroundColor:"#FFFFFF"},20:{backgroundColor:"#FBEED5"},50:{backgroundColor:"#FBEED5"},100:{backgroundColor:"#FFFFFF"}}})},_onStudentsSetupRadiogroupChange:function(e,t,i){var n=t.setupstudents_mode;i.setupstudents_mode;this.getSelectAssignmentToCopyStudentsFrom().hide(),this.getSetupExaminersCopyFromAssignmentRadio().hide(),this.getSetupExaminersByTagsRadio().hide(),this.getSetupExaminersByTagsHelp().hide(),"copyfromassignment"===n?(this.getSelectAssignmentToCopyStudentsFrom().show(),this.getSetupExaminersCopyFromAssignmentRadio().show(),this._labelExaminerCopyFromAssignment(),this.getSetupExaminersCopyFromAssignmentRadio().setValue(!0),this._hilight(this.getSetupExaminersCopyFromAssignmentRadio())):"allrelated"===n&&(this.getSetupExaminersByTagsRadio().show(),this.getSetupExaminersByTagsHelp().show(),this.getSetupExaminersByTagsRadio().setValue(!0),this._hilight(this.getSetupExaminersByTagsRadio())),"do_not_setup"===n?this.getSetupExaminersContainer().hide():this.getSetupExaminersContainer().show()},_onSelectAssignmentToCopyFromChange:function(e,t){this._labelExaminerCopyFromAssignment()},_isValid:function(){return this.getCreateNewAssignmentForm().getForm().isValid()},_onCreate:function(){this._isValid()&&this._save()},_getFormValues:function(){var e=this.getCreateNewAssignmentForm().getForm().getFieldValues();return e},_save:function(){this.getGlobalAlertmessagelist().removeAll();var e=this._getFormValues(),t=1;e.delivery_types===t&&(e.first_deadline=null),e.period_id=this.period_id;var i=this.getCreateNewAssignmentModel(),n=new i(e);this._mask(gettext("Saving")+" ..."),n.save({scope:this,success:this._onSuccessfulSave})},_onSuccessfulSave:function(e){this._unmask(),this.application.addOnNextRouteMessage({type:"success",messagetpl:[gettext("Created {name}."),' <a href="{url}">',gettext("Create another assignment"),"</a>."],messagedata:{name:Ext.String.format("<em>{0}</em>",e.get("long_name")),url:devilry_subjectadmin.utils.UrlLookup.createNewAssignment(this.periodRecord.get("id"),{anonymous:e.get("anonymous"),delivery_types:e.get("delivery_types"),setupstudents_mode:e.get("setupstudents_mode"),setupexaminers_mode:e.get("setupexaminers_mode"),copyfromassignment_id:e.get("copyfromassignment_id"),only_copy_passing_groups:e.get("only_copy_passing_groups")})}}),this.application.route.navigate(devilry_subjectadmin.utils.UrlLookup.assignmentOverview(e.get("id")))},_onProxyError:function(e,t,i){this._unmask(),this.handleProxyError(this.getGlobalAlertmessagelist(),this.getCreateNewAssignmentForm(),t,i),this.getCardPanel().getLayout().setActiveItem(0)}})},/*!*******************************************!*\
  !*** ./app/controller/CreateNewPeriod.js ***!
  \*******************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.CreateNewPeriod",{extend:"Ext.app.Controller",mixins:["devilry_subjectadmin.utils.BasenodeBreadcrumbMixin","devilry_subjectadmin.utils.DjangoRestframeworkLoadFailureMixin","devilry_subjectadmin.utils.DjangoRestframeworkProxyErrorMixin"],views:["createnewperiod.CreateNewPeriod"],requires:["Ext.util.KeyNav","devilry_subjectadmin.utils.UrlLookup"],models:["Subject","Period"],refs:[{ref:"globalAlertmessagelist",selector:"viewport floatingalertmessagelist#appAlertmessagelist"},{ref:"formErrorList",selector:"createnewperiod alertmessagelist#formErrorList"},{ref:"overview",selector:"createnewperiod"},{ref:"header",selector:"createnewperiod #header"},{ref:"shortNameField",selector:"createnewperiod textfield[name=short_name]"},{ref:"formPanel",selector:"createnewperiod form"}],init:function(){this.control({"viewport createnewperiod form":{render:this._onRender},"viewport createnewperiod #new_period_start_time":{change:this._setMinimumValueOnEndTime},"viewport createnewperiod #saveButton":{click:this._onSave},"viewport createnewperiod textfield[name=long_name]":{render:this._onRenderLongName,blur:this._onLongNameBlur}})},_setMinimumValueOnEndTime:function(e,t,i){endtime=Ext.getCmp("new_period_end_time"),endtime.setMinimumValue(t)},_onRender:function(){this.setLoadingBreadcrumb(),this.subject_id=this.getOverview().subject_id,this._loadSubject(this.subject_id),this.getFormPanel().keyNav=Ext.create("Ext.util.KeyNav",this.getFormPanel().el,{enter:this._onSave,scope:this})},_loadSubject:function(e){this.getSubjectModel().load(e,{scope:this,callback:function(e,t){t.success?this._onLoadSubjectSuccess(e):this.onLoadFailure(t)}})},_onLoadSubjectSuccess:function(e){this.subjectRecord=e;var t=gettext("Create new term");this.application.setTitle(Ext.String.format("{0} - {1}",t,this.subjectRecord.get("short_name"))),this.getHeader().update({heading:t,subheading:e.get("long_name")}),this.setSubviewBreadcrumb(this.subjectRecord,"Subject",[],t)},_onRenderLongName:function(e){Ext.defer(function(){e.focus()},100)},_onLongNameBlur:function(e){var t=this.getShortNameField();if(""===t.getValue()){var i=e.getValue(),n=devilry_subjectadmin.utils.AutoGenShortname.autogenShortname(i);t.setValue(n)}},_mask:function(){this.getOverview().getEl().mask(gettext("Saving")+" ...")},_unmask:function(){this.getOverview().getEl().unmask()},_onSave:function(){var e=this.getFormPanel().getForm();if(e.isValid){var t=Ext.create("devilry_subjectadmin.model.Period",{parentnode:this.subjectRecord.get("id")});e.updateRecord(t),this._mask(),this.getPeriodModel().proxy.addListener({scope:this,exception:this._onProxyError}),t.save({scope:this,callback:function(e,t){this.getPeriodModel().proxy.removeListener({scope:this,exception:this._onProxyError}),t.success&&this._onSuccessfulSave(e)}})}},_onSuccessfulSave:function(e){this._unmask(),this.application.route.navigate(devilry_subjectadmin.utils.UrlLookup.periodOverview(e.get("id")))},_onProxyError:function(e,t,i){this._unmask(),this.getFormErrorList().removeAll(),this.handleProxyError(this.getFormErrorList(),this.getFormPanel(),t,i)}})},/*!*************************************!*\
  !*** ./app/controller/Dashboard.js ***!
  \*************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.Dashboard",{extend:"Ext.app.Controller",mixins:["devilry_subjectadmin.utils.DjangoRestframeworkProxyErrorMixin"],views:["dashboard.Dashboard"],stores:["AllActivesWhereIsAdmin"],refs:[{ref:"allWhereIsAdminList",selector:"allactivewhereisadminlist"}],init:function(){this.control({"viewport dashboard allactivewhereisadminlist":{render:this._onRenderAllWhereIsAdminList}}),this.mon(this.getAllActivesWhereIsAdminStore().proxy,{scope:this,exception:this._onProxyError})},_onRenderAllWhereIsAdminList:function(){this.getAllActivesWhereIsAdminStore().load({scope:this,callback:function(e,t){t.success&&this._onLoadSuccess(e)}})},_flattenListOfActive:function(e){var t=[];return Ext.Array.each(e,function(e){var i=e.data;i.periods.length>1;Ext.Array.each(i.periods,function(e){e.can_administer?t.push({text:i.long_name,suffix:e.long_name,type:"period",id:e.id}):Ext.Array.each(e.assignments,function(n){t.push({text:Ext.String.format("{0} - {1}",i.short_name,n.long_name),suffix:e.long_name,type:"assignment",id:n.id})},this)},this)},this),t},_onLoadSuccess:function(e){this.getAllWhereIsAdminList().update({loadingtext:null,list:this._flattenListOfActive(e)})},_onProxyError:function(e,t,i){this.handleProxyErrorNoForm(this.application.getAlertmessagelist(),t,i)}})},/*!************************************************************!*\
  !*** ./app/controller/DetailedPeriodOverviewController.js ***!
  \************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.DetailedPeriodOverviewController",{extend:"Ext.app.Controller",mixins:["devilry_subjectadmin.utils.BasenodeBreadcrumbMixin","devilry_subjectadmin.utils.DjangoRestframeworkProxyErrorMixin"],views:["detailedperiodoverview.DetailedPeriodOverview"],stores:["AggregatedRelatedStudentInfos"],models:["Period","DetailedPeriodOverview"],refs:[{ref:"overview",selector:"viewport detailedperiodoverview"},{ref:"header",selector:"viewport detailedperiodoverview #header"},{ref:"detailsGrid",selector:"viewport detailedperiodoverview detailedperiodoverviewgrid"}],init:function(){this.control({"viewport detailedperiodoverview":{render:this._onRender}}),this.mon(this.getDetailedPeriodOverviewModel().proxy,{scope:this,exception:this._onProxyError})},_onRender:function(){this.period_id=this.getOverview().period_id,this.loadPeriod()},loadPeriod:function(){this.setLoadingBreadcrumb(),this.getPeriodModel().load(this.period_id,{scope:this,callback:function(e,t){t.success&&this._onLoadPeriodSuccess(e)}})},_onLoadPeriodSuccess:function(e){this.periodRecord=e,this._loadDetailedPeriodOverview()},_loadDetailedPeriodOverview:function(){this.getDetailedPeriodOverviewModel().load(this.period_id,{scope:this,callback:function(e,t){t.success&&this._onLoadDetailedPeriodOverviewSuccess(e)}})},_onLoadDetailedPeriodOverviewSuccess:function(e){this.detailedPeriodOverviewRecord=e,this._onAllLoaded()},_onProxyError:function(e,t,i){var n=Ext.create("devilry_extjsextras.DjangoRestframeworkProxyErrorHandler");n.addErrors(t,i),this.application.getAlertmessagelist().addMany(n.errormessages,"error",!0)},_onAllLoaded:function(){var e=this.getPathFromBreadcrumb(this.periodRecord),t=gettext("Detailed overview");this.getHeader().update({loading:!1,periodpath:e}),this.application.setTitle(Ext.String.format("{0} - {1}",t,e)),this.setSubviewBreadcrumb(this.periodRecord,"Period",[],t),this._setupGrid()},_setupGrid:function(){var e=this.getDetailsGrid(),t=this.detailedPeriodOverviewRecord.get("assignments");e.addColumnForEachAssignment(t),e.addAssignmentSorters(t),this.getAggregatedRelatedStudentInfosStore().loadData(this.detailedPeriodOverviewRecord.get("relatedstudents"));var i=this.detailedPeriodOverviewRecord.get("students_with_feedback_that_is_candidate_but_not_in_related"),n=this.detailedPeriodOverviewRecord.get("students_with_no_feedback_that_is_candidate_but_not_in_related");e.handleIgnored(this.period_id,i,n),e.sortByFullname()}})},/*!***************************************************!*\
  !*** ./app/controller/ExaminerStatsController.js ***!
  \***************************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.ExaminerStatsController",{extend:"Ext.app.Controller",mixins:["devilry_subjectadmin.utils.DjangoRestframeworkLoadFailureMixin","devilry_subjectadmin.utils.LoadAssignmentMixin","devilry_subjectadmin.utils.BasenodeBreadcrumbMixin","devilry_subjectadmin.utils.DjangoRestframeworkProxyErrorMixin"],requires:["devilry_subjectadmin.utils.UrlLookup","devilry_extjsextras.DjangoRestframeworkProxyErrorHandler","devilry_subjectadmin.view.examinerstats.SingleExaminerStatBox","Ext.util.Sorter"],views:["examinerstats.ExaminerStatsOverview"],models:["Assignment"],stores:["ExaminerStats"],refs:[{ref:"overview",selector:"examinerstatsoverview"},{ref:"examinerStatBoxes",selector:"examinerstatsoverview #examinerStatBoxes"},{ref:"globalAlertmessagelist",selector:"viewport floatingalertmessagelist#appAlertmessagelist"}],init:function(){this.control({"viewport examinerstatsoverview":{render:this._onRender}})},_onRender:function(){this.setLoadingBreadcrumb(),this.getOverview().setLoading(),this.assignment_id=this.getOverview().assignment_id,this.loadAssignment(this.assignment_id),this._loadExaminerStats()},_setBreadcrumbAndTitle:function(e){var t=gettext("Statistics about examiners");this.setSubviewBreadcrumb(this.assignmentRecord,"Assignment",[],t);var i=this.getPathFromBreadcrumb(this.assignmentRecord);this.application.setTitle(Ext.String.format("{0}.{1}",i,t))},onLoadAssignmentSuccess:function(e){this.assignmentRecord=e,this._setBreadcrumbAndTitle()},onLoadAssignmentFailure:function(e){this.onLoadFailure(e)},_loadExaminerStats:function(){var e=this.getExaminerStatsStore();e.proxy.setUrl(this.assignment_id),e.load({scope:this,callback:function(e,t){this.getOverview().setLoading(!1),t.success?this._onLoadExaminerStatsSuccess(e,t):this.onLoadFailure(t)}})},_onLoadExaminerStatsSuccess:function(e,t){var i=this.getExaminerStatBoxes(),n=this.getExaminerStatsStore();n.sort(Ext.create("Ext.util.Sorter",{sorterFn:function(e,t){return e.get("examiner").user.displayname.localeCompare(t.get("examiner").user.displayname)}})),n.each(function(e,t){var n="20 0 0 0";0===t&&(n="0"),i.add({xtype:"singleexaminerstatbox",examinerstat:e,margin:n})})},_scrollTo:function(e){e.el.scrollIntoView(this.getOverview().getEl(),!1,!0)}})},/*!***************************************!*\
  !*** ./app/controller/GuideSystem.js ***!
  \***************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.GuideSystem",{extend:"Ext.app.Controller",views:["guidesystem.GuideView","guidesystem.GuideList"],requires:["devilry_subjectadmin.view.guides.CreateNewAssignment","devilry_subjectadmin.view.guides.QualifiedForFinalExams","devilry_subjectadmin.view.guidesystem.Pointer"],refs:[{ref:"guideView",selector:"viewport guidesystemview"},{ref:"progress",selector:"viewport guidesystemview #progress"},{ref:"body",selector:"viewport guidesystemview #body"},{ref:"invalidPageMessage",selector:"viewport guidesystemview #invalidPageMessage"}],init:function(){this.pointer=Ext.widget("guidesystem_pointer",{hidden:!0}),this.invalidPageTask=new Ext.util.DelayedTask(this._onInvalidPage,this),this.application.addListener({scope:this,beforeroute:this._onBeforeRoute}),this.control({"viewport guidesystemview":{render:this._onRender,close:this._onClose},"viewport guidesystemlist":{guideclick:this._onGuideClick}})},_onClose:function(){this.getBody().removeAll()},_onRender:function(){},_onGuideClick:function(e,t){this.showGuide(t)},showGuide:function(e){this.getGuideView().show(),this.getBody().removeAll(),this.getBody().add({xtype:e,guideSystem:this})},_onBeforeRoute:function(){this.pointer.stopPointAt(),this._isVisible()&&(this.getInvalidPageMessage().hide(),this.invalidPageTask.delay(5e3))},_onInvalidPage:function(){this._setNotLoading(),this.getGuideView().getLayout().setActiveItem("invalidPageMessage")},setTitle:function(e){this.getGuideView().setTitle(e)},setProgress:function(e,t){this.invalidPageTask.cancel(),this.getGuideView().getLayout().setActiveItem("main"),this._setNotLoading(),this.getProgress().update({current:e,total:t})},endGuide:function(){this.getGuideView().close()},_isVisible:function(){var e=this.getGuideView(),t=!Ext.isEmpty(e)&&e.isVisible();return t},setLoading:function(){this._isVisible()&&this.getGuideView().setLoading()},_setNotLoading:function(){this._isVisible()&&this.getGuideView().setLoading(!1)},pointAt:function(e){this.pointer.pointAt(e)}})},/*!**********************************************************!*\
  !*** ./app/controller/PassedPreviousPeriodController.js ***!
  \**********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.PassedPreviousPeriodController",{extend:"Ext.app.Controller",mixins:["devilry_subjectadmin.utils.BasenodeBreadcrumbMixin","devilry_subjectadmin.utils.DjangoRestframeworkProxyErrorMixin","devilry_subjectadmin.utils.LoadAssignmentMixin","devilry_subjectadmin.utils.DjangoRestframeworkLoadFailureMixin"],requires:["devilry_extjsextras.DjangoRestframeworkProxyErrorHandler"],views:["passedpreviousperiod.PassedPreviousPeriodOverview"],models:["Assignment"],stores:["PassedPreviousPeriodItems"],refs:[{ref:"globalAlertmessagelist",selector:"#appAlertmessagelist"},{ref:"overview",selector:"passedpreviousperiodoverview"},{ref:"cardContainer",selector:"passedpreviousperiodoverview #cardContainer"},{ref:"unsupportedGradeEditor",selector:"passedpreviousperiodoverview #unsupportedGradeEditor"},{ref:"groupsGrid",selector:"passedpreviousperiodoverview #pageOne selectpassedpreviousgroupsgrid"},{ref:"showUnRecommendedCheckbox",selector:"passedpreviousperiodoverview #pageOne #showUnRecommendedCheckbox"},{ref:"nextButton",selector:"passedpreviousperiodoverview #pageOne #nextButton"},{ref:"pageTwo",selector:"passedpreviousperiodoverview #pageTwo"},{ref:"pageTwoSidebar",selector:"passedpreviousperiodoverview #pageTwo #pageTwoSidebar"},{ref:"confirmGridWrapper",selector:"passedpreviousperiodoverview #pageTwo #confirmGridWrapper"},{ref:"confirmGroupsGrid",selector:"passedpreviousperiodoverview #pageTwo confirmpassedpreviousgroupsgrid"}],init:function(){this.control({passedpreviousperiodoverview:{render:this._onRender},"passedpreviousperiodoverview #pageOne selectpassedpreviousgroupsgrid":{selectionchange:this._onGroupsSelectionChange},"passedpreviousperiodoverview #pageOne #showUnRecommendedCheckbox":{change:this._onShowUnRecommendedCheckbox},"passedpreviousperiodoverview #pageOne #nextButton":{click:this._onNextButton},"passedpreviousperiodoverview #pageTwo #backButton":{click:this._onBackButton},"passedpreviousperiodoverview #pageTwo #saveButton":{click:this._onSave}})},_onRender:function(){this.setLoadingBreadcrumb(),this.getOverview().setLoading(!0),this.assignment_id=this.getOverview().assignment_id,this.loadAssignment(this.assignment_id)},_onAssignmentProxyError:function(e,t,i){this._onProxyError(t,i)},onLoadAssignmentSuccess:function(e){this.assignmentRecord=e;var t=gettext("Passed previously");this.setSubviewBreadcrumb(this.assignmentRecord,"Assignment",[],t);var i=this.getPathFromBreadcrumb(this.assignmentRecord);this.application.setTitle(Ext.String.format("{0}.{1}",i,t));var n=this.assignmentRecord.get("grading_system_plugin_id");if("devilry_gradingsystemplugin_approved"!==n){this.getOverview().setLoading(!1);var r=this.assignmentRecord.get("gradingsystemplugin_title");this.getUnsupportedGradeEditor().updateData({gradingsystem:Ext.String.format("<em>{0}</em>",r)}),this._setPage("unsupportedGradeEditor")}else this._loadStore();this._loadStore()},onLoadAssignmentFailure:function(e){this.getOverview().setLoading(!1),this.onLoadFailure(e)},_setPage:function(e){this.getCardContainer().getLayout().setActiveItem(e)},_clearMessages:function(){this.application.getAlertmessagelist().removeAll()},_loadStore:function(){this.getPassedPreviousPeriodItemsStore().loadGroupsInAssignment(this.assignment_id,{scope:this,callback:this._onLoadStore})},_onLoadStore:function(e,t){if(this.getOverview().setLoading(!1),t.success){this._applyPageOneFilters();var i=this.getPassedPreviousPeriodItemsStore().getCount();0===i&&this._handleNoDisplayedGroups(),this.getGroupsGrid().selectWithPassingGradeInPrevious()}else this.onLoadFailure(t)},_onGroupsSelectionChange:function(e,t){0===t.length?this.getNextButton().disable():this.getNextButton().enable()},_handleNoDisplayedGroups:function(){this.application.getAlertmessagelist().add({type:"warning",extracls:"no-nonignoredgroups-warning",message:gettext("We did not detect any groups that Devilry does not believe should be ignored. Use the checkbox below the table to see and select ignored groups.")})},_applyPageOneFilters:function(){var e=this.getPassedPreviousPeriodItemsStore();e.clearFilter(),this.getShowUnRecommendedCheckbox().getValue()||e.filterBy(function(e){var t=e.get("whyignored");return!!Ext.isEmpty(t)||!("has_alias_feedback"===t||"has_feedback"===t||"only_failing_grade_in_previous"===t)})},_onShowUnRecommendedCheckbox:function(){this._clearMessages(),this._applyPageOneFilters()},_onNextButton:function(){var e=this.getPassedPreviousPeriodItemsStore(),t=this.getGroupsGrid().getSelectionModel();e.filterBy(function(e){return t.isSelected(e)}),e.each(function(e){e.set("newfeedback_points",1),e.commit()});var i=this.getConfirmGridWrapper();i.removeAll(),i.add({xtype:"confirmpassedpreviousgroupsgrid"}),this.getPageTwoSidebar().update({gradingsystem:Ext.String.format("<em>{0}</em>",this.assignmentRecord.get("gradingsystemplugin_title")),needsGradeFormatExplained:!1,loading:!1}),this._setPage("pageTwo"),this._clearMessages()},_onBackButton:function(){this._applyPageOneFilters(),this._setPage("pageOne")},_onSave:function(){var e=this.getPassedPreviousPeriodItemsStore();this._clearMessages(),e.each(function(e){e.setDirty()},this),this.getOverview().setLoading(gettext("Saving")+" ..."),e.sync({scope:this,success:function(e,t){this._onSyncSuccess(e,t)},failure:function(e,t){this._onSyncFailure(e,t)}})},_onSyncSuccess:function(e,t,i){this.getOverview().setLoading(!1);var n=this.getPassedPreviousPeriodItemsStore(),r=n.getCount();this.application.getAlertmessagelist().add({type:"success",autoclose:!0,extracls:"passed-previously-sync-success",message:interpolate(gettext("Marked %(count)s groups as previously passed."),{count:r},!0)}),this._onBackButton(),this._loadStore()},_onSyncFailure:function(e,t){this.getOverview().setLoading(!1);var i=Ext.create("devilry_extjsextras.DjangoRestframeworkProxyErrorHandler");i.addBatchErrors(e);var n=[],r=0;Ext.Array.each(e.exceptions,function(e){if(400===e.error.status)r++;else{var t=i.parseHttpError(e.error,e.request);n.push(t)}},this),n.length>0&&this.application.getAlertmessagelist().addMany(n,"error"),r>0&&this.application.getAlertmessagelist().add({type:"error",extracls:"passed-previously-invalid-grade-value",message:gettext("At least one group has an invalid grade. Please review the help for the grade format in the sidebar.")})}})},/*!********************************************!*\
  !*** ./app/controller/RelatedExaminers.js ***!
  \********************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.RelatedExaminers",{extend:"devilry_subjectadmin.controller.RelatedUsersBase",views:["relatedexaminers.Overview"],stores:["RelatedExaminers"],models:["Period"],refs:[{ref:"globalAlertmessagelist",selector:"viewport floatingalertmessagelist#appAlertmessagelist"},{ref:"overview",selector:"viewport relatedexaminers"},{ref:"heading",selector:"viewport relatedexaminers #heading"},{ref:"grid",selector:"viewport relatedexaminers relatedexaminersgrid"},{ref:"gridSummaryBox",selector:"viewport relatedexaminers #gridSummaryBox"},{ref:"addButton",selector:"viewport relatedexaminers #addButton"},{ref:"removeButton",selector:"viewport relatedexaminers #removeButton"},{ref:"tagsButton",selector:"viewport relatedexaminers #tagsButton"},{ref:"sidebarDeck",selector:"viewport relatedexaminers #sidebarDeck"},{ref:"autocompleteUserWidget",selector:"viewport relatedexaminers autocompleteuserwidget"}],init:function(){this.control({"viewport relatedexaminers":{render:this._onRender},"viewport relatedexaminers relatedexaminersgrid":{selectionchange:this._onGridSelectionChange},"viewport relatedexaminers #filterfield":{change:this.onFilterChange},"viewport relatedexaminers #removeButton":{click:this._onRemoveSelected},"viewport relatedexaminers okcancelpanel#confirmRemovePanel":{cancel:this.resetToHelpView,ok:this._removeSelected},"viewport relatedexaminers #setTagsButton":{click:this.onSetTagsClick},"viewport relatedexaminers choosetagspanel#setTagsPanel":{cancel:this.resetToHelpView,savetags:this.onSetTagsSave},"viewport relatedexaminers #addTagsButton":{click:this.onAddTagsButtonClick},"viewport relatedexaminers choosetagspanel#addTagsPanel":{cancel:this.resetToHelpView,savetags:this.onAddTagsSave},"viewport relatedexaminers #clearTagsButton":{click:this.onClearTagsClick},"viewport relatedexaminers okcancelpanel#clearTagsPanel":{cancel:this.resetToHelpView,ok:this.onClearTagsConfirmed},"viewport relatedexaminers #addButton":{click:this._onAddUserButtonClick},"viewport relatedexaminers selectrelateduserpanel":{cancel:this.resetToHelpView},"viewport relatedexaminers selectrelateduserpanel autocompleteuserwidget":{userSelected:this._onAddSelectedUser}}),this.mon(this.getRelatedExaminersStore().proxy,{scope:this,exception:this.onRelatedStoreProxyError}),this.mon(this.getPeriodModel().proxy,{scope:this,exception:this.onPeriodProxyError})},getRelatedUsersStore:function(){return this.getRelatedExaminersStore()},getLabel:function(){return gettext("Examiners")},onPeriodLoaded:function(e){this.getHeading().update({periodpath:e})},_onRender:function(){var e=this.getOverview().period_id;this.loadPeriod(e),this._loadRelatedExaminers(e)},_loadRelatedExaminers:function(e){this.getRelatedExaminersStore().loadInPeriod(e,{scope:this,callback:function(e,t){t.success&&this._onLoadRelatedStudentsSuccess()}})},_onLoadRelatedStudentsSuccess:function(){this.updateGridSummaryBox()},_onGridSelectionChange:function(e,t){0===t.length?(this.getRemoveButton().disable(),this.getTagsButton().disable()):(this.getRemoveButton().enable(),this.getTagsButton().enable())},_getSelectedRelatedUserRecords:function(){var e=this.getGrid().getSelectionModel(),t=e.getSelection();return t},_onRemoveSelected:function(){this.getSidebarDeck().getLayout().setActiveItem("confirmRemovePanel")},_removeSelected:function(){this.resetToHelpView();var e=this._getSelectedRelatedUserRecords(),t=devilry_subjectadmin.model.RelatedUserBase.recordsAsDisplaynameArray(e),i=this.getRelatedExaminersStore();i.remove(e),this.setLoading(gettext("Saving")+" ..."),i.sync({scope:this,success:function(){var e=gettext("Removed: {0}");this.showSyncSuccessMessage(Ext.String.format(e,t.join(", ")))}})},_onAddUserButtonClick:function(){this.getSidebarDeck().getLayout().setActiveItem("selectRelatedUserPanel"),this.getAutocompleteUserWidget().setValue(""),this.getAutocompleteUserWidget().focus()},_onAddSelectedUser:function(e,t){this.resetToHelpView();var i=this.getRelatedExaminersStore(),n=i.getByUserid(t.get("id"));if(null===n){var r=i.add({period:this.periodRecord.get("id"),user:t.data})[0];i.sync({scope:this,success:function(){this._onAddUserSuccess(r)}})}else this.getGlobalAlertmessagelist().add({type:"warning",message:Ext.String.format(gettext("{0} is already in the table."),n.getDisplayName()),autoclose:!0});this.getAddButton().focus(!1,200)},_onAddUserSuccess:function(e){this.showSyncSuccessMessage(Ext.String.format(gettext("{0} added."),e.getDisplayName())),this.getGrid().getSelectionModel().select([e])}})},/*!*******************************************!*\
  !*** ./app/controller/RelatedStudents.js ***!
  \*******************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.RelatedStudents",{extend:"devilry_subjectadmin.controller.RelatedUsersBase",views:["relatedstudents.Overview"],stores:["RelatedStudents"],models:["Period"],refs:[{ref:"globalAlertmessagelist",selector:"viewport floatingalertmessagelist#appAlertmessagelist"},{ref:"overview",selector:"viewport relatedstudents"},{ref:"heading",selector:"viewport relatedstudents #heading"},{ref:"grid",selector:"viewport relatedstudents relatedstudentsgrid"},{ref:"gridSummaryBox",selector:"viewport relatedstudents #gridSummaryBox"},{ref:"addButton",selector:"viewport relatedstudents #addButton"},{ref:"removeButton",selector:"viewport relatedstudents #removeButton"},{ref:"tagsButton",selector:"viewport relatedstudents #tagsButton"},{ref:"sidebarDeck",selector:"viewport relatedstudents #sidebarDeck"},{ref:"autocompleteUserWidget",selector:"viewport relatedstudents autocompleteuserwidget"}],init:function(){this.control({"viewport relatedstudents":{render:this._onRender},"viewport relatedstudents relatedstudentsgrid":{selectionchange:this._onGridSelectionChange,edit:this._onEditGrid},"viewport relatedstudents #filterfield":{change:this.onFilterChange},"viewport relatedstudents #removeButton":{click:this._onRemoveSelected},"viewport relatedstudents okcancelpanel#confirmRemovePanel":{cancel:this.resetToHelpView,ok:this._removeSelected},"viewport relatedstudents #setTagsButton":{click:this.onSetTagsClick},"viewport relatedstudents choosetagspanel#setTagsPanel":{cancel:this.resetToHelpView,savetags:this.onSetTagsSave},"viewport relatedstudents #addTagsButton":{click:this.onAddTagsButtonClick},"viewport relatedstudents choosetagspanel#addTagsPanel":{cancel:this.resetToHelpView,savetags:this.onAddTagsSave},"viewport relatedstudents #clearTagsButton":{click:this.onClearTagsClick},"viewport relatedstudents okcancelpanel#clearTagsPanel":{cancel:this.resetToHelpView,ok:this.onClearTagsConfirmed},"viewport relatedstudents #addButton":{click:this._onAddUserButtonClick},"viewport relatedstudents selectrelateduserpanel":{cancel:this.resetToHelpView},"viewport relatedstudents selectrelateduserpanel autocompleteuserwidget":{userSelected:this._onAddSelectedUser}}),this.mon(this.getRelatedStudentsStore().proxy,{scope:this,exception:this.onRelatedStoreProxyError}),this.mon(this.getPeriodModel().proxy,{scope:this,exception:this.onPeriodProxyError})},_onRender:function(){var e=this.getOverview().period_id;this.loadPeriod(e),this._loadRelatedStudents(e)},getRelatedUsersStore:function(){return this.getRelatedStudentsStore()},getLabel:function(){return gettext("Students")},matchRelatedUser:function(e,t){return this.callParent(arguments)||e.get("candidate_id").toLocaleLowerCase().indexOf(t)!==-1},onPeriodLoaded:function(e){this.getHeading().update({periodpath:e})},_loadRelatedStudents:function(e){this.getRelatedStudentsStore().loadInPeriod(e,{scope:this,callback:function(e,t){t.success&&this._onLoadRelatedStudentsSuccess()}})},_onLoadRelatedStudentsSuccess:function(){this.updateGridSummaryBox()},_onGridSelectionChange:function(e,t){0===t.length?(this.getRemoveButton().disable(),this.getTagsButton().disable()):(this.getRemoveButton().enable(),this.getTagsButton().enable())},_getSelectedRelatedUserRecords:function(){var e=this.getGrid().getSelectionModel(),t=e.getSelection();return t},_onEditGrid:function(e,t){var i=this.getRelatedStudentsStore(),n=t.record;n.dirty&&(this.setLoading(gettext("Saving")+" ..."),i.sync({scope:this,success:function(){var e=gettext("Updated candidate ID of {0} to {1}.");this.showSyncSuccessMessage(Ext.String.format(e,n.getDisplayName(),n.get("candidate_id")))}}))},_onRemoveSelected:function(){this.getSidebarDeck().getLayout().setActiveItem("confirmRemovePanel")},_removeSelected:function(){this.resetToHelpView();var e=this._getSelectedRelatedUserRecords(),t=devilry_subjectadmin.model.RelatedUserBase.recordsAsDisplaynameArray(e),i=this.getRelatedStudentsStore();i.remove(e),this.setLoading(gettext("Saving")+" ..."),i.sync({scope:this,success:function(){var e=gettext("Removed: {0}");this.showSyncSuccessMessage(Ext.String.format(e,t.join(", ")))}})},_onAddUserButtonClick:function(){this.getSidebarDeck().getLayout().setActiveItem("selectRelatedUserPanel"),this.getAutocompleteUserWidget().setValue(""),this.getAutocompleteUserWidget().focus()},_onAddSelectedUser:function(e,t){this.resetToHelpView();var i=this.getRelatedStudentsStore(),n=i.getByUserid(t.get("id"));if(null===n){var r=i.add({period:this.periodRecord.get("id"),user:t.data})[0];i.sync({scope:this,success:function(){this._onAddUserSuccess(r)}})}else this.getGlobalAlertmessagelist().add({type:"warning",message:Ext.String.format(gettext("{0} is already in the table."),n.getDisplayName()),autoclose:!0});this.getAddButton().focus(!1,200)},_onAddUserSuccess:function(e){this.showSyncSuccessMessage(Ext.String.format(gettext("{0} added."),e.getDisplayName())),this.getGrid().getSelectionModel().select([e])}})},/*!********************************************!*\
  !*** ./app/controller/RelatedUsersBase.js ***!
  \********************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.RelatedUsersBase",{extend:"Ext.app.Controller",mixins:["devilry_subjectadmin.utils.BasenodeBreadcrumbMixin","devilry_subjectadmin.utils.DjangoRestframeworkProxyErrorMixin"],summaryTpl:gettext("Showing {visiblecount}/{totalcount}"),resetToHelpView:function(){this.getSidebarDeck().getLayout().setActiveItem("helpBox")},getRelatedUsersStore:function(){throw"Must be implemented in subclasses."},getLabel:function(){throw"Must be implemented in subclasses."},onPeriodLoaded:function(e){throw"Must be implemented in subclasses."},onFilterChange:function(e,t){Ext.isEmpty(this.task)&&(this.task=new Ext.util.DelayedTask(this._filter,this,[e])),this.task.delay(200)},_filter:function(e){var t=e.getValue(),i=this.getGrid().getStore();i.filterBy(function(e){return this.matchRelatedUser(e,t.toLocaleLowerCase())},this),this.updateGridSummaryBox()},matchRelatedUser:function(e,t){var i=e.get("user").full_name;Ext.isEmpty(i)&&(i=gettext("Full name missing"));var n=e.get("tags");return Ext.isEmpty(n)&&(n=""),e.get("user").username.toLocaleLowerCase().indexOf(t)!==-1||i.toLocaleLowerCase().indexOf(t)!==-1||n.toLocaleLowerCase().indexOf(t)!==-1},updateGridSummaryBox:function(){var e=this.getGrid().getStore();this.getGridSummaryBox().update(Ext.create("Ext.XTemplate",this.summaryTpl).apply({totalcount:e.getTotalCount(),visiblecount:e.getCount()}))},loadPeriod:function(e){this.setLoadingBreadcrumb(),this.getPeriodModel().load(e,{scope:this,callback:function(e,t){t.success&&this._onLoadPeriodSuccess(e)}})},_onLoadPeriodSuccess:function(e){this.periodRecord=e;var t=this.getPathFromBreadcrumb(this.periodRecord),i=this.getLabel();this.application.setTitle(Ext.String.format("{0} - {1}",i,t)),this.setSubviewBreadcrumb(this.periodRecord,"Period",[],i),this.onPeriodLoaded(t)},_onLoadPeriodFailure:function(e){this.onLoadFailure(e)},_onProxyError:function(e,t){this.handleProxyErrorNoForm(this.getGlobalAlertmessagelist(),e,t)},onRelatedStoreProxyError:function(e,t,i){this._onProxyError(t,i)},onPeriodProxyError:function(e,t,i){},showSyncSuccessMessage:function(e){this.setLoading(!1),this.getGlobalAlertmessagelist().add({type:"success",message:e,autoclose:!0})},setLoading:function(e){this.getOverview().setLoading(e)},onTagSyncSuccess:function(e,t){this.resetToHelpView();var i=devilry_subjectadmin.model.RelatedUserBase.recordsAsDisplaynameArray(e),n=gettext("Tagged %(users)s with: %(tags)s");this.showSyncSuccessMessage(interpolate(n,{users:i.join(", "),tags:t.join(", ")},!0))},onSetTagsClick:function(){this.getSidebarDeck().getLayout().setActiveItem("setTagsPanel")},onSetTagsSave:function(e,t){var i=this._getSelectedRelatedUserRecords();Ext.Array.each(i,function(e){e.setTagsFromArray(t)},this),this.getRelatedUsersStore().sync({scope:this,success:function(){this.onTagSyncSuccess(i,t)}})},onAddTagsButtonClick:function(){this.getSidebarDeck().getLayout().setActiveItem("addTagsPanel")},onAddTagsSave:function(e,t){var i=this._getSelectedRelatedUserRecords();Ext.Array.each(i,function(e){e.addTagsFromArray(t)},this),this.getRelatedUsersStore().sync({scope:this,success:function(){this.onTagSyncSuccess(i,t)}})},onClearTagsClick:function(){this.getSidebarDeck().getLayout().setActiveItem("clearTagsPanel")},onClearTagsConfirmed:function(){var e=this._getSelectedRelatedUserRecords();Ext.Array.each(e,function(e){e.clearTags()},this),this.getRelatedUsersStore().sync({scope:this,success:function(){this.resetToHelpView();var t=devilry_subjectadmin.model.RelatedUserBase.recordsAsDisplaynameArray(e),i=gettext("Cleared tags on %(users)s.");this.showSyncSuccessMessage(interpolate(i,{users:t.join(", ")},!0))}})}})},/*!***********************************************************!*\
  !*** ./app/controller/assignment/AssignmentController.js ***!
  \***********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.assignment.AssignmentController",{extend:"Ext.app.Controller",mixins:{loadAssignment:"devilry_subjectadmin.utils.LoadAssignmentMixin",setBreadcrumb:"devilry_subjectadmin.utils.BasenodeBreadcrumbMixin",onLoadFailure:"devilry_subjectadmin.utils.DjangoRestframeworkLoadFailureMixin"},views:["assignment.AssignmentOverview"],requires:["devilry_subjectadmin.utils.UrlLookup"],models:["Assignment"],refs:[{ref:"globalAlertmessagelist",selector:"viewport floatingalertmessagelist#appAlertmessagelist"},{ref:"header",selector:"assignmentoverview #header"},{ref:"assignmentOverview",selector:"assignmentoverview"},{ref:"deleteButton",selector:"assignmentoverview #deleteButton"},{ref:"renameButton",selector:"assignmentoverview #renameButton"},{ref:"noGroupsMessage",selector:"assignmentoverview #noGroupsMessage"},{ref:"adminsbox",selector:"assignmentoverview adminsbox"},{ref:"linkList",selector:"assignmentoverview #linkList"},{ref:"examinerRoleBox",selector:"assignmentoverview #examinerRoleBox"},{ref:"betaFeaturesBox",selector:"assignmentoverview #betaFeaturesBox"}],init:function(){this.control({"viewport assignmentoverview":{render:this._onAssignmentViewRender},"viewport assignmentoverview #deleteButton":{click:this._onDelete},"viewport assignmentoverview #renameButton":{click:this._onRename}})},_onAssignmentViewRender:function(){this.assignment_id=this.getAssignmentOverview().assignment_id,this.loadAssignment(this.assignment_id)},_getPath:function(){return this.getPathFromBreadcrumb(this.assignmentRecord)},onLoadAssignmentSuccess:function(e){this.assignmentRecord=e,this.application.setTitle(this._getPath()),this.setBreadcrumb(this.assignmentRecord),this.getHeader().update({heading:e.get("long_name")}),this._setDangerousActionsLabels(),this.application.fireEvent("assignmentSuccessfullyLoaded",e),0===this.assignmentRecord.get("number_of_groups")?this._handleNoGroups():(this._updateLinkList(!0),this._updateExaminerBox(),this._updateBetaFeaturesBox()),this.getAdminsbox().setBasenodeRecord(this.assignmentRecord)},onLoadAssignmentFailure:function(e){this.onLoadFailure(e)},_isElectronic:function(){return 0===this.assignmentRecord.get("delivery_types")},_updateLinkList:function(e){this.getLinkList().update({managestudents_url:devilry_subjectadmin.utils.UrlLookup.manageStudents(this.assignment_id),managedeadlines_url:devilry_subjectadmin.utils.UrlLookup.bulkManageDeadlines(this.assignment_id),passedpreviousperiod_url:devilry_subjectadmin.utils.UrlLookup.passedPreviousPeriod(this.assignment_id),examinerstats_url:devilry_subjectadmin.utils.UrlLookup.assignmentExaminerStats(this.assignment_id),assignmentData:this.assignmentRecord.data,electronic:this._isElectronic(),has_students:e})},_updateExaminerBox:function(){this.getExaminerRoleBox().updateData({loading:!1,is_published:this.assignmentRecord.get("is_published"),mygroupscount:this.assignmentRecord.get("number_of_groups_where_is_examiner"),totalgroups:this.assignmentRecord.get("number_of_groups"),examinerui_url:devilry_subjectadmin.utils.UrlLookup.examinerGroupsOverviewTodo(this.assignmentRecord.get("id"))})},_updateBetaFeaturesBox:function(){this.getBetaFeaturesBox().update({loading:!1,detektor_assemblyview_url:devilry_subjectadmin.utils.UrlLookup.detektorAdminAssemblyView(this.assignmentRecord.get("id"))})},_setDangerousActionsLabels:function(){var e=this._getPath();if(this.assignmentRecord.get("can_delete")){var t=Ext.create("Ext.XTemplate",gettext("Delete {something}")).apply({something:e});this.getDeleteButton().setTitleText(t),this.getDeleteButton().show()}var i=Ext.create("Ext.XTemplate",gettext("Rename {something}")).apply({something:e});this.getRenameButton().setTitleText(i)},_onRename:function(){window.location.href=devilry_subjectadmin.utils.UrlLookup.updateAssignment(this.assignment_id)},_onDelete:function(){var e=this._getPath();devilry_subjectadmin.view.DeleteDjangoRestframeworkRecordDialog.showIfCanDelete({basenodeRecord:this.assignmentRecord,short_description:e,listeners:{scope:this,deleteSuccess:function(){this.application.onAfterDelete(e)}}})},_handleNoGroups:function(){this.getNoGroupsMessage().show(),this.getExaminerRoleBox().hide(),this._updateLinkList(!1)}})},/*!****************************************************!*\
  !*** ./app/controller/assignment/EditAnonymous.js ***!
  \****************************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.assignment.EditAnonymous",{extend:"Ext.app.Controller",mixins:{handleProxyError:"devilry_subjectadmin.utils.DjangoRestframeworkProxyErrorMixin"},requires:["devilry_subjectadmin.utils.UrlLookup"],views:["assignment.EditAnonymousPanel","assignment.EditAnonymousWidget"],controllers:["assignment.Overview"],models:["Assignment"],refs:[{ref:"cardContainer",selector:"editanonymous-widget"},{ref:"readOnlyView",selector:"editanonymous-widget #readAnonymous"},{ref:"readOnlyViewBody",selector:"editanonymous-widget #readAnonymous markupmoreinfobox"},{ref:"editAnonymous",selector:"editanonymous-widget editanonymouspanel"},{ref:"anonymousField",selector:"editanonymous-widget editanonymouspanel checkbox"},{ref:"formPanel",selector:"editanonymous-widget editanonymouspanel form"},{ref:"alertMessageList",selector:"editanonymous-widget editanonymouspanel alertmessagelist"}],init:function(){this.application.addListener({scope:this,assignmentSuccessfullyLoaded:this._onLoadAssignment}),this.control({"editanonymous-widget #readAnonymous":{edit:this._onEdit},"editanonymous-widget editanonymouspanel form checkbox":{render:this._onRenderForm},"editanonymous-widget editanonymouspanel #okbutton":{click:this._onSave},"editanonymous-widget editanonymouspanel #cancelbutton":{click:this._onCancel}})},_onLoadAssignment:function(e){this.assignmentRecord=e,this.getReadOnlyView().enable(),this._updateAnonymousWidget()},_showReadView:function(){this.getCardContainer().getLayout().setActiveItem("readAnonymous")},_updateAnonymousWidget:function(){var e=this.assignmentRecord.get("anonymous");this.getReadOnlyViewBody().update({anonymous:e})},_onEdit:function(){this._showEditView()},_showEditView:function(){window.location.href=devilry_subjectadmin.utils.UrlLookup.updateAssignment(this.assignmentRecord.get("id"))},_onRenderForm:function(){this.getFormPanel().keyNav=Ext.create("Ext.util.KeyNav",this.getFormPanel().el,{enter:this._onSave,scope:this})},_onCancel:function(){this._showReadView()},_onSave:function(){this.getAlertMessageList().removeAll();var e=this.getFormPanel().getForm(),t=this.assignmentRecord;e.updateRecord(t),this._getMaskElement().mask(gettext("Saving")+" ..."),this.getAssignmentModel().proxy.addListener({scope:this,exception:this._onProxyError}),t.save({scope:this,success:this._onSaveSuccess,callback:function(e,t){this.getAssignmentModel().proxy.removeListener({scope:this,exception:this._onProxyError}),t.success&&this._onSaveSuccess()}})},_getMaskElement:function(){return this.getFormPanel().getEl()},_onSaveSuccess:function(){this._getMaskElement().unmask(),this._showReadView(),this._updateAnonymousWidget()},_onProxyError:function(e,t,i){this._getMaskElement().unmask(),this.getAlertMessageList().removeAll(),this.handleProxyError(this.getAlertMessageList(),this.getFormPanel(),t,i)}})},/*!***********************************************************!*\
  !*** ./app/controller/assignment/EditDeadlineHandling.js ***!
  \***********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.assignment.EditDeadlineHandling",{extend:"Ext.app.Controller",mixins:{handleProxyError:"devilry_subjectadmin.utils.DjangoRestframeworkProxyErrorMixin"},requires:["devilry_subjectadmin.utils.UrlLookup"],views:["assignment.EditDeadlineHandlingPanel","assignment.EditDeadlineHandlingWidget"],controllers:["assignment.Overview"],models:["Assignment"],refs:[{ref:"cardContainer",selector:"editdeadline_handling-widget"},{ref:"readOnlyView",selector:"editdeadline_handling-widget #readDeadlineHandling"},{ref:"readOnlyViewBody",selector:"editdeadline_handling-widget #readDeadlineHandling markupmoreinfobox"},{ref:"editDeadlineHandling",selector:"editdeadline_handling-widget editdeadline_handlingpanel"},{ref:"deadlineHandlingField",selector:"editdeadline_handling-widget editdeadline_handlingpanel checkbox"},{ref:"formPanel",selector:"editdeadline_handling-widget editdeadline_handlingpanel form"},{ref:"alertMessageList",selector:"editdeadline_handling-widget editdeadline_handlingpanel alertmessagelist"}],init:function(){this.application.addListener({scope:this,assignmentSuccessfullyLoaded:this._onLoadAssignment}),this.control({"editdeadline_handling-widget #readDeadlineHandling":{edit:this._onEdit},"editdeadline_handling-widget editdeadline_handlingpanel form checkbox":{render:this._onRenderForm},"editdeadline_handling-widget editdeadline_handlingpanel #okbutton":{click:this._onSave},"editdeadline_handling-widget editdeadline_handlingpanel #cancelbutton":{click:this._onCancel}})},_onLoadAssignment:function(e){this.assignmentRecord=e,this.getReadOnlyView().enable(),this._updateDeadlineHandlingWidget()},_showReadView:function(){this.getCardContainer().getLayout().setActiveItem("readDeadlineHandling")},_updateDeadlineHandlingWidget:function(){var e=this.assignmentRecord.get("deadline_handling"),t=0,i=1;this.getReadOnlyViewBody().update({deadline_handling:e,SOFT:t,HARD:i})},_onEdit:function(){this._showEditView()},_showEditView:function(){window.location.href=devilry_subjectadmin.utils.UrlLookup.updateAssignment(this.assignmentRecord.get("id"))},_onRenderForm:function(){this.getFormPanel().keyNav=Ext.create("Ext.util.KeyNav",this.getFormPanel().el,{enter:this._onSave,scope:this})},_onCancel:function(){this._showReadView()},_onSave:function(){this.getAlertMessageList().removeAll();var e=this.getFormPanel().getForm(),t=this.assignmentRecord,i=e.getValues().deadline_handling;t.set("deadline_handling",i),this._getMaskElement().mask(gettext("Saving")+" ..."),this.getAssignmentModel().proxy.addListener({scope:this,exception:this._onProxyError}),t.save({scope:this,success:this._onSaveSuccess,callback:function(e,t){this.getAssignmentModel().proxy.removeListener({scope:this,exception:this._onProxyError}),t.success&&this._onSaveSuccess()}})},_getMaskElement:function(){return this.getFormPanel().getEl()},_onSaveSuccess:function(){this._getMaskElement().unmask(),this._showReadView(),this._updateDeadlineHandlingWidget()},_onProxyError:function(e,t,i){this._getMaskElement().unmask(),this.getAlertMessageList().removeAll(),this.handleProxyError(this.getAlertMessageList(),this.getFormPanel(),t,i)}})},/*!******************************************************!*\
  !*** ./app/controller/assignment/EditGradeEditor.js ***!
  \******************************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.assignment.EditGradeEditor",{extend:"Ext.app.Controller",requires:["devilry_subjectadmin.utils.UrlLookup","Ext.window.MessageBox"],views:["assignment.GradeEditorSelectWidget"],refs:[{ref:"gradeEditorSelectWidget",selector:"gradeeditorselect-widget"},{ref:"readOnlyViewBody",selector:"gradeeditorselect-widget markupmoreinfobox"}],init:function(){this.application.addListener({scope:this,assignmentSuccessfullyLoaded:this._onLoadAssignment}),this.control({"gradeeditorselect-widget":{edit:this._onEdit}})},_onLoadAssignment:function(e){this.assignmentRecord=e,this.getGradeEditorSelectWidget().enable(),this._updateWidget()},_onEdit:function(){window.location.href=devilry_subjectadmin.utils.UrlLookup.editGradeEditor(this.assignmentRecord.get("id"))},_isMissingGradeEditorConfig:function(){return this._isConfigurable()&&!this.gradeEditorConfigRecord.hasConfig()},_updateWidget:function(){var e=devilry_subjectadmin.utils.UrlLookup.editGradeEditor(this.assignmentRecord.get("id"));this.getGradeEditorSelectWidget().updateTitle(gettext("Grading system"),e),this.getReadOnlyViewBody().update({title:this.assignmentRecord.get("gradingsystemplugin_title"),has_valid_grading_setup:this.assignmentRecord.get("has_valid_grading_setup")})}})},/*!*********************************************************!*\
  !*** ./app/controller/assignment/EditPublishingTime.js ***!
  \*********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.assignment.EditPublishingTime",{extend:"Ext.app.Controller",mixins:{handleProxyError:"devilry_subjectadmin.utils.DjangoRestframeworkProxyErrorMixin"},requires:["devilry_subjectadmin.utils.UrlLookup"],views:["assignment.EditPublishingTimePanel","assignment.EditPublishingTimeWidget"],requires:["Ext.util.KeyNav","devilry_extjsextras.DatetimeHelpers"],models:["Assignment"],controllers:["assignment.Overview"],refs:[{ref:"cardContainer",selector:"editpublishingtime-widget"},{ref:"readOnlyView",selector:"editpublishingtime-widget containerwithedittitle#readPublishingTime"},{ref:"readOnlyViewBody",selector:"editpublishingtime-widget markupmoreinfobox"},{ref:"editPublishingTime",selector:"editpublishingtime-widget editpublishingtimepanel"},{ref:"publishingTimeField",selector:"editpublishingtime-widget editpublishingtimepanel devilry_extjsextras-datetimefield"},{ref:"formPanel",selector:"editpublishingtime-widget editpublishingtimepanel form"},{ref:"alertMessageList",selector:"editpublishingtime-widget editpublishingtimepanel alertmessagelist"}],init:function(){this.application.addListener({scope:this,assignmentSuccessfullyLoaded:this._onLoadAssignment}),this.control({"editpublishingtime-widget #readPublishingTime":{edit:this._onEdit},"editpublishingtime-widget editpublishingtimepanel form devilry_extjsextras-datetimefield":{allRendered:this._onRenderForm},"editpublishingtime-widget editpublishingtimepanel #okbutton":{click:this._onSave},"editpublishingtime-widget editpublishingtimepanel #cancelbutton":{click:this._onCancel}})},_onLoadAssignment:function(e){this.assignmentRecord=e,this.getReadOnlyView().enable(),this._updatePublishingTimeWidget()},_showReadView:function(){this.getCardContainer().getLayout().setActiveItem("readPublishingTime")},_updatePublishingTimeWidget:function(){var e=this.assignmentRecord.formatPublishOffsetFromNow(),t=this.assignmentRecord.get("is_published");this.getReadOnlyView().updateTitle(gettext("Publishing time")),this.getReadOnlyViewBody().update({publishing_time:this.assignmentRecord.formatPublishingTime(),offset_from_now:e,is_published:t})},_onEdit:function(){this._showEditView()},_showEditView:function(){window.location.href=devilry_subjectadmin.utils.UrlLookup.updateAssignment(this.assignmentRecord.get("id"))},_onRenderForm:function(){this.getFormPanel().keyNav=Ext.create("Ext.util.KeyNav",this.getFormPanel().el,{enter:this._onSave,scope:this})},_onSave:function(){var e=this.getFormPanel().getForm(),t=this.assignmentRecord;e.updateRecord(t),this._getMaskElement().mask(gettext("Saving")+" ..."),this.getAssignmentModel().proxy.addListener({scope:this,exception:this._onProxyError}),t.save({scope:this,callback:function(e,t){this.getAssignmentModel().proxy.removeListener({scope:this,exception:this._onProxyError}),t.success&&this._onSaveSuccess()}})},_onCancel:function(){this._showReadView()},_getMaskElement:function(){return this.getFormPanel().getEl()},_onSaveSuccess:function(){this._getMaskElement().unmask(),this._showReadView(),this._updatePublishingTimeWidget()},_onProxyError:function(e,t,i){this._getMaskElement().unmask(),this.getAlertMessageList().removeAll(),this.handleProxyError(this.getAlertMessageList(),this.getFormPanel(),t,i)}})},/*!***************************************!*\
  !*** ./app/controller/guides/Base.js ***!
  \***************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.guides.Base",{extend:"Ext.app.Controller",init:function(){this.application.addListener({scope:this,beforeroute:this._onBeforeRoute})},_onBeforeRoute:function(){Ext.isEmpty(this.guideSystem)||this.guideSystem.setLoading()},onRender:function(){this.guideSystem=this.getGuideView().guideSystem,this.guideSystem.setTitle(this.title),Ext.defer(function(){this.onFirstStep()},100,this)},onFirstStep:function(){throw"onFirstStep must be implemented in subclasses"},isActive:function(){var e=this.getGuideView(),t=!Ext.isEmpty(e)&&e.isVisible();return t},ifActiveInterceptor:function(e){return Ext.Function.createInterceptor(e,this.isActive)},setStep:function(e,t){this.getGuideView().getLayout().setActiveItem(e),this.guideSystem.setProgress(t,this.steps)}})},/*!******************************************************!*\
  !*** ./app/controller/guides/CreateNewAssignment.js ***!
  \******************************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.guides.CreateNewAssignment",{extend:"devilry_subjectadmin.controller.guides.Base",views:["guides.CreateNewAssignment"],steps:4,title:gettext("Create new assignment"),refs:[{ref:"guideView",selector:"viewport guide-createnewassignment"},{ref:"createNewAssignmentBox",selector:"viewport periodoverview #createNewAssignmentBox"}],init:function(){this.callParent(arguments),this.control({"viewport guide-createnewassignment":{render:this.onRender},"viewport dashboard allactivewhereisadminlist":{render:this.ifActiveInterceptor(this.onFirstStep)},"viewport periodoverview #createNewAssignmentBox":{render:this.ifActiveInterceptor(this._onPeriodRender)},"viewport createnewassignment #pageOne":{render:this.ifActiveInterceptor(this._onCreateNewAssignmentPageOne),show:this.ifActiveInterceptor(this._onCreateNewAssignmentPageOne)},"viewport createnewassignment #pageTwo":{show:this.ifActiveInterceptor(this._onCreateNewAssignmentPageTwo)},"viewport createnewassignment #createButton":{click:this.ifActiveInterceptor(this._onCreateAssignmentClick)}})},onFirstStep:function(){this.getGuideView().getLayout().setActiveItem("dashboard"),this.setStep("dashboard",1)},_onPeriodRender:function(){this.setStep("period",2);var e=this.getCreateNewAssignmentBox().getEl().down("a");Ext.defer(function(){this.guideSystem.pointAt(e)},500,this)},_onCreateNewAssignmentPageOne:function(){this.setStep("createnewassignment1",3)},_onCreateNewAssignmentPageTwo:function(){this.setStep("createnewassignment2",4)},_onCreateAssignmentClick:function(){this.guideSystem.endGuide()}})},/*!*********************************************************!*\
  !*** ./app/controller/guides/QualifiedForFinalExams.js ***!
  \*********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.guides.QualifiedForFinalExams",{extend:"devilry_subjectadmin.controller.guides.Base",views:["guides.QualifiedForFinalExams"],steps:2,title:gettext("Qualified for final exams"),refs:[{ref:"guideView",selector:"viewport guide-qualifiedforfinalexams"}],init:function(){this.callParent(arguments),this.control({"viewport guide-qualifiedforfinalexams":{render:this.onRender},"viewport dashboard allactivewhereisadminlist":{render:this.ifActiveInterceptor(this.onFirstStep)},"viewport periodoverview":{render:this.ifActiveInterceptor(this._onPeriodRender)}})},onFirstStep:function(){this.getGuideView().getLayout().setActiveItem("dashboard"),this.setStep("dashboard",1)},_onPeriodRender:function(){this.setStep("period",2)}})},/*!*******************************************************************!*\
  !*** ./app/controller/managestudents/ManageStudentsController.js ***!
  \*******************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.managestudents.ManageStudentsController",{extend:"Ext.app.Controller",mixins:{loadAssignment:"devilry_subjectadmin.utils.LoadAssignmentMixin",setBreadcrumb:"devilry_subjectadmin.utils.BasenodeBreadcrumbMixin"},requires:["devilry_extjsextras.DjangoRestframeworkProxyErrorHandler","devilry_extjsextras.HtmlErrorDialog","devilry_extjsextras.ConfirmDeleteDialog","Ext.util.DelayedTask"],views:["managestudents.ManageStudentsOverview","managestudents.ListOfGroups"],listofgroups_size_cookiename:"devilry_subjectadmin.managestudents.ListOfGroups.width",stores:["RelatedStudentsRo","RelatedExaminersRo","SearchForGroups","Groups"],models:["Assignment"],defaultGroupsSorter:"fullname",refs:[{ref:"overview",selector:"managestudentsoverview"},{ref:"viewport",selector:"viewport"},{ref:"listOfGroups",selector:"listofgroups"},{ref:"body",selector:"managestudentsoverview #body"}],init:function(){this.control({"viewport managestudentsoverview #addstudents":{click:this._onAddstudents},"viewport managestudentsoverview":{render:this._onRenderOverview},"viewport managestudentsoverview listofgroups":{selectionchange:this._onGroupSelectionChange,render:this._onRenderListOfGroups,resize:this._onListOfGroupsResize,boxready:this._onListOfGroupsBoxReady},"viewport managestudentsoverview sortgroupsbybutton":{afterSortBy:this._onAfterSortBy}})},getTotalGroupsCount:function(){return this.getGroupsStore().count()},_onAddstudents:function(){this.application.route.navigate(devilry_subjectadmin.utils.UrlLookup.manageStudentsAddStudents(this.assignmentRecord.get("id")))},_onRenderOverview:function(){this.assignment_id=this.getOverview().assignment_id,Ext.defer(function(){void 0===this.assignmentRecord&&this.getOverview().setLoading(gettext("Loading")+" ...")},100,this),this.setLoadingBreadcrumb(),this.loadAssignment(this.assignment_id)},_onRenderListOfGroups:function(){this.getGroupsStore().sortBySpecialSorter(this.getCurrentGroupsStoreSorter())},_onListOfGroupsResize:function(e,t,i,n,r){var o=this.getViewport().getWidth()-200;if(t>o)e.setWidth(o);else{var a=Ext.isEmpty(n);a||Ext.util.Cookies.set(this.listofgroups_size_cookiename,t)}},_onListOfGroupsBoxReady:function(e){var t=Ext.util.Cookies.get(this.listofgroups_size_cookiename);t&&e.setWidth(parseInt(t,10))},_onAfterSortBy:function(e){this.currentGroupsStoreSorter=e,this.application.fireEvent("managestudentsGroupSorterChanged",this.currentGroupsStoreSorter)},getCurrentGroupsStoreSorter:function(){return this.currentGroupsStoreSorter||this.defaultGroupsSorter},_selectGroupRecords:function(e,t){var i=this.getListOfGroups().getSelectionModel();i.select(e,t)},_selectByGroupIds:function(e){var t=this.getGroupsStore(),i=[];Ext.Array.each(e,function(e){var n=t.findExact("id",e);if(n!=-1){var r=t.getAt(n);i.push(r)}},this),this._selectGroupRecords(i)},_setSelectionUrl:function(e){var t=!Ext.isEmpty(this.getOverview().select_delivery_on_load);if(!t){var i=[];Ext.Array.each(e,function(e){i.push(e.get("id"))},this);var n=this.assignmentRecord.get("id"),r=devilry_subjectadmin.utils.UrlLookup.manageSpecificGroups(n,i);this.application.route.setHashWithoutEvent(r)}},_onGroupSelectionChange:function(e,t){Ext.isEmpty(this.selectiontask)||this.selectiontask.cancel(),this.selectiontask=new Ext.util.DelayedTask(function(){this._changeSelection(e,t)},this),this.selectiontask.delay(50)},_changeSelection:function(e,t){t.length>0?(this._deselectAborted=!0,this._setSelectionUrl(t),1===t.length?this._handleSingleGroupSelected(t[0]):this._handleMultipleGroupsSelected(t)):(this._setSelectionUrl([]),this._handleNoGroupsSelected())},_handleNoGroupsSelected:function(){this.application.fireEvent("managestudentsNoGroupSelected",this)},_handleSingleGroupSelected:function(e){this.application.fireEvent("managestudentsSingleGroupSelected",this,e)},_handleMultipleGroupsSelected:function(e){this.application.fireEvent("managestudentsMultipleGroupsSelected",this,e)},setBodyCard:function(e){this.getBody().getLayout().setActiveItem(e)},_selectUrlIds:function(){var e=this.getOverview().select_groupids_on_load;if(!e)return void this._handleNoGroupsSelected();var t=[];Ext.Array.each(e.split(","),function(e){var i=parseInt(e,10);t.push(i)},this),this._selectByGroupIds(t)},_handleLoadError:function(e,t){var i=Ext.create("devilry_extjsextras.DjangoRestframeworkProxyErrorHandler");i.addErrors(null,e);var n=i.asHtmlList();Ext.widget("htmlerrordialog",{title:t,bodyHtml:n}).show()},onLoadAssignmentSuccess:function(e){this.assignmentRecord=e;this.assignmentRecord.get("parentnode");this.getRelatedExaminersRoStore().setAssignment(this.assignmentRecord.get("id")),this.getRelatedStudentsRoStore().setAssignment(this.assignmentRecord.get("id")),this.getSearchForGroupsStore().setAssignment(this.assignmentRecord.get("id")),this.getOverview().setLoading(!1),this._loadGroupsStore(),this.getRelatedExaminersRoStore().load()},onLoadAssignmentFailure:function(e){this.getOverview().setLoading(!1),this._handleLoadError(e,gettext("Failed to load assignment"))},_loadGroupsStore:function(e){this.getOverview().setLoading(gettext("Loading")+" ..."),this.getGroupsStore().loadGroupsInAssignment(this.assignmentRecord.get("id"),{scope:this,callback:function(t,i){this.getOverview().setLoading(!1),i.success?this._onLoadGroupsStoreSuccess(e):this._handleLoadError(i,gettext("Failed to load groups"))}})},_onLoadGroupsStoreSuccess:function(e){this.getOverview().setLoading(!1),this.getOverview().addClass("devilry_subjectadmin_all_items_loaded"),this.application.fireEvent("managestudentsSuccessfullyLoaded",this),this._setBreadcrumbAndTitle(),e?this._selectByGroupIds(e):this._selectUrlIds()},_setBreadcrumbAndTitle:function(){var e=gettext("Students");this.setSubviewBreadcrumb(this.assignmentRecord,"Assignment",[],e);var t=this.getPathFromBreadcrumb(this.assignmentRecord);this.application.setTitle(Ext.String.format("{0}.{1}",t,e))},_maskListOfGroups:function(e){e=e||gettext("Saving")+" ...",this.getListOfGroups().setLoading(e)},_unmaskListOfGroups:function(){this.getListOfGroups().setLoading(!1)},notifyMultipleGroupsChange:function(e,t){this._notifyGroupsChange(e,!1,t)},notifySingleGroupChange:function(e){this._notifyGroupsChange(e)},removeGroups:function(e){var t=devilry_subjectadmin.model.Group.formatIdentsAsStringList(e);Ext.create("devilry_extjsextras.ConfirmDeleteDialog",{short_description:Ext.String.ellipsis(t,100),width:450,height:330,listeners:{scope:this,deleteConfirmed:function(t){t.close(),this._removeGroups(e)}}}).show()},_removeGroups:function(e){this.getGroupsStore().suspendEvents(),this.getGroupsStore().remove(e),this.getGroupsStore().resumeEvents(),this._notifyGroupsChange({scope:this,success:function(){var t=devilry_subjectadmin.model.Group.formatIdentsAsStringList(e);this.application.getAlertmessagelist().add({message:Ext.String.format(gettext("Removed: {0}."),t),type:"success",autoclose:!0}),this.reloadGroups([])}},!0)},_notifyGroupsChange:function(e,t,i){this._maskListOfGroups(),Ext.isEmpty(i)&&(i={}),this.getGroupsStore().setApiOptions(i),this.getGroupsStore().sync({scope:this,success:function(t,i){this._onSyncSuccess(t,i,e)},failure:function(e,i){this._onSyncFailure(e,i,t)}})},_onSyncSuccess:function(e,t,i){this._unmaskListOfGroups();var n=[],r=e.operations;Ext.Array.each(r,function(e){"update"!=e.action&&"create"!=e.action||Ext.Array.each(e.records,function(e){n.push(e)},this)},this),this._selectGroupRecords(n),i&&Ext.callback(i.success,i.scope)},_onSyncFailure:function(e,t,i){this._unmaskListOfGroups();var n=Ext.create("devilry_extjsextras.DjangoRestframeworkProxyErrorHandler");n.addBatchErrors(e);var r=n.asArrayOfStrings();this.application.getAlertmessagelist().addMany(r,"error"),i&&this.reloadGroups([])},reloadGroups:function(e){this._loadGroupsStore(e)}})},/*!***************************************************************************!*\
  !*** ./app/controller/managestudents/MultipleGroupsSelectedViewPlugin.js ***!
  \***************************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.managestudents.MultipleGroupsSelectedViewPlugin",{extend:"Ext.app.Controller",mixins:["devilry_subjectadmin.utils.DjangoRestframeworkProxyErrorMixin"],views:["managestudents.MultipleGroupsSelectedView","managestudents.SelectedGroupsSummaryGrid"],requires:["devilry_extjsextras.AlertMessage","devilry_extjsextras.EvenRandomSelection","devilry_subjectadmin.utils.managestudents.MergeDataIntoGroup","Ext.tip.ToolTip","Ext.util.KeyNav"],stores:["SelectedGroups"],models:["MergeIntoGroup"],random_distribute_result_tpl:["<h3>",gettext("Examiners random distributed successfully"),"</h3>","<dl>",'<tpl for="resultsByExaminer">',"<dt>{examiner}</dt>","<dd>","{groupRecords.length}","</dd>","</tpl>","</dl>"],group_summarygrid_size_cookiename:"devilry_subjectadmin.managestudents.MultipleGroupsSelectedViewPlugin.groupsummary.height",group_summarygrid_collapse_cookiename:"devilry_subjectadmin.managestudents.MultipleGroupsSelectedViewPlugin.groupsummary.collapse",refs:[{ref:"scrollableBodyContainer",selector:"multiplegroupsview #scrollableBodyContainer"},{ref:"viewport",selector:"viewport"},{ref:"manageExaminers",selector:"viewport multiplegroupsview manageexaminersonmultiple"},{ref:"manageExaminersCardBody",selector:"viewport multiplegroupsview manageexaminersonmultiple #cardBody"},{ref:"setExaminersGrid",selector:"viewport multiplegroupsview manageexaminersonmultiple #setExaminersPanel selectexaminersgrid"},{ref:"randomDistributeExaminersGrid",selector:"viewport multiplegroupsview manageexaminersonmultiple #randomDistributeExaminersPanel selectexaminersgrid"},{ref:"addExaminersGrid",selector:"viewport multiplegroupsview manageexaminersonmultiple #addExaminersPanel selectexaminersgrid"},{ref:"manageTags",selector:"viewport multiplegroupsview managetagsonmultiple"},{ref:"manageTagsCardBody",selector:"viewport multiplegroupsview managetagsonmultiple #manageTagsCardBody"},{ref:"mergeGroups",selector:"multiplegroupsview mergegroups"},{ref:"confirmMergeGroupsContainer",selector:"multiplegroupsview #confirmMergeGroupsContainer"},{ref:"mergeGroupsHelp",selector:"multiplegroupsview #mergeGroupsHelp"},{ref:"mergeGroupsButton",selector:"multiplegroupsview #mergeGroupsButton"},{ref:"mergeGroupsConfirmButton",selector:"multiplegroupsview #mergeGroupsConfirmButton"}],init:function(){this.application.addListener({scope:this,managestudentsMultipleGroupsSelected:this._onMultipleGroupsSelected,managestudentsGroupSorterChanged:this._onGroupsSorterChanged}),this.control({"viewport multiplegroupsview selectedgroupssummarygrid":{resize:this._onGroupSummaryGridResize,collapse:this._onGroupSummaryGridCollapse,expand:this._onGroupSummaryGridExpand,boxready:this._onGroupsSummaryBoxReady},"viewport multiplegroupsview moreinfobox":{moreclick:this._onMoreClick,lessclick:this._onLessClick},"viewport multiplegroupsview manageexaminersonmultiple #setExaminersButton":{click:this._onSetExaminers},"viewport multiplegroupsview manageexaminersonmultiple okcancelpanel#setExaminersPanel":{cancel:this._showExaminersDefaultView,ok:this._onSetExaminersConfirmed},"viewport multiplegroupsview manageexaminersonmultiple #randomDistributeExaminersButton":{click:this._onRandomDistributeExaminers},"viewport multiplegroupsview manageexaminersonmultiple okcancelpanel#randomDistributeExaminersPanel":{cancel:this._showExaminersDefaultView,ok:this._onRandomDistributeExaminersConfirmed},"viewport multiplegroupsview manageexaminersonmultiple #addExaminersButton":{click:this._onAddExaminers},"viewport multiplegroupsview manageexaminersonmultiple okcancelpanel#addExaminersPanel":{cancel:this._showExaminersDefaultView,ok:this._onAddExaminersConfirmed},"viewport multiplegroupsview manageexaminersonmultiple #clearExaminersButton":{click:this._onClearExaminers},"viewport multiplegroupsview manageexaminersonmultiple okcancelpanel#clearExaminersPanel":{cancel:this._showExaminersDefaultView,ok:this._onClearExaminersConfirmed},"viewport multiplegroupsview #setTagsButton":{click:this._onSetTags},"viewport multiplegroupsview choosetagspanel#setTagsPanel":{cancel:this._showTagsDefaultView,savetags:this._onSetTagsSave},"viewport multiplegroupsview #addTagsButton":{click:this._onAddTags},"viewport multiplegroupsview choosetagspanel#addTagsPanel":{cancel:this._showTagsDefaultView,savetags:this._onAddTagsSave},"viewport multiplegroupsview #clearTagsButton":{click:this._onClearTags},"viewport multiplegroupsview okcancelpanel#clearTagsPanel":{cancel:this._showTagsDefaultView,ok:this._onClearTagsConfirmed},"viewport multiplegroupsview #mergeGroupsButton":{click:this._onMergeGroupsButton},"viewport multiplegroupsview #mergeGroupsCancelButton":{click:this._onMergeGroupsCancel},"viewport multiplegroupsview #mergeGroupsConfirmButton":{click:this._onMergeGroupsConfirm},"viewport multiplegroupsview #multiDeleteButton":{click:this._onDelete}}),this.mon(this.getMergeIntoGroupModel().proxy,{scope:this,exception:this._onMergeIntoGroupProxyError})},_onGroupsSorterChanged:function(e){var t=this.getSelectedGroupsStore();t.sortBySpecialSorter(e)},_onMultipleGroupsSelected:function(e,t){this._fadeOut(this.getScrollableBodyContainer()),this._closeAllEditors(),this.groupRecords=t,this.manageStudentsController=e,this._setPeriodIdOnExaminerManager(),this.manageStudentsController.setBodyCard("multiplegroupsSelected"),this._populateSelectedGroupsStore(),this._fadeIn(this.getScrollableBodyContainer())},_fadeOut:function(e){e.getEl().setOpacity(.2)},_fadeIn:function(e){e.getEl().animate({duration:400,from:{opacity:.1},to:{opacity:1}})},_setPeriodIdOnExaminerManager:function(){this.getManageExaminers().setPeriodId(this.manageStudentsController.assignmentRecord.get("parentnode"))},_closeAllEditors:function(){this._showExaminersDefaultView(),this._showMergeGroupsDefaultView(),this._showTagsDefaultView()},_populateSelectedGroupsStore:function(){var e=this.getSelectedGroupsStore();e.removeAll(),e.loadData(this.groupRecords),e.sortBySpecialSorter(this.manageStudentsController.getCurrentGroupsStoreSorter())},_scrollIntroView:function(e){e.getEl().scrollIntoView(this.getScrollableBodyContainer().getEl(),!1,!0)},_onMoreClick:function(e){this._scrollIntroView(e)},_onLessClick:function(e){this._scrollIntroView(e)},_onGroupSummaryGridResize:function(e,t,i,n,r){var o=this.getViewport().getHeight()-120;if(i>o)e.setHeight(o);else{var a=Ext.isEmpty(r);a||Ext.util.Cookies.set(this.group_summarygrid_size_cookiename,i)}},_onGroupSummaryGridCollapse:function(){Ext.util.Cookies.set(this.group_summarygrid_collapse_cookiename,"collapsed")},_onGroupSummaryGridExpand:function(){Ext.util.Cookies.set(this.group_summarygrid_collapse_cookiename,"expanded")},_onGroupsSummaryBoxReady:function(e){var t=Ext.util.Cookies.get(this.group_summarygrid_size_cookiename),i=Ext.util.Cookies.get(this.group_summarygrid_collapse_cookiename);"expanded"===i&&e.expand(),t&&e.setHeight(parseInt(t,10))},_scrollExaminersIntoView:function(){this._scrollIntroView(this.getManageExaminers())},_showExaminersDefaultView:function(){this.getManageExaminersCardBody().getLayout().setActiveItem("helpAndButtonsContainer")},_syncExaminers:function(e,t){for(var i=0;i<this.groupRecords.length;i++){var n=this.groupRecords[i],r=e.data.items;devilry_subjectadmin.utils.managestudents.MergeDataIntoGroup.mergeExaminers({groupRecord:n,userRecords:r,doNotDeleteUsers:t})}},_onSetExaminers:function(){this.getManageExaminersCardBody().getLayout().setActiveItem("setExaminersPanel"),this._scrollExaminersIntoView()},_onSetExaminersConfirmed:function(){var e=this.getSetExaminersGrid(),t=e.getSelectedAsUserStore();this._syncExaminers(t),this.manageStudentsController.notifyMultipleGroupsChange({scope:this,success:function(){}},{examinersOnly:!0})},_onRandomDistributeExaminers:function(){this.getManageExaminersCardBody().getLayout().setActiveItem("randomDistributeExaminersPanel"),this._scrollExaminersIntoView()},_syncExaminersRandomly:function(e){for(var t=Ext.create("devilry_extjsextras.EvenRandomSelection",{selection:e.data.items}),i={},n=0;n<this.groupRecords.length;n++){var r=this.groupRecords[n],o=t.getRandomItem();devilry_subjectadmin.utils.managestudents.MergeDataIntoGroup.mergeExaminers({groupRecord:r,userRecords:[o],doNotDeleteUsers:!1});var a=o.getDisplayName();Ext.isEmpty(i[a])&&(i[a]=[]),i[a].push(r)}return i},_onRandomDistributeExaminersConfirmed:function(){var e=this.getRandomDistributeExaminersGrid(),t=e.getSelectedAsUserStore(),i=this._syncExaminersRandomly(t);this.manageStudentsController.notifyMultipleGroupsChange({scope:this,success:function(){this._onRandomDistributeExaminersSuccess(i)}},{examinersOnly:!0})},_onRandomDistributeExaminersSuccess:function(e){var t=[];Ext.Object.each(e,function(e,i){t.push({examiner:e,groupRecords:i})},this);var i=Ext.create("Ext.XTemplate",this.random_distribute_result_tpl).apply({resultsByExaminer:t});this.application.getAlertmessagelist().add({type:"success",autoclose:!0,message:i})},_onAddExaminers:function(){this.getManageExaminersCardBody().getLayout().setActiveItem("addExaminersPanel"),this._scrollExaminersIntoView()},_onAddExaminersConfirmed:function(){var e=this.getAddExaminersGrid(),t=e.getSelectedAsUserStore();this._syncExaminers(t,!0),this.manageStudentsController.notifyMultipleGroupsChange({scope:this,success:function(){}},{examinersOnly:!0})},_onClearExaminers:function(){this.getManageExaminersCardBody().getLayout().setActiveItem("clearExaminersPanel"),this._scrollExaminersIntoView()},_onClearExaminersConfirmed:function(){Ext.Array.each(this.groupRecords,function(e){e.set("examiners",[])},this),this.manageStudentsController.notifyMultipleGroupsChange({},{examinersOnly:!0})},_scrollTagsIntoView:function(){this._scrollIntroView(this.getManageTags())},_syncTags:function(e,t){for(var i=0;i<this.groupRecords.length;i++){var n=this.groupRecords[i];devilry_subjectadmin.utils.managestudents.MergeDataIntoGroup.mergeTags({groupRecord:n,sourceTags:e,doNotDeleteTags:t})}},_onSetTags:function(){this.getManageTagsCardBody().getLayout().setActiveItem("setTagsPanel"),this._scrollTagsIntoView()},_onSetTagsSave:function(e,t){this._syncTags(t),this.manageStudentsController.notifyMultipleGroupsChange({scope:this,success:function(){}},{tagsOnly:!0})},_showTagsDefaultView:function(){this.getManageTagsCardBody().getLayout().setActiveItem("tagsHelpAndButtonsContainer")},_onAddTags:function(){this.getManageTagsCardBody().getLayout().setActiveItem("addTagsPanel"),this._scrollTagsIntoView()},_onAddTagsSave:function(e,t){this._syncTags(t,!0),this.manageStudentsController.notifyMultipleGroupsChange({scope:this,success:function(){}},{tagsOnly:!0})},_onClearTags:function(){this.getManageTagsCardBody().getLayout().setActiveItem("clearTagsPanel"),this._scrollTagsIntoView()},_onClearTagsConfirmed:function(){Ext.Array.each(this.groupRecords,function(e){e.set("tags",[])},{tagsOnly:!0},this),this.manageStudentsController.notifyMultipleGroupsChange()},_onMergeGroupsButton:function(e,t){this.getMergeGroupsHelp().hide(),this.getMergeGroupsButton().hide();var i=this.getConfirmMergeGroupsContainer();i.show(),this._scrollIntroView(i)},_showMergeGroupsDefaultView:function(){this.getConfirmMergeGroupsContainer().hide(),this.getMergeGroupsHelp().show(),this.getMergeGroupsButton().show()},_onMergeGroupsCancel:function(){this._showMergeGroupsDefaultView(),this._scrollIntroView(this.getMergeGroups())},_onMergeGroupsConfirm:function(){var e=this.manageStudentsController.assignmentRecord,t=Ext.create("devilry_subjectadmin.model.MergeIntoGroup");t.proxy.setUrl(e.get("id"));for(var i=this.groupRecords[0],n=[],r=1;r<this.groupRecords.length;r++){var o=this.groupRecords[r];n.push({id:o.get("id")})}t.set("source_group_ids",n),t.set("target_group_id",i.get("id")),t.save({scope:this,callback:function(e,t){t.success&&this._onMergeGroupsSuccess(e)}})},_onMergeIntoGroupProxyError:function(e,t,i){this.handleProxyUsingHtmlErrorDialog(t,i)},_onMergeGroupsSuccess:function(e){var t=e.get("target_group_id");this.manageStudentsController.reloadGroups([t])},_onDelete:function(){this.manageStudentsController.removeGroups(this.groupRecords)}})},/*!********************************************************************!*\
  !*** ./app/controller/managestudents/NoGroupSelectedViewPlugin.js ***!
  \********************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.managestudents.NoGroupSelectedViewPlugin",{extend:"Ext.app.Controller",views:["managestudents.NoGroupSelectedView"],requires:["devilry_extjsextras.AlertMessage"],init:function(){this.application.addListener({scope:this,managestudentsNoGroupSelected:this._onNoGroupSelected})},_onNoGroupSelected:function(e){this.manageStudentsController=e,this.manageStudentsController.setBodyCard("nogroupsSelected")}})},/*!*************************************************!*\
  !*** ./app/controller/managestudents/Select.js ***!
  \*************************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.managestudents.Select",{extend:"Ext.app.Controller",views:["managestudents.ListOfGroups"],requires:["Ext.util.KeyMap","Ext.util.MixedCollection","Ext.XTemplate"],stores:["Groups"],sharedData:Ext.define("sharedData",{singleton:!0,removeFromSelectionMode:!1}),refs:[{ref:"listOfGroups",selector:"listofgroups"}],init:function(){this.labelWithGroupCountTpl=new Ext.XTemplate(gettext("{label} (Matching groups: {groupcount})")),this.control({"viewport managestudentsoverview listofgroups":{render:this._onRenderListOfGroups},"viewport managestudentsoverview #selectall":{click:this._onSelectAll},"viewport managestudentsoverview #deselectall":{click:this._onDeselectAll},"viewport managestudentsoverview #invertselection":{click:this._onInvertselection},"viewport managestudentsoverview #selectStatusOpen":{click:this._onSelectStatusOpen},"viewport managestudentsoverview #selectStatusClosed":{click:this._onSelectStatusClosed},"viewport managestudentsoverview #selectGradeFailed":{click:this._onSelectGradeFailed},"viewport managestudentsoverview #selectGradePassed":{click:this._onSelectGradePassed},"viewport managestudentsoverview #selectNoFeedback":{click:this._onSelectNoFeedback},"viewport managestudentsoverview #selectHasFeedback":{click:this._onSelectHasFeedback},"viewport managestudentsoverview #specificGradeMenu":{show:this._onShowSpecificGradeMenu},"viewport managestudentsoverview #specificGradeMenu menuitem":{click:this._onSpecificGradeMenuItemClick},"viewport managestudentsoverview #specificPointsMenu":{show:this._onShowSpecificPointsMenu},"viewport managestudentsoverview #specificPointsMenu menuitem":{click:this._onSpecificPointsMenuItemClick},"viewport managestudentsoverview #selectHasDeliveries":{click:this._onSelectHasDeliveries},"viewport managestudentsoverview #selectNoDeliveries":{click:this._onSelectNoDeliveries},"viewport managestudentsoverview #specificNumDeliveriesMenu":{show:this._onShowSpecificNumDeliveriesMenu},"viewport managestudentsoverview #specificNumDeliveriesMenu menuitem":{click:this._onSpecificNumDeliveriesMenuItemClick},"viewport managestudentsoverview #selectHasExaminer":{click:this._onSelectHasExaminer},"viewport managestudentsoverview #selectNoExaminer":{click:this._onSelectNoExaminer},"viewport managestudentsoverview #specificExaminerMenu":{show:this._onShowSpecificExaminerMenu},"viewport managestudentsoverview #specificExaminerMenu menuitem":{click:this._onSpecificExaminerMenuItemClick},"viewport managestudentsoverview #selectHasTag":{click:this._onSelectHasTag},"viewport managestudentsoverview #selectNoTag":{click:this._onSelectNoTag},"viewport managestudentsoverview #specificTagMenu":{show:this._onShowSpecificTagMenu},"viewport managestudentsoverview #specificTagMenu menuitem":{click:this._onSpecificTagMenuItemClick}})},_onRenderListOfGroups:function(){new Ext.util.KeyMap(this.getListOfGroups().getEl(),{key:"a",ctrl:!0,fn:this._onSelectAll,scope:this})},_intCompare:function(e,t){return e<t?-1:e>t?1:0},_onSelectAll:function(){this.getListOfGroups().getSelectionModel().selectAll()},_onDeselectAll:function(){this.getListOfGroups().getSelectionModel().deselectAll()},_onInvertselection:function(){var e=this.getListOfGroups().getSelectionModel(),t=Ext.clone(e.selected.items);this.getListOfGroups().on({selectionchange:function(){this._deselectGroupRecords(t)},scope:this,single:!0}),this.getListOfGroups().getSelectionModel().selectAll()},_isInAddToSelectionMenu:function(e){return e.up("#removeFromSelectionMenu")&&(sharedData.removeFromSelectionMode=!0),void 0===e.up("#replaceSelectionMenu")&&void 0===e.up("#removeFromSelectionMenu")},_onSelectStatusOpen:function(e){this._selectBy(function(e){return e.get("is_open")===!0},this,this._isInAddToSelectionMenu(e))},_onSelectStatusClosed:function(e){this._selectBy(function(e){return e.get("is_open")===!1},this,this._isInAddToSelectionMenu(e))},_onSelectGradeFailed:function(e){this._selectBy(function(e){var t=e.get("feedback");return t&&!t.is_passing_grade},this,this._isInAddToSelectionMenu(e))},_onSelectGradePassed:function(e){this._selectBy(function(e){var t=e.get("feedback");return t&&t.is_passing_grade},this,this._isInAddToSelectionMenu(e))},_onSelectHasFeedback:function(e){this._selectBy(function(e){var t=e.get("feedback");return null!==t},this,this._isInAddToSelectionMenu(e))},_onSelectNoFeedback:function(e){this._selectBy(function(e){var t=e.get("feedback");return null===t},this,this._isInAddToSelectionMenu(e))},_onShowSpecificGradeMenu:function(e){var t=new Ext.util.MixedCollection;this.getGroupsStore().each(function(e){var i=e.get("feedback");if(i){var n=i.grade;t.containsKey(n)?t.get(n).count++:t.add(n,{grade:n,points:i.points,count:1})}},this);var i=this;t.sortBy(function(e,t){return i._intCompare(e.points,t.points)});var n=[];t.each(function(e){n.push({feedback_grade:e.grade,text:e.grade})},this),e.setItems(n)},_onSpecificGradeMenuItemClick:function(e){var t=e.feedback_grade;this._selectBy(function(e){var i=e.get("feedback");return i&&i.grade==t},this,this._isInAddToSelectionMenu(e))},_onShowSpecificPointsMenu:function(e){var t=new Ext.util.MixedCollection;this.getGroupsStore().each(function(e){var i=e.get("feedback");if(i){var n=i.points;t.containsKey(n)?t.get(n).count++:t.add(n,{points:n,count:1})}},this);var i=this;t.sortBy(function(e,t){return i._intCompare(e.points,t.points)});var n=[];t.each(function(e){n.push({feedback_points:e.points,text:e.points})},this),e.setItems(n)},_onSpecificPointsMenuItemClick:function(e){var t=e.feedback_points;this._selectBy(function(e){var i=e.get("feedback");return i&&i.points==t},this,this._isInAddToSelectionMenu(e))},_onSelectHasDeliveries:function(e){this._selectBy(function(e){return e.get("num_deliveries")>0},this,this._isInAddToSelectionMenu(e))},_onSelectNoDeliveries:function(e){this._selectBy(function(e){return 0===e.get("num_deliveries")},this,this._isInAddToSelectionMenu(e))},_onShowSpecificNumDeliveriesMenu:function(e){var t={};this.getGroupsStore().each(function(e){var i=e.get("num_deliveries");t[i]=!0},this);var i=Ext.Object.getKeys(t);i=Ext.Array.sort(i);var n=[];Ext.Array.each(i,function(e){n.push({num_deliveries:e,text:Ext.String.format("{0}",e)})},this),e.setItems(n)},_onSpecificNumDeliveriesMenuItemClick:function(e){var t=e.num_deliveries;this._selectBy(function(e){return e.get("num_deliveries")==t},this,this._isInAddToSelectionMenu(e))},_onSelectHasExaminer:function(e){this._selectBy(function(e){return e.get("examiners").length>0},this,this._isInAddToSelectionMenu(e))},_onSelectNoExaminer:function(e){this._selectBy(function(e){return 0===e.get("examiners").length},this,this._isInAddToSelectionMenu(e))},_onShowSpecificExaminerMenu:function(e){var t=new Ext.util.MixedCollection;this.getGroupsStore().each(function(e){for(var i=e.get("examiners"),n=0;n<i.length;n++){var r=i[n],o=r.user.id;if(t.containsKey(o))t.get(o).count++;else{var a=r.user.full_name||r.user.username||Ext.String.format("User ID: ",r.user.id);t.add(o,{user:r.user,name:a,count:1})}}},this),t.sortBy(function(e,t){return e.name.localeCompare(t.name)});var i=[];t.each(function(e){i.push({examinerUserId:e.user.id,text:this.labelWithGroupCountTpl.apply({label:e.name,groupcount:e.count})})},this),e.setItems(i)},_onSpecificExaminerMenuItemClick:function(e){var t=e.examinerUserId;this._selectBy(function(e){return e.hasExaminer(t)},this,this._isInAddToSelectionMenu(e))},_onSelectHasTag:function(e){this._selectBy(function(e){return e.get("tags").length>0},this,this._isInAddToSelectionMenu(e))},_onSelectNoTag:function(e){this._selectBy(function(e){return 0===e.get("tags").length},this,this._isInAddToSelectionMenu(e))},_onShowSpecificTagMenu:function(e){var t=new Ext.util.MixedCollection;this.getGroupsStore().each(function(e){for(var i=e.get("tags"),n=0;n<i.length;n++){var r=i[n];t.containsKey(r.tag)?t.get(r.tag).count++:t.add(r.tag,{tag:r.tag,count:1})}},this),t.sortBy(function(e,t){return e.tag.localeCompare(t.tag)});var i=[];t.each(function(e){i.push({tagString:e.tag,text:e.tag})}),e.setItems(i)},_onSpecificTagMenuItemClick:function(e){var t=e.tagString;this._selectBy(function(e){return e.hasTag(t)},this,this._isInAddToSelectionMenu(e))},_findGroupRecordsBy:function(e,t){var i=[];return this.getGroupsStore().each(function(n){var r=Ext.bind(e,t)(n);r&&i.push(n)},this),i},_selectBy:function(e,t,i){var n=this._findGroupRecordsBy(e,t);sharedData.removeFromSelectionMode?(this._deselectGroupRecords(n),sharedData.removeFromSelectionMode=!1):this._selectGroupRecords(n,i)},_selectGroupRecords:function(e,t){var i=this.getListOfGroups().getSelectionModel();i.select(e,t)},_deselectGroupRecords:function(e){var t=this.getListOfGroups().getSelectionModel();t.deselect(e)},_getGroupRecordById:function(e){var t=this.getGroupsStore().findExact("id",e);if(t!=-1)return this.getGroupsStore().getAt(t)}})},/*!************************************************************************!*\
  !*** ./app/controller/managestudents/SingleGroupSelectedViewPlugin.js ***!
  \************************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.managestudents.SingleGroupSelectedViewPlugin",{extend:"Ext.app.Controller",mixins:["devilry_subjectadmin.utils.DjangoRestframeworkProxyErrorMixin"],requires:["devilry_extjsextras.AlertMessage","devilry_subjectadmin.view.managestudents.DeadlinesContainer","Ext.fx.Animator","devilry_subjectadmin.utils.UrlLookup","devilry_authenticateduserinfo.UserInfo"],models:["Candidate","Examiner","Tag","PopFromGroup","AggregatedGroupInfo"],stores:["SingleGroupCandidates","SingleGroupExaminers","SingleGroupTags"],views:["managestudents.SingleGroupSelectedView","managestudents.SelectExaminersGrid"],refs:[{ref:"scrollableBody",selector:"viewport singlegroupview"},{ref:"singlegroupmetainfo",selector:"viewport singlegroupview singlegroupmetainfo"},{ref:"studentsBox",selector:"viewport singlegroupview managestudentsonsingle"},{ref:"studentsCardBody",selector:"viewport singlegroupview managestudentsonsingle #cardBody"},{ref:"studentsGrid",selector:"viewport singlegroupview managestudentsonsingle studentsingroupgrid"},{ref:"examinersBox",selector:"viewport singlegroupview manageexaminersonsingle"},{ref:"examinersCardBody",selector:"viewport singlegroupview manageexaminersonsingle #cardBody"},{ref:"setExaminersGrid",selector:"viewport singlegroupview manageexaminersonsingle #setExaminersPanel selectexaminersgrid"},{ref:"tagsBox",selector:"viewport singlegroupview managetagsonsingle"},{ref:"tagsCardBody",selector:"viewport singlegroupview managetagsonsingle #cardBody"},{ref:"choosetagspanel",selector:"viewport singlegroupview managetagsonsingle choosetagspanel"},{ref:"examinerRoleBox",selector:"viewport singlegroupview #examinerRoleBox"},{ref:"deadlinesContainer",selector:"viewport singlegroupview admingroupinfo_deadlinescontainer"},{ref:"dangerousactions",selector:"viewport singlegroupview dangerousactions"}],init:function(){this.application.addListener({scope:this,managestudentsSingleGroupSelected:this._onSingleGroupSelected}),this.delayedLoadTask=new Ext.util.DelayedTask(this._delayedLoad,this),this.control({"viewport singlegroupview":{render:this._onRender,make_me_examiner:this._onMakeMeExaminer},"viewport singlegroupview singlegroupmetainfo":{active_feedback_link_clicked:this._onActiveFeedbackLink},"viewport singlegroupview managestudentsonsingle studentsingroupgrid":{popStudent:this._onPopStudent},"viewport singlegroupview managestudentsonsingle okcancelpanel#confirmPop":{cancel:this._showStudentsDefaultView,ok:this._onPopStudentConfirmed},"viewport singlegroupview manageexaminersonsingle":{edit_examiners:this._onSetExaminers},"viewport singlegroupview manageexaminersonsingle okcancelpanel#setExaminersPanel":{cancel:this._showExaminersDefaultView,ok:this._onSetExaminersConfirmed},"viewport singlegroupview managetagsonsingle":{edit_tags:this._onSetTags},"viewport singlegroupview managetagsonsingle choosetagspanel#setTagsPanel":{cancel:this._showTagsDefaultView,savetags:this._onSetTagsConfirmed},"viewport singlegroupview admingroupinfo_delivery #feedback":{render:this._onFeedbackRender},"viewport singlegroupview #deleteButton":{click:this._onDelete}}),this.mon(this.getPopFromGroupModel().proxy,{scope:this,exception:this._onPopFromGroupProxyError})},_getLowPriComponents:function(){return[this.getExaminersBox(),this.getTagsBox(),this.getDeadlinesContainer(),this.getExaminerRoleBox()]},_getHighPriComponents:function(){return[this.getSinglegroupmetainfo(),this.getStudentsBox()]},_onSingleGroupSelected:function(e,t){this.delayedLoadTask.cancel(),this.manageStudentsController=e,this.groupRecord=t,Ext.Array.each(this._getLowPriComponents(),function(e){this._fadeOut(e)},this),Ext.Array.each(this._getHighPriComponents(),function(e){this._fadeOut(e)},this),this.getExaminerRoleBox().setLoading({msg:gettext("Loading detailed group information ..."),maskCls:"devilry-white-mask"}),this._closeAllEditors(),this.manageStudentsController.setBodyCard("singlegroupSelected"),this.getSinglegroupmetainfo().setGroupRecord(this.groupRecord),Ext.Array.each(this._getHighPriComponents(),function(e){this._fadeIn(e)},this),this._loadStudentsIntoStore(),this.delayedLoadTask.delay(500)},_delayedLoad:function(){this._loadExaminersIntoStore(),this._loadTagsIntoStore(),this._setupExaminerLinkBox(),Ext.Array.each(this._getLowPriComponents(),function(e){this._fadeIn(e)},this),this._populateDeadlinesContainer(),this.getExaminerRoleBox().setLoading(!1)},_fadeOut:function(e){e.getEl().animate({duration:100,from:{opacity:1},to:{opacity:0}})},_fadeIn:function(e){e.getEl().animate({duration:200,from:{opacity:0},to:{opacity:1}})},_closeAllEditors:function(){this._showExaminersDefaultView(),this._showStudentsDefaultView(),this._showTagsDefaultView()},_onRender:function(){},_setupExaminerLinkBox:function(){devilry_authenticateduserinfo.UserInfo.load(function(e){var t,i=Ext.Array.some(this.groupRecord.get("examiners"),function(t){if(t.user.id===e.get("id"))return!0},this),n=this.manageStudentsController.assignmentRecord;t=0===n.get("delivery_types")?devilry_subjectadmin.utils.UrlLookup.examinerGroupOverview(this.groupRecord.get("id")):devilry_subjectadmin.utils.UrlLookup.examinerGroupsOverviewStudents(n.get("id")),this.getExaminerRoleBox().updateData({loading:!1,isExaminer:i,is_published:n.get("is_published"),pubtimeOffset:n.formatPublishOffsetFromNow(),examinerui_url:t})},this)},_selectDelivery:function(e){var t=this.groupRecord.get("id"),i=devilry_subjectadmin.utils.UrlLookup.manageGroupAndShowDeliveryPrefix(this.manageStudentsController.assignmentRecord.get("id"),t),n=Ext.String.format("{0}{1}",i,e);this.application.route.setHashWithoutEvent(n),window.location.reload()},_onActiveFeedbackLink:function(){var e=this.groupRecord.get("feedback").delivery_id;this._selectDelivery(e)},_onFeedbackRender:function(e){window.DevilrySettings.DEVILRY_ENABLE_MATHJAX&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,e.el.id])},_populateDeadlinesContainer:function(){this.getDeadlinesContainer().setLoading(gettext("Loading")+" ..."),this.getDeadlinesContainer().removeAll(),this.getAggregatedGroupInfoModel().load(this.groupRecord.get("id"),{scope:this,callback:function(e,t){this.getDeadlinesContainer().setLoading(!1),t.success?this._onAggregatedGroupInfoLoadSuccess(e):this._onAggregatedGroupInfoLoadFailure(t)}})},_onAggregatedGroupInfoLoadSuccess:function(e){var t=this.groupRecord.get("feedback"),i=this.manageStudentsController.assignmentRecord,n=i.get("delivery_types");this.getDeadlinesContainer().populate(e,t,n);var r=this.manageStudentsController.getOverview().select_delivery_on_load;this.manageStudentsController.getOverview().select_delivery_on_load=void 0,Ext.isEmpty(r)||this._hightlightSelectedDelivery(r)},_onAggregatedGroupInfoLoadFailure:function(e){this.application.getAlertmessagelist().add({type:"error",autoclose:!1,message:gettext("An error occurred while loading detailed group information.")})},_hightlightSelectedDelivery:function(e){var t=Ext.String.format("#delivery-{0}",e),i=this.getDeadlinesContainer().down(t);if(i){var n=i.up("admingroupinfo_deadline");n.expand(),i.getEl().scrollIntoView(this.getScrollableBody().body,!1,!0),Ext.create("Ext.fx.Animator",{target:i.body,duration:3e3,keyframes:{0:{backgroundColor:"#FFFFFF"},20:{backgroundColor:"#FBEED5"},50:{backgroundColor:"#FBEED5"},100:{backgroundColor:"#FFFFFF"}}})}else this.application.getAlertmessagelist().add({type:"error",messagetpl:gettext("Invalid delivery ID: {id}."),messagedata:{id:e}})},_showStudentsDefaultView:function(){this.getStudentsCardBody().getLayout().setActiveItem("helpAndButtonsContainer")},_loadStudentsIntoStore:function(){this.getSingleGroupCandidatesStore().loadData(this.groupRecord.get("candidates")),this.groupRecord.get("candidates").length<2?this.getStudentsGrid().hideDeleteColumn():this.getStudentsGrid().showDeleteColumn()},_onPopStudent:function(e){this.getStudentsCardBody().getLayout().setActiveItem("confirmPop");var t=this.getStudentsCardBody().down("#confirmPop");t.candidateRecord=e},_onPopStudentConfirmed:function(){var e=this.getStudentsCardBody().down("#confirmPop"),t=e.candidateRecord;e.candidateRecord=void 0;var i=this.manageStudentsController.assignmentRecord,n=Ext.create("devilry_subjectadmin.model.PopFromGroup");n.proxy.setUrl(i.get("id")),n.set("group_id",this.groupRecord.get("id")),n.set("candidate_id",t.get("id")),n.save({scope:this,callback:function(e,t){t.success&&this._onPopStudentSuccess(e)}})},_onPopStudentSuccess:function(e){var t=e.get("group_id"),i=e.get("new_group_id");this.manageStudentsController.reloadGroups([t,i])},_onPopFromGroupProxyError:function(e,t,i){this.handleProxyUsingHtmlErrorDialog(t,i)},_showExaminersDefaultView:function(){this.getExaminersCardBody().getLayout().setActiveItem("helpAndButtonsContainer")},_loadExaminersIntoStore:function(){this.getSingleGroupExaminersStore().loadData(this.groupRecord.get("examiners"))},_onSetExaminers:function(){this.getExaminersBox().setPeriodId(this.manageStudentsController.assignmentRecord.get("parentnode")),this.getExaminersCardBody().getLayout().setActiveItem("setExaminersPanel");var e=[];Ext.Array.each(this.groupRecord.get("examiners"),function(t){e.push(t.user.id)},this);var t=this.getSetExaminersGrid();t.selectUsersById(e)},_em:function(e){return Ext.String.format("<em>{0}</em>",e)},_getDisplaynamesFromUserStore:function(e){var t=[];return e.each(function(e){t.push(this._em(e.getDisplayName()))},this),t},_onSetExaminersConfirmed:function(){var e=this.getSetExaminersGrid(),t=e.getSelectedAsUserStore();devilry_subjectadmin.utils.managestudents.MergeDataIntoGroup.mergeExaminers({groupRecord:this.groupRecord,userRecords:t.data.items,doNotDeleteUsers:!1}),this.manageStudentsController.notifySingleGroupChange({scope:this,success:function(){this.application.getAlertmessagelist().add({type:"success",autoclose:!0,messagetpl:gettext("Changed examiners of {group} to: {examiners}."),messagedata:{group:this._em(this.groupRecord.getIdentString()),examiners:this._getDisplaynamesFromUserStore(t).join(", ")}})}})},_onMakeMeExaminer:function(){devilry_authenticateduserinfo.UserInfo.load(function(e){devilry_subjectadmin.utils.managestudents.MergeDataIntoGroup.mergeExaminers({groupRecord:this.groupRecord,userRecords:[e],doNotDeleteUsers:!0})},this),this.manageStudentsController.notifySingleGroupChange({scope:this,success:function(){this.application.getAlertmessagelist().add({type:"success",autoclose:!0,messagetpl:gettext("Added you as examiner for {group}."),messagedata:{group:this._em(this.groupRecord.getIdentString())}})}})},_showTagsDefaultView:function(){this.getTagsCardBody().getLayout().setActiveItem("helpAndButtonsContainer")},_loadTagsIntoStore:function(){this.getSingleGroupTagsStore().loadData(this.groupRecord.get("tags"));var e=[];Ext.Array.each(this.groupRecord.get("tags"),function(t){e.push(t.tag)},this),"undefined"!=typeof this.getChoosetagspanel()&&this.getChoosetagspanel().setInitialValue(e.join(","))},_onSetTags:function(){this.getTagsCardBody().getLayout().setActiveItem("setTagsPanel")},_onSetTagsConfirmed:function(e,t){devilry_subjectadmin.utils.managestudents.MergeDataIntoGroup.mergeTags({groupRecord:this.groupRecord,sourceTags:t,doNotDeleteTags:!1}),this.manageStudentsController.notifySingleGroupChange({scope:this,success:function(){this.application.getAlertmessagelist().add({type:"success",autoclose:!0,messagetpl:gettext("Saved the following tags for {group}: {tags}"),messagedata:{group:this._em(this.groupRecord.getIdentString()),tags:t.length>0?t.join(", "):this._em(gettext("No tags"))}})}})},_onDelete:function(){this.manageStudentsController.removeGroups([this.groupRecord])}})},/*!***********************************************!*\
  !*** ./app/controller/period/EditDuration.js ***!
  \***********************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.period.EditDuration",{extend:"Ext.app.Controller",mixins:["devilry_subjectadmin.utils.DjangoRestframeworkProxyErrorMixin"],views:["period.EditDurationPanel","period.EditDurationWidget"],requires:["Ext.util.KeyNav","devilry_extjsextras.DatetimeHelpers"],models:["Period"],controllers:["period.Overview"],refs:[{ref:"cardContainer",selector:"editperiod_duration-widget"},{ref:"readOnlyView",selector:"editperiod_duration-widget #readDuration"},{ref:"readOnlyViewBody",selector:"editperiod_duration-widget #readDuration markupmoreinfobox"},{ref:"editDuration",selector:"editperiod_duration-widget editperiod_duration"},{ref:"startTimeField",selector:"editperiod_duration-widget editperiod_duration devilry_extjsextras-datetimefield[name=start_time]"},{ref:"endTimeField",selector:"editperiod_duration-widget editperiod_duration devilry_extjsextras-datetimefield[name=end_time]"},{ref:"formPanel",selector:"editperiod_duration-widget editperiod_duration form"},{ref:"alertMessageList",selector:"editperiod_duration-widget editperiod_duration alertmessagelist"}],init:function(){this.application.addListener({scope:this,periodSuccessfullyLoaded:this._onLoadPeriod}),this.control({"editperiod_duration-widget #readDuration":{edit:this._onEdit},"editperiod_duration-widget editperiod_duration form devilry_extjsextras-datetimefield":{allRendered:this._onRenderForm},"editperiod_duration-widget editperiod_duration #okbutton":{click:this._onSave},"editperiod_duration-widget editperiod_duration #cancelbutton":{click:this._onCancel}})},_onLoadPeriod:function(e){this.periodRecord=e,this.getReadOnlyView().enable(),this._updateDurationWidget()},_showReadView:function(){this.getCardContainer().getLayout().setActiveItem("readDuration")},_updateDurationWidget:function(){this.getReadOnlyViewBody().update({start_time:this.periodRecord.formatStartTime(),end_time:this.periodRecord.formatEndTime()})},_onEdit:function(){this._showEditView()},_showEditView:function(){this.getCardContainer().getLayout().setActiveItem("editDuration"),this.getStartTimeField().setValue(this.periodRecord.get("start_time")),this.getEndTimeField().setValue(this.periodRecord.get("end_time")),Ext.defer(function(){this.getStartTimeField().focus()},200,this)},_onRenderForm:function(){this.getFormPanel().keyNav=Ext.create("Ext.util.KeyNav",this.getFormPanel().el,{enter:this._onSave,scope:this})},_onSave:function(){var e=this.getFormPanel().getForm(),t=this.periodRecord;e.updateRecord(t),this._getMaskElement().mask(gettext("Saving")+" ..."),this.getPeriodModel().proxy.addListener({scope:this,exception:this._onProxyError}),t.save({scope:this,callback:function(e,t){this.getPeriodModel().proxy.removeListener({scope:this,exception:this._onProxyError}),t.success&&this._onSaveSuccess()}})},_onCancel:function(){this._showReadView()},_getMaskElement:function(){return this.getFormPanel().getEl()},_onSaveSuccess:function(){this._getMaskElement().unmask(),this._showReadView(),this._updateDurationWidget()},_onProxyError:function(e,t,i){this._getMaskElement().unmask(),this.getAlertMessageList().removeAll(),this.handleProxyError(this.getAlertMessageList(),this.getFormPanel(),t,i)}})},/*!***************************************************!*\
  !*** ./app/controller/period/PeriodController.js ***!
  \***************************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.period.PeriodController",{extend:"Ext.app.Controller",mixins:{setBreadcrumb:"devilry_subjectadmin.utils.BasenodeBreadcrumbMixin",onLoadFailure:"devilry_subjectadmin.utils.DjangoRestframeworkLoadFailureMixin"},views:["period.PeriodOverview","period.ListOfAssignments"],stores:["Assignments","RelatedExaminers","RelatedStudents"],models:["Period"],requires:["devilry_subjectadmin.utils.UrlLookup"],refs:[{ref:"globalAlertmessagelist",selector:"#appAlertmessagelist"},{ref:"header",selector:"periodoverview #header"},{ref:"periodOverview",selector:"periodoverview"},{ref:"deleteButton",selector:"periodoverview #deleteButton"},{ref:"renameButton",selector:"periodoverview #renameButton"},{ref:"adminsbox",selector:"periodoverview adminsbox"},{ref:"createNewAssignmentBox",selector:"periodoverview #createNewAssignmentBox"},{ref:"noRelatedStudentsMessage",selector:"periodoverview #noRelatedStudentsMessage"},{ref:"noRelatedExaminersMessage",selector:"periodoverview #noRelatedExaminersMessage"}],init:function(){this.control({"viewport periodoverview":{render:this._onPeriodViewRender},"viewport periodoverview #deleteButton":{click:this._onDelete},"viewport periodoverview #renameButton":{click:this._onRename}})},_getPath:function(){return this.getPathFromBreadcrumb(this.periodRecord)},_onPeriodViewRender:function(){this.setLoadingBreadcrumb(),this.period_id=this.getPeriodOverview().period_id,this._loadPeriod(this.period_id),this._loadAssignments(this.period_id)},_setMenuLabels:function(){var e=this._getPath();if(this.periodRecord.get("can_delete")){var t=Ext.create("Ext.XTemplate",gettext("Delete {something}")).apply({something:e});this.getDeleteButton().setTitleText(t),this.getDeleteButton().show()}var i=Ext.create("Ext.XTemplate",gettext("Rename {something}")).apply({something:e});this.getRenameButton().setTitleText(i)},_loadAssignments:function(e){this.getAssignmentsStore().loadAssignmentsInPeriod(e,this._onLoadAssignments,this)},_onLoadAssignments:function(e,t){t.success||this.onLoadFailure(t)},_loadPeriod:function(e){this.getPeriodModel().load(e,{scope:this,callback:function(e,t){t.success?this._onLoadPeriodSuccess(e):this._onLoadPeriodFailure(t)}})},_onLoadPeriodSuccess:function(e){this.periodRecord=e,this.application.fireEvent("periodSuccessfullyLoaded",e),this.application.setTitle(this._getPath()),this.getHeader().update({period:e.get("long_name"),subject:e.get("breadcrumb")[0].text}),this.setBreadcrumb(this.periodRecord),this._setMenuLabels(),this.getAdminsbox().setBasenodeRecord(this.periodRecord),0===this.periodRecord.get("number_of_relatedstudents")&&this._handleNoRelatedStudents(),0===this.periodRecord.get("number_of_relatedexaminers")&&this._handleNoRelatedExaminers()},_onLoadPeriodFailure:function(e){this.onLoadFailure(e)},_onRename:function(){Ext.create("devilry_subjectadmin.view.RenameBasenodeWindow",{basenodeRecord:this.periodRecord}).show()},_onDelete:function(){var e=this._getPath();devilry_subjectadmin.view.DeleteDjangoRestframeworkRecordDialog.showIfCanDelete({basenodeRecord:this.periodRecord,short_description:e,listeners:{scope:this,deleteSuccess:function(){this.application.onAfterDelete(e)}}})},_handleNoRelatedStudents:function(){this.getCreateNewAssignmentBox().hide(),this.getNoRelatedStudentsMessage().show()},_handleNoRelatedExaminers:function(){this.getNoRelatedExaminersMessage().show()}})},/*!*******************************************!*\
  !*** ./app/controller/subject/ListAll.js ***!
  \*******************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.subject.ListAll",{extend:"Ext.app.Controller",requires:["devilry_extjsextras.RestfulApiProxyErrorHandler"],views:["subject.ListAll"],stores:["Subjects"],refs:[{ref:"alertmessagelist",selector:"subjectlistall alertmessagelist"},{ref:"subjectList",selector:"subjectlistall #subjectList"}],init:function(){this.control({"viewport subjectlistall":{render:this._onRender}})},_onRender:function(){this.getSubjectsStore().load({scope:this,callback:this._onLoadSubjects})},_onLoadSubjects:function(e,t){if(!t.success){var i=Ext.create("devilry_extjsextras.RestfulApiProxyErrorHandler",t);i.addErrors(t),this.getAlertmessagelist().addMany(i.errormessages,"error")}}})},/*!*****************************************************!*\
  !*** ./app/controller/subject/SubjectController.js ***!
  \*****************************************************/
function(e,t){Ext.define("devilry_subjectadmin.controller.subject.SubjectController",{extend:"Ext.app.Controller",mixins:{setBreadcrumb:"devilry_subjectadmin.utils.BasenodeBreadcrumbMixin",onLoadFailure:"devilry_subjectadmin.utils.DjangoRestframeworkLoadFailureMixin"},views:["subject.SubjectOverview","subject.ListOfPeriods","RenameBasenodeWindow","DeleteDjangoRestframeworkRecordDialog"],requires:["devilry_extjsextras.ConfirmDeleteDialog"],stores:["Periods"],models:["Subject"],refs:[{ref:"globalAlertmessagelist",selector:"viewport floatingalertmessagelist#appAlertmessagelist"},{ref:"deleteButton",selector:"subjectoverview #deleteButton"},{ref:"renameButton",selector:"subjectoverview #renameButton"},{ref:"header",selector:"subjectoverview #header"},{ref:"subjectOverview",selector:"subjectoverview"},{ref:"adminsbox",selector:"subjectoverview adminsbox"}],init:function(){this.control({"viewport subjectoverview":{render:this._onSubjectViewRender},"viewport subjectoverview #deleteButton":{click:this._onDelete},"viewport subjectoverview #renameButton":{click:this._onRename}})},_onNotImplemented:function(){Ext.MessageBox.alert("Unavailable","Not implemented yet")},_onSubjectViewRender:function(){this.setLoadingBreadcrumb(),this.subject_id=this.getSubjectOverview().subject_id,this._loadSubject(this.subject_id),this._loadPeriods()},_setDangerousActionsLabels:function(){if(this.subjectRecord.get("can_delete")){var e=Ext.create("Ext.XTemplate",gettext("Delete {something}")).apply({something:this.subjectRecord.get("short_name")});this.getDeleteButton().setTitleText(e),this.getDeleteButton().show()}var t=Ext.create("Ext.XTemplate",gettext("Rename {something}")).apply({something:this.subjectRecord.get("short_name")});this.getRenameButton().setTitleText(t)},_loadPeriods:function(){this.getPeriodsStore().loadPeriodsInSubject(this.subject_id,this._onLoadPeriods,this)},_onLoadPeriods:function(e,t){t.success||this.onLoadFailure(t)},_loadSubject:function(e){this.getSubjectModel().load(e,{scope:this,callback:function(e,t){t.success?this._onLoadSubjectSuccess(e):this.onLoadFailure(t)}})},_onLoadSubjectSuccess:function(e){this.subjectRecord=e,this.application.setTitle(this.subjectRecord.get("short_name")),this.getHeader().update({heading:e.get("long_name")}),this.setBreadcrumb(this.subjectRecord),this.getAdminsbox().setBasenodeRecord(this.subjectRecord),this._setDangerousActionsLabels()},_onRename:function(){Ext.create("devilry_subjectadmin.view.RenameBasenodeWindow",{basenodeRecord:this.subjectRecord}).show()},_onDelete:function(){var e=this.subjectRecord.get("short_name");devilry_subjectadmin.view.DeleteDjangoRestframeworkRecordDialog.showIfCanDelete({basenodeRecord:this.subjectRecord,short_description:e,listeners:{scope:this,deleteSuccess:function(){this.application.onAfterDelete(e)}}})}})},/*!******************************************!*\
  !*** ./app/model/AggregatedGroupInfo.js ***!
  \******************************************/
function(e,t){Ext.define("devilry_subjectadmin.model.AggregatedGroupInfo",{extend:"Ext.data.Model",idProperty:"id",fields:[{name:"id",type:"int"},{name:"deadlines",type:"auto"}],proxy:{type:"rest",url:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/aggregated-groupinfo",extraParams:{format:"json"},reader:{type:"json"}},has_any_deadlines:function(){var e=this.get("deadlines");return e.length>0},statics:{parseDateTime:function(e){return Ext.Date.parse(e,"Y-m-d H:i:s")}}})},/*!***************************************************!*\
  !*** ./app/model/AggregatedRelatedStudentInfo.js ***!
  \***************************************************/
function(e,t){Ext.define("devilry_subjectadmin.model.AggregatedRelatedStudentInfo",{extend:"Ext.data.Model",idProperty:"id",fields:[{name:"id",type:"auto",pesist:!1},{name:"user",type:"auto",pesist:!1},{name:"groups_by_assignment",type:"auto",pesist:!1},{name:"relatedstudent",type:"auto",pesist:!1}]})},/*!********************************************!*\
  !*** ./app/model/AllActiveWhereIsAdmin.js ***!
  \********************************************/
function(e,t){Ext.define("devilry_subjectadmin.model.AllActiveWhereIsAdmin",{extend:"devilry_subjectadmin.model.AllWhereIsAdmin",proxy:{type:"rest",url:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/allwhereisadmin/",extraParams:{format:"json",only_active:"yes"},reader:{type:"json"}}})},/*!**************************************!*\
  !*** ./app/model/AllWhereIsAdmin.js ***!
  \**************************************/
function(e,t){Ext.define("devilry_subjectadmin.model.AllWhereIsAdmin",{extend:"Ext.data.Model",idProperty:"id",fields:[{name:"id",type:"int"},{name:"can_administer",type:"bool"},{name:"is_admin",type:"bool"},{name:"short_name",type:"string"},{name:"long_name",type:"string"},{name:"periods",type:"auto"}],proxy:{type:"rest",url:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/allwhereisadmin/",extraParams:{format:"json"},reader:{type:"json"}}})},/*!*********************************!*\
  !*** ./app/model/Assignment.js ***!
  \*********************************/
function(e,t){Ext.define("devilry_subjectadmin.model.Assignment",{extend:"Ext.data.Model",requires:["Ext.Date","devilry_extjsextras.DatetimeHelpers"],idProperty:"id",fields:[{name:"admins",type:"auto"},{name:"breadcrumb",type:"auto"},{name:"can_delete",type:"bool"},{name:"anonymous",type:"bool"},{name:"etag",type:"string"},{name:"first_deadline",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"id",type:"auto"},{name:"inherited_admins",type:"auto"},{name:"long_name",type:"string"},{name:"parentnode",type:"auto"},{name:"publishing_time",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"is_published",type:"bool",persist:!1},{name:"publishing_time_offset_from_now",type:"auto",persist:!1},{name:"short_name",type:"string"},{name:"scale_points_percent",type:"int"},{name:"deadline_handling",type:"int"},{name:"delivery_types",type:"int"},{name:"number_of_groups",type:"int",persist:!1},{name:"number_of_deliveries",type:"int",persist:!1},{name:"number_of_candidates",type:"int",persist:!1},{name:"number_of_groups_where_is_examiner",type:"int",persist:!1},{name:"has_valid_grading_setup",type:"bool",persist:!1},{name:"gradingsystemplugin_title",type:"string",persist:!1},{name:"max_points",type:"int"},{name:"passing_grade_min_points",type:"int"},{name:"points_to_grade_mapper",type:"string"},{name:"grading_system_plugin_id",type:"string"}],proxy:{type:"rest",url:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/assignment/",extraParams:{format:"json"},reader:{type:"json"}},formatPublishOffsetFromNow:function(){return devilry_extjsextras.DatetimeHelpers.formatTimedeltaRelative(this.get("publishing_time_offset_from_now"),!this.get("is_published"))},formatPublishingTime:function(){return devilry_extjsextras.DatetimeHelpers.formatDateTimeShort(this.get("publishing_time"))},formatFirstDeadline:function(){return devilry_extjsextras.DatetimeHelpers.formatDateTimeShort(this.get("first_deadline"))},getPeriodInfoFromBreadcrumb:function(){var e,t,i,n=this.get("breadcrumb");if(0===n.length)throw"Breadcrumb is empty";if(1===n.length)e=null,t=n[0].text.split(".").slice(0,2).join("."),i=!1;else{for(var r=[],o=0;o<n.length-1;o++){var a=n[o];r.push(a.text)}e=n[n.length-2].id,t=r.join("."),i=!0}return{id:e,path:t,is_admin:i}}})},/*!********************************!*\
  !*** ./app/model/Candidate.js ***!
  \********************************/
function(e,t){Ext.define("devilry_subjectadmin.model.Candidate",{extend:"Ext.data.Model",idProperty:"id",fields:[{name:"id",type:"int"},{name:"user",type:"auto"},{name:"candidate_id",type:"string"}]})},/*!******************************************!*\
  !*** ./app/model/CreateNewAssignment.js ***!
  \******************************************/
function(e,t){Ext.define("devilry_subjectadmin.model.CreateNewAssignment",{extend:"Ext.data.Model",idProperty:"id",fields:[{name:"id",type:"int"},{name:"period_id",type:"int"},{name:"short_name",type:"string"},{name:"long_name",type:"string"},{name:"publishing_time",type:"date"},{name:"delivery_types",type:"string"},{name:"anonymous",type:"boolean"},{name:"first_deadline",type:"date"},{name:"setupstudents_mode",type:"string"},{name:"copyfromassignment_id",type:"int"},{name:"only_copy_passing_groups",type:"boolean"},{name:"setupexaminers_mode",type:"string"}],proxy:{type:"rest",url:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/createnewassignment/",extraParams:{format:"json"},reader:{type:"json"}}})},/*!***********************************!*\
  !*** ./app/model/DeadlineBulk.js ***!
  \***********************************/
function(e,t){Ext.define("devilry_subjectadmin.model.DeadlineBulk",{extend:"Ext.data.Model",requires:["Ext.Date","devilry_extjsextras.DatetimeHelpers"],idProperty:"bulkdeadline_id",fields:[{name:"bulkdeadline_id",type:"string"},{name:"createmode",type:"string"},{name:"deadline",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"in_the_future",type:"bool",persist:!1},{name:"offset_from_now",type:"auto",persist:!1},{name:"text",type:"string"},{name:"group_ids",type:"auto",defaultValue:null},{name:"url",type:"string",persist:!1},{name:"groups",type:"auto",persist:!1}],proxy:{type:"rest",urlpatt:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/deadlinesbulk/{0}/",url:null,extraParams:{format:"json"},reader:{type:"json"},setUrl:function(e){this.url=Ext.String.format(this.urlpatt,e)}},formatOffsetFromNow:function(){return devilry_extjsextras.DatetimeHelpers.formatTimedeltaRelative(this.get("offset_from_now"),this.get("in_the_future"))},formatTextOneline:function(){var e=50,t=this.get("text");return null===t||0===t.length?null:(t=t.replace(/(\r\n|\n|\r)/gm," "),Ext.String.ellipsis(t,e))},formatDeadline:function(){return devilry_extjsextras.DatetimeHelpers.formatDateTimeLong(this.get("deadline"))},updateBulkDeadlineIdFromOperation:function(e){var t=Ext.JSON.decode(e.response.responseText),i=t.bulkdeadline_id;this.set("bulkdeadline_id",i)},statics:{parseDateTime:function(e){return Ext.Date.parse(e,"Y-m-d H:i:s")}}})},/*!*********************************************!*\
  !*** ./app/model/DetailedPeriodOverview.js ***!
  \*********************************************/
function(e,t){Ext.define("devilry_subjectadmin.model.DetailedPeriodOverview",{extend:"Ext.data.Model",fields:[{name:"students_with_feedback_that_is_candidate_but_not_in_related",type:"auto"},{name:"students_with_no_feedback_that_is_candidate_but_not_in_related",type:"auto"},{name:"relatedstudents",type:"auto"},{name:"assignments",type:"auto"}],proxy:{type:"rest",url:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/detailedperiodoverview/",extraParams:{format:"json"},reader:{type:"json"}}})},/*!*******************************!*\
  !*** ./app/model/Examiner.js ***!
  \*******************************/
function(e,t){Ext.define("devilry_subjectadmin.model.Examiner",{extend:"Ext.data.Model",idProperty:"id",fields:[{name:"id",type:"int"},{name:"user",type:"auto"}]})},/*!***********************************!*\
  !*** ./app/model/ExaminerStat.js ***!
  \***********************************/
function(e,t){Ext.define("devilry_subjectadmin.model.ExaminerStat",{extend:"Ext.data.Model",idProperty:"id",fields:[{name:"id",type:"int"},{name:"examiner",type:"auto"},{name:"waitingfordeliveries_count",type:"int"},{name:"waitingforfeedback_count",type:"int"},{name:"nodeadlines_count",type:"int"},{name:"closedwithoutfeedback_count",type:"int"},{name:"failed_count",type:"int"},{name:"passed_count",type:"int"},{name:"corrected_count",type:"int"},{name:"waitingfordeliveries_percent",type:"float"},{name:"waitingforfeedback_percent",type:"float"},{name:"nodeadlines_percent",type:"float"},{name:"closedwithoutfeedback_percent",type:"float"},{name:"failed_percent",type:"float"},{name:"passed_percent",type:"float"},{name:"corrected_percent",type:"float"},{name:"points_best",type:"int"},{name:"points_worst",type:"int"},{name:"points_avg",type:"float"},{name:"feedback_words_avg",type:"float"},{name:"groups",type:"auto"}],proxy:{type:"rest",urlpatt:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/examinerstats/{0}",url:null,extraParams:{format:"json"},reader:{type:"json"},setUrl:function(e){this.url=Ext.String.format(this.urlpatt,e)}}})},/*!****************************!*\
  !*** ./app/model/Group.js ***!
  \****************************/
function(e,t){Ext.define("devilry_subjectadmin.model.Group",{extend:"Ext.data.Model",idProperty:"id",fields:[{name:"id",type:"int"},{name:"num_deliveries",type:"int",persist:!1},{name:"name",type:"string"},{name:"is_open",type:"boolean"},{name:"tags",type:"auto"},{name:"feedback",type:"auto"},{name:"candidates",type:"auto"},{name:"examiners",type:"auto"},{name:"deadlines",type:"auto"},{name:"status",type:"string",persist:!1}],proxy:{type:"rest",urlpatt:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/group/{0}/",url:null,batchActions:!0,appendId:!1,extraParams:{format:"json"},reader:{type:"json"}},_debugFormatArray:function(e,t){var i=Ext.create("Ext.XTemplate",t),n=[];return Ext.Array.each(e,function(e,t){n.push("\n    "+t+": {"+i.apply(e)+"}")},this),n.join(", ")},debugFormat:function(){var e=["id:{id}, ",'<tpl if="candidate_id">candidate_id:{candidate_id}, </tpl>',"user.id:{user.id}, username:{user.username}, full_name:{user.full_name}, email:{user.email}"],t=["id:{id}, tag:{tag}"];return Ext.String.format("id={0}, num_deliveries={1}, name={2}, is_open={3},\n- tags=[{4}],\n- candidates=[{5}],\n- examiners=[{6}]",this.get("id"),this.get("num_deliveries"),this.get("name"),this.get("is_open"),this._debugFormatArray(this.get("tags"),t),this._debugFormatArray(this.get("candidates"),e),this._debugFormatArray(this.get("examiners"),e))},_getUserNamesAsArray:function(e){var t=[];return Ext.Array.each(e,function(e,i){e.user.full_name?t.push(e.user.full_name):t.push(e.user.username)},this),t},getCandidateNamesAsArray:function(){return this._getUserNamesAsArray(this.get("candidates"))},getIdentString:function(){return this.get("candidates")?this.getCandidateNamesAsArray().join(", "):this.get("id")},hasExaminer:function(e){return Ext.Array.some(this.get("examiners"),function(t){return t.user.id==e})},hasTag:function(e){return Ext.Array.some(this.get("tags"),function(t){return t.tag==e})},setTagsFromArrayOfStrings:function(e){var t=[];Ext.Array.each(e,function(e){t.push({tag:e})},this),this.set("tags",t)},setExaminersFromArrayOfUserIds:function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];t.push({user:{id:n}})}this.set("examiners",t)},setExaminersFromMapOfRelatedExaminers:function(e){var t=[];Ext.Array.each(this.get("tags"),function(i){var n=i.tag;e[n]&&Ext.Array.each(e[n],function(e){var i=e.get("user").id;t.push(i)},this)},this),this.setExaminersFromArrayOfUserIds(Ext.Array.unique(t))},statics:{formatIdentsAsStringList:function(e){var t=[];return Ext.Array.each(e,function(e){t.push(e.getIdentString())},this),t.join(", ")}}})},/*!*************************************!*\
  !*** ./app/model/MergeIntoGroup.js ***!
  \*************************************/
function(e,t){Ext.define("devilry_subjectadmin.model.MergeIntoGroup",{extend:"Ext.data.Model",idProperty:"target_group_id",fields:[{name:"source_group_ids",type:"auto"},{name:"target_group_id",type:"int"},{name:"success",type:"bool",persist:!1}],proxy:{type:"rest",urlpatt:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/mergeintogroup/{0}",url:null,appendId:!1,extraParams:{format:"json"},reader:{type:"json"},setUrl:function(e){this.url=Ext.String.format(this.urlpatt,e)}}})},/*!***********************************************!*\
  !*** ./app/model/PassedPreviousPeriodItem.js ***!
  \***********************************************/
function(e,t){Ext.define("devilry_subjectadmin.model.PassedPreviousPeriodItem",{extend:"Ext.data.Model",idProperty:"id",fields:[{name:"id",type:"int"},{name:"group",type:"auto",persist:!1},{name:"oldgroup",type:"auto",persist:!1},{name:"whyignored",type:"string",persist:!1},{name:"newfeedback_points",type:"int"}],proxy:{type:"rest",urlpatt:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/passedinpreviousperiod/{0}",url:null,batchActions:!0,appendId:!1,extraParams:{format:"json"},reader:{type:"json"}}})},/*!*****************************!*\
  !*** ./app/model/Period.js ***!
  \*****************************/
function(e,t){Ext.define("devilry_subjectadmin.model.Period",{extend:"Ext.data.Model",requires:["devilry_extjsextras.DatetimeHelpers"],idProperty:"id",fields:[{name:"id",type:"auto"},{name:"parentnode",type:"auto"},{name:"short_name",type:"string"},{name:"long_name",type:"string"},{name:"can_delete",type:"bool",persist:!1},{name:"etag",type:"string",persist:!1},{name:"admins",type:"auto"},{name:"inherited_admins",type:"auto",persist:!1},{name:"start_time",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"end_time",type:"date",dateFormat:"Y-m-d H:i:s"},{name:"breadcrumb",type:"auto",persist:!1},{name:"number_of_relatedexaminers",type:"int",persist:!1},{name:"number_of_relatedstudents",type:"int",persist:!1}],formatStartTime:function(){return devilry_extjsextras.DatetimeHelpers.formatDateTimeShort(this.get("start_time"))},formatEndTime:function(){return devilry_extjsextras.DatetimeHelpers.formatDateTimeShort(this.get("end_time"))},proxy:{type:"rest",url:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/period/",extraParams:{format:"json"},reader:{type:"json"}}})},/*!***********************************!*\
  !*** ./app/model/PopFromGroup.js ***!
  \***********************************/
function(e,t){Ext.define("devilry_subjectadmin.model.PopFromGroup",{extend:"Ext.data.Model",idProperty:"candidate_id",fields:[{name:"group_id",type:"int"},{name:"candidate_id",type:"int"},{name:"success",type:"bool",persist:!1},{name:"new_group_id",type:"int",persist:!1}],proxy:{type:"rest",urlpatt:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/popfromgroup/{0}",url:null,appendId:!1,extraParams:{format:"json"},reader:{type:"json"},setUrl:function(e){this.url=Ext.String.format(this.urlpatt,e)}}})},/*!**************************************!*\
  !*** ./app/model/RelatedExaminer.js ***!
  \**************************************/
function(e,t){Ext.define("devilry_subjectadmin.model.RelatedExaminer",{extend:"devilry_subjectadmin.model.RelatedUserBase",idProperty:"id",fields:[{name:"id",type:"int"},{name:"period",type:"int"},{name:"tags",type:"string"},{name:"user",type:"auto"}],proxy:{type:"rest",urlpatt:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/relatedexaminer/{0}/",url:null,extraParams:{format:"json"},reader:{type:"json"}}})},/*!****************************************!*\
  !*** ./app/model/RelatedExaminerRo.js ***!
  \****************************************/
function(e,t){Ext.define("devilry_subjectadmin.model.RelatedExaminerRo",{extend:"devilry_subjectadmin.model.RelatedExaminer",proxy:{type:"rest",urlpatt:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/relatedexaminer_assignment_ro/{0}/",url:null,extraParams:{format:"json"},reader:{type:"json"}}})},/*!*************************************!*\
  !*** ./app/model/RelatedStudent.js ***!
  \*************************************/
function(e,t){Ext.define("devilry_subjectadmin.model.RelatedStudent",{extend:"devilry_subjectadmin.model.RelatedUserBase",idProperty:"id",fields:[{name:"id",type:"int"},{name:"period",type:"int"},{name:"tags",type:"string"},{name:"candidate_id",type:"string"},{name:"user",type:"auto"}],proxy:{type:"rest",urlpatt:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/relatedstudent/{0}/",url:null,extraParams:{format:"json"},reader:{type:"json"}}})},/*!***************************************!*\
  !*** ./app/model/RelatedStudentRo.js ***!
  \***************************************/
function(e,t){Ext.define("devilry_subjectadmin.model.RelatedStudentRo",{extend:"devilry_subjectadmin.model.RelatedStudent",proxy:{type:"rest",urlpatt:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/relatedstudent_assignment_ro/{0}/",url:null,extraParams:{format:"json"},reader:{type:"json"}}})},/*!**************************************!*\
  !*** ./app/model/RelatedUserBase.js ***!
  \**************************************/
function(e,t){Ext.define("devilry_subjectadmin.model.RelatedUserBase",{extend:"Ext.data.Model",getTagsAsArray:function(){var e=this.get("tags");return Ext.isEmpty(e)?[]:e.split(",")},clearTags:function(){this.set("tags","")},setTagsFromArray:function(e){this.set("tags",e.join(","))},addTagsFromArray:function(e){var t=Ext.Array.union(this.getTagsAsArray(),e);this.setTagsFromArray(t)},getDisplayName:function(){return this.get("user").displayname},statics:{recordsAsDisplaynameArray:function(e){var t=[];return Ext.Array.each(e,function(e){var i=e.getDisplayName();t.push(i)},this),t}}})},/*!******************************!*\
  !*** ./app/model/Subject.js ***!
  \******************************/
function(e,t){Ext.define("devilry_subjectadmin.model.Subject",{extend:"Ext.data.Model",idProperty:"id",fields:[{name:"id",type:"auto"},{name:"parentnode",type:"auto"},{name:"short_name",type:"string"},{name:"long_name",type:"string"},{name:"can_delete",type:"bool"},{name:"etag",type:"string"},{name:"admins",type:"auto"},{name:"inherited_admins",type:"auto"},{name:"breadcrumb",type:"auto"}],proxy:{type:"rest",url:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/subject/",extraParams:{format:"json"},reader:{type:"json"}}})},/*!**************************!*\
  !*** ./app/model/Tag.js ***!
  \**************************/
function(e,t){Ext.define("devilry_subjectadmin.model.Tag",{extend:"Ext.data.Model",idProperty:"id",fields:[{name:"id",type:"int"},{name:"tag",type:"string"}]})},/*!*******************************************!*\
  !*** ./app/store/AbstractRelatedUsers.js ***!
  \*******************************************/
function(e,t){Ext.define("devilry_subjectadmin.store.AbstractRelatedUsers",{extend:"Ext.data.Store",requires:["devilry_extjsextras.DjangoRestframeworkProxyErrorHandler","devilry_extjsextras.HtmlErrorDialog"],loadInPeriod:function(e,t){this.setPeriod(e),this.load(t)},loadWithAutomaticErrorHandling:function(e){this.load({scope:this,callback:function(t,i){i.success?Ext.callback(e.success,e.scope,[t,i]):this._onLoadFailure(i,e.errortitle)}})},_onLoadFailure:function(e,t){var i=Ext.create("devilry_extjsextras.DjangoRestframeworkProxyErrorHandler",e);i.addErrors(null,e);var n=i.asHtmlList();Ext.widget("htmlerrordialog",{title:t,bodyHtml:n}).show()},sortBySpecialSorter:function(e){var t=null;if("username"==e)t=this._sortByUsername;else{if("full_name"!=e)throw"Invalid sorter: "+e;t=this._sortByFullname}this.sort(Ext.create("Ext.util.Sorter",{sorterFn:Ext.bind(t,this)}))},_sortByUsername:function(e,t){return this._sortByUserProperty("username",e,t)},_sortByFullname:function(e,t){return this._sortByUserProperty("full_name",e,t)},_sortByUserProperty:function(e,t,i){var n=t.get("user")[e],r=i.get("user")[e];return Ext.isEmpty(n)?1:Ext.isEmpty(r)?-1:n.localeCompare(r)},getMappedByTags:function(){var e={};return this.each(function(t){Ext.each(t.getTagsAsArray(),function(i){e[i]?e[i].push(t):e[i]=[t]},this)},this),e},getByUserid:function(e){var t=this.findBy(function(t){return t.get("user").id===e},this);return t===-1?null:this.getAt(t)}})},/*!****************************************************!*\
  !*** ./app/store/AggregatedRelatedStudentInfos.js ***!
  \****************************************************/
function(e,t){Ext.define("devilry_subjectadmin.store.AggregatedRelatedStudentInfos",{extend:"Ext.data.Store",model:"devilry_subjectadmin.model.AggregatedRelatedStudentInfo",autoLoad:!0,proxy:{type:"memory"}})},/*!*********************************************!*\
  !*** ./app/store/AllActivesWhereIsAdmin.js ***!
  \*********************************************/
function(e,t){Ext.define("devilry_subjectadmin.store.AllActivesWhereIsAdmin",{extend:"Ext.data.Store",model:"devilry_subjectadmin.model.AllActiveWhereIsAdmin"})},/*!**************************************!*\
  !*** ./app/store/AllWhereIsAdmin.js ***!
  \**************************************/
function(e,t){Ext.define("devilry_subjectadmin.store.AllWhereIsAdmin",{extend:"Ext.data.Store",model:"devilry_subjectadmin.model.AllWhereIsAdmin"})},/*!**********************************!*\
  !*** ./app/store/Assignments.js ***!
  \**********************************/
function(e,t){Ext.define("devilry_subjectadmin.store.Assignments",{extend:"Ext.data.Store",model:"devilry_subjectadmin.model.Assignment",loadAssignmentsInPeriod:function(e,t,i){this.proxy.extraParams.parentnode=e,this.load({scope:i,callback:t})},getFirstRecordWithFirstDeadline:function(){var e;return this.each(function(t){var i=t.get("first_deadline");if(i)return e=t,!1},this),e},_getAsMixedCollectionSortedByDateField:function(e){var t=new Ext.util.MixedCollection;return this.each(function(i){Ext.isEmpty(i.get(e))||t.add(i.get("id"),i)},this),t.sortBy(function(t,i){return t.get(e).getTime()-i.get(e).getTime()}),t},_findMostCommonDayDifference:function(e,t){var i=null,n=new Ext.util.MixedCollection;e.each(function(e){var r=e.get(t);if(i){var o=i.get(t),a=r.getTime()-o.getTime(),s=Math.round(a/864e5);n.containsKey(s)?n.add(s,n.getByKey(s)+1):n.add(s,1)}i=e},this),n.sortBy(function(e,t){return t-e});var r=n.keys[0];return{days:r,matchedAssignments:n.getByKey(r)}},_smartAutodetectDateFieldValue:function(e){var t=this._getAsMixedCollectionSortedByDateField(e);if(t.length<2)return null;var i=this._findMostCommonDayDifference(t,e);if(null===i)return null;var n=t.last(),r=1;i.matchedAssignments>1&&i.days<16&&(r=3);for(var o=1,a=null,s=n.get(e);o<=r;){var l=Ext.Date.add(s,Ext.Date.DAY,i.days*o),d=new Date;if(l>d){a=l;break}o++}return null===a?null:{mostCommonDayDiff:i,detectedDateTime:a,lastAssignment:n,delayCount:o}},smartAutodetectFirstDeadline:function(){return this._smartAutodetectDateFieldValue("first_deadline")},smartAutodetectPublishingTime:function(){return this._smartAutodetectDateFieldValue("publishing_time")},_sameDateTimeIgnoreSeconds:function(e,t){return e.getYear()===t.getYear()&&e.getMonth()===t.getMonth()&&e.getDay()===t.getDay()&&e.getMinutes()===t.getMinutes()},getUniqueFuturePublishingTime:function(){var e=this._getAsMixedCollectionSortedByDateField("publishing_time"),t=new Date,i=e.last();if(i){var n=i.get("publishing_time");if(t<n||this._sameDateTimeIgnoreSeconds(n,t))return Ext.Date.add(n,Ext.Date.MINUTE,2)}return t}})},/*!************************************!*\
  !*** ./app/store/DeadlinesBulk.js ***!
  \************************************/
function(e,t){Ext.define("devilry_subjectadmin.store.DeadlinesBulk",{extend:"Ext.data.Store",model:"devilry_subjectadmin.model.DeadlineBulk"})},/*!************************************!*\
  !*** ./app/store/ExaminerStats.js ***!
  \************************************/
function(e,t){Ext.define("devilry_subjectadmin.store.ExaminerStats",{extend:"Ext.data.Store",model:"devilry_subjectadmin.model.ExaminerStat"})},/*!*********************************************!*\
  !*** ./app/store/GroupByExaminerGrouper.js ***!
  \*********************************************/
function(e,t){Ext.define("devilry_subjectadmin.store.GroupByExaminerGrouper",{extend:"Ext.util.Grouper",property:"is_open",root:"data",getGroupString:function(){return console.log("YO"),"examiners"}})},/*!*****************************!*\
  !*** ./app/store/Groups.js ***!
  \*****************************/
function(e,t){Ext.define("devilry_subjectadmin.store.Groups",{extend:"Ext.data.Store",model:"devilry_subjectadmin.model.Group",mixins:["devilry_subjectadmin.store.LoadStoreWithAutomaticErrorHandlingMixin"],requires:["devilry_subjectadmin.store.GroupByExaminerGrouper"],setAssignment:function(e){this.proxy.url=Ext.String.format(this.proxy.urlpatt,e)},loadGroupsInAssignment:function(e,t){this.setAssignment(e),this.load(t)},setApiOptions:function(e){var t={examinersOnly:void 0,tagsOnly:void 0};e=Ext.merge({},t,e),Ext.apply(this.getProxy().extraParams,e)},sortBySpecialSorter:function(e){var t=null;if("username"==e)t=this._sortByUsername;else if("fullname"==e)t=this._sortByFullname;else{if("lastname"!=e)throw"Invalid sorter: "+e;t=this._sortByLastname}this.sort(Ext.create("Ext.util.Sorter",{sorterFn:Ext.bind(t,this)}))},_sortByUsername:function(e,t){return this._sortByUserlistProperty("candidates","username",e,t)},_sortByFullname:function(e,t){return this._sortByUserlistProperty("candidates","full_name",e,t)},_sortByUserlistProperty:function(e,t,i,n){var r=i.get(e),o=n.get(e);if(0===r.length)return-1;if(0===o.length)return 1;var a=r[0].user[t],s=o[0].user[t];return a?s?a.localeCompare(s):1:-1},_getLastname:function(e){if(Ext.isEmpty(e))return"";var t=e.split(/\s+/);return t[t.length-1]},_sortByLastname:function(e,t){var i=e.get("candidates"),n=t.get("candidates");if(0===i.length)return-1;if(0===n.length)return 1;var r="full_name",o=this._getLastname(i[0].user[r]),a=this._getLastname(n[0].user[r]);return o.localeCompare(a)},groupBySpecialGrouper:function(e){var t=null;if("examiner"==e)t=Ext.create("devilry_subjectadmin.store.GroupByExaminerGrouper");else{if("is_open"!=e)throw"Invalid grouper: "+e;t="is_open"}this.group([t])},getGroupsMappedByUserId:function(){var e={};return this.each(function(t){Ext.each(t.get("candidates"),function(i){var n=i.user.id;e[n]?e[n].push(t):e[n]=[t]},this)},this),e},addFromRelatedStudentRecord:function(e){var t=e.relatedStudentRecord,i=(e.includeTags,this.add({is_open:!0,examiners:[],tags:[],candidates:[{user:{id:t.get("user").id}}]})[0]);return e.includeTags&&i.setTagsFromArrayOfStrings(t.getTagsAsArray()),i}})},/*!***************************************************************!*\
  !*** ./app/store/LoadStoreWithAutomaticErrorHandlingMixin.js ***!
  \***************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.store.LoadStoreWithAutomaticErrorHandlingMixin",{requires:["devilry_extjsextras.DjangoRestframeworkProxyErrorHandler","devilry_extjsextras.HtmlErrorDialog"],loadWithAutomaticErrorHandling:function(e){this.load({scope:this,callback:function(t,i){i.success?Ext.callback(e.success,e.scope,[t,i]):this._onLoadFailure(i,e.errortitle)}})},_onLoadFailure:function(e,t){var i=Ext.create("devilry_extjsextras.DjangoRestframeworkProxyErrorHandler",e);i.addErrors(null,e);var n=i.asHtmlList();Ext.widget("htmlerrordialog",{title:t,bodyHtml:n}).show()}})},/*!************************************************!*\
  !*** ./app/store/PassedPreviousPeriodItems.js ***!
  \************************************************/
function(e,t){Ext.define("devilry_subjectadmin.store.PassedPreviousPeriodItems",{extend:"Ext.data.Store",model:"devilry_subjectadmin.model.PassedPreviousPeriodItem",setAssignment:function(e){this.proxy.url=Ext.String.format(this.proxy.urlpatt,e)},loadGroupsInAssignment:function(e,t){this.setAssignment(e),this.load(t)}})},/*!******************************!*\
  !*** ./app/store/Periods.js ***!
  \******************************/
function(e,t){Ext.define("devilry_subjectadmin.store.Periods",{extend:"Ext.data.Store",model:"devilry_subjectadmin.model.Period",loadPeriodsInSubject:function(e,t,i){this.proxy.extraParams.parentnode=e,this.load({scope:i,callback:t})}})},/*!***************************************!*\
  !*** ./app/store/RelatedExaminers.js ***!
  \***************************************/
function(e,t){Ext.define("devilry_subjectadmin.store.RelatedExaminers",{extend:"devilry_subjectadmin.store.AbstractRelatedUsers",model:"devilry_subjectadmin.model.RelatedExaminer",setPeriod:function(e){this.proxy.url=Ext.String.format(this.proxy.urlpatt,e)}})},/*!*****************************************!*\
  !*** ./app/store/RelatedExaminersRo.js ***!
  \*****************************************/
function(e,t){Ext.define("devilry_subjectadmin.store.RelatedExaminersRo",{extend:"devilry_subjectadmin.store.AbstractRelatedUsers",model:"devilry_subjectadmin.model.RelatedExaminerRo",setAssignment:function(e){this.proxy.url=Ext.String.format(this.proxy.urlpatt,e)}})},/*!**************************************!*\
  !*** ./app/store/RelatedStudents.js ***!
  \**************************************/
function(e,t){Ext.define("devilry_subjectadmin.store.RelatedStudents",{extend:"devilry_subjectadmin.store.AbstractRelatedUsers",model:"devilry_subjectadmin.model.RelatedStudent",setPeriod:function(e){this.proxy.url=Ext.String.format(this.proxy.urlpatt,e)}})},/*!****************************************!*\
  !*** ./app/store/RelatedStudentsRo.js ***!
  \****************************************/
function(e,t){Ext.define("devilry_subjectadmin.store.RelatedStudentsRo",{extend:"devilry_subjectadmin.store.AbstractRelatedUsers",model:"devilry_subjectadmin.model.RelatedStudentRo",setAssignment:function(e){this.proxy.url=Ext.String.format(this.proxy.urlpatt,e)}})},/*!**************************************!*\
  !*** ./app/store/SearchForGroups.js ***!
  \**************************************/
function(e,t){Ext.define("devilry_subjectadmin.store.SearchForGroups",{extend:"devilry_subjectadmin.store.Groups",proxy:{type:"rest",urlpatt:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_subjectadmin/rest/group/{0}/",url:null,extraParams:{format:"json"},reader:{type:"json"}}})},/*!*************************************!*\
  !*** ./app/store/SelectedGroups.js ***!
  \*************************************/
function(e,t){Ext.define("devilry_subjectadmin.store.SelectedGroups",{extend:"devilry_subjectadmin.store.Groups",proxy:"memory"})},/*!********************************************!*\
  !*** ./app/store/SingleGroupCandidates.js ***!
  \********************************************/
function(e,t){Ext.define("devilry_subjectadmin.store.SingleGroupCandidates",{extend:"Ext.data.Store",model:"devilry_subjectadmin.model.Candidate"})},/*!*******************************************!*\
  !*** ./app/store/SingleGroupExaminers.js ***!
  \*******************************************/
function(e,t){Ext.define("devilry_subjectadmin.store.SingleGroupExaminers",{extend:"Ext.data.Store",model:"devilry_subjectadmin.model.Examiner"})},/*!**************************************!*\
  !*** ./app/store/SingleGroupTags.js ***!
  \**************************************/
function(e,t){Ext.define("devilry_subjectadmin.store.SingleGroupTags",{extend:"Ext.data.Store",model:"devilry_subjectadmin.model.Tag"})},/*!*******************************!*\
  !*** ./app/store/Subjects.js ***!
  \*******************************/
function(e,t){Ext.define("devilry_subjectadmin.store.Subjects",{extend:"Ext.data.Store",model:"devilry_subjectadmin.model.Subject"})},/*!****************************!*\
  !*** ./app/utils/Array.js ***!
  \****************************/
function(e,t){Ext.define("devilry_subjectadmin.utils.Array",{singleton:!0,_findMatchingItem:function(e,t,i){for(var n=0;n<t.length;n++){var r=t[n];if(i(e,r))return{sourceItem:r,sourceIndex:n}}return null},mergeIntoArray:function(e){for(var t={},i=0;i<e.destinationArray.length;i++){var n=e.destinationArray[i],r=this._findMatchingItem(n,e.sourceArray,e.isEqual);r?(Ext.callback(e.onMatch,e.scope,[n,i,r.sourceItem]),t[r.sourceIndex]=!0):Ext.callback(e.onNoMatch,e.scope,[n,i])}for(var o=0;o<e.sourceArray.length;o++)if(!t[o]){var a=e.sourceArray[o];e.onAdd(a)}}})},/*!***************************************!*\
  !*** ./app/utils/AutoGenShortname.js ***!
  \***************************************/
function(e,t){Ext.define("devilry_subjectadmin.utils.AutoGenShortname",{singleton:!0,charcodes:{space:32,dash:45,underscore:95,a:97,z:122,zero:48,nine:57},_inRange:function(e,t,i){return e>=t&&e<=i},autogenShortname:function(e){var t="";e=e.toLowerCase();for(var i=0;i<e.length;i++){var n=e.charCodeAt(i),r=e.charAt(i),o=this._inRange(n,this.charcodes.a,this.charcodes.z),a=this._inRange(n,this.charcodes.zero,this.charcodes.nine),s=n==this.charcodes.dash||n==this.charcodes.underscore,l=n==this.charcodes.space;o||a||s?t+=r:l&&(t+="-")}return t.length<20&&t.length>e.length/2?t:""}})},/*!***********************************!*\
  !*** ./app/utils/BaseNodeHelp.js ***!
  \***********************************/
function(e,t){Ext.define("devilry_subjectadmin.utils.BaseNodeHelp",{singleton:!0,getShortNameHelp:function(){return gettext("A short name with at most 20 letters. Can only contain lowercase english letters (a-z), numbers, underscore ('_') and hyphen ('-'). This is used the the regular name takes to much space.")},getLongNameHelp:function(){return gettext("May contain any characters, including language-specific characters.")},getShortAndLongNameHelp:function(){return[gettext("Choose a long and a short name. Short name is used in places where long name takes too much space, such as table headers and navigation."),gettext("The short name can contain up to 20 letters, and it can only contain lowercase english letters (<em>a-z</em>), <em>numbers</em>, <em>'_'</em> and <em>'-'</em>.")].join(" ")}})},/*!**********************************************!*\
  !*** ./app/utils/BasenodeBreadcrumbMixin.js ***!
  \**********************************************/
function(e,t){Ext.define("devilry_subjectadmin.utils.BasenodeBreadcrumbMixin",{requires:["devilry_subjectadmin.utils.UrlLookup"],_getBreadcrumbPrefix:function(e){var t=this.application.userInfoRecord;return t.isSubjectPeriodOrAssignmentAdmin()?[{text:gettext("Course manager"),url:"#"},{text:gettext("All my courses"),url:"#/"}]:[]},_addBasenodeBreadcrumbToBreadcrumb:function(e,t,i){var n=t.get("breadcrumb");Ext.each(n,function(t,r){var o=r===n.length-1;if(o&&i)return!1;var a=devilry_subjectadmin.utils.UrlLookup.overviewByType(t.type,t.id);e.push({text:t.text,url:a})},this)},setBreadcrumb:function(e){var t=this._getBreadcrumbPrefix(e);this._addBasenodeBreadcrumbToBreadcrumb(t,e,!0);var i=e.get("breadcrumb"),n=i[i.length-1];this.application.breadcrumbs.set(t,n.text)},setSubviewBreadcrumb:function(e,t,i,n){var r=this._getBreadcrumbPrefix(e);this._addBasenodeBreadcrumbToBreadcrumb(r,e),r=r.concat(i),this.application.breadcrumbs.set(r,n)},setLoadingBreadcrumb:function(){this.application.breadcrumbs.set([],gettext("Loading")+" ...")},getPathFromBreadcrumb:function(e){var t=[];return Ext.Array.each(e.get("breadcrumb"),function(e){return"Node"!==e.type&&void t.push(e.text)},this,!0),t.reverse(),t.join(".")}})},/*!**********************************!*\
  !*** ./app/utils/Breadcrumbs.js ***!
  \**********************************/
function(e,t){Ext.define("devilry_subjectadmin.utils.Breadcrumbs",{extend:"devilry_header.Breadcrumbs"})},/*!**********************************************************!*\
  !*** ./app/utils/DjangoRestframeworkLoadFailureMixin.js ***!
  \**********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.utils.DjangoRestframeworkLoadFailureMixin",{requires:["devilry_extjsextras.DjangoRestframeworkProxyErrorHandler"],onLoadFailure:function(e){var t=Ext.create("devilry_extjsextras.DjangoRestframeworkProxyErrorHandler",e);t.addErrors(null,e),this.getGlobalAlertmessagelist().addMany(t.errormessages,"error",!0)}})},/*!*********************************************************!*\
  !*** ./app/utils/DjangoRestframeworkProxyErrorMixin.js ***!
  \*********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.utils.DjangoRestframeworkProxyErrorMixin",{requires:["devilry_extjsextras.DjangoRestframeworkProxyErrorHandler","devilry_extjsextras.form.ErrorUtils","devilry_extjsextras.HtmlErrorDialog"],handleProxyError:function(e,t,i,n){var r=Ext.create("devilry_extjsextras.DjangoRestframeworkProxyErrorHandler");r.addErrors(i,n),e.addMany(r.errormessages,"error",!0),"undefined"!=typeof t&&(devilry_extjsextras.form.ErrorUtils.addFieldErrorsToAlertMessageList(t,r.fielderrors,e),devilry_extjsextras.form.ErrorUtils.markFieldErrorsAsInvalid(t,r.fielderrors))},handleProxyErrorNoForm:function(e,t,i){this.handleProxyError(e,void 0,t,i)},handleProxyUsingHtmlErrorDialog:function(e,t){var i=Ext.create("devilry_extjsextras.DjangoRestframeworkProxyErrorHandler");i.addErrors(e,t),Ext.widget("htmlerrordialog",{bodyHtml:i.asHtmlList()}).show()}})},/*!******************************************!*\
  !*** ./app/utils/LoadAssignmentMixin.js ***!
  \******************************************/
function(e,t){Ext.define("devilry_subjectadmin.utils.LoadAssignmentMixin",{loadAssignment:function(e){this.getAssignmentModel().load(e,{scope:this,callback:function(e,t){t.success?this.onLoadAssignmentSuccess(e):this.onLoadAssignmentFailure(t)}})}})},/*!********************************!*\
  !*** ./app/utils/UrlLookup.js ***!
  \********************************/
function(e,t){Ext.define("devilry_subjectadmin.utils.UrlLookup",{singleton:!0,subjectOverview:function(e){return Ext.String.format("#/subject/{0}/",e)},createNewPeriod:function(e){return Ext.String.format("#/subject/{0}/@@create-new-period",e)},periodOverview:function(e){return Ext.String.format("#/period/{0}/",e)},createNewAssignment:function(e,t){var i="";return t&&(i=Ext.Object.toQueryString(t)),Ext.String.format("#/period/{0}/@@create-new-assignment/{1}",e,i)},manageRelatedStudents:function(e){return Ext.String.format("#/period/{0}/@@relatedstudents",e)},manageRelatedExaminers:function(e){return Ext.String.format("#/period/{0}/@@relatedexaminers",e)},detailedPeriodOverview:function(e){return Ext.String.format("#/period/{0}/@@detailedoverview",e)},assignmentOverview:function(e){return Ext.String.format("#/assignment/{0}/",e)},editGradeEditor:function(e){return Ext.String.format("{0}/devilry_gradingsystem/admin/summary/{1}",window.DevilrySettings.DEVILRY_URLPATH_PREFIX,e)},detektorAdminAssemblyView:function(e){return Ext.String.format("{0}/devilry_detektor/admin/assignmentassembly/{1}",window.DevilrySettings.DEVILRY_URLPATH_PREFIX,e)},passedPreviousPeriod:function(e){return Ext.String.format("#/assignment/{0}/@@passed-previous-period",e)},assignmentExaminerStats:function(e){return Ext.String.format("#/assignment/{0}/@@examinerstats",e)},manageStudents:function(e){return Ext.String.format("#/assignment/{0}/@@manage-students/",e)},manageSpecificGroups:function(e,t){var i=this.manageSpecificGroupsPrefix(e);return Ext.String.format("{0}{1}",i,t.join(","))},manageSpecificGroupsPrefix:function(e){return Ext.String.format("#/assignment/{0}/@@manage-students/@@select/",e)},manageStudentsAddStudents:function(e){return Ext.String.format("#/assignment/{0}/@@manage-students/@@add-students",e)},manageGroupAndShowDeliveryPrefix:function(e,t){return Ext.String.format("#/assignment/{0}/@@manage-students/@@select-delivery/{1}/",e,t)},bulkManageDeadlines:function(e){return Ext.String.format("#/assignment/{0}/@@bulk-manage-deadlines/",e)},bulkManageAddDeadlines:function(e){return this.bulkManageDeadlines(e)+"@@add"},bulkManageSpecificDeadline:function(e,t){var i=this.bulkManageDeadlines(e);return Ext.String.format("{0}{1}",i,t)},bulkEditSpecificDeadline:function(e,t){var i=this.bulkManageDeadlines(e);return Ext.String.format("{0}@@edit/{1}",i,t)},overviewByType:function(e,t){return"Assignment"===e?this.assignmentOverview(t):"Period"===e?this.periodOverview(t):"Subject"===e?this.subjectOverview(t):"Node"===e?this.nodeadminNodeOverview(t):void Ext.Error.raise({msg:"The given type does not have an overview",type:e,id:t})},updateAssignment:function(e){return Ext.String.format("{0}/devilry_subjectadmin/assignment/{1}/update",window.DevilrySettings.DEVILRY_URLPATH_PREFIX,e)},nodeadminNodeOverview:function(e){return Ext.String.format("{0}/devilry_nodeadmin/#/node/{1}",window.DevilrySettings.DEVILRY_URLPATH_PREFIX,e)},nodeadminDashboard:function(){return Ext.String.format("{0}/devilry_nodeadmin/",window.DevilrySettings.DEVILRY_URLPATH_PREFIX)},examinerGroupOverview:function(e){return Ext.String.format("{0}/devilry_examiner/singlegroupoverview/{1}",window.DevilrySettings.DEVILRY_URLPATH_PREFIX,e)},examinerGroupsOverviewTodo:function(e){return Ext.String.format("{0}/devilry_examiner/allgroupsoverview/{1}",window.DevilrySettings.DEVILRY_URLPATH_PREFIX,e)},examinerGroupsOverviewStudents:function(e){return this.examinerGroupsOverviewTodo(e)}})},/*!********************************************************!*\
  !*** ./app/utils/managestudents/MergeDataIntoGroup.js ***!
  \********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.utils.managestudents.MergeDataIntoGroup",{singleton:!0,requires:["devilry_subjectadmin.utils.Array"],mergeTags:function(e){var t=[],i=e.groupRecord.get("tags");devilry_subjectadmin.utils.Array.mergeIntoArray({destinationArray:i,sourceArray:e.sourceTags,isEqual:function(e,t){return e.tag==t},onMatch:function(e){t.push(e)},onNoMatch:function(i){e.doNotDeleteTags&&t.push(i)},onAdd:function(e){t.push({tag:e})}}),e.groupRecord.set("tags",t)},removeTags:function(e){var t=[],i=e.groupRecord.get("tags");devilry_subjectadmin.utils.Array.mergeIntoArray({destinationArray:i,sourceArray:e.sourceTags,isEqual:function(e,t){return e.tag==t},onMatch:function(e){},onNoMatch:function(e){t.push(e)},onAdd:function(e){}}),e.groupRecord.set("tags",t)},mergeExaminers:function(e){var t=[],i=e.groupRecord.get("examiners");devilry_subjectadmin.utils.Array.mergeIntoArray({destinationArray:i,sourceArray:e.userRecords,isEqual:function(e,t){return e.user.id==t.get("id")},onMatch:function(e){t.push(e)},onNoMatch:function(i){e.doNotDeleteUsers&&t.push(i)},onAdd:function(e){t.push({user:{id:e.get("id")}})}}),e.groupRecord.set("examiners",t)},removeExaminers:function(e){var t=[],i=e.groupRecord.get("examiners");devilry_subjectadmin.utils.Array.mergeIntoArray({destinationArray:i,sourceArray:e.userRecords,isEqual:function(t,i){var n=e.getUserId(i);return t.user.id==n},onMatch:function(e){},onNoMatch:function(e){t.push(e)},onAdd:function(e){}}),e.groupRecord.set("examiners",t)}})},/*!*******************************!*\
  !*** ./app/view/AdminsBox.js ***!
  \*******************************/
function(e,t){Ext.define("devilry_subjectadmin.view.AdminsBox",{extend:"Ext.Container",alias:"widget.adminsbox",cls:"devilry_subjectadmin_adminsbox bootstrap",requires:["devilry_subjectadmin.utils.UrlLookup","devilry_subjectadmin.view.ManageAdminsPanel","devilry_extjsextras.AutoSizedWindow","devilry_extjsextras.MarkupMoreInfoBox"],layout:"anchor",defaults:{anchor:"100%"},adminsTpl:["<h4>",gettext("Administrator rights"),"</h4>",'<p class="muted">',"<small>",gettext("{admincount} users have administrator rights on this item.")," {MORE_BUTTON}","</small>","</p>","<div {MORE_ATTRS}>","<h5>",gettext("How administrator rights work"),"</h5>","<p>",gettext("Devilry has a very simple permission system for administrators. You are either administrator on an item, or you have no access to the administrator views for an item."),"</p>","<p>",gettext("Administrators can be set anywhere in the hierarchy, from nodes on the top, to assignments at the bottom, and permissions propagate downwards in the hierarchy."),"</p>","<h5>",gettext("Administrators on this item"),"</h5>",'<tpl if="admins.length &gt; 0">','<p><small class="muted">',gettext("These are the administrators on this item."),"</small></p>",'<ul class="devilry_subjectadmin_administratorlist unstyled">','<tpl for="admins">','<li class="administratorlistitem administratorlistitem_{username}">','<a href="mailto:{email}" class="mail-link-right">','<tpl if="full_name != null">',"{full_name}","</tpl>",'<tpl if="full_name == null">',"{username}","</tpl>","</a>","</li>","</tpl>","</ul>","<p>",' <a href="#" class="btn editadmins_link">',gettext("Add or edit administrators"),"</a>","</p>","<tpl else>","<p>",'<small class="muted">',gettext("No administrators"),"</small>","</p>","<p>",' <a href="#" class="btn editadmins_link">',gettext("Add administrators"),"</a>","</p>","</tpl>",'<tpl if="inherited_admins.length &gt; 0">',"<h5>",gettext("Other administrators"),"</h5>",'<ul class="devilry_subjectadmin_inherited_administratorlist unstyled">','<tpl for="inherited_admins">','<li class="inherited_administratorlistitem inherited_administratorlistitem_{user.username}">','<a href="mailto:{user.email}" class="mail-link-right">','<tpl if="user.full_name != null">',"{user.full_name}","</tpl>",'<tpl if="user.full_name == null">',"{user.username}","</tpl>","</a>",' <tpl if="basenode.is_admin">','<small>(<a href="{url}">{basenode.path})</a></small>',"<tpl else>",'<small class="muted">({basenode.path})</small>',"</tpl>","</li>","</tpl>","</ul>","</tpl>","<div>"],_get_inherited_with_urls:function(e){var t=Ext.clone(e.get("inherited_admins"));return Ext.Array.each(t,function(e){e.url=devilry_subjectadmin.utils.UrlLookup.overviewByType(e.basenode.type,e.basenode.id)},this),t},initComponent:function(){this.callParent(arguments),this.add({xtype:"box",html:gettext("Loading")+" ..."})},setBasenodeRecord:function(e){this.setLoading(!1),this.basenodeRecord=e,this._updateView()},_updateView:function(){this.removeAll();var e=Ext.clone(this.basenodeRecord.get("admins"));e=e.sort(function(e,t){var i=e.full_name||e.username,n=t.full_name||t.username;return i.localeCompare(n)});var t=this._get_inherited_with_urls(this.basenodeRecord);this.add([{xtype:"markupmoreinfobox",moreCls:"",moretext:gettext("Details"),lesstext:gettext("Hide details"),tpl:this.adminsTpl,data:{admins:e,inherited_admins:t,admincount:e.length+t.length},listeners:{scope:this,element:"el",delegate:"a.editadmins_link",click:function(e){e.preventDefault(),this._onEdit()}}}])},_onEdit:function(){Ext.widget("devilry_extjsextras_autosizedwindow",{closable:!0,width:950,height:550,maximizable:!1,modal:!0,title:gettext("Edit administrators"),layout:"border",items:[{xtype:"manageadminspanel",region:"center",basenodeRecord:this.basenodeRecord,listeners:{scope:this,usersAdded:function(e){this._updateView()},usersRemoved:function(e){this._updateView()}}},{xtype:"panel",region:"east",width:250,bodyPadding:"20",bodyCls:"bootstrap",autoScroll:!0,border:!1,tpl:["<p>",gettext("Use the field at the bottom of this window to search for users. When you select a user from the search results, they are immediatly made administrator. Close the window or hit ESC when you are finished."),"</p>","<p>",gettext("Select one or more users and click the remove-button to remove them from administrators."),"</p>","<p>",'<span class="text-warning">',gettext("You can remove yourself from administrators."),"</span> ",'<small class="muted">',gettext("If you remove yourself by accident, you need to ask another administrator to re-add you. Close this window and use the list of administrators and other administrators to get in touch with them."),"</small>","</p>"],data:{}}]}).show()}})},/*!**************************************!*\
  !*** ./app/view/DangerousActions.js ***!
  \**************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.DangerousActions",{extend:"devilry_extjsextras.UnfocusedContainer",alias:"widget.dangerousactions",cls:"devilry_subjectadmin_dangerousactions",title:gettext("Dangerous actions"),titleTpl:"<h2>{heading}</h2>",defaultOpacity:.5,hoverOpacity:1,initComponent:function(){Ext.apply(this,{items:[{xtype:"box",cls:"bootstrap header",itemId:"header",tpl:this.titleTpl,data:{heading:this.title}},{xtype:"container",padding:"10 10 10 10",cls:"body",layout:"anchor",defaults:{anchor:"100%",margin:"10 0 0 0",bodyTpl:'<p class="muted">{html}</p>'},items:this.items}]}),this.callParent(arguments)}})},/*!***********************************************************!*\
  !*** ./app/view/DeleteDjangoRestframeworkRecordDialog.js ***!
  \***********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.DeleteDjangoRestframeworkRecordDialog",{extend:"devilry_extjsextras.ConfirmDeleteDialog",mixins:{handleProxyError:"devilry_subjectadmin.utils.DjangoRestframeworkProxyErrorMixin"},statics:{showIfCanDelete:function(e){if(e.basenodeRecord.get("can_delete"))Ext.create("devilry_subjectadmin.view.DeleteDjangoRestframeworkRecordDialog",e).show();else{var t=gettext("You do not have permissions required to delete {short_description}. Only superusers can delete non-empty items. You can only delete items where you are admin on an item higher up in the hierarchy.");Ext.Msg.show({title:gettext("Permission denied"),icon:Ext.Msg.INFO,buttons:Ext.Msg.OK,msg:Ext.create("Ext.XTemplate",t).apply({short_description:e.short_description})})}}},initComponent:function(){this.addEvents({deleteSuccess:!0}),this.callParent(arguments),this.mon(this.basenodeRecord.proxy,{scope:this,exception:this._onProxyError}),this.on({scope:this,deleteConfirmed:this._onDeleteConfirmed})},_onProxyError:function(e,t,i){var n=this.down("alertmessagelist"),r=this.down("form");this.handleProxyError(n,r,t,i)},_onDeleteConfirmed:function(){this.basenodeRecord.destroy({scope:this,success:this._onDeleteSuccessful})},_onDeleteSuccessful:function(){this.fireEvent("deleteSuccess"),this.close()}})},/*!******************************************!*\
  !*** ./app/view/EditSidebarContainer.js ***!
  \******************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.EditSidebarContainer",{extend:"devilry_extjsextras.UnfocusedContainer",alias:"widget.editsidebarcontainer",cls:"devilry_subjectadmin_editsidebarcontainer",defaultOpacity:1,hoverOpacity:1,mouseEnterExtras:function(){this.getEl().addCls("devilry_subjectadmin_editsidebarcontainer_hover")},mouseLeaveExtras:function(){this.getEl().removeCls("devilry_subjectadmin_editsidebarcontainer_hover")}})},/*!***************************************!*\
  !*** ./app/view/ManageAdminsPanel.js ***!
  \***************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.ManageAdminsPanel",{extend:"devilry_usersearch.AbstractManageUsersPanel",alias:"widget.manageadminspanel",cls:"devilry_subjectadmin_manageadminspanel",requires:["devilry_usersearch.ManageUsersGridModel","devilry_extjsextras.DjangoRestframeworkProxyErrorHandler","devilry_extjsextras.HtmlErrorDialog"],constructor:function(e){this.store=Ext.create("Ext.data.Store",{model:"devilry_usersearch.ManageUsersGridModel"}),this.callParent([e]),this.mon(this.basenodeRecord.proxy,{scope:this,exception:this._onProxyError}),this._resetStore()},_resetStore:function(){this.store.removeAll(),Ext.each(this.basenodeRecord.get("admins"),function(e){this.store.add(e)},this),this.store.sort([{sorterFn:function(e,t){var i=e.get("full_name")||e.get("username"),n=t.get("full_name")||t.get("username");return i.localeCompare(n)}}])},_mask:function(e){this.setLoading(e)},_unmask:function(){this.setLoading(!1)},_onProxyError:function(e,t,i){this._unmask();var n=Ext.create("devilry_extjsextras.DjangoRestframeworkProxyErrorHandler",i);n.addErrors(t,i);var r=n.asHtmlList();Ext.widget("htmlerrordialog",{bodyHtml:r}).show()},addUser:function(e){this.basenodeRecord.get("admins").push({id:e.get("id")}),this._mask(gettext("Saving")+" ..."),this.basenodeRecord.save({scope:this,success:function(){this._unmask(),this._resetStore(),this.onUserAdded(e)}})},_getRemainingAfterRemove:function(e){var t=[];Ext.each(e,function(e){t.push(e.get("id"))});var i=[];return Ext.each(this.basenodeRecord.get("admins"),function(e){t.indexOf(e.id)==-1&&i.push(e)}),i},removeUsers:function(e){var t=this._getRemainingAfterRemove(e);this.basenodeRecord.set("admins",t),this._mask(gettext("Saving")+" ..."),this.basenodeRecord.save({scope:this,success:function(){this._unmask(),this._resetStore(),this.onUsersRemoved(e)}})}})},/*!******************************************!*\
  !*** ./app/view/RenameBasenodeWindow.js ***!
  \******************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.RenameBasenodeWindow",{extend:"Ext.window.Window",cls:"devilry_rename_basenode_window bootstrap",requires:["devilry_extjsextras.DjangoRestframeworkProxyErrorHandler","devilry_extjsextras.form.ErrorUtils","devilry_extjsextras.AlertMessageList","devilry_extjsextras.CancelButton","devilry_extjsextras.form.Help","devilry_extjsextras.SaveButton","devilry_subjectadmin.utils.BaseNodeHelp"],mixins:{handleProxyError:"devilry_subjectadmin.utils.DjangoRestframeworkProxyErrorMixin"},_apply_template:function(e,t){return Ext.create("Ext.XTemplate",e).apply(t)},initComponent:function(){var e=this._apply_template(gettext("Rename {something}"),{something:this.basenodeRecord.get("short_name")});this.originalShortname=this.basenodeRecord.get("short_name"),this.originalLongname=this.basenodeRecord.get("long_name"),Ext.apply(this,{layout:"fit",width:600,height:370,closable:!1,modal:!0,title:e,items:{xtype:"form",bodyPadding:20,autoScroll:!0,border:0,layout:"anchor",defaults:{anchor:"100%"},items:[{xtype:"alertmessagelist"},{name:"short_name",fieldLabel:gettext("Short name"),xtype:"textfield",allowBlank:!1,value:this.originalShortname,listeners:{scope:this,render:function(e){Ext.defer(function(){e.focus()},300)}}},{xtype:"formhelp",html:devilry_subjectadmin.utils.BaseNodeHelp.getShortNameHelp(),margin:"5 0 0 0"},{name:"long_name",fieldLabel:gettext("Long name"),value:this.originalLongname,xtype:"textfield",allowBlank:!1,margin:"10 0 0 0"},{xtype:"formhelp",html:devilry_subjectadmin.utils.BaseNodeHelp.getLongNameHelp(),margin:"5 0 0 0"}],buttons:["->",{xtype:"cancelbutton",listeners:{scope:this,click:function(){this._close()}}},{xtype:"savebutton",formBind:!0,listeners:{scope:this,click:this._onSave}}],listeners:{scope:this,render:this._onRenderForm}}}),this.callParent(arguments),this.mon(this.basenodeRecord.proxy,{scope:this,exception:this._onProxyError})},_getForm:function(){return this.down("form").getForm()},_getFormPanel:function(){return this.down("form")},_onRenderForm:function(){var e=this._getForm();e.loadRecord(this.basenodeRecord),this.down("form").keyNav=Ext.create("Ext.util.KeyNav",this.down("form").el,{enter:this._onSave,scope:this})},_getMaskElement:function(){return this.down("form")},_onSave:function(){var e=this._getForm(),t=e.getValues(),i=t.short_name,n=t.long_name;if(this.originalShortname!=i||this.originalLongname!=n){var r=this.basenodeRecord;e.updateRecord(r),this._getMaskElement().setLoading(gettext("Saving")+" ..."),r.save({scope:this,success:this._onSaveSuccess})}else this._close()},_onProxyError:function(e,t,i){this._unmask();var n=this.down("alertmessagelist");n.removeAll(),this.handleProxyError(n,this._getFormPanel(),t,i)},_unmask:function(){this._getMaskElement().setLoading(!1)},_onSaveSuccess:function(){this._unmask(),this._close()},_close:function(){window.location.reload()}})},/*!*****************************************!*\
  !*** ./app/view/addgroups/AddGroups.js ***!
  \*****************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.addgroups.AddGroups",{extend:"Ext.panel.Panel",alias:"widget.addgroupspanel",cls:"devilry_subjectadmin_addgroupspanel",requires:["Ext.XTemplate","devilry_extjsextras.form.Help","devilry_extjsextras.PrimaryButton","devilry_extjsextras.GridMultiSelectModel","devilry_subjectadmin.utils.UrlLookup","devilry_extjsextras.MarkupMoreInfoBox","devilry_subjectadmin.view.managestudents.TagsHelp","devilry_extjsextras.form.DateTimeField"],helptpl:['<p class="muted">',gettext("Choose the students you want to add to the assignment, and click {savebuttonlabel}."),"<br/><small> {MORE_BUTTON}</small>","</p>","<div {MORE_ATTRS}>","<p>",gettext("Move your mouse over the checkboxes for help."),"</p>","<h3>",gettext("Missing students?"),"</h3>","<p>",gettext("Only students registered on {periodpath} is available in the list."),"</p>",'<tpl if="is_periodadmin">',"<p>",'<a target="_blank" href="{manageRelatedStudentsUrl}" class="addoreditstudents_link new-window-link">',gettext("Add or edit students on {periodpath}"),"</a>","</p>",'<p class="muted"><small>',gettext("You need to reload this page when you return after adding students."),"</small></p>","<tpl else>",'<p class="text-warning">',gettext("You do not have administrator rights on {periodpath}, so you need to ask someone with administrator rights if you need to add more students than the ones available in the list."),"</p>","</tpl>",'<tpl if="hasIgnored">',"<h3>",gettext("Allow duplicates?"),"</h3>","<p>",gettext("<strong>{ignoredcount}</strong> students are not available in the list because they are already registered on the assignment. Select <em>Allow duplicates</em> if you want to allow students to be in multiple groups on the same assignment."),"</p>","</tpl>","<h3>",gettext("Tags"),"</h3>","<p>{tagsintro}</p>","{tagsdetails}","<p>",gettext("You can copy tags from {periodpath} when you add students. The tags on {periodpath} and tags on assignments in {periodpath} is not kept in sync after you add students to the assignment, so you can safely edit tags on the assignment without affecting any other assignments or {periodpath}."),"</p>","</div>"],initComponent:function(){this.userCellTemplate=new Ext.XTemplate('<div class="userinfo userinfo_{username}">','<div class="full_name"><strong>','<tpl if="full_name"><strong>',"{full_name}","</strong><tpl else><em>",gettext("Full name missing"),"</em></tpl>","</strong></div>",'<div class="username"><small class="muted">{username}</small></div>',"</div>"),this.tagsAndExaminersCellTemplate=new Ext.XTemplate('<ul class="unstyled tags_and_examiners tags_and_examiners_{username}">','<tpl for="tagsAndExaminers">','<li class="tag_{tag}">','<span class="tag">{tag}</span>: ','<small class="examiners muted">','<tpl if="examiners">','<tpl for="examiners">','<tpl if="data.user.full_name">',"{data.user.full_name}","<tpl else>","{data.user.username}","</tpl>",'<tpl if="xindex != xcount">, </tpl>',"</tpl>","<tpl else>",'<span class="text-warning">',gettext("No matching examiners"),"</em>","</tpl>","</small>","</li>","</tpl>","</ul>"),this.tagsCellTemplate=new Ext.XTemplate('<ul class="unstyled tags tags_{username}">','<tpl for="tags">',"<li>{.}</li>","</tpl>","</ul>");var e=Ext.create("devilry_extjsextras.GridMultiSelectModel");Ext.apply(this,{layout:"border",bodyPadding:20,items:[{xtype:"grid",region:"center",itemId:"studentsGrid",cls:"bootstrap relatedstudentsgrid",store:"RelatedStudentsRo",selModel:e,columns:this._getGridColumns(),tbar:[{text:gettext("Select"),menu:[{text:gettext("Select all"),itemId:"selectAll"},{text:gettext("Deselect all"),itemId:"deselectAll"}]},{xtype:"addgroupsallowduplicatescheckbox",margin:"0 0 0 20"}],buttons:["->",{xtype:"checkbox",cls:"includetagscheckbox",itemId:"includeTagsCheckbox",checked:!0,boxLabel:gettext("Include tags"),tooltip:interpolate(gettext("Check this to tag the added students with the tags they have on %(periodpath)s. Keep this checked if you are unsure of what to do. When this is checked, tags are displayed in the second column of the table."),{periodpath:Ext.String.format("<em>{0}</em>",this.periodinfo.path)},!0)},{xtype:"checkbox",cls:"autosetexaminerscheckbox",checked:!1,tooltip:gettext("Check this to automatically set examiners that have at least one tag in common with a student as their examiner on this assignment. When this is checked, the result of the tag-matching is displayed in the second column of the table."),itemId:"automapExaminersCheckbox",boxLabel:gettext("Autoset examiners by tags")},{xtype:"primarybutton",cls:"addselectedbutton",disabled:!0,itemId:"saveButton",text:gettext("Add selected students")}]},{xtype:"panel",cls:"sidebarpanel",border:!1,region:"west",autoScroll:!0,width:370,bodyPadding:"0 40 0 0",layout:"anchor",items:[{anchor:"100%",region:"center",xtype:"markupmoreinfobox",moretext:gettext("More help")+" ...",lesstext:gettext("Less help")+" ...",tpl:this.helptpl,data:{periodpath:this.periodinfo.path,is_periodadmin:this.periodinfo.is_admin,hasIgnored:this.ignoredcount>0,ignoredcount:this.ignoredcount,manageRelatedStudentsUrl:devilry_subjectadmin.utils.UrlLookup.manageRelatedStudents(this.periodinfo.id),savebuttonlabel:Ext.String.format("<em>{0}</em>",gettext("Add selected students")),tagsintro:devilry_subjectadmin.view.managestudents.TagsHelp.getIntroText(),tagsdetails:devilry_subjectadmin.view.managestudents.TagsHelp.getDetailsUl()}},{xtype:"form",margin:"20 0 0 0",anchor:"100%",itemId:"firstDeadlineForm",border:0,layout:"anchor",cls:"bootstrap",items:[{xtype:"devilry_extjsextras-datetimefield",fieldLabel:gettext("Submission date"),labelAlign:"top",labelStyle:"font-weight: bold",width:240,cls:"first_deadline_field",name:"first_deadline"},{xtype:"box",anchor:"100%",html:['<p class="muted"><small>',gettext("Students must submit their delivery before this time. This becomes their first deadline on this assignment, and it can be edited just like any other deadline."),"</small></p>"].join("")}]}]}]}),this.callParent(arguments)},_getGridColumns:function(){var e=!0,t=!1,i=!1,n=!1;e&&t?i=!0:e&&(n=!0);var r=[{header:gettext("Name"),dataIndex:"id",menuDisabled:!0,sortable:!1,flex:4,renderer:Ext.bind(this._renderUserCell,this)},{header:gettext("Tags and matching examiners"),dataIndex:"tags",menuDisabled:!0,sortable:!1,flex:6,hidden:!i,itemId:"tagsAndExaminersColumn",renderer:Ext.bind(this._renderTagsAndExaminersCell,this)},{header:gettext("Tags"),dataIndex:"tags",menuDisabled:!0,sortable:!1,flex:4,hidden:!n,itemId:"tagsColumn",renderer:Ext.bind(this._renderTagsCell,this)}];return r},_renderUserCell:function(e,t,i){return this.userCellTemplate.apply(i.get("user"))},_renderTagsCell:function(e,t,i){return this.tagsCellTemplate.apply({tags:i.getTagsAsArray(),username:i.get("user").username})},_renderTagsAndExaminersCell:function(e,t,i){for(var n=i.getTagsAsArray(),r=[],o=0;o<n.length;o++){var a=n[o],s=this.relatedExaminersMappedByTag[a];r.push({tag:a,examiners:s})}return this.tagsAndExaminersCellTemplate.apply({tagsAndExaminers:r,username:i.get("user").username})}})},/*!**********************************************!*\
  !*** ./app/view/addgroups/AllIgnoredHelp.js ***!
  \**********************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.addgroups.AllIgnoredHelp",{extend:"Ext.panel.Panel",alias:"widget.addgroupsallignored",cls:"devilry_subjectadmin_addgroupsallignoredhelp bootstrap",requires:["Ext.form.FieldSet"],bodyPadding:40,items:[{xtype:"box",itemId:"help"},{xtype:"fieldset",margin:"20 0 0 0",collapsible:!0,collapsed:!0,title:gettext("Advanced options"),items:[{xtype:"box",cls:"bootstrap",html:["<h2>",gettext("Allow duplicates?"),"</h2>","<p>",gettext("If you want to add the same student to more than one group on this assignment, click the button below. The use-case for this feature is if you have project assignments where students are in more than one project group. <strong>Keep this unchecked if you are unsure of what to do</strong>."),"</p>"].join("")},{xtype:"button",itemId:"allowDuplicatesButton",text:"Allow duplicates"}]}],setBody:function(e,t){var i=Ext.create("Ext.XTemplate","<h1>",gettext("No students available"),"</h1>",'<tpl if="periodHasStudents">',"<p>",gettext("All students registered on {periodpath} is already registered on the assignment."),"</p>","<tpl else>",'<p class="text-warning no_students_on_period_warning">',gettext("There is no students on {periodpath}. Only students registered on {periodpath} can be added to this assignment."),"</p>","</tpl>",'<tpl if="isPeriodadmin">','<p><strong><a target="_blank" href="{manageRelatedStudentsUrl}" class="add_more_students_to_period_link new-window-link">',gettext("Add students to {periodpath}"),"</a></strong></p>","<p>",gettext("When you return to this page, reload it to see newly added students."),"</p>","<tpl else>",'<p class="text-warning not_periodadmin_warning">',gettext("You do not have administrator rights on {periodpath}, so you need to ask someone with administrator rights if you need to add more students."),"</p>","</tpl>").apply({periodpath:e.path,periodHasStudents:t>0,isPeriodadmin:e.is_admin,manageRelatedStudentsUrl:devilry_subjectadmin.utils.UrlLookup.manageRelatedStudents(e.id)});this.down("#help").update(i)}})},/*!*******************************************************!*\
  !*** ./app/view/addgroups/AllowDuplicatesCheckbox.js ***!
  \*******************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.addgroups.AllowDuplicatesCheckbox",{extend:"Ext.form.field.Checkbox",alias:"widget.addgroupsallowduplicatescheckbox",cls:"devilry_subjectadmin_addgroupsallowduplicatescheckbox",itemId:"allowDuplicatesCheckbox",boxLabel:gettext("Allow duplicates"),tooltip:gettext("Uncheck this to hide any students already in a group from the list below.")})},/*!****************************************!*\
  !*** ./app/view/addgroups/Overview.js ***!
  \****************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.addgroups.Overview",{extend:"Ext.panel.Panel",alias:"widget.addgroupsoverview",cls:"devilry_subjectadmin_addstudentsoverview",requires:[],layout:"card",setBody:function(e){this.removeAll(),this.add([e,{xtype:"addgroupsallignored"}])}})},/*!*********************************************************!*\
  !*** ./app/view/allwhereisadmin/AllWhereIsAdminList.js ***!
  \*********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.allwhereisadmin.AllWhereIsAdminList",{extend:"Ext.Component",alias:"widget.allwhereisadminlist",cls:"devilry_subjectadmin_allwhereisadminlist bootstrap",tpl:['<tpl for="subjects">','<h3 class="subject subject_{data.short_name}">','<tpl if="data.can_administer">','<a href="#/subject/{data.id}/">',"{data.long_name}","</a>","<tpl else>","{data.long_name}","</tpl>","</h3>",'<ul class="unstyled">','<tpl for="data.periods">','<tpl if="can_administer">',"<li>",'<a href="#/period/{id}/">',"{[Ext.String.ellipsis(values.long_name, 40)]}","</a>","</li>","<tpl else>",'<tpl for="assignments">','<li><a href="#/assignment/{id}/">',"{parent.short_name} - ","{[Ext.String.ellipsis(values.long_name, 40)]}","</a></li>","</tpl>","</tpl>","</tpl>","</ul>","</tpl>"],data:{subjects:[]}})},/*!**********************************************************!*\
  !*** ./app/view/allwhereisadmin/AllWhereIsAdminPanel.js ***!
  \**********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.allwhereisadmin.AllWhereIsAdminPanel",{extend:"Ext.container.Container",alias:"widget.allwhereisadminpanel",cls:"dashboard",requires:["devilry_subjectadmin.view.allwhereisadmin.AllWhereIsAdminList"],layout:"anchor",frame:!1,border:0,padding:"20 40 20 40",autoScroll:!0,items:[{xtype:"box",cls:"bootstrap",anchor:"100%",html:['<h1 style="margin-top: 0;">',gettext("All my courses"),"</h1>",'<p class="muted">',gettext("These are all courses, terms and assignments where you have administrator rights. Assignments are included in the listing if you have administrator-rights on the assignment, and not on the terms or courses containing the assignment. The courses name is a link if you have administrator rights on the courses."),"</p>"].join("")},{xtype:"container",border:1,padding:"10 20 10 20",anchor:"100%",layout:"fit",cls:"devilry_focuscontainer",items:{xtype:"allwhereisadminlist"}}]})},/*!***************************************************!*\
  !*** ./app/view/assignment/AssignmentOverview.js ***!
  \***************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.assignment.AssignmentOverview",{extend:"Ext.container.Container",alias:"widget.assignmentoverview",cls:"devilry_subjectadmin_assignmentoverview",requires:["Ext.layout.container.Column","devilry_subjectadmin.utils.UrlLookup","devilry_extjsextras.AlertMessageList","devilry_extjsextras.AlertMessage","devilry_subjectadmin.view.assignment.GradeEditorSelectWidget","devilry_subjectadmin.view.assignment.EditPublishingTimeWidget","devilry_subjectadmin.view.assignment.EditAnonymousWidget","devilry_subjectadmin.view.assignment.EditDeadlineHandlingWidget","devilry_subjectadmin.view.DangerousActions","devilry_extjsextras.SingleActionBox","devilry_subjectadmin.view.AdminsBox","devilry_subjectadmin.view.EditSidebarContainer","devilry_subjectadmin.view.managestudents.ExaminersHelp"],initComponent:function(){Ext.apply(this,{padding:"20 20 20 20",autoScroll:!0,layout:"column",items:[{xtype:"editsidebarcontainer",width:250,margin:"0 0 0 0",padding:"0 10 0 10",defaults:{margin:"10 0 0 0"},items:[{xtype:"gradeeditorselect-widget",disabled:!0},{xtype:"editpublishingtime-widget"},{xtype:"editanonymous-widget"},{xtype:"editdeadline_handling-widget"},{xtype:"adminsbox"}]},{xtype:"container",columnWidth:1,cls:"devilry_focuscontainer",padding:"20",items:[{xtype:"box",cls:"bootstrap",margin:"0 0 20 0",itemId:"header",tpl:'<h1 style="margin-top: 0;">{heading}</h1>',data:{heading:gettext("Loading")+" ..."}},{xtype:"alertmessage",itemId:"noGroupsMessage",hidden:!0,type:"warning",title:gettext("No students"),message:interpolate(gettext('This assignment has no students. You need to <a href="%(addstudents_url)s">add students</a>.'),{addstudents_url:devilry_subjectadmin.utils.UrlLookup.manageStudentsAddStudents(this.assignment_id)},!0)},{xtype:"box",cls:"bootstrap devilry_subjectadmin_navigation",itemId:"linkList",tpl:['<tpl if="loading">','<p class="muted">',gettext("Loading"),"...</p>","<tpl else>",'<tpl if="has_students">','<ul class="unstyled">',"<li><p>",'<strong><a href="{managestudents_url}">',gettext("Students"),"</a></strong>",'<small class="muted"> - ',gettext("View, edit and add students on this assignment")," (","<em>",gettext("Students"),":</em> {assignmentData.number_of_candidates}, ","<em>",gettext("Groups"),":</em> {assignmentData.number_of_groups}, ","<em>",gettext("Deliveries"),":</em> {assignmentData.number_of_deliveries}",").","</small>","</p></li>",'<tpl if="electronic">',"<li><p>",'<strong><a href="{managedeadlines_url}">',gettext("Deadlines"),"</a></strong>",'<small class="muted"> - ',gettext("View, edit and add deadlines, including the submission date."),"</small>","</p></li>","</tpl>","<li><p>",'<strong><a href="{passedpreviousperiod_url}">',gettext("Passed previously"),"</strong></a>",'<small class="muted"> - ',gettext("Wizard with automatic and manual selection."),"</small>","</p></li>","<li><p>",'<strong><a href="{examinerstats_url}">',gettext("Statistics about examiners"),"</strong></a>",'<small class="muted"> - ',gettext("Charts and numbers."),"</small>","</p></li>","</ul>","</tpl>","</tpl>"],data:{loading:!0}},{xtype:"container",cls:"bootstrap",layout:"fit",items:{xtype:"alertmessage",type:"role-examiner",itemId:"examinerRoleBox",messagetpl:['<tpl if="loading">',gettext("Loading")," ...","<tpl else>",'<tpl if="mygroupscount &gt; 0">','<tpl if="is_published">','<div class="pull-left" style="margin-right: 10px;">','<a href="{examinerui_url}" target="_blank" class="btn btn-mini btn-inverse">',gettext("Go to examiner interface"),' <i class="icon-share-alt icon-white"></i>',"</a> ","</div>","</tpl>","<strong>",gettext("You are examiner for {mygroupscount}/{totalgroups} groups."),"</strong>"," ",'<tpl if="!is_published">',"<small>",gettext("When this assignment is published, you will get a link here that takes you to the examiner interface."),"</small>","</tpl>","<tpl else>",gettext("You are not examiner for any groups on this assignment."),"</tpl>"," <small>{MORE_BUTTON}</small>","<div {MORE_ATTRS}>",'<p style="margin-top:10px;">',gettext("Follow the Students-link above if you wish to manage examiners."),"</p>","<h4>",gettext("About examiners"),"</h4>","<p>",devilry_subjectadmin.view.managestudents.ExaminersHelp.getIntroText(),"</p>",devilry_subjectadmin.view.managestudents.ExaminersHelp.getDetailsUl(),"</div>","</tpl>"],messagedata:{loading:!0}}},{xtype:"dangerousactions",margin:"125 0 0 0",items:[{xtype:"singleactionbox",margin:0,itemId:"renameButton",id:"assignmentRenameButton",titleText:gettext("Loading")+" ...",bodyHtml:["<small>",gettext("Renaming an assignment should not be done without a certain amount of consideration. The name of an assignment, especially the short name, is often used as an identifier when integrating other systems with Devilry."),"</small>"].join(""),buttonText:gettext("Rename")+" ..."},{xtype:"singleactionbox",itemId:"deleteButton",hidden:!0,id:"assignmentDeleteButton",titleText:gettext("Loading")+" ...",bodyHtml:["<small>",gettext("Once you delete an assignment, there is no going back. Only superusers can delete an assignment with deliveries."),"</small>"].join(""),buttonText:gettext("Delete")+" ...",buttonUi:"danger"}]},{xtype:"dangerousactions",title:gettext("Beta features"),margin:"30 0 0 0",items:[{xtype:"box",cls:"bootstrap devilry_subjectadmin_navigation",itemId:"betaFeaturesBox",tpl:['<tpl if="loading">','<p class="muted">',gettext("Loading"),"...</p>","<tpl else>",'<ul class="unstyled">',"<li><p>",'<strong><a href="{detektor_assemblyview_url}">',gettext("Programming code similarity checks"),"</strong></a>",'<small class="muted"> - ',gettext("Run similarity checks for all deliveries on this assignment."),"</small>","</p></li>","</ul>","</tpl>"],data:{loading:!0}}]}]}]}),this.callParent(arguments)}})},/*!***************************************************!*\
  !*** ./app/view/assignment/EditAnonymousPanel.js ***!
  \***************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.assignment.EditAnonymousPanel",{extend:"devilry_extjsextras.OkCancelPanel",alias:"widget.editanonymouspanel",cls:"devilry_subjectadmin_editanonymouspanel bootstrap",initComponent:function(){Ext.apply(this,{layout:"fit",oktext:gettext("Save"),items:{xtype:"form",bodyPadding:20,autoScroll:!0,border:0,layout:"anchor",defaults:{anchor:"100%"},items:[{xtype:"alertmessagelist"},{xtype:"checkbox",boxLabel:gettext("Anonymous"),name:"anonymous",uncheckedValue:!1,inputValue:!0}]}}),this.callParent(arguments)}})},/*!****************************************************!*\
  !*** ./app/view/assignment/EditAnonymousWidget.js ***!
  \****************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.assignment.EditAnonymousWidget",{extend:"Ext.container.Container",alias:"widget.editanonymous-widget",cls:"devilry_subjectadmin_editanonymous_widget",requires:["devilry_extjsextras.ContainerWithEditTitle","devilry_extjsextras.MarkupMoreInfoBox","devilry_subjectadmin.view.assignment.EditAnonymousPanel"],initComponent:function(){Ext.apply(this,{layout:"card",deferredRender:!0,items:[{xtype:"containerwithedittitle",itemId:"readAnonymous",disabled:!0,title:gettext("Anonymity"),body:{xtype:"markupmoreinfobox",moreCls:"alert alert-info",tpl:['<tpl if="loading">','<p class="muted">{loading}</p>',"<tpl else>",'<p class="muted">','<tpl if="anonymous">',gettext("Anonymous"),"<tpl else>",gettext("Not anonymous"),"</tpl>"," <small> {MORE_BUTTON}</small>","</p>","<div {MORE_ATTRS}>","<p>",gettext("On anonymous assignments, examiners and students can NOT see each other and they can NOT communicate."),"</p>","<p>",gettext("If an assignment is anonymous, examiners see candidate-id instead of any personal information about the students."),"</p>","<p>",gettext("This means that anonymous assignments is perfect for exams, and for assignments where you do not want prior experiences with a student to affect results."),"</p>","</div>","</tpl>"],data:{loading:gettext("Loading")+" ..."}}},{xtype:"editanonymouspanel",itemId:"editAnonymous"}]}),this.callParent(arguments)}})},/*!**********************************************************!*\
  !*** ./app/view/assignment/EditDeadlineHandlingPanel.js ***!
  \**********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.assignment.EditDeadlineHandlingPanel",{extend:"devilry_extjsextras.OkCancelPanel",alias:"widget.editdeadline_handlingpanel",cls:"devilry_subjectadmin_editdeadline_handlingpanel bootstrap",initComponent:function(){Ext.apply(this,{layout:"fit",oktext:gettext("Save"),items:{xtype:"form",bodyPadding:10,autoScroll:!0,border:0,layout:"anchor",defaults:{anchor:"100%"},items:[{xtype:"alertmessagelist"},{xtype:"box",tpl:["<p>",gettext("Enable hard deadlines if you want to make it impossible for students to add deliveries after their active deadline."),"</p>"],data:{},margin:"0 0 10 0"},{xtype:"checkbox",boxLabel:gettext("Hard deadlines"),name:"deadline_handling",uncheckedValue:0,inputValue:1}]}}),this.callParent(arguments)}})},/*!***********************************************************!*\
  !*** ./app/view/assignment/EditDeadlineHandlingWidget.js ***!
  \***********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.assignment.EditDeadlineHandlingWidget",{extend:"Ext.container.Container",alias:"widget.editdeadline_handling-widget",cls:"devilry_subjectadmin_editdeadline_handling_widget",requires:["devilry_extjsextras.ContainerWithEditTitle","devilry_extjsextras.MarkupMoreInfoBox","devilry_subjectadmin.view.assignment.EditDeadlineHandlingPanel"],initComponent:function(){Ext.apply(this,{layout:"card",deferredRender:!0,items:[{xtype:"containerwithedittitle",itemId:"readDeadlineHandling",disabled:!0,title:gettext("Deadline handling"),body:{xtype:"markupmoreinfobox",moreCls:"alert alert-info",tpl:['<tpl if="text">','<p class="muted">{text}</small>',"<tpl else>",'<p class="muted">','<tpl if="deadline_handling == SOFT">',gettext("Soft deadlines"),'<tpl elseif="deadline_handling == HARD">',gettext("Hard deadlines"),"<tpl else>",'<span class="text-warning">This UI does not know how to handle <code>deadline_handling</code> values other that 0 and 1.</p>',"</tpl>"," <small>{MORE_BUTTON}</small>","</p>","<div {MORE_ATTRS}>","<p>",gettext("With HARD deadlines, students will be unable to make deliveries when a deadline has expired."),"</p>","<p>",gettext("With SOFT deadlines students will be able to make deliveries after the deadline has expired. All deliveries after their deadline are clearly highligted."),"</p>","<p><small>",gettext("NOTE: Devilry is designed from the bottom up to gracefully handle SOFT deadlines. Students have to perform an extra confirm-step when adding deliveries after their active deadline, and assignments where the deadline has expired is clearly marked for both students and examiners."),"</small></p>","</div>","</tpl>"],data:{text:gettext("Loading")+" ..."}}},{xtype:"editdeadline_handlingpanel",itemId:"editDeadlineHandling"}]}),this.callParent(arguments)}})},/*!********************************************************!*\
  !*** ./app/view/assignment/EditPublishingTimePanel.js ***!
  \********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.assignment.EditPublishingTimePanel",{extend:"devilry_extjsextras.OkCancelPanel",alias:"widget.editpublishingtimepanel",cls:"devilry_subjectadmin_editpublishingtimepanel bootstrap",requires:["devilry_extjsextras.form.DateTimeField"],initComponent:function(){Ext.apply(this,{layout:"fit",oktext:gettext("Save"),items:{xtype:"form",bodyPadding:10,autoScroll:!0,border:0,layout:"anchor",defaults:{anchor:"100%"},items:[{xtype:"alertmessagelist"},{xtype:"box",tpl:"<p>{help}</p>",data:{help:gettext("Choose a time when students will be able to start adding deliveries on the assignment. Note that students must be registered on the assignment as well before they can add any deliveries.")},margin:"0 0 10 0"},{xtype:"devilry_extjsextras-datetimefield",name:"publishing_time"}]}}),this.callParent(arguments)}})},/*!*********************************************************!*\
  !*** ./app/view/assignment/EditPublishingTimeWidget.js ***!
  \*********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.assignment.EditPublishingTimeWidget",{extend:"Ext.container.Container",alias:"widget.editpublishingtime-widget",cls:"devilry_subjectadmin_editpublishingtime_widget",requires:["devilry_subjectadmin.view.assignment.EditPublishingTimePanel","devilry_extjsextras.ContainerWithEditTitle"],initComponent:function(){Ext.apply(this,{layout:"card",deferredRender:!0,items:[{xtype:"containerwithedittitle",itemId:"readPublishingTime",disabled:!0,body:{xtype:"markupmoreinfobox",moreCls:"alert alert-info",tpl:["<p>",'<tpl if="loading">','<small class="muted">{loading}</small>',"<tpl else>",'<tpl if="is_published">','<span class="text-success">{offset_from_now}</span>',"<tpl else>",'<span class="text-warning">{offset_from_now}</span>',"</tpl>",' <small class="muted">({publishing_time})</small>',"<br/><small>{MORE_BUTTON}</small>","</tpl>","</p>","<div {MORE_ATTRS}>",gettext("The time when students will be able to start adding deliveries on the assignment."),"</div>"],data:{loading:gettext("Loading")+" ..."}}},{xtype:"editpublishingtimepanel",itemId:"editPublishingTime"}]}),this.callParent(arguments)}})},/*!********************************************************!*\
  !*** ./app/view/assignment/GradeEditorSelectWidget.js ***!
  \********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.assignment.GradeEditorSelectWidget",{extend:"devilry_extjsextras.ContainerWithEditTitle",alias:"widget.gradeeditorselect-widget",cls:"devilry_subjectadmin_gradeeditorselect_widget",title:gettext("Grading system"),requires:["devilry_extjsextras.MarkupMoreInfoBox"],buttonSuffix:'<span class="forward-indicator"></span>',body:{xtype:"markupmoreinfobox",moreCls:"alert alert-info",tpl:['<tpl if="loading">',"<p><small>{loading}</small></p>","<tpl else>",'<p class="muted">',"{title}"," <small>{MORE_BUTTON}</small>","</p>","<div {MORE_ATTRS}>",gettext("Click the edit button for more information about your current grading system configuration."),"</div>",'<tpl if="!has_valid_grading_setup">','<div class="alert alert-error">',gettext("Missing grading system configuration. You have to configure this grading system before any feeback may be provided on this assignment. Click the edit button above for more information."),"</div>","</tpl>","</tpl>"],data:{loading:gettext("Loading")+" ..."}}})},/*!*******************************************************************!*\
  !*** ./app/view/bulkmanagedeadlines/AllGroupsInAssignmentGrid.js ***!
  \*******************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.bulkmanagedeadlines.AllGroupsInAssignmentGrid",{extend:"devilry_subjectadmin.view.managestudents.GridOfGroupsBase",alias:"widget.bulkmanagedeadlines_allgroupsgrid",cls:"devilry_subjectadmin_bulkmanagedeadlines_allgroupsgrid",store:"Groups",hideHeaders:!0,frame:!1,requires:["devilry_subjectadmin.view.managestudents.SelectedGroupsButton","devilry_extjsextras.GridBigButtonCheckboxModel","devilry_subjectadmin.view.managestudents.SelectGroupsBySearchWidget"],getColumns:function(){return[this.getGroupInfoColConfig(),this.getMetadataColConfig()]},initComponent:function(){Ext.apply(this,{selModel:Ext.create("devilry_extjsextras.GridBigButtonCheckboxModel"),tbar:[{text:gettext("Select"),menu:[{text:gettext("Select all"),listeners:{scope:this,click:this._onSelectAll}},{text:gettext("Deselect all"),listeners:{scope:this,click:this._onDeSelectAll}}]},{xtype:"selectgroupsbysearch",grid:this,flex:1},{xtype:"selectedgroupsbutton",grid:this}]}),this.callParent(arguments)},_onSelectAll:function(){this.getSelectionModel().selectAll()},_onDeSelectAll:function(){this.getSelectionModel().deselectAll()}})},/*!**********************************************************!*\
  !*** ./app/view/bulkmanagedeadlines/BaseDeadlineForm.js ***!
  \**********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.bulkmanagedeadlines.BaseDeadlineForm",{extend:"Ext.form.Panel",cls:"devilry_subjectadmin_bulkmanagedeadlines_deadlineform bootstrap",requires:["devilry_extjsextras.form.DateTimeField","Ext.form.field.TextArea","Ext.util.KeyNav","devilry_extjsextras.PrimaryButton","devilry_extjsextras.AlertMessageList","devilry_subjectadmin.view.bulkmanagedeadlines.AllGroupsInAssignmentGrid"],bodyPadding:20,layout:"anchor",saveButtonDisabled:!1,initComponent:function(){Ext.apply(this,{cls:this.cls+" "+this.extraCls,items:this.getItems(),buttons:[{xtype:"button",text:gettext("Cancel"),itemId:"cancelButton",listeners:{scope:this,click:this._onCancel}},{xtype:"primarybutton",text:gettext("Save"),itemId:"saveDeadlineButton",disabled:this.saveButtonDisabled,cls:"savedeadlinebutton",listeners:{scope:this,click:this._onSave}}]}),this.on("show",this._onShow,this),this.on("render",this._onRender,this),this.callParent(arguments)},getItems:function(){return[{xtype:"alertmessagelist"},{xtype:"box",anchor:"100%",html:['<h2 class="oneline_ellipsis">',gettext("Deadline")," <small>- ",gettext("The time when the deadline expires"),"</small>","</h2>"].join("")},{xtype:"devilry_extjsextras-datetimefield",name:"deadline",cls:"deadlinefield",fieldLabel:gettext("Deadline"),hideLabel:!0,allowBlank:!1,itemId:"deadlineField",width:300},{xtype:"box",margin:"20 0 0 0",html:['<h2 class="oneline_ellipsis">',gettext("About this deadline")," <small>- ",gettext("Students see this when they add deliveries"),"</small>","</h2>"].join("")},{xtype:"textarea",name:"text",anchor:"100%",height:100,fieldLabel:gettext("Text"),hideLabel:!0,resizable:!0,resizeHandles:"s"}]},_onCancel:function(){this.fireEvent("cancel",this)},_onSave:function(){this.fireEvent("saveDeadline",this)},_onRender:function(){this.keyNav=Ext.create("Ext.util.KeyNav",this.el,{enter:this._onSave,scope:this})},_onShow:function(){this.down("#deadlineField").focus()}})},/*!******************************************************************!*\
  !*** ./app/view/bulkmanagedeadlines/BulkManageDeadlinesPanel.js ***!
  \******************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.bulkmanagedeadlines.BulkManageDeadlinesPanel",{extend:"Ext.container.Container",alias:"widget.bulkmanagedeadlinespanel",cls:"devilry_subjectadmin_bulkmanagedeadlinespanel",requires:["devilry_extjsextras.AlertMessageList","devilry_subjectadmin.view.bulkmanagedeadlines.CreateDeadlineForm","devilry_extjsextras.PrimaryButton"],frame:!1,border:0,padding:20,autoScroll:!0,initComponent:function(){Ext.apply(this,{layout:"anchor",defaults:{anchor:"100%"},items:[{xtype:"alertmessagelist",itemId:"globalAlertmessagelist"},{xtype:"container",itemId:"addDeadlineBodyContainer",hidden:!0,items:[{xtype:"container",items:[{xtype:"box",cls:"bootstrap",html:["<h1>",gettext("Add deadline"),"</h1>"].join("")},{xtype:"box",cls:"bootstrap",html:['<p class="muted">',gettext("Students are in a group even if they work alone. Each group has their own individual deadlines. Use the form below to add a deadline to many groups."),"</p>"].join("")}]},{xtype:"bulkmanagedeadlines_createdeadlineform",assignment_id:this.assignment_id,saveButtonDisabled:!0,margin:"20 0 0 0"}]},{xtype:"container",itemId:"normalBodyContainer",layout:"anchor",defaults:{anchor:"100%"},items:[{xtype:"box",cls:"bootstrap",html:["<h1>",gettext("Deadlines"),"</h1>"].join("")},{xtype:"container",layout:"column",margin:"0 0 20 0",items:[{xtype:"box",cls:"bootstrap",columnWidth:1,margin:"0 40 0 0",html:['<p class="muted">',gettext("Students are in a group even if they work alone. Each group has their own individual deadlines. In this view, we have grouped deadlines with exactly the same date/time and text to make it easy for you to change them in bulk."),"</p>"].join("")},{xtype:"button",itemId:"addDeadlineButton",scale:"large",cls:"add_deadline_button",width:220,text:gettext("Add deadline")}]},{xtype:"panel",frame:!1,style:"background-color: transparent !important",bodyStyle:"background-color: transparent !important",itemId:"deadlinesContainer",layout:"anchor",defaults:{anchor:"100%"},cls:"devilry_discussionview_container"}]}]}),this.callParent(arguments)}})},/*!************************************************************!*\
  !*** ./app/view/bulkmanagedeadlines/CreateDeadlineForm.js ***!
  \************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.bulkmanagedeadlines.CreateDeadlineForm",{extend:"devilry_subjectadmin.view.bulkmanagedeadlines.BaseDeadlineForm",alias:"widget.bulkmanagedeadlines_createdeadlineform",extraCls:"createdeadlineform",getItems:function(){var e=this.callParent();return e.push({xtype:"container",itemId:"createmodeContainer",hidden:!0,layout:"anchor",items:[{xtype:"box",margin:"20 0 0 0",html:["<h2>",gettext("Add deadline to"),"</h2>"].join("")},{xtype:"radiogroup",anchor:"100%",vertical:!0,columns:1,fieldLabel:gettext("Add deadline to"),hideLabel:!0,items:[{boxLabel:gettext("groups where active feedback is a failing grade."),name:"createmode",inputValue:"failed",cls:"createmode_failed",checked:!0},{boxLabel:gettext("groups where active feedback is a failing grade, groups with no feedback and groups with no deadlines."),name:"createmode",cls:"createmode_failed_or_no_feedback",inputValue:"failed-or-no-feedback"},{boxLabel:gettext("groups with no deadlines."),name:"createmode",cls:"createmode_no_deadlines",inputValue:"no-deadlines"},{boxLabel:gettext("specify groups manually."),name:"createmode",itemId:"createmodeSpecificGroups",cls:"createmode_specific_groups",inputValue:"specific-groups"}]},{xtype:"panel",itemId:"createmodeSpecificGroupsSelectpanel",layout:"column",anchor:"100%",margin:"10 0 10 25",hidden:!0,border:0,items:[{xtype:"bulkmanagedeadlines_allgroupsgrid",columnWidth:1,height:300},{xtype:"box",width:250,padding:"0 0 0 20",cls:"bootstrap",html:['<p class="muted"><small>',gettext("Select one or more groups. The deadline will only be added to the selected groups."),"</small></p>"].join("")}]}]}),e}})},/*!*******************************************************!*\
  !*** ./app/view/bulkmanagedeadlines/DeadlinePanel.js ***!
  \*******************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.bulkmanagedeadlines.DeadlinePanel",{extend:"Ext.panel.Panel",alias:"widget.bulkmanagedeadlines_deadline",cls:"devilry_subjectadmin_bulkmanagedeadlines_deadline",bodyCls:"bulkmanagedeadlines_deadline_body",collapsible:!0,collapsed:!0,animCollapse:!1,bodyPadding:20,requires:["devilry_subjectadmin.model.Group","devilry_subjectadmin.view.bulkmanagedeadlines.GroupsInDeadlineGrid","devilry_subjectadmin.view.bulkmanagedeadlines.EditDeadlineForm","devilry_subjectadmin.view.managestudents.GroupHelp","devilry_extjsextras.PrimaryButton","devilry_extjsextras.DeleteButton","devilry_extjsextras.MarkupMoreInfoBox"],headerTpl:['<div class="bootstrap">','<small class="deadline_label"><em>',gettext("Deadline"),"</em></small>: ",'<strong class="deadline linklike">{deadline_formatted}</strong>','<tpl if="in_the_future">','<span class="text-success"> ({offset_from_now})</span>',"<tpl else>",'<span class="text-warning"> ({offset_from_now})</span>',"</tpl>","</div>",'<div class="metadata">',"<small><em>",gettext("Groups"),"</em>: {groupcount}</small>",'<tpl if="text">',"&nbsp;","&nbsp;","&nbsp;","<small><em>{text_title}</em>: {text}</small>","</tpl>","</div>"],deadlineTextTpl:['<h2 class="oneline_ellipsis">',gettext("About this deadline")," <small>- ",gettext("Students see this when they add deliveries"),"</small>","</h2>",'<tpl if="text">','<p style="white-space: pre-wrap">{text}</p>',"<tpl else>",'<p class="muted"><small>',gettext("This deadline has no text. Use the edit button if you want to set a text."),"</small></p>","</tpl>"],groupsHeaderTpl:['<h2 class="oneline_ellipsis">',gettext("Groups")," <small>- ",gettext("Students are organized in groups, even when they work alone"),"</small>","</h2>"],groupsHelpTpl:['<p class="muted">',gettext("Select a group to view or edit it.")," {MORE_BUTTON}","</p>","<div {MORE_ATTRS}>","{[devilry_subjectadmin.view.managestudents.GroupHelp.getGroupInfoColHelp()]}","</div>"],constructor:function(e){this.initConfig(e),this.addEvents("editDeadline","deleteDeadline"),this.callParent([e])},initComponent:function(){var e=this.deadlineRecord.formatDeadline();this.groupsStore=this._createGroupStore(),Ext.apply(this,{itemId:Ext.String.format("deadline-{0}",this.deadlineRecord.get("bulkdeadline_id")),title:Ext.create("Ext.XTemplate",this.headerTpl).apply({deadline_formatted:e,groupcount:this.deadlineRecord.get("groups").length,text_title:gettext("About this deadline"),text:this.deadlineRecord.formatTextOneline(),in_the_future:this.deadlineRecord.get("in_the_future"),offset_from_now:this.deadlineRecord.formatOffsetFromNow()}),layout:"card",items:[{xtype:"container",itemId:"viewDeadline",layout:"anchor",defaults:{anchor:"100%"},items:[{xtype:"container",layout:"column",items:[{xtype:"box",itemId:"deadlineText",cls:"bootstrap",columnWidth:1,tpl:this.deadlineTextTpl,data:{text:this.deadlineRecord.get("text")}},{xtype:"container",width:180,itemId:"deadlineButtonContainer",margin:"0 0 0 40",padding:"18 0 0 0",items:[{xtype:"button",scale:"large",itemId:"editDeadlineButton",cls:"edit_deadline_button",width:180,margin:"0 0 10 0",text:gettext("Edit/move"),listeners:{scope:this,click:this._onEdit}},{xtype:"deletebutton",cls:"delete_deadline_button",itemId:"deleteDeadlineButton",width:180,listeners:{scope:this,click:this._onDelete}}]}]},{xtype:"box",margin:"20 0 0 0",cls:"bootstrap",tpl:this.groupsHeaderTpl,data:{}},{xtype:"container",layout:"column",items:[{xtype:"bulkmanagedeadlines_groupsindeadlinegrid",width:300,assignment_id:this.assignment_id,store:this.groupsStore},{xtype:"markupmoreinfobox",columnWidth:1,padding:"0 0 0 30",tpl:this.groupsHelpTpl,data:{}}]}]},{xtype:"bulkmanagedeadlines_editdeadlineform",itemId:"editDeadline",groupsStore:this.groupsStore,margin:"0 0 40 0"}]}),this.callParent(arguments)},_createGroupStore:function(){var e=Ext.create("Ext.data.Store",{model:"devilry_subjectadmin.model.Group",data:this.deadlineRecord.get("groups")});return e},_onEdit:function(e){this.fireEvent("editDeadline",this,this.deadlineRecord)},_onDelete:function(e){this.fireEvent("deleteDeadline",this,this.deadlineRecord)}})},/*!**********************************************************!*\
  !*** ./app/view/bulkmanagedeadlines/EditDeadlineForm.js ***!
  \**********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.bulkmanagedeadlines.EditDeadlineForm",{extend:"devilry_subjectadmin.view.bulkmanagedeadlines.BaseDeadlineForm",alias:"widget.bulkmanagedeadlines_editdeadlineform",extraCls:"editdeadlineform",requires:["devilry_subjectadmin.view.bulkmanagedeadlines.GroupsInDeadlineSelectGrid"],getItems:function(){var e=this.callParent();return e.push({xtype:"fieldset",itemId:"editSpecificGroupsFieldset",cls:"edit_specific_groups_fieldset",layout:"anchor",title:gettext("Only apply these changes to some of the groups in the deadline."),checkboxName:"editSpecific",checkboxToggle:!0,collapsed:!0,items:[{xtype:"container",anchor:"100%",itemId:"specifyGroupsContainer",layout:"column",items:[{xtype:"bulkmanagedeadlines_groupsindeadlineselectgrid",columnWidth:1,store:this.groupsStore,height:300},{xtype:"box",width:250,padding:"0 0 0 20",cls:"bootstrap",html:['<p class="muted"><small>',gettext("Applying deadline changes to only some groups will effectively split this deadline in two. Remember that groups have individual deadlines and that this view groups deadlines with the same timestamp and text. This means that editing a deadline actually updates a bunch of individual deadlines (one for each group). So when you select only some of the groups within the current deadline, you choose to change only some of the individual deadlines, which appears to split this deadline in two."),"</small></p>"].join("")}]}]}),e}})},/*!**************************************************************!*\
  !*** ./app/view/bulkmanagedeadlines/GroupsInDeadlineGrid.js ***!
  \**************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.bulkmanagedeadlines.GroupsInDeadlineGrid",{extend:"devilry_subjectadmin.view.managestudents.GridOfGroupsBase",alias:"widget.bulkmanagedeadlines_groupsindeadlinegrid",cls:"devilry_subjectadmin_bulkmanagedeadlines_groupsindeadlinegrid",disableSelection:!0,hideHeaders:!0,frame:!1,requires:["devilry_subjectadmin.utils.UrlLookup"],getColumns:function(){return[this.getGroupInfoColConfig()]},getGroupUrlPrefix:function(){return devilry_subjectadmin.utils.UrlLookup.manageSpecificGroupsPrefix(this.assignment_id)}})},/*!********************************************************************!*\
  !*** ./app/view/bulkmanagedeadlines/GroupsInDeadlineSelectGrid.js ***!
  \********************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.bulkmanagedeadlines.GroupsInDeadlineSelectGrid",{extend:"devilry_subjectadmin.view.bulkmanagedeadlines.GroupsInDeadlineGrid",alias:"widget.bulkmanagedeadlines_groupsindeadlineselectgrid",cls:"devilry_subjectadmin_bulkmanagedeadlines_groupsindeadlineselectgrid",disableSelection:!1,hideHeaders:!0,frame:!1,requires:["devilry_subjectadmin.view.managestudents.SelectedGroupsButton","devilry_extjsextras.GridBigButtonCheckboxModel","devilry_subjectadmin.view.managestudents.SelectGroupsBySearchWidget"],initComponent:function(){Ext.apply(this,{selModel:Ext.create("devilry_extjsextras.GridBigButtonCheckboxModel"),tbar:[{text:gettext("Select"),menu:[{text:gettext("Select all"),listeners:{scope:this,click:this._onSelectAll}},{text:gettext("Deselect all"),listeners:{scope:this,click:this._onDeSelectAll}}]},{xtype:"selectgroupsbysearch",grid:this,flex:1},{xtype:"selectedgroupsbutton",grid:this}]}),this.callParent(arguments)},getGroupUrlPrefix:function(){return null},_onSelectAll:function(){this.getSelectionModel().selectAll()},_onDeSelectAll:function(){this.getSelectionModel().deselectAll()}})},/*!*************************************************************!*\
  !*** ./app/view/createnewassignment/CreateNewAssignment.js ***!
  \*************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.createnewassignment.CreateNewAssignment",{extend:"Ext.container.Container",alias:"widget.createnewassignment",requires:["devilry_extjsextras.PrimaryButton"],border:0,padding:"20 40 20 40",autoScroll:!0,initComponent:function(){Ext.apply(this,{items:[{xtype:"box",cls:"bootstrap",itemId:"pageHeading",tpl:["<h1>","{heading}",'<tpl if="subheading">'," <small> - {subheading}</small>","</tpl>","</h1>"],data:{heading:gettext("Create new assignment"),subheading:void 0}},{margin:"10 0 0 0",xtype:"container",layout:"fit",items:{xtype:"createnewassignmentform",period_id:this.period_id}}]}),this.callParent(arguments)}})},/*!**********************************************!*\
  !*** ./app/view/createnewassignment/Form.js ***!
  \**********************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.createnewassignment.Form",{extend:"Ext.form.Panel",alias:"widget.createnewassignmentform",requires:["Ext.form.field.ComboBox","Ext.form.field.Text","Ext.form.field.Hidden","Ext.toolbar.Toolbar","devilry_extjsextras.form.DateTimeField","devilry_extjsextras.CreateButton","devilry_extjsextras.AlertMessageList","devilry_subjectadmin.utils.UrlLookup","devilry_subjectadmin.utils.BaseNodeHelp","devilry_subjectadmin.view.createnewassignment.SelectSingleAssignment"],initComponent:function(){var e="devilry_subjectadmin_createnewassignmentform";this.cls&&(e+=" "+this.cls),this.cls=e;var t='class="muted" style="margin:0; padding:0; font-weight:normal; font-size:18px;"',i=170;Ext.apply(this,{frame:!1,bodyCls:"devilry_focuscontainer",bodyPadding:20,layout:"anchor",fieldDefaults:{labelAlign:"top",labelStyle:"font-weight: bold"},items:[{xtype:"container",layout:"card",itemId:"cardPanel",items:[{xtype:"panel",itemId:"pageOne",cls:"page1",bodyPadding:"0 0 20 0",border:!1,items:[{xtype:"container",layout:"column",items:[{columnWidth:1,name:"long_name",fieldLabel:gettext("Long name"),xtype:"textfield",cls:"hugefield",emptyText:pgettext("createnewassignment","Example: Obligatory assignment one"),allowBlank:!1,padding:"0 20 0 0"},{name:"short_name",width:300,fieldLabel:gettext("Short name"),xtype:"textfield",allowBlank:!1,emptyText:pgettext("createnewassignment","Example: oblig-1")}]},{xtype:"box",cls:"bootstrap",margin:"0 0 0 0",html:['<p class="muted"><small>',devilry_subjectadmin.utils.BaseNodeHelp.getShortAndLongNameHelp(),"</small></p>"].join("")},{xtype:"container",margin:"20 0 0 0",layout:"column",items:[{xtype:"container",columnWidth:1,padding:"0 40 20 0",items:[{xtype:"radiogroup",fieldLabel:gettext("How do students add deliveries?"),vertical:!0,itemId:"deliveryTypesRadioGroup",cls:"delivery_types-radiogroup",columns:1,items:[{boxLabel:gettext("Using Devilry"),name:"delivery_types",cls:"deliveryTypesElectronic",inputValue:0,checked:!0},{boxLabel:gettext("Not using Devilry"),name:"delivery_types",cls:"deliveryTypesNonElectronic",inputValue:1}]},{xtype:"box",cls:"bootstrap",margin:"0 0 0 3",html:['<p class="muted"><small>',gettext("If you only use Devilry to give feedback, and students deliver paper copies or through an alternative channel (oral presentation, email, ...), choose <em>Not using Devilry</em>."),"</small></p>"].join("")}]},{xtype:"container",width:300,items:[{xtype:"devilry_extjsextras-datetimefield",cls:"firstDeadlineField",itemId:"firstDeadlineField",name:"first_deadline",allowBlank:!1,width:300,fieldLabel:gettext("Submission date")},{xtype:"box",cls:"bootstrap",itemId:"firstDeadlineHelp",margin:"0 0 0 0",html:['<p class="muted"><small>',gettext("Students must submit their delivery before this time."),"</small></p>"].join("")}]}]},{xtype:"panel",cls:"devilry_discussionview_container",items:[{xtype:"panel",id:"advancedOptionsPanel",title:['<div class="bootstrap">','<span class="linklike">',gettext("Advanced options"),"</span>","<small> (",gettext("click to expand"),")</small>","</div>"].join(""),collapsible:!0,collapsed:!0,animCollapse:!1,titleCollapse:!0,bodyPadding:20,defaults:{margin:"20 0 0 0"},items:[{xtype:"checkboxfield",margin:"0 0 0 0",name:"anonymous",cls:"anonymousField",labelAlign:"left",boxLabel:gettext("Anonymous?")},{xtype:"box",cls:"bootstrap",margin:"0 0 0 0",html:['<p class="muted"><small>',gettext("For exams, this should normally be checked. If an assignment is anonymous, examiners see candidate-id instead of any personal information about the students."),"</small></p>"].join("")},{xtype:"devilry_extjsextras-datetimefield",width:300,fieldLabel:gettext("Publishing time"),name:"publishing_time",cls:"publishingTimeField"},{xtype:"box",cls:"bootstrap",margin:"0 0 0 0",itemId:"publishingTimeHelp",html:['<p class="muted"><small>',gettext("Choose a time when students will be able to start adding deliveries to the assignment. Note that students must be registered on the assignment before they can add any deliveries. You have the option to add students on the next page."),"</small></p>"].join("")}]}]}],fbar:[{xtype:"button",itemId:"nextButton",cls:"createnewassignmentform_nextbutton",text:gettext("Next"),scale:"large",formBind:!0,disabled:!0}]},{xtype:"panel",itemId:"pageTwo",cls:"page2",border:!1,bodyPadding:"0 0 30 0",items:[{xtype:"container",itemId:"setupStudentsContainer",layout:"column",items:[{margin:0,xtype:"box",width:i,cls:"bootstrap",tpl:["<h2 {sideheading_attrs}>",gettext("Students?"),"</h2>"],data:{sideheading_attrs:t}},{xtype:"radiogroup",columnWidth:1,itemId:"studentsSetupRadiogroup",vertical:!0,columns:1,margin:0,items:[{boxLabel:gettext("Add all students."),checked:!0,margin:0,name:"setupstudents_mode",itemId:"setupStudentsAllRelatedRadio",cls:"extrastronglabel setupStudentsAllRelatedRadio",inputValue:"allrelated"},{xtype:"box",cls:"bootstrap",tpl:['<p class="muted"><small>',gettext("You may want to view and edit <a {relatedstudents_link}>students</a>."),"</small></p>"],data:{relatedstudents_link:Ext.String.format('href="{0}" target="_blank" class="new-window-link"',devilry_subjectadmin.utils.UrlLookup.manageRelatedStudents(this.period_id))}},{boxLabel:gettext("Copy from another assignment."),margin:"10 0 0 0",name:"setupstudents_mode",itemId:"setupStudentsCopyFromAssignmentRadio",cls:"extrastronglabel setupStudentsCopyFromAssignmentRadio",hidden:!0,inputValue:"copyfromassignment"},{xtype:"container",itemId:"selectAssignmentToCopyStudentsFrom",layout:"column",hidden:!0,margin:"5 0 0 17",items:[{xtype:"selectsingleassignment",name:"copyfromassignment_id",cls:"copyFromAssignmentIdField",width:300},{xtype:"checkboxfield",name:"only_copy_passing_groups",cls:"onlyCopyPassingGroupsField",columnWidth:1,margin:"0 0 0 10",checked:!1,boxLabel:gettext("Only copy those with passing grade?")}]},{boxLabel:gettext("Do not add students at this time."),margin:"10 0 0 0",name:"setupstudents_mode",cls:"extrastronglabel setupStudentsDoNotSetupRadio",inputValue:"do_not_setup"},{xtype:"box",cls:"bootstrap",html:['<p class="muted"><small>',gettext("If you choose not to add students at this time, you will have to add them manually to the assignment later. If you plan for students to work in project groups, you should still add them to the assignment now. You can organize them in project groups at any time, even after they have made deliveries."),"</small></p>"].join("")}]}]},{xtype:"container",itemId:"setupExaminersContainer",cls:"setupExaminersContainer",margin:"30 0 0 0",layout:"column",items:[{margin:0,xtype:"box",cls:"bootstrap",width:i,padding:"0 30 0 0",tpl:["<h2 {sideheading_attrs}>",gettext("Examiners?"),"</h2>",'<p class="muted">',"<small><em>",gettext("The people that provide feedback to students"),"</em></small>","</p>"],data:{sideheading_attrs:t}},{xtype:"radiogroup",columnWidth:1,itemId:"examinersSetupRadiogroup",vertical:!0,columns:1,margin:0,items:[{margin:"0 0 0 0",name:"setupexaminers_mode",checked:!0,cls:"extrastronglabel setupExaminersByTagsRadio",inputValue:"bytags",itemId:"setupExaminersByTagsRadio",boxLabel:gettext("Setup examiners by tags.")},{xtype:"box",cls:"bootstrap",itemId:"setupExaminersByTagsHelp",tpl:['<p class="muted"><small>',gettext("Add examiners to students that have at least one tag in common with the examiner.")," ",gettext("E.g.: If you tag two examiners and 20 students with <em>group1</em>, those two examiners will be set up to correct those 20 students.")," ",gettext("You may want to view and edit tags for <a {relatedstudents_link}>students</a> and <a {relatedexaminers_link}>examiners</a>."),"</small></p>"],data:{relatedstudents_link:Ext.String.format('href="{0}" target="_blank" class="new-window-link"',devilry_subjectadmin.utils.UrlLookup.manageRelatedStudents(this.period_id)),relatedexaminers_link:Ext.String.format('href="{0}" target="_blank" class="new-window-link"',devilry_subjectadmin.utils.UrlLookup.manageRelatedExaminers(this.period_id))}},{margin:"10 0 0 0",name:"setupexaminers_mode",hidden:!0,itemId:"setupExaminersCopyFromAssignmentRadio",cls:"extrastronglabel setupExaminersCopyFromAssignmentRadio",inputValue:"copyfromassignment",boxLabel:"X"},{boxLabel:gettext("Make me examiner for all students."),margin:"10 0 0 0",name:"setupexaminers_mode",cls:"extrastronglabel setupExaminersMakeAuthuserExaminer",inputValue:"make_authenticated_user_examiner"},{xtype:"box",cls:"bootstrap",html:['<p class="muted"><small>',gettext("I.e.: you plan to provide feedback to all students yourself."),"</small></p>"].join("")},{boxLabel:gettext("Do not setup examiners at this time."),margin:"10 0 0 0",name:"setupexaminers_mode",cls:"extrastronglabel setupExaminersDoNotSetupRadio",inputValue:"do_not_setup"}]}]}],fbar:[{xtype:"button",itemId:"backButton",text:gettext("Back"),scale:"medium"},"->",{xtype:"createbutton",minWidth:200,text:gettext("Create new assignment"),itemId:"createButton",scale:"large",formBind:!0,disabled:!0}]}]}]}),this.callParent(arguments)}})},/*!****************************************************************!*\
  !*** ./app/view/createnewassignment/SelectSingleAssignment.js ***!
  \****************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.createnewassignment.SelectSingleAssignment",{extend:"Ext.form.field.ComboBox",alias:"widget.selectsingleassignment",requires:[],store:"Assignments",queryMode:"local",forceSelection:!0,editable:!1,displayField:"long_name",valueField:"id",hideLabel:!0,listConfig:{cls:"selectsingleassignment_boundlist"}})},/*!*****************************************************!*\
  !*** ./app/view/createnewperiod/CreateNewPeriod.js ***!
  \*****************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.createnewperiod.CreateNewPeriod",{extend:"Ext.panel.Panel",alias:"widget.createnewperiod",cls:"devilry_createnewperiod",requires:["devilry_extjsextras.AlertMessageList","devilry_extjsextras.PrimaryButton","devilry_subjectadmin.utils.BaseNodeHelp"],initComponent:function(){Ext.apply(this,{frame:!1,border:!1,bodyPadding:"20 40 20 40",autoScroll:!0,oktext:gettext("Create"),layout:"anchor",defaults:{anchor:"100%"},items:[{xtype:"box",cls:"bootstrap",margin:"0 0 20 0",itemId:"header",tpl:"<h1>{heading} <small>- {subheading}</small></h1>",data:{heading:gettext("Loading")+" ...",subheading:""}},{xtype:"alertmessagelist",itemId:"formErrorList",padding:"0 0 20 0"},{xtype:"form",bodyPadding:20,fieldDefaults:{labelAlign:"top",labelStyle:"font-weight: bold"},defaults:{margin:"10 0 0 0"},items:[{xtype:"container",margin:"0 0 0 0",layout:"column",items:[{columnWidth:1,name:"long_name",fieldLabel:gettext("Long name"),xtype:"textfield",cls:"largefont",emptyText:pgettext("createnewassignment","Example: Spring 1970"),allowBlank:!1,padding:"0 20 0 0"},{name:"short_name",width:200,fieldLabel:gettext("Short name"),xtype:"textfield",allowBlank:!1,emptyText:pgettext("createnewassignment","Example: spring1970")}]},{xtype:"formhelp",margin:"5 0 0 0",html:devilry_subjectadmin.utils.BaseNodeHelp.getShortAndLongNameHelp()},{xtype:"devilry_extjsextras-datetimefield",fieldLabel:gettext("Start time"),width:300,itemId:"new_period_start_time",cls:"start_time_field",allowBlank:!1,name:"start_time"},{xtype:"devilry_extjsextras-datetimefield",fieldLabel:gettext("End time"),width:300,allowBlank:!1,id:"new_period_end_time",cls:"end_time_field",name:"end_time"}],buttons:[{xtype:"primarybutton",formBind:!0,itemId:"saveButton",text:gettext("Create")}]}]}),this.callParent(arguments)}})},/*!*********************************************************!*\
  !*** ./app/view/dashboard/AllActiveWhereIsAdminList.js ***!
  \*********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.dashboard.AllActiveWhereIsAdminList",{extend:"Ext.Component",alias:"widget.allactivewhereisadminlist",cls:"devilry_subjectadmin_allactivewhereisadminlist bootstrap",tpl:['<tpl if="loadingtext">','<h1 style="margin-top: 0;">',"{loadingtext}","</h1>","<tpl else>",'<h1 style="margin-top: 0;">',gettext("Active courses"),"</h1>",'<ul class="unstyled">','<tpl for="list">',"<li>","<p>",'<strong><a href="#/{type}/{id}/">',"{text}","</a></strong>",'<tpl if="suffix">','<small class="muted"> - {suffix}</small>',"</tpl>","</p>","</li>","</tpl>","</ul>","</tpl>"],data:{loadingtext:gettext("Loading")+" ..."}})},/*!*****************************************!*\
  !*** ./app/view/dashboard/Dashboard.js ***!
  \*****************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.dashboard.Dashboard",{extend:"Ext.container.Container",alias:"widget.dashboard",cls:"dashboard",requires:["devilry_subjectadmin.view.dashboard.AllActiveWhereIsAdminList"],layout:"column",padding:"40",autoScroll:!0,items:[{xtype:"container",columnWidth:1,cls:"devilry_focuscontainer",padding:"20",items:[{xtype:"allactivewhereisadminlist"},{xtype:"box",cls:"bootstrap",margin:"40 0 0 0",html:['<h2 style="font-size:20px; margin-bottom:4px; line-height:1;">',gettext("Expired courses"),"</h2>",'<p style="margin-top: 0px; padding-top: 0;">','<a href="#/">',gettext("Browse everything where you are administrator"),"</a>","</p>"].join("")}]},{xtype:"container",width:250,margin:"0 0 0 50",border:!1,layout:"anchor",items:[{xtype:"box",cls:"bootstrap",tpl:"<h4>{heading}</h4>",data:{heading:gettext("Interractive guides")}},{xtype:"guidesystemlist",guides:[{xtype:"guide-createnewassignment",title:gettext("Create new assignment"),description:gettext("Takes you through creating any kind of assignment (electronic, paper, exam, ...).")},{xtype:"guide-qualifiedforfinalexams",title:gettext("Qualified for final exams"),description:gettext("Takes you through selecting students that qualify for final exams.")}]},{xtype:"box",cls:"bootstrap",tpl:["<h4>{heading}</h4>",'<p class="muted"><small>',gettext("Click the question-mark button in the header."),"</small></p>"],data:{heading:gettext("More guides and help")}}]}]})},/*!*******************************************************************!*\
  !*** ./app/view/detailedperiodoverview/DetailedPeriodOverview.js ***!
  \*******************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.detailedperiodoverview.DetailedPeriodOverview",{extend:"Ext.container.Container",alias:"widget.detailedperiodoverview",cls:"devilry_detailedperiodoverview",requires:["devilry_subjectadmin.view.detailedperiodoverview.PeriodOverviewGrid"],initComponent:function(){Ext.apply(this,{padding:"20",layout:"border",style:"background-color: transparent !important;",items:[{xtype:"box",cls:"bootstrap",region:"north",height:24,itemId:"header",tpl:['<h1 style="margin: 0; padding: 0; font-size: 14px; line-height: 14px;">','<tpl if="loading">',gettext("Loading")," ...","<tpl else>",gettext("Detailed overview of {periodpath}"),"</tpl>","</h1>"],data:{loading:!0}},{xtype:"detailedperiodoverviewgrid",region:"center",period_id:this.period_id}]}),this.callParent(arguments)}})},/*!*********************************************************************!*\
  !*** ./app/view/detailedperiodoverview/ExportPeriodOverviewMenu.js ***!
  \*********************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.detailedperiodoverview.ExportPeriodOverviewMenu",{extend:"Ext.menu.Menu",alias:"widget.exportperiodoverviewmenu",cls:"devilry_subjectadmin",bodyTpl:['<h4 style="margin-top: 0;">',gettext("MS Excel (Office Open XML)"),"</h4>",'<a href="{download_url}?format=xslx&download=1" class="btn btn-small btn-success"><i class="icon-download icon-white"></i> All data</a> ','<a href="{download_url}?format=xslx&download=1&grade=grade" class="btn btn-small btn-inverse">','<i class="icon-download icon-white"></i> Grades</a> ','<a href="{download_url}?format=xslx&download=1&grade=points" class="btn btn-small btn-inverse">','<i class="icon-download icon-white"></i> Points</a> ','<a href="{download_url}?format=xslx&download=1&grade=is_passing_grade" class="btn btn-small btn-inverse">','<i class="icon-download icon-white"></i> Passed/failed</a> ','<h4 style="margin-top: 20px;">',gettext("Comma-separated values (CSV)"),"</h4>",'<a href="{download_url}?format=csv&download=1" class="btn btn-small btn-success"><i class="icon-download icon-white"></i> All data</a> ','<a href="{download_url}?format=csv&download=1&grade=grade" class="btn btn-small btn-inverse">','<i class="icon-download icon-white"></i> Grades</a> ','<a href="{download_url}?format=csv&download=1&grade=points" class="btn btn-small btn-inverse">','<i class="icon-download icon-white"></i> Points</a> ','<a href="{download_url}?format=csv&download=1&grade=is_passing_grade" class="btn btn-small btn-inverse">','<i class="icon-download icon-white"></i> Passed/failed</a> ','<h4 style="margin-top: 20px;">',gettext("Other formats"),"</h4>",'<p class="muted">',gettext("These formats are mostly useful for programmers that need formats that are easy to parse. Refer to the Devilry website and Wiki for how to use the REST API."),"</p>",'<a href="{restapi_url}?format=json" target="_blank" class="btn btn-small">JSON</a> ','<a href="{restapi_url}?format=yaml" target="_blank" class="btn btn-small">YAML</a> ','<a href="{restapi_url}?format=xml" target="_blank" class="btn btn-small">XML</a> ','<a href="{restapi_url}" target="_blank" class="btn btn-small">REST API</a> '],initComponent:function(){Ext.apply(this,{plain:!0,maxWidth:500,layout:"fit",items:{xtype:"box",cls:"bootstrap",padding:10,itemId:"body",tpl:this.bodyTpl,style:"white-space: normal !important;",data:{period_id:this.period_id,restapi_url:Ext.String.format("{0}/devilry_subjectadmin/rest/detailedperiodoverview/{1}",DevilrySettings.DEVILRY_URLPATH_PREFIX,this.period_id),download_url:Ext.String.format("{0}/devilry_subjectadmin/export/periodoverview/{1}",DevilrySettings.DEVILRY_URLPATH_PREFIX,this.period_id)}}}),this.callParent(arguments)}})},/*!***************************************************************!*\
  !*** ./app/view/detailedperiodoverview/PeriodOverviewGrid.js ***!
  \***************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.detailedperiodoverview.PeriodOverviewGrid",{extend:"devilry_subjectadmin.view.detailedperiodoverview.PeriodOverviewGridBase",alias:"widget.detailedperiodoverviewgrid",cls:"devilry_subjectadmin_detailedperiodoverviewgrid bootstrap",store:"AggregatedRelatedStudentInfos",requires:["devilry_subjectadmin.view.detailedperiodoverview.ExportPeriodOverviewMenu"],setupToolbar:function(){this.callParent(arguments),Ext.Array.insert(this.tbar,1,[{xtype:"button",text:gettext("Export"),menu:{xtype:"exportperiodoverviewmenu",period_id:this.period_id}}])}})},/*!*******************************************************************!*\
  !*** ./app/view/detailedperiodoverview/PeriodOverviewGridBase.js ***!
  \*******************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.detailedperiodoverview.PeriodOverviewGridBase",{extend:"Ext.grid.Panel",cls:"devilry_qualifiesforexam_previewgrid bootstrap",firstAssignmentColumnIndex:1,hide_searchfield:!1,ignored_with_feedback_map:{},ignored_without_feedback_map:{},requires:["Ext.XTemplate","Ext.grid.column.Column","devilry_subjectadmin.view.detailedperiodoverview.PeriodOverviewIgnoredMenu","Ext.toolbar.TextItem"],counterTpl:gettext("Showing {count} students"),studentColTpl:['<div class="student" style="white-space: normal !important;">','<div class="fullname">','<tpl if="user.full_name">',"<strong>{user.full_name}</strong>","<tpl else>","<em>",gettext("Name missing"),"</em>","</tpl>","</div>",'<div class="username"><small class="muted">{user.username}</small></div>','<tpl if="ignored_with_feedback">','<span class="label label-important ignored_with_feedback-badge">',gettext("Ignored, has feedback so this may be a problem"),"</span>","</tpl>",'<tpl if="ignored_without_feedback">','<span class="label label-info ignored_without_feedback-badge">',gettext("Ignored, has no feedback so probably not a problem"),"</span>","</tpl>","</div>"],feedbackColTpl:['<div class="feedback feedback_assignment_{assignmentid}" style="white-space: normal !important;">','<tpl if="grouplist.length == 0">','<small class="text-error nofeedback">',gettext("Not registered on assignment"),"</small>","<tpl else>",'<tpl for="grouplist">','<div class="group-{id}">','<div class="status-{status}">',"<tpl if=\"status === 'corrected'\">",'<div class="{[this.getGradeClass(values.feedback.is_passing_grade)]}">','<div class="passingstatus {[this.getTextClassForGrade(values.feedback.is_passing_grade)]}">',"{[this.getPassedOrFailedText(values.feedback.is_passing_grade)]}","</div>",'<div class="gradedetails">','<small class="grade muted">({feedback.grade})</small>',' <small class="points muted">(',gettext("Points"),":{feedback.points})","</small>","</div>","</div>","<tpl elseif=\"status === 'waiting-for-deliveries'\">",'<em><small class="muted">',gettext("Waiting for deliveries"),"</small></em>","<tpl elseif=\"status === 'waiting-for-feedback'\">",'<em><small class="muted">',gettext("Waiting for feedback"),"</small></em>","<tpl else>",'<span class="label label-important">{status}</span>',"</tpl>","</div>","</div>","</tpl>","</tpl>","</div>",{getGradeClass:function(e){return e?"passinggrade":"notpassinggrade"},getTextClassForGrade:function(e){return e?"text-success":"text-warning"},getPassedOrFailedText:function(e){return e?gettext("Passed"):gettext("Failed")}}],initComponent:function(){this.studentColTplCompiled=Ext.create("Ext.XTemplate",this.studentColTpl),this.feedbackColTplCompiled=Ext.create("Ext.XTemplate",this.feedbackColTpl),this.counterTplCompiled=Ext.create("Ext.XTemplate",this.counterTpl),this.columns=[{text:gettext("Student"),dataIndex:"id",flex:2,menuDisabled:!0,minWidth:200,sortable:!1,renderer:Ext.bind(this.renderStudentColumn,this)}],this.setupColumns(),this.setupToolbar(),this.callParent(arguments),this.mon(this.getStore(),"datachanged",this._onStoreDataChanged,this)},renderStudentColumn:function(e,t,i){return this.studentColTplCompiled.apply({user:i.get("user"),ignored_with_feedback:this._isIgnoredWithFeedback(i),ignored_without_feedback:this._isIgnoredWithoutFeedback(i)})},setupColumns:function(){},setupToolbar:function(){this.tbar=[{xtype:"button",text:gettext("Sort"),itemId:"sortButton",menu:[{itemId:"sortByFullname",text:gettext("Full name"),listeners:{scope:this,click:this.sortByFullname}},{itemId:"sortByLastname",text:gettext("Last name"),listeners:{scope:this,click:this.sortByLastname}},{itemId:"sortByUsername",text:gettext("Username"),listeners:{scope:this,click:this.sortByUsername}}]},"->",{xtype:"button",text:"Undefined",itemId:"ignoredButton",hidden:!0,menu:{xtype:"periodoverviewignoredmenu",listeners:{scope:this,showButtonClick:this._onShowIgnored,hideButtonClick:this._onHideIgnored}}},{xtype:"textfield",width:250,emptyText:gettext("Search for name or username ..."),hidden:this.hide_searchfield,listeners:{scope:this,change:this._onSearch}}],this.bbar=["->",{xtype:"tbtext",text:gettext("Loading")+" ...",itemId:"itemCounter"}]},addAssignmentResultColumn:function(e){var t=Ext.create("Ext.grid.column.Column",{text:e.short_name,flex:1,dataIndex:"id",menuDisabled:!0,sortable:!1,minWidth:150,renderer:Ext.bind(this._renderAssignmentResultColum,this)});this.headerCt.insert(this.columns.length,t)},addColumnForEachAssignment:function(e){Ext.Array.each(e,function(e){this.addAssignmentResultColumn(e)},this),this.getView().refresh()},_renderAssignmentResultColum:function(e,t,i,n,r){var o=r-this.firstAssignmentColumnIndex,a=i.get("groups_by_assignment")[o];return this.feedbackColTplCompiled.apply({grouplist:a.grouplist,assignmentid:a.assignmentid})},addAssignmentSorters:function(e){var t=this.down("#sortButton").menu;Ext.Array.each(e,function(e,i){t.add({text:e.short_name,hideOnClick:!1,menu:[{text:gettext("Sort by points ascending"),listeners:{scope:this,click:function(){this._onSortByFeedback(i,this._sortByPointsAscending)}}},{text:gettext("Sort by points decending"),listeners:{scope:this,click:function(){this._onSortByFeedback(i,this._sortByPointsDecending)}}}]})},this)},_onSearch:function(e,t){Ext.isEmpty(this.searchtask)||this.searchtask.cancel(),this.searchtask=new Ext.util.DelayedTask(function(){this._search(t.toLocaleLowerCase())},this),this.searchtask.delay(140)},_searchMatch:function(e,t){return null===t&&(t=gettext("Name missing")),t.toLocaleLowerCase().indexOf(e)!==-1},_search:function(e){this.getStore().filterBy(function(t){var i=t.get("user");return this._searchMatch(e,i.username)||this._searchMatch(e,i.full_name)},this)},_getBestFeedback:function(e,t){for(var i=e.get("groups_by_assignment")[t].grouplist,n={points:-1,grade:"",is_passing_grade:!1},r=0;r<i.length;r++){var o=i[r];"corrected"===o.status&&o.feedback.points>n.points&&(n=o.feedback)}return n},_onSortByFeedback:function(e,t){this.getStore().sort(Ext.create("Ext.util.Sorter",{sorterFn:Ext.bind(function(i,n){var r=this._getBestFeedback(i,e),o=this._getBestFeedback(n,e);return t(r,o)},this)}))},_sortByPointsAscending:function(e,t){return e.points-t.points},_sortByPointsDecending:function(e,t){return t.points-e.points},sortByFullname:function(){this._sortByUser("fullname")},sortByLastname:function(){this._sortByUser("lastname")},sortByUsername:function(){this._sortByUser("username")},_sortByUser:function(e){var t=null;if("username"===e)t=this._byUsernameCompare;else if("fullname"===e)t=this._byFullnameCompare;else{if("lastname"!==e)throw"Invalid sorter: "+e;t=this._byLastnameCompare}this.getStore().sort(Ext.create("Ext.util.Sorter",{sorterFn:Ext.bind(t,this)}))},_forceString:function(e){return null===e?"":e},_byUserPropertyCompare:function(e,t,i){return this._forceString(e.get("user")[i]).localeCompare(this._forceString(t.get("user")[i]))},_byUsernameCompare:function(e,t){return this._byUserPropertyCompare(e,t,"username")},_byFullnameCompare:function(e,t){return this._byUserPropertyCompare(e,t,"full_name")},_getLastname:function(e){var t=this._forceString(e.get("user").full_name),i=t.split(/\s+/);return i[i.length-1]},_byLastnameCompare:function(e,t){var i=this._getLastname(e),n=this._getLastname(t);return i.localeCompare(n)},_isIgnoredWithFeedback:function(e){return"undefined"!=typeof this.ignored_with_feedback_map[e.get("user").id]},_isIgnoredWithoutFeedback:function(e){return"undefined"!=typeof this.ignored_without_feedback_map[e.get("user").id]},_isIgnored:function(e){return this._isIgnoredWithFeedback(e)||this._isIgnoredWithoutFeedback(e)},_hideIgnored:function(){var e=[];this.getStore().each(function(t){this._isIgnored(t)&&e.push(t)},this),this.getStore().remove(e)},_showIgnored:function(){this.getStore().loadData(this.ignored_with_feedback,!0),this.getStore().loadData(this.ignored_without_feedback,!0)},_onShowIgnored:function(e){this._showIgnored()},_onHideIgnored:function(e){this._hideIgnored()},_byUserId:function(e){for(var t={},i=0;i<e.length;i++){var n=e[i];t[n.user.id]=n}return t},handleIgnored:function(e,t,i){if(t.length+i.length!==0){this.ignored_with_feedback_map=this._byUserId(t),this.ignored_without_feedback_map=this._byUserId(i),this.ignored_with_feedback=t,this.ignored_without_feedback=i;var n=Ext.create("Ext.XTemplate",gettext("Some students are ignored"),'<span class="bootstrap">','<tpl if="ignored_with_feedback_count">',' <span class="badge badge-important">{ignored_with_feedback_count}</span>',"</tpl>",'<tpl if="ignored_without_feedback_count">',' <span class="badge badge-info">{ignored_without_feedback_count}</span>',"</tpl>","</span>"),r=this.down("#ignoredButton");r.setText(n.apply({ignored_with_feedback_count:t.length,ignored_without_feedback_count:i.length})),r.menu.updateBody({period_id:e,ignored_with_feedback_count:t.length,ignored_without_feedback_count:i.length}),r.show()}},_onStoreDataChanged:function(){this.updateCounter()},updateCounter:function(){var e=this.down("#itemCounter"),t=this.getStore(),i=this.counterTplCompiled.apply({count:t.count()});e.setText(i)}})},/*!**********************************************************************!*\
  !*** ./app/view/detailedperiodoverview/PeriodOverviewIgnoredMenu.js ***!
  \**********************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.detailedperiodoverview.PeriodOverviewIgnoredMenu",{extend:"Ext.menu.Menu",alias:"widget.periodoverviewignoredmenu",cls:"devilry_subjectadmin",ignoredHidden:!0,bodyTpl:['<tpl if="!loading">',"<p>",gettext("Some students are registered on groups within this term, but are not registered on the term. It is common to remove students from the term when they quit the course, so this may not indicate a problem."),"</p>",'<ul class="unstyled">',"<li>",'<span class="badge badge-important">{ignored_with_feedback_count}</span> ',"<small>",gettext("Students in groups with feedback and not registered on the term."),"</small>","</li>","<li>",'<span class="badge badge-info">{ignored_without_feedback_count}</span> ',"<small>",gettext("Students in groups without feedback but not registered on the term."),"</small>","</li>","</ul>",'<tpl if="ignoredHidden">','<a class="btn btn-small btn-success showhidebutton show-ignored-button">','<i class="icon-white icon-plus"></i> ',gettext("Show ignored students in the table"),"</a>","<tpl else>",'<a class="btn btn-small btn-inverse showhidebutton hide-ignored-button">','<i class="icon-white icon-minus"></i> ',gettext("Hide ignored students in the table"),"</a>","</tpl>",' &nbsp;<a class="new-window-link" href="{manageRelatedStudentsUrl}" target="_blank">',gettext("Edit/view students on the term"),"</a>","</tpl>"],initComponent:function(){this.addEvents(["showButtonClick","hideButtonClick"]),Ext.apply(this,{plain:!0,maxWidth:550,layout:"anchor",items:[{xtype:"box",padding:10,cls:"bootstrap",anchor:"100%",itemId:"body",tpl:this.bodyTpl,style:"white-space: normal !important;",data:{loading:!0},listeners:{scope:this,click:{element:"el",delegate:"a.showhidebutton",fn:this._onClickShowOrHideButton}}}]}),this.callParent(arguments)},_updateBody:function(){this.down("#body").update(this.templatedata)},_onClickShowOrHideButton:function(e){e.preventDefault();var t=Ext.get(e.target);this.hide(),t.hasCls("hide-ignored-button")?this._onClickHideButton():this._onClickShowButton(),this._updateBody()},_onClickShowButton:function(e){this.fireEvent("showButtonClick",this),this.templatedata.ignoredHidden=!1},_onClickHideButton:function(e){this.fireEvent("hideButtonClick",this),this.templatedata.ignoredHidden=!0},updateBody:function(e){this.templatedata={loading:!1,ignoredHidden:this.ignoredHidden,manageRelatedStudentsUrl:devilry_subjectadmin.utils.UrlLookup.manageRelatedStudents(e.period_id)},Ext.apply(this.templatedata,e),this._updateBody()}})},/*!******************************************************!*\
  !*** ./app/view/examinerstats/AveragePointsChart.js ***!
  \******************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.examinerstats.AveragePointsChart",{extend:"Ext.chart.Chart",alias:"widget.examinerstats_averagePointsChart",cls:"devilry_subjectadmin_examinerstats_averagePointsChart",requires:["Ext.chart.series.Column","Ext.chart.axis.Numeric","Ext.chart.axis.Category"],animate:!0,shadow:!0,store:"ExaminerStats",axes:[{type:"Numeric",position:"left",fields:["points_avg"],label:{renderer:Ext.util.Format.numberRenderer("0.00")},title:gettext("Average points"),grid:!0,minimum:0},{type:"Category",position:"bottom",fields:["examiner"],title:gettext("Examiner"),label:{renderer:function(e){if("undefined"!=typeof e)return e.user.displayname}}}],series:[{type:"column",axis:"bottom",highlight:!0,tips:{trackMouse:!0,width:220,renderer:function(e,t){this.setTitle([e.get("examiner").user.displayname,": ",e.get("points_avg")," ",gettext("points")].join(""))}},label:{display:"insideEnd",field:"points_avg",renderer:Ext.util.Format.numberRenderer("0"),orientation:"horizontal",contrast:!0,"text-anchor":"middle"},xField:"examiner",yField:["points_avg"],renderer:function(e,t,i,n,r){return Ext.apply(i,{fill:"#0077b3",stroke:"#222222"})}}]})},/*!*****************************************************!*\
  !*** ./app/view/examinerstats/AverageWordsChart.js ***!
  \*****************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.examinerstats.AverageWordsChart",{extend:"Ext.chart.Chart",alias:"widget.examinerstats_averageWordsChart",cls:"devilry_subjectadmin_examinerstats_averageWordsChart",requires:["Ext.chart.series.Column","Ext.chart.axis.Numeric","Ext.chart.axis.Category"],animate:!0,shadow:!0,store:"ExaminerStats",axes:[{type:"Numeric",position:"left",fields:["feedback_words_avg"],label:{renderer:Ext.util.Format.numberRenderer("0.0")},title:gettext("Number words in feedback"),grid:!0,minimum:0},{type:"Category",position:"bottom",fields:["examiner"],title:gettext("Examiner"),label:{renderer:function(e){if("undefined"!=typeof e)return e.user.displayname}}}],series:[{type:"column",axis:"bottom",highlight:!0,tips:{trackMouse:!0,width:220,renderer:function(e,t){this.setTitle([e.get("examiner").user.displayname,": ",e.get("feedback_words_avg")," ",gettext("words")].join(""))}},label:{display:"insideEnd",field:"feedback_words_avg",renderer:Ext.util.Format.numberRenderer("0"),orientation:"horizontal",contrast:!0,"text-anchor":"middle"},xField:"examiner",yField:["feedback_words_avg"],renderer:function(e,t,i,n,r){return Ext.apply(i,{fill:"#555555",stroke:"#222222"})}}]})},/*!*********************************************************!*\
  !*** ./app/view/examinerstats/ExaminerStatsOverview.js ***!
  \*********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.examinerstats.ExaminerStatsOverview",{extend:"Ext.container.Container",alias:"widget.examinerstatsoverview",cls:"devilry_subjectadmin_examinerstatsoverview",requires:["devilry_subjectadmin.view.examinerstats.AveragePointsChart","devilry_subjectadmin.view.examinerstats.AverageWordsChart","devilry_subjectadmin.view.examinerstats.PassedGroupsChart"],initComponent:function(){Ext.apply(this,{layout:"anchor",autoScroll:!0,padding:40,items:[{xtype:"container",padding:10,layout:"anchor",cls:"devilry_focuscontainer",defaults:{anchor:"100%"},items:[{xtype:"box",cls:"bootstrap",html:['<h1 style="margin: 0;">',gettext("Statistics about examiners"),"</h1>",'<p class="muted"><small>',gettext("Summary in this section, in the next section."),"</small></p>"].join("")},{xtype:"examinerstats_averagePointsChart",height:400},{xtype:"examinerstats_averageWordsChart",height:400},{xtype:"examinerstats_passedGroupsChart",height:400}]},{xtype:"container",margin:"40 0 0 0",layout:"anchor",cls:"devilry_focuscontainer",padding:20,defaults:{anchor:"100%"},items:[{xtype:"box",cls:"bootstrap",html:['<h2 style="margin: 0;">',gettext("Details"),"</h2>",'<p class="muted"><small>',gettext("Detailed statistics for each examiner."),"</small></p>"].join("")},{xtype:"container",itemId:"examinerStatBoxes",items:[]}]}]}),this.callParent(arguments)}})},/*!*****************************************************!*\
  !*** ./app/view/examinerstats/PassedGroupsChart.js ***!
  \*****************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.examinerstats.PassedGroupsChart",{extend:"Ext.chart.Chart",alias:"widget.examinerstats_passedGroupsChart",cls:"devilry_subjectadmin_examinerstats_passedGroupsChart",requires:["Ext.chart.series.Column","Ext.chart.axis.Numeric","Ext.chart.axis.Category"],animate:!0,shadow:!0,store:"ExaminerStats",axes:[{type:"Numeric",position:"left",fields:["passed_percent"],label:{renderer:function(e){return Ext.String.format("{0}%",Ext.util.Format.number(e,"0.0"))}},title:gettext("Results/Progress"),grid:!0,minimum:0,maximum:100},{type:"Category",position:"bottom",fields:["examiner"],title:gettext("Examiner"),label:{renderer:function(e){if("undefined"!=typeof e)return e.user.displayname}}}],series:[{type:"column",axis:"bottom",stacked:!0,highlight:!0,tips:{trackMouse:!0,width:220,renderer:function(e,t){var i={passed_percent:gettext("Passed groups"),failed_percent:gettext("Failed groups"),waitingforfeedback_percent:gettext("Waiting for feedback"),waitingfordeliveries_percent:gettext("Waiting for deadline to expire"),closedwithoutfeedback_percent:gettext("Closed without feedback")},n=Ext.util.Format.number(e.get(t.yField),"0.0");this.setTitle([i[t.yField],": ",n,"% "," (",e.get("examiner").user.displayname,")"].join(""))}},xField:"examiner",yField:["passed_percent","failed_percent","waitingforfeedback_percent","waitingfordeliveries_percent","closedwithoutfeedback_percent"],renderer:function(e,t,i,n,r){var o=n%5,a=["#468847","#b94a48","#999999","#eeeeee","#ff0000"],s=a[o];return Ext.apply(i,{fill:s,stroke:"#222222"})}}]})},/*!*********************************************************!*\
  !*** ./app/view/examinerstats/SingleExaminerStatBox.js ***!
  \*********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.examinerstats.SingleExaminerStatBox",{extend:"Ext.container.Container",alias:"widget.singleexaminerstatbox",cls:"devilry_subjectadmin_singleexaminerstatbox",requires:["Ext.chart.series.Pie"],bodytpl:["<h3>{stats.examiner.user.displayname}</h3>","<dl>","<dt>",gettext("Corrected groups"),"</dt>","<dd>{stats.corrected_count}/{total_count}</dd>","<dt>",gettext("Passed groups"),"</dt>",'<dd class="text-success">{stats.passed_count}/{total_count}</dd>',"<dt>",gettext("Failed groups"),"</dt>",'<dd class="text-warning">{stats.failed_count}/{total_count}</dd>',"<dt>",gettext("Groups waiting for feedback"),"</dt>","<dd>{stats.waitingforfeedback_count}/{total_count}</dd>","<dt>",gettext("Groups waiting for deadline to expire"),"</dt>","<dd>{stats.waitingfordeliveries_count}/{total_count}</dd>","<dt>",gettext("Closed without feedback"),"</dt>","<dd>{stats.closedwithoutfeedback_count}/{total_count}</dd>","<dt>",gettext("Points"),"</dt>","<dd>",gettext("Average:")," {stats.points_avg} ",'<small class="muted">(',gettext("Worst:"),"{stats.points_worst}, ",gettext("Best:"),"{stats.points_best}",")</small>","</dd>","<dt>",gettext("Average number of words in feedback"),"</dt>","<dd>{stats.feedback_words_avg}</dd>","</dl>"],initComponent:function(){this._createChartStore(),Ext.apply(this,{layout:"column",items:[{xtype:"box",columnWidth:.4,cls:"bootstrap",tpl:this.bodytpl,data:{stats:this.examinerstat.data,total_count:this.examinerstat.get("groups").length}},{xtype:"chart",animate:!0,store:this.chartStore,columnWidth:.6,height:300,shadow:!0,legend:{position:"right"},insetPadding:30,theme:"Base:gradients",series:[{type:"pie",field:"groups_percent",showInLegend:!0,donut:!1,colorSet:["#468847","#b94a48","#999999","#eeeeee","#ff0000"],tips:{trackMouse:!0,width:140,renderer:function(e,t){this.setTitle(e.get("title")+": "+Math.round(e.get("groups_percent"))+"%")}},highlight:{segment:{margin:20}},label:{field:"title",display:"rotate",contrast:!0,font:"12px Ubuntu, sans-serif"}}]}]}),this.callParent(arguments)},_createChartStore:function(){var e=[{name:"passed",title:gettext("Passed groups"),groups_percent:this.examinerstat.get("passed_percent")},{name:"failed",title:gettext("Failed groups"),groups_percent:this.examinerstat.get("failed_percent")},{name:"waitingforfeedback",title:gettext("Waiting for feedback"),groups_percent:this.examinerstat.get("waitingforfeedback_percent")},{name:"waitingfordeliveries",title:gettext("Waiting for deadline to expire"),groups_percent:this.examinerstat.get("waitingfordeliveries_percent")},{name:"closedwithoutfeedback",title:gettext("Closed without feedback"),groups_percent:this.examinerstat.get("closedwithoutfeedback_percent")}];this.chartStore=Ext.create("Ext.data.Store",{fields:[{name:"name",type:"string"},{name:"title",type:"string"},{name:"groups_percent",type:"float"}],data:e,proxy:{type:"memory"}})}})},/*!************************************************!*\
  !*** ./app/view/guides/CreateNewAssignment.js ***!
  \************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.guides.CreateNewAssignment",{extend:"Ext.container.Container",alias:"widget.guide-createnewassignment",layout:"card",defaults:{xtype:"box"},items:[{itemId:"loading",html:["<p>",gettext("Loading")+" ...","</p>"].join("")},{itemId:"dashboard",tpl:["<p>",gettext("Select an active course from the list at the top of the left side of this page."),"</p>","<p><small>",gettext("For courses where you only have admin rights for selected assignments, those assignments will be listed. If you only have assignments in your list, you do not have the required rights to create new assignments."),"</small></p>"],data:{}},{itemId:"period",tpl:["<p>",gettext("Click <em>Create new assignment</em>."),"</p>"],data:{}},{itemId:"createnewassignment1",tpl:["<p>",gettext("Fill out the visible fields in the form."),"</p>","<h3>",gettext("Exam?"),"</h3>","<p>",gettext("Click Advanced, and choose Anonymous."),"</p>","<h3>",gettext("Paper deliveries?"),"</h3>","<p>",gettext("If your students hand in deliveries on paper, choose Not using Devilry."),"</p>"],data:{}},{itemId:"createnewassignment2",tpl:["<p>",gettext("Keeping the defaults is usually the best choice if you are uncertain."),"</p>","<h3>",gettext("Need to edit students or examiners?"),"</h3>","<p>",gettext("The links to view or edit students and examiners open a new browser window, so you will not loose your progress when you click them."),"</p>","<h3>",gettext("Create another?"),"</h3>","<p>",gettext("This guide closes when you click Create new assignment. At the top of the next page, you will get a link to quickly create another assignment with the same settings that you used for this assignment."),"</p>"],data:{}}]})},/*!***************************************************!*\
  !*** ./app/view/guides/QualifiedForFinalExams.js ***!
  \***************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.guides.QualifiedForFinalExams",{extend:"Ext.container.Container",alias:"widget.guide-qualifiedforfinalexams",layout:"card",defaults:{xtype:"box"},items:[{itemId:"loading",html:["<p>",gettext("Loading")+" ...","</p>"].join("")},{itemId:"dashboard",tpl:["<p>",gettext("Select an active course from the list at the top of the left side of this page."),"</p>","<p><small>",gettext("For courses where you only have admin rights for selected assignments, those assignments will be listed. If you only have assignments in your list, you do not have the required rights to select students that qualify for final exams."),"</small></p>"],data:{}},{itemId:"period",tpl:["<p>",gettext("Click the <em>Qualified for final exams</em>-link near the bottom of the page."),"</p>","<p>",gettext("On the next page this guide will disappear, and a wizard guiding you through the required steps will begin. If you, or another admin, have already selected students that qualify for final exams, you will see the results of that selection instead of beginning the wizard."),"</p>"],data:{}}]})},/*!*******************************************!*\
  !*** ./app/view/guidesystem/GuideList.js ***!
  \*******************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.guidesystem.GuideList",{extend:"Ext.Component",alias:"widget.guidesystemlist",cls:"devilry_subjectadmin_guidesystemlist bootstrap",tpl:['<tpl if="guides">','<ul class="unstyled">','<tpl for="guides">',"<li><p>",'<a href="#" data-guidextype="{xtype}" class="guide_link">',"{title}","</a><br/>",'<small class="muted">',"{description}","</small>","</p></li>","</tpl>","</ul>","</tpl>"],initComponent:function(){this.addListener({scope:this,element:"el",delegate:"a.guide_link",click:this._onGuideClick}),this.data={guides:this.guides},this.callParent(arguments)},_onGuideClick:function(e){e.preventDefault();var t=Ext.get(e.target),i=t.getAttribute("data-guidextype");this.fireEvent("guideclick",this,i)}})},/*!*******************************************!*\
  !*** ./app/view/guidesystem/GuideView.js ***!
  \*******************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.guidesystem.GuideView",{extend:"Ext.panel.Panel",alias:"widget.guidesystemview",cls:"devilry_subjectadmin_guidesystemview bootstrap",ui:"helpsidebar",requires:["devilry_extjsextras.AlertMessage"],title:gettext("Loading")+" ...",bodyPadding:0,closable:!0,closeAction:"hide",layout:"card",overflowY:"auto",items:[{xtype:"container",itemId:"main",layout:"anchor",items:[{xtype:"box",itemId:"progress",cls:"guidesystem_progress",tpl:gettext("Step {current} of {total}")},{xtype:"container",padding:Ext.isIE?"10 30 10 10":10,layout:"fit",itemId:"body"}]},{xtype:"alertmessage",type:"error",margin:10,itemId:"invalidPageMessage",title:gettext("Invalid guide step"),message:gettext("The current guide does not recognize this page. Please use your browser back button to return to the previous page, and read the instructions one more time.")}]})},/*!*****************************************!*\
  !*** ./app/view/guidesystem/Pointer.js ***!
  \*****************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.guidesystem.Pointer",{extend:"Ext.panel.Panel",alias:"widget.guidesystem_pointer",requires:["Ext.fx.Animator"],cls:"devilry_subjectadmin_guidesystem_pointer",floating:!0,width:100,height:100,border:!1,hideMode:"visibility",initComponent:function(){Ext.apply(this,{bodyStyle:"background-color: transparent !important;",style:"background-color: transparent !important;",frame:!1,shadow:!1,layout:"fit",tpl:'<img src="{staticurl}/devilry_theme/resources/hugearrow/hugearrow_left.png" border="0"/>',data:{staticurl:DevilrySettings.DEVILRY_STATIC_URL}}),this.callParent(arguments)},stopPointAt:function(){this.hide()},pointAt:function(e){this.show();var t=this.getHeight()/2;this.alignTo(e,"r",[10,-t])}})},/*!************************************************************!*\
  !*** ./app/view/managestudents/AutocompleteGroupWidget.js ***!
  \************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.AutocompleteGroupWidget",{extend:"devilry_usersearch.AutocompleteUserWidget",alias:"widget.autocompletegroupwidget",cls:"devilry_usersearch_autocompletegroupwidget",hideTrigger:!0,displayField:"id",minChars:1,store:"SearchForGroups",hideLabel:!0,listGetInnerTpl:function(){return['<div class="matchlistitem matchlistitem_{id}">','<ul class="unstyled">','<tpl for="candidates">',"<li>",'<tpl if="user.full_name">',"<strong>{user.full_name}"," <small>({user.username})</small>","<tpl else>","<strong>{user.username}","</tpl>","</li>","</tpl>","</ul>","</div>"].join("")}})},/*!****************************************************!*\
  !*** ./app/view/managestudents/ChooseTagsPanel.js ***!
  \****************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.ChooseTagsPanel",{extend:"Ext.panel.Panel",alias:"widget.choosetagspanel",cls:"devilry_subjectadmin_choosetagspanel",layout:"fit",border:!1,frame:!1,requires:["devilry_extjsextras.form.Help","devilry_extjsextras.PrimaryButton"],allowNoTags:!1,inputFieldType:"textarea",initialValue:void 0,constructor:function(e){this.callParent([e]),this.addEvents("savetags","cancel")},initComponent:function(){Ext.apply(this,{layout:"fit",items:{xtype:"form",bodyPadding:10,listeners:{scope:this,render:this._onRenderFormPanel},layout:"anchor",items:[{anchor:"100%",xtype:this.inputFieldType,name:"tags",allowBlank:this.allowNoTags,emptyText:pgettext("tagsexample","Example: group3, needs_extra_help"),regex:new RegExp("^[a-zA-Z0-9_, -]+$"),regexText:gettext('A tag can contain a-z, A-Z, 0-9 and "_".'),listeners:{scope:this,render:function(e){Ext.defer(function(){e.focus()},300)}}},{xtype:"formhelp",anchor:"100%",html:[gettext("Type tags separated by comma (,)"),gettext('A tag can contain a-z, A-Z, 0-9 and "_".')].join(". ")}],buttons:[{xtype:"button",itemId:"cancelButton",cls:"choosetags_cancelbutton",text:gettext("Cancel"),listeners:{scope:this,click:this._onCancel}},{xtype:"primarybutton",itemId:"saveTags",cls:"choosetags_savebutton",formBind:!0,text:this.buttonText,listeners:{scope:this,click:this._onSave}}]}}),this.on("show",this._onShow,this),this.callParent(arguments)},_getParsedValueAsArray:function(){var e=this.down("form").getForm(),t=e.getFieldValues().tags.split(/\s*,\s*/),i=Ext.Array.filter(t,function(e){return""!==e});return Ext.Array.unique(i)},_isValid:function(){return this.down("form").getForm().isValid()},_onRenderFormPanel:function(e){e.keyNav=Ext.create("Ext.util.KeyNav",e.el,{enter:this._onSave,scope:this})},_onSave:function(){this._isValid()&&this.fireEvent("savetags",this,this._getParsedValueAsArray())},_onCancel:function(){this.fireEvent("cancel",this)},setValue:function(e){this.down(this.inputFieldType).setValue(e)},setInitialValue:function(e){this.initialValue=e},_onShow:function(){if("undefined"==typeof this.initialValue)throw"this.initialValue has not been set. It must be set using setInitialValue() before showing the ChooseTagsPanel.";this.setValue(this.initialValue),this.down(this.inputFieldType).focus()}})},/*!**************************************************!*\
  !*** ./app/view/managestudents/DeadlinePanel.js ***!
  \**************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.DeadlinePanel",{extend:"Ext.panel.Panel",alias:"widget.admingroupinfo_deadline",cls:"devilry_subjectadmin_admingroupinfo_deadline",collapsible:!0,collapsed:!0,titleCollapse:!0,animCollapse:!1,requires:["devilry_extjsextras.DatetimeHelpers","devilry_subjectadmin.view.managestudents.DeliveryPanel"],non_electronic:!1,headerTpl:['<div class="bootstrap deadlineheader">','<tpl if="non_electronic">','<div class="lineone">','<span class="linklike">',gettext("Corrected deliveries"),"</span>","</div>",'<div class="linetwo">',"<small>","<em>",gettext("Deliveries"),"</em>: ",'<span class="deliverycount">{delivery_count}</span>',"</small>","</div>","<tpl else>",'<div class="lineone">','<small class="linklike"><em class="deadline_label">',gettext("Deadline"),"</em></small>: ",'<span class="deadline linklike">{deadline_formatted}</span>','<span class="in_the_future">','<tpl if="in_the_future">','<span class="text-success"> ({offset_from_now})</span>',"<tpl else>",'<span class="text-warning"> ({offset_from_now})</span>',"</tpl>","</span>","</div>",'<div class="linetwo">',"<small>","<em>",gettext("Deliveries"),"</em>: ",'<span class="deliverycount">{delivery_count}</span>',"</small>",'<tpl if="text">',"&nbsp;","&nbsp;","&nbsp;","<small><em>{text_title}</em>: {text}</small>","</tpl>","</div>","</tpl>","</div>"],deadlineTextTpl:['<tpl if="deadline.text">',"<h2>",gettext("About this deadline"),"</h2>",'<p style="white-space: pre-wrap;">{deadline.text}</p>',"</tpl>"],_formatDeadlineTextOneline:function(){var e=50,t=this.deadline.text;return null===t||0===t.length?null:(t=t.replace(/(\r\n|\n|\r)/gm," "),Ext.String.ellipsis(t,e))},initComponent:function(){var e=devilry_subjectadmin.model.AggregatedGroupInfo.parseDateTime(this.deadline.deadline),t=devilry_extjsextras.DatetimeHelpers.formatDateTimeLong(e),i=this.deadline.offset_from_now;i=devilry_extjsextras.DatetimeHelpers.formatTimedeltaRelative(i,this.deadline.in_the_future),Ext.apply(this,{itemId:Ext.String.format("deadline-{0}",this.deadline.id),id:Ext.String.format("deadlinepanel-{0}",this.deadline.id),title:Ext.create("Ext.XTemplate",this.headerTpl).apply({deadline_formatted:t,delivery_count:this.deadline.deliveries.length,offset_from_now:i,in_the_future:this.deadline.in_the_future,text_title:gettext("About this deadline"),text:this._formatDeadlineTextOneline(),non_electronic:this.non_electronic}),items:[{xtype:"box",cls:"bootstrap deadlinetext",tpl:this.deadlineTextTpl,hidden:Ext.isEmpty(this.deadline.text),padding:"20",data:{deadline:this.deadline}},{xtype:"alertmessage",cls:"nodeliveries",type:"warning",margin:"20 20 0 20",hidden:this.deadline.deliveries.length>0,message:gettext("The group has no deliveries on this deadline.")},{xtype:"container",itemId:"deliveriesContainer",items:this._getDeliveryPanelConfigs()}]}),this.callParent(arguments)},_getDeliveryPanelConfigs:function(){var e=[];return Ext.Array.each(this.deadline.deliveries,function(t,i){e.push({xtype:"admingroupinfo_delivery",delivery:t,index_in_deadline:i,active_feedback:this.active_feedback,non_electronic:this.non_electronic})},this),e},hideDeliveries:function(){this.down("#deliveriesContainer").hide()},showDeliveries:function(){this.down("#deliveriesContainer").show()}})},/*!*******************************************************!*\
  !*** ./app/view/managestudents/DeadlinesContainer.js ***!
  \*******************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.DeadlinesContainer",{extend:"Ext.panel.Panel",alias:"widget.admingroupinfo_deadlinescontainer",cls:"devilry_subjectadmin_admingroupinfo_deadlinescontainer devilry_discussionview_container",requires:["devilry_subjectadmin.view.managestudents.DeadlinePanel","devilry_extjsextras.AlertMessage"],frame:!1,border:!1,bodyPadding:0,layout:"anchor",defaults:{anchor:"100%"},populate:function(e,t,i){var n=e.get("deadlines");0===n.length?this.add({xtype:"alertmessage",type:"error",title:gettext("No deadlines"),message:gettext("This group has no deadlines. This is probably caused by a third-party plugin or integration script behaving incorrectly, or it may be a bug in Devilry.")}):0===i?Ext.Array.each(n,function(e){this.add({xtype:"admingroupinfo_deadline",deadline:e,active_feedback:t})},this):1===n.length?this.add({xtype:"admingroupinfo_deadline",deadline:n[0],non_electronic:!0,active_feedback:t}):this.add({xtype:"alertmessage",type:"error",title:gettext("More than one deadline on non-electronic assignment"),message:gettext("Devilry does not support deadlines for non-electronic assignments. To avoid special handling of non-electronic assignments, we create EXACTLY ONE dummy-deadline. This assignment is non-electronic, but it has more than one deadline. The most likely cause is a third-party integration with Devilry that handles non-electronic assignments incorrectly, or a bug in Devilry.")})}})},/*!**************************************************!*\
  !*** ./app/view/managestudents/DeliveryPanel.js ***!
  \**************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.DeliveryPanel",{extend:"Ext.panel.Panel",alias:"widget.admingroupinfo_delivery",requires:["devilry_extjsextras.DatetimeHelpers"],non_electronic:!1,metaTpl:['<div class="gradeblock">','<tpl if="latest_feedback">',"<h4>",gettext("Grade"),"</h4>","<p>",'<tpl if="latest_feedback.is_passing_grade">','<span class="text-success">',gettext("Passed"),"</span>","<tpl else>",'<span class="text-warning">',gettext("Failed"),"</span>","</tpl>",' <small class="muted">({latest_feedback.grade})</small>',' <small class="muted">(',gettext("Points"),": {latest_feedback.points})</small>","</p>","</tpl>","</div>",'<div class="savedbyblock">','<tpl if="latest_feedback">',"<h4>",gettext("Corrected by"),"</h4>",'<p class="muted">',"{latest_feedback.saved_by.displayname}"," <small>({[this.formatDatetime(values.latest_feedback.save_timestamp)]})</small>","</p>","</tpl>","</div>",'<div class="activefeedbackblock">','<tpl if="has_active_feedback">',"<h4>",gettext("Active feedback"),"</h4>",'<p><small class="muted">',gettext("This is the active feedback on this assignment. Unless an examiner creates a new feedback, this will be the final grade on this assignment."),"</small></p>","</tpl>","</div>",'<tpl if="electronic">','<div class="timeofdeliveryblock">',"<h4>",gettext("Time of delivery"),"</h4>","<p>",'<tpl if="delivery.after_deadline">','<span class="text-warning">',gettext("{offset} AFTER the deadline."),"</span>","<tpl else>",'<small class="muted">',gettext("{offset} before the deadline."),"</small>","</tpl>",'<br/><small class="muted">({delivery.time_of_delivery})</small>',"</p>","</div>",'<tpl if="delivery.delivered_by">','<div class="deliverymadebyblock">',"<h4>",gettext("Delivery made by"),"</h4>",'<p class="madeby_displayname">{delivery.delivered_by.user.displayname}</p>',"</div>","</tpl>",'<div class="fileblock">',"<h4>",gettext("Files"),"</h4>","<ul>",'<tpl for="delivery.filemetas">',"<li>",'<p><a href="{download_url}" class="filename", title="{filename}">{[Ext.String.ellipsis(values.filename, 20)]}</a>',' <small class="filesize">({pretty_size})</small></p>',"</li>","</tpl>","</ul>",'<a href="{delivery.download_all_url.zip}" class="downloadallfiles">',gettext("Download all files"),"</a>","</div>","</tpl>",{formatDatetime:function(e){return Ext.isString(e)&&(e=Ext.Date.parse(e,"Y-m-d H:i:s")),devilry_extjsextras.DatetimeHelpers.formatDateTimeShort(e)}}],feedbackTpl:['<tpl if="this.hasFeedback(latest_feedback)">','<div class="feedback_rendered_view">{latest_feedback.rendered_view}</div>',"<tpl else>",'<p><small class="muted no_feedback">',gettext("No detailed feedback"),"</small></p>","</tpl>",{hasFeedback:function(e){return e&&!Ext.isEmpty(e.rendered_view)}}],headerTpl:["<h2>{delivery_text} #{delivery.number}</h2>"],initComponent:function(){var e=this.delivery.feedbacks[0],t=this.active_feedback&&this.active_feedback.delivery_id===this.delivery.id;Ext.apply(this,{cls:"devilry_subjectadmin_admingroupinfo_delivery devilry_subjectadmin_admingroupinfo_delivery_"+(this._hasFeedback()?"hasfeedback":"nofeedback"),itemId:Ext.String.format("delivery-{0}",this.delivery.id),padding:0,margin:0===this.index_in_deadline?"0":"30 0 0 0",bodyPadding:20,border:!1,items:[{xtype:"box",cls:"bootstrap",tpl:this.headerTpl,data:{delivery_text:gettext("Delivery"),delivery:this.delivery}},{xtype:"container",layout:"column",margin:"10 0 0 0",items:[{columnWidth:.3,xtype:"box",cls:"bootstrap delivery_meta",itemId:"meta",tpl:this.metaTpl,data:{delivery:this.delivery,latest_feedback:e,has_active_feedback:t,offset:devilry_extjsextras.DatetimeHelpers.formatTimedeltaShort(this.delivery.offset_from_deadline),downloadAllUrl:this._getDownloadAllUrl(),electronic:!this.non_electronic}},{xtype:"box",columnWidth:.7,tpl:this.feedbackTpl,itemId:"feedback",cls:"bootstrap",padding:"12 0 0 40",data:{latest_feedback:e}}]}]}),this.callParent(arguments)},_hasFeedback:function(){return this.delivery.feedbacks.length>0},_getDownloadAllUrl:function(){return Ext.String.format("{0}/student/show-delivery/compressedfiledownload/{1}",DevilrySettings.DEVILRY_URLPATH_PREFIX,this.delivery.id)}})},/*!****************************************************!*\
  !*** ./app/view/managestudents/DynamicLoadMenu.js ***!
  \****************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.DynamicLoadMenu",{extend:"Ext.menu.Menu",alias:"widget.dynamicloadmenu",cls:"devilry_subjectadmin_dynamicloadmenu",plain:!0,initComponent:function(){this.callParent(arguments),this.setLoadingString()},setLoadingString:function(){this.setItems([gettext("Loading")+" ..."])},setItems:function(e){this.removeAll(),this.add(e)}})},/*!**************************************************!*\
  !*** ./app/view/managestudents/ExaminersHelp.js ***!
  \**************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.ExaminersHelp",{singleton:!0,_introText:gettext("Examiners are the ones that give feedback to students on their deliveries."),getIntroText:function(){return this._introText},_detailList:[gettext("Administrators can not give feedback. If you want to give feedback to any groups, you have to make yourself examiner on those groups."),gettext("An examiner can open/close their groups."),gettext("An examiner can add new deadlines to their groups."),gettext("A group can have multiple examiners."),gettext("Removing an examiner from a group does NOT remove any feedback already provided by that examiner.")],getDetailsUl:function(){return Ext.isEmpty(this._detailsUl)&&(this._detailsUl=Ext.create("Ext.XTemplate","<ul>",'<tpl for="list">',"<li>{.}</li>","</tpl>","</ul>").apply({list:this._detailList})),this._detailsUl},getRelatedNote:function(e){return Ext.isEmpty(this._relatedNoteTpl)&&(this._relatedNoteTpl=Ext.create("Ext.XTemplate",'<p><small class="muted">',gettext("Only <a {relatedexaminers_link}>examiners registered on the term</a> are available."),"</small></p>")),this._relatedNoteTpl.apply({relatedexaminers_link:Ext.String.format('href="{0}" target="_blank" class="new-window-link"',devilry_subjectadmin.utils.UrlLookup.manageRelatedExaminers(e))})}})},/*!*********************************************************!*\
  !*** ./app/view/managestudents/ExaminersInGroupGrid.js ***!
  \*********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.ExaminersInGroupGrid",{extend:"Ext.grid.Panel",alias:"widget.examinersingroupgrid",cls:"devilry_subjectadmin_examinersingroupgrid",hideHeaders:!0,disableSelection:!0,border:!1,requires:["Ext.XTemplate"],store:"SingleGroupExaminers",rowTpl:['<div class="examinersingroupgrid_meta examinersingroupgrid_meta_{user.username}">','<div class="fullname">','<tpl if="user.full_name">',"<div>{user.full_name}</div>","<tpl else>",'<em class="nofullname">',gettext("Full name missing"),"</em>","</tpl>","</div>",'<div class="username"><small class="muted">{user.username}</small></div>',"</div>"],initComponent:function(){var e=Ext.create("Ext.XTemplate",this.rowTpl);Ext.apply(this,{columns:[{header:"Name",flex:1,dataIndex:"id",renderer:function(t,i,n){return e.apply(n.data)}}]}),this.callParent(arguments)}})},/*!*****************************************************!*\
  !*** ./app/view/managestudents/GridOfGroupsBase.js ***!
  \*****************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.GridOfGroupsBase",{extend:"Ext.grid.Panel",border:1,frame:!0,groupInfoColTemplateString:['<div class="groupInfoWrapper groupInfoWrapper_{id}" style="white-space:normal !important;">','<div class="name"><strong>','<tpl if="groupUrlPrefix">','<a href="{groupUrlPrefix}{id}">',"{fullnames}","</a>","<tpl else>","{fullnames}","</tpl>","</strong></div>",'<tpl if="groupname">','<div class="groupname">{groupname}</div>',"</tpl>",'<div class="username"><small class="muted">{usernames}</small></div>','<div class="status">','<div class="status-{status}">',"<tpl if=\"status === 'corrected'\">",'<tpl if="feedback.is_passing_grade">','<div class="passinggrade">','<small class="passingstatus text-success">{approvedText}</small>',' <small class="grade text-success">({feedback.grade})</small>',"</div>","</tpl>",'<tpl if="!feedback.is_passing_grade">','<div class="notpassinggrade">','<small class="passingstatus text-warning">{notApprovedText}</small>',' <small class="grade text-warning">({feedback.grade})</small>',"</div>","</tpl>","<tpl elseif=\"status === 'waiting-for-deliveries'\">",'<em><small class="muted">',gettext("Waiting for deliveries"),"</small></em>","<tpl elseif=\"status === 'waiting-for-feedback'\">",'<em><small class="muted">',gettext("Waiting for feedback"),"</small></em>","<tpl else>",'<span class="label label-important">{status}</span>',"</tpl>","</div>","</div>","</div>"],metadataColTemplateString:['<div class="metadataWrapper">','<tpl if="num_deliveries != 0">','<div style="padding-top: 15px;">','<span class="num_deliveries badge" title="{num_deliveries} {[this.getDeliveriesLabel(values.num_deliveries)]}">',"{num_deliveries} {[this.ellipsis(this.getDeliveriesLabel(values.num_deliveries), 7)]}","</span>","</div>","</tpl>","</div>",{getDeliveriesLabel:function(e){return 1===e?gettext("delivery"):gettext("deliveries")},ellipsis:function(e,t){return Ext.String.ellipsis(e,t)}}],examinersListTemplateString:['<div class="examinersWrapper">','<ul class="unstyled">','<tpl for="examiners">','<li class="examiner">','<tpl if="user.full_name">',"{user.full_name}","<tpl else>","{user.username}","</tpl>","</li>","</tpl>","</ul>","</div>"],tagsListTemplateString:['<div class="tagsWrapper">','<ul class="unstyled">','<tpl for="tags">','<li class="tag">',"{tag}","</li>","</tpl>","</ul>","</div>"],initComponent:function(){var e="devilry_subjectadmin_gridofgroupsbase bootstrap";this.cls&&(e+=" "+this.cls),this.cls=e,this.setTemplateVariables(),this.columns=this.getColumns(),this.groupUrlPrefix=this.getGroupUrlPrefix(),this.callParent(arguments)},getColumns:function(){throw"getColumns must be implemented in subclasses"},setTemplateVariables:function(){this.approvedText=pgettext("group","Passed"),this.notApprovedText=pgettext("group","Failed"),this.openText=pgettext("group","Open"),this.closedText=pgettext("group","Closed")},getGroupInfoColConfig:function(){return this.groupInfoColTemplate=Ext.create("Ext.XTemplate",this.groupInfoColTemplateString),{header:gettext("Group info"),dataIndex:"id",flex:2,menuDisabled:!0,renderer:this.renderGroupMembersCol,sortable:!1}},getMetadataColConfig:function(){return this.metadataColTemplate=Ext.create("Ext.XTemplate",this.metadataColTemplateString),{header:gettext("Metadata"),dataIndex:"user",width:75,menuDisabled:!0,renderer:this.renderMetadataCol,sortable:!1}},getExaminersColConfig:function(){return this.examinersListTemplate=Ext.create("Ext.XTemplate",this.examinersListTemplateString),{header:gettext("Examiners"),dataIndex:"examiners",flex:1,menuDisabled:!0,renderer:this.renderExaminersCol,sortable:!1}},getTagsColConfig:function(){return this.tagsListTemplate=Ext.create("Ext.XTemplate",this.tagsListTemplateString),{header:gettext("Tags"),dataIndex:"tags",flex:1,menuDisabled:!0,renderer:this.renderTagsCol,sortable:!1}},renderGroupMembersCol:function(e,t,i){var n=i.get("name");Ext.isEmpty(n)||(n=Ext.String.ellipsis(n,20));var r={fullnames:this.getFullnames(i),groupname:n,usernames:this.getUsernames(i),notApprovedText:this.notApprovedText,approvedText:this.approvedText,groupUrlPrefix:this.groupUrlPrefix};return Ext.apply(r,i.data),this.groupInfoColTemplate.apply(r)},renderMetadataCol:function(e,t,i){return this.metadataColTemplate.apply({num_deliveries:i.get("num_deliveries"),is_open:i.get("is_open"),openText:this.openText,closedText:this.closedText})},renderExaminersCol:function(e,t,i){return this.examinersListTemplate.apply({examiners:i.get("examiners")})},renderTagsCol:function(e,t,i){return this.tagsListTemplate.apply({tags:i.get("tags")})},getFullnames:function(e){var t=e.get("candidates");if(0===t.length)return Ext.String.format("{0}(groupID={1})",gettext("No-students"),e.get("id"));for(var i=[],n=0;n<t.length;n++){var r=t[n],o=r.user.full_name;Ext.isEmpty(o)&&(o=Ext.String.format("{0}(userID={1})",gettext("Missing-fullname"),r.user.id)),i.push(o)}return i.join("<br/>")},getUsernames:function(e){var t=e.get("candidates");if(0===t.length)return"";for(var i=[],n=0;n<t.length;n++){var r=t[n];i.push(r.user.username)}return i.join(", ")},getGroupUrlPrefix:function(){return null}})},/*!**********************************************!*\
  !*** ./app/view/managestudents/GroupHelp.js ***!
  \**********************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.GroupHelp",{singleton:!0,getGroupInfoColHelp:function(){return["<p>",gettext("Each group is listed with full names first, then usernames, and lastly we display their status.")," ",gettext("The status of a group is one of:"),"</p>",this._getStatusDescriptionList()].join("")},_getStatusDescriptionList:function(){return["<ul>","<li>","<em>",gettext("Active grade"),"</em>"," &mdash; <small>",gettext("If the examiner(s) has completed correcting the group. This is the active grade for the group on this assignment, which is not always their active grade on the current deadline."),"</small>","</li>","<li>","<em>",gettext("Waiting for feedback"),"</em>"," &mdash; <small>",gettext("If their active deadline has expired, and they have not been given any feedback."),"</small>","</li>","<li>","<em>",gettext("Waiting for deliveries"),"</em>"," &mdash; <small>",gettext("If their active deadline has not expired."),"</small>","</li>",'<li class="muted"><small>',gettext("You may get other status-messages. In that case there is probably an error with some system integrating itself with Devilry, or a bug in Devilry."),"</small></li>","</ul>"].join("")}})},/*!**********************************************!*\
  !*** ./app/view/managestudents/HelpPanel.js ***!
  \**********************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.HelpPanel",{extend:"Ext.panel.Panel",alias:"widget.managestudents_help",cls:"bootstrap",html:["<h2>",gettext("Help"),"</h2>","<h3>",gettext("Groups"),"</h3>","<p>",'<strong class="text-warning">',gettext("IMPORTANT"),": </strong>",gettext("Students are always in a group."),' <small class="muted">',gettext("Even when students make individual deliveries, they are organized into groups. Each student is added to their own group when you add them to an assignment. This means that the list to your left is all groups registered on this assignment."),"</small>","</p>","<h4>",gettext("How to create project groups"),"</h4>","<p>",gettext("Select two or more groups, and choose <em>Create project group</em>."),"</p>","<p>",'<span class="text-success">',gettext("TIP"),":</span> ",gettext("Use <em>Select by search</em> (further down in the help) to efficiently select students."),"</p>","<h3>",gettext("Examiners"),"</h3>","<p>",'<strong class="text-warning">',gettext("IMPORTANT"),": </strong>",gettext("You are administrator, which is NOT the same as examiner."),' <small class="muted">',gettext("If you want to provide feedback to some groups, you have to make yourself examiner on those groups."),"</small>","</p>","<p>","</p>","<h4>",gettext("How to set examiners"),"</h4>","<p>",gettext("To set examiners on a single group, select the group and use the edit button in the examiner heading on your right hand side."),"</p>","<p>",gettext("To set examiners on multiple groups, select the groups and use the buttons in the Examiners section."),"</p>","<h3>",gettext("Find/select efficiently"),"</h3>","<p>",gettext("Selecting groups from the list using the checkboxes works if you have few groups. With huge amounts of groups, manual selection is rarely useful."),"</p>","<h4>",gettext("Select by pre-defined filters"),"</h4>","<p>",gettext("The Select-button in the upper left corner lets you select groups using a good set of pre-defined filters."),"</p>",'<h4 id="select-by-search-help">',gettext("Select by search"),"</h4>","<p>",gettext("The search field at the top of the group-list allows you to search for groups. The results is displayed in a menu, and when you select a group from the menu, the group is selected."),"</p>","<p>",gettext("You can use the up and down keys on your keyboard to navigate the search results list, and the RETURN/ENTER key to select groups. After selecting a group, the focus is returned to the search field. This makes the following workflow very efficient:"),"</p>","<blockquote>",gettext("Select the search field, type a name, hit ENTER, type another name, hit ENTER, ..."),"</blockquote>","<h3>",gettext("Using a small or huge display?"),"</h3>","<p>",gettext("The width of the group-list, and the height of the <em>Summary of selected groups</em> panel (when multiple groups are selected), is not perfect for all displays. To amend this, we allow you to resize these panels. Move your cursor over the inner border of one of these lists, and a resize-indicator will apear. Your selected sizes is saved as a cookie in your browser, which means that they will be remembered when you return to this view in your current browser."),"</p>"].join("")})},/*!*************************************************!*\
  !*** ./app/view/managestudents/ListOfGroups.js ***!
  \*************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.ListOfGroups",{extend:"devilry_subjectadmin.view.managestudents.GridOfGroupsBase",alias:"widget.listofgroups",cls:"devilry_subjectadmin_listofgroups",store:"Groups",hideHeaders:!0,requires:["devilry_subjectadmin.view.managestudents.DynamicLoadMenu","devilry_subjectadmin.view.managestudents.SelectGroupsBySearchWidget","devilry_subjectadmin.view.managestudents.SelectedGroupsButton","devilry_subjectadmin.view.managestudents.SortByButton","devilry_extjsextras.GridBigButtonCheckboxModel","devilry_extjsextras.PrimaryButton","Ext.grid.feature.Grouping","Ext.grid.column.Action","Ext.selection.CheckboxModel"],getColumns:function(){return[this.getGroupInfoColConfig(),this.getMetadataColConfig()]},initComponent:function(){Ext.apply(this,{selModel:Ext.create("devilry_extjsextras.GridBigButtonCheckboxModel"),dockedItems:[{xtype:"toolbar",dock:"top",items:[{xtype:"selectgroupsbysearch",grid:this,flex:1}]},{xtype:"toolbar",dock:"top",items:[{xtype:"button",text:gettext("Select"),cls:"selectButton",menu:{xtype:"menu",cls:"selectMenu",items:[{itemId:"selectall",cls:"selectAllButton",text:gettext("Select all")+" <small>(CTRL-a)</small>"},{itemId:"deselectall",cls:"deselectAllButton",text:gettext("Deselect all")},{itemId:"invertselection",cls:"invertSelectionButton",text:gettext("Invert selection")},"-",{text:gettext("Replace current selection"),cls:"replaceSelectionButton",itemId:"replaceSelectionButton",hideOnClick:!1,menu:this._createSelectMenu({itemId:"replaceSelectionMenu",cls:"replaceSelectionMenu",title:gettext("Replace current selection")})},{itemId:"addToSelectionButton",cls:"addToSelectionButton",text:gettext("Add to current selection"),hideOnClick:!1,menu:this._createSelectMenu({title:gettext("Add to current selection"),itemId:"addToSelectionMenu",cls:"addToSelectionMenu"})},{itemId:"removeFromSelectionButton",cls:"removeFromSelectionButton",text:gettext("Remove from current selection"),hideOnClick:!1,menu:this._createSelectMenu({title:gettext("Remove from current selection"),itemId:"removeFromSelectionMenu",cls:"removeFromSelectionMenu"})}]}},{xtype:"sortgroupsbybutton",grid:this},"->",{xtype:"selectedgroupsbutton",grid:this}]},{xtype:"toolbar",dock:"bottom",defaults:{scale:"large"},items:["->",{xtype:"button",scale:"medium",itemId:"addstudents",cls:"addstudents",text:['<i class="icon-plus"></i> ',gettext("Add students")].join("")}]}]}),this.callParent(arguments)},_createSelectMenu:function(e){var t=[Ext.String.format("<b>{0}:</b>",e.title)];e.prefixItems&&Ext.Array.push(t,e.prefixItems),Ext.Array.push(t,[{text:pgettext("group","By status"),cls:"byStatusButton",hideOnClick:!1,menu:{xtype:"menu",cls:"byStatusMenu",items:[{itemId:"selectStatusOpen",cls:"selectStatusOpen",text:pgettext("group","Open")},{itemId:"selectStatusClosed",cls:"selectStatusClosed",text:pgettext("group","Closed")}]}},{text:pgettext("group","By feedback"),cls:"byFeedbackButton",hideOnClick:!1,menu:{xtype:"menu",cls:"byFeedbackMenu",items:[{itemId:"selectGradePassed",cls:"selectGradePassed",text:pgettext("group","Passed")},{itemId:"selectGradeFailed",cls:"selectGradeFailed",text:pgettext("group","Failed")},"-",{itemId:"selectHasFeedback",cls:"selectHasFeedback",text:pgettext("group","Has feedback")},{itemId:"selectNoFeedback",cls:"selectNoFeedback",text:pgettext("group","No feedback")},"-",{text:pgettext("group","Grade"),cls:"selectByFeedbackWithGrade",hideOnClick:!1,menu:{xtype:"dynamicloadmenu",itemId:"specificGradeMenu"}},{text:pgettext("points","Points"),cls:"selectByFeedbackWithPoints",hideOnClick:!1,menu:{xtype:"dynamicloadmenu",itemId:"specificPointsMenu"}}]}},{text:gettext("By number of deliveries"),cls:"byDeliveryNumButton",hideOnClick:!1,menu:{xtype:"menu",cls:"byDeliveryMenu",items:[{itemId:"selectHasDeliveries",cls:"selectHasDeliveries",text:gettext("Has deliveries")},{itemId:"selectNoDeliveries",cls:"selectNoDeliveries",text:gettext("No deliveries")},{text:pgettext("numdeliveries","Exact number"),cls:"selectByDeliveryExactNum",hideOnClick:!1,menu:{xtype:"dynamicloadmenu",itemId:"specificNumDeliveriesMenu"}}]}},{text:gettext("By examiner"),cls:"byExaminerButton",hideOnClick:!1,menu:{xtype:"menu",cls:"byExaminerMenu",items:[{itemId:"selectHasExaminer",cls:"selectHasExaminer",text:gettext("Has examiner(s)")},{itemId:"selectNoExaminer",cls:"selectNoExaminer",text:gettext("No examiner(s)")},{text:gettext("Specific examiner"),cls:"selectBySpecificExaminer",hideOnClick:!1,menu:{xtype:"dynamicloadmenu",itemId:"specificExaminerMenu"}}]}},{text:gettext("By tag"),cls:"byTagButton",hideOnClick:!1,menu:{xtype:"menu",cls:"byTagMenu",items:[{itemId:"selectHasTag",cls:"selectHasTag",text:gettext("Has tag(s)")},{itemId:"selectNoTag",cls:"selectNoTag",text:gettext("No tag(s)")},{text:gettext("Specific tag"),cls:"selectBySpecificTac",hideOnClick:!1,menu:{xtype:"dynamicloadmenu",itemId:"specificTagMenu"}}]}}]);var i={xtype:"menu",plain:!0,itemId:e.itemId,cls:e.cls,items:t};return i}})},/*!**************************************************************!*\
  !*** ./app/view/managestudents/ManageExaminersOnMultiple.js ***!
  \**************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.ManageExaminersOnMultiple",{extend:"Ext.container.Container",alias:"widget.manageexaminersonmultiple",cls:"devilry_subjectadmin_manageexaminersonmultiple",requires:["devilry_extjsextras.MoreInfoBox","devilry_subjectadmin.view.managestudents.SelectExaminersGrid","devilry_subjectadmin.view.managestudents.ExaminersHelp","devilry_subjectadmin.utils.UrlLookup","devilry_extjsextras.OkCancelPanel"],_createMoreInfo:function(){return devilry_subjectadmin.view.managestudents.ExaminersHelp.getDetailsUl()},initComponent:function(){Ext.apply(this,{cls:"bootstrap",layout:"anchor",items:[{xtype:"box",anchor:"100%",tpl:["<h3>","{heading}","</h3>"],data:{heading:gettext("Examiners")}},{xtype:"container",itemId:"cardBody",layout:"card",anchor:"100%",items:[{xtype:"panel",itemId:"helpAndButtonsContainer",id:"multi_examiners_help_and_buttons_container",border:!1,frame:!1,layout:"fit",dockedItems:[{xtype:"toolbar",dock:"bottom",ui:"footer",padding:0,defaults:{xtype:"button",scale:"medium",minWidth:100},items:[{text:gettext("Set examiner(s)"),itemId:"setExaminersButton",id:"multi_set_examiners_button",tooltip:gettext("Replace the examiners on the selected groups with one or more new examiner(s).")},{text:gettext("Add examiner(s)"),itemId:"addExaminersButton",id:"multi_add_examiners_button",tooltip:gettext("Add one or more examiner(s) to the selected groups.")},{text:gettext("Advanced"),id:"multi_advanced_examiners_button",menu:[{text:gettext("Random distribute"),itemId:"randomDistributeExaminersButton",id:"multi_randomdistribute_examiners_button",tooltip:gettext("Replace the examiners on the selected groups with a random examiner from a set of examiners that you select. The distribution of groups for each examiner is even, no examiners get more that one group more than any other examiner.")}]},{text:gettext("Clear examiners"),itemId:"clearExaminersButton",ui:"danger",id:"multi_clear_examiners_button",tooltip:gettext("Remove/clear all examiners from the selected groups.")}]}],items:{xtype:"moreinfobox",introtext:devilry_subjectadmin.view.managestudents.ExaminersHelp.getIntroText(),moreWidget:{xtype:"box",html:this._createMoreInfo()}}},{xtype:"okcancelpanel",border:1,bodyPadding:10,frame:!1,itemId:"setExaminersPanel",id:"multi_set_examiners_panel",oktext:gettext("Set selected examiners"),layout:"column",items:[{xtype:"box",anchor:"100%",columnWidth:.5,padding:"0 20 0 0",itemId:"helpBox",tpl:["<p>",gettext("Select one or more examiner. Any current examiners on the selected groups will be <strong>replaced</strong> when you confirm your selection."),"</p>","{relatednote}"],data:{relatednote:""}},{xtype:"selectexaminersgrid",columnWidth:.5,anchor:"100%"}]},{xtype:"okcancelpanel",border:1,bodyPadding:10,frame:!1,itemId:"randomDistributeExaminersPanel",id:"multi_randomdistribute_examiners_panel",oktext:gettext("Random distribute selected examiners"),layout:"column",items:[{xtype:"box",anchor:"100%",columnWidth:.5,padding:"0 20 0 0",itemId:"helpBox",tpl:["<p>",gettext("Select one or more examiner. Any current examiners on the selected groups will be <strong>replaced</strong> when you confirm your selection."),"</p>","{relatednote}"],data:{relatednote:""}},{xtype:"selectexaminersgrid",columnWidth:.5,anchor:"100%"}]},{xtype:"okcancelpanel",border:1,bodyPadding:10,frame:!1,itemId:"addExaminersPanel",id:"multi_add_examiners_panel",oktext:gettext("Add selected examiners"),layout:"column",items:[{xtype:"box",anchor:"100%",columnWidth:.5,padding:"0 20 0 0",itemId:"helpBox",tpl:["<p>",gettext("Select one or more examiner. The selected examiners will be <strong>added</strong> to the selected groups when you confirm your selection."),"</p>","{relatednote}"],data:{relatednote:""}},{xtype:"selectexaminersgrid",columnWidth:.5,anchor:"100%"}]},{xtype:"okcancelpanel",itemId:"clearExaminersPanel",id:"multi_clear_examiners_panel",oktext:gettext("Clear examiners"),okbutton_ui:"danger",bodyPadding:10,html:["<p>",gettext("Do you really want to clear all examiners on the selected groups?"),"</p>"].join("")}]}]}),this.callParent(arguments)},setPeriodId:function(e){if(this.period_id!==e){this.period_id=e;var t=this.query("#helpBox");Ext.Array.each(t,function(t){t.update({relatednote:devilry_subjectadmin.view.managestudents.ExaminersHelp.getRelatedNote(e)})},this)}}})},/*!************************************************************!*\
  !*** ./app/view/managestudents/ManageExaminersOnSingle.js ***!
  \************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.ManageExaminersOnSingle",{extend:"Ext.container.Container",alias:"widget.manageexaminersonsingle",cls:"devilry_subjectadmin_manageexaminersonsingle",requires:["devilry_extjsextras.MoreInfoBox","devilry_extjsextras.OkCancelPanel","devilry_subjectadmin.view.managestudents.ExaminersInGroupGrid","devilry_subjectadmin.view.managestudents.ExaminersHelp","devilry_extjsextras.ContainerWithEditTitle","devilry_subjectadmin.view.managestudents.SelectExaminersGrid"],_createMoreInfo:function(){return["<p>",devilry_subjectadmin.view.managestudents.ExaminersHelp.getIntroText(),"</p>",devilry_subjectadmin.view.managestudents.ExaminersHelp.getDetailsUl()]},constructor:function(e){this.mixins.observable.constructor.call(this,e),this.addEvents("edit_examiners"),this.callParent([e])},initComponent:function(){this.relatednote=gettext("<strong>Note</strong>: Only examiners registered on the current term are available."),Ext.apply(this,{cls:"bootstrap",layout:"anchor",items:[{xtype:"containerwithedittitle",anchor:"100%",title:gettext("Examiners"),listeners:{scope:this,edit:function(){this.fireEvent("edit_examiners",this)}}},{xtype:"container",itemId:"cardBody",layout:"card",deferredRender:!0,anchor:"100%",items:[{xtype:"panel",itemId:"helpAndButtonsContainer",id:"single_examiners_help_and_buttons_container",border:!1,frame:!1,layout:"anchor",items:[{xtype:"examinersingroupgrid",anchor:"100%"},{xtype:"moreinfobox",anchor:"100%",moretext:gettext("Examiners help ..."),lesstext:gettext("Hide help"),introtext:"",small_morelink:!0,moreWidget:{xtype:"box",html:this._createMoreInfo()}}]},{xtype:"okcancelpanel",itemId:"setExaminersPanel",border:1,bodyPadding:10,frame:!1,id:"single_set_examiners_panel",oktext:gettext("Save"),layout:"anchor",items:[{xtype:"box",anchor:"100%",itemId:"helpBox",tpl:["<p>",gettext("The selected examiners will <strong>replace</strong> any examiners currently on the group when you confirm your selection. Removing an examiner from the group does not affect any feedback they have already made on the group."),"</p>","{relatednote}"],data:{relatednote:gettext("Loading")+" ..."}},{xtype:"selectexaminersgrid",anchor:"100%"}]}]}]}),this.callParent(arguments)},setPeriodId:function(e){this.down("#helpBox").update({relatednote:devilry_subjectadmin.view.managestudents.ExaminersHelp.getRelatedNote(e)})}})},/*!***********************************************************!*\
  !*** ./app/view/managestudents/ManageStudentsOnSingle.js ***!
  \***********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.ManageStudentsOnSingle",{extend:"Ext.container.Container",alias:"widget.managestudentsonsingle",cls:"devilry_subjectadmin_managestudentsonsingle",requires:["devilry_extjsextras.MoreInfoBox","devilry_extjsextras.OkCancelPanel","devilry_subjectadmin.view.managestudents.StudentsInGroupGrid"],more_text:["<p>",gettext("A group can have one or more students.")," ",gettext("Feedback is given to a group as a whole, not to individual students on a group."),"</p>"].join(""),_createMoreInfo:function(){return this.more_text},initComponent:function(){Ext.apply(this,{cls:"bootstrap",layout:"anchor",items:[{xtype:"box",anchor:"100%",tpl:["<h4>","{heading}","</h4>"],data:{heading:gettext("Students")}},{xtype:"container",itemId:"cardBody",layout:"card",deferredRender:!0,anchor:"100%",items:[{xtype:"panel",itemId:"helpAndButtonsContainer",id:"single_students_help_and_buttons_container",border:!1,frame:!1,layout:"anchor",items:[{xtype:"studentsingroupgrid",anchor:"100%"},{xtype:"moreinfobox",anchor:"100%",moretext:gettext("Students help ..."),lesstext:gettext("Hide help"),introtext:"",small_morelink:!0,moreWidget:{xtype:"box",html:this._createMoreInfo()}}]},{xtype:"okcancelpanel",itemId:"confirmPop",id:"single_students_confirm_pop",okbutton_ui:"danger",bodyPadding:10,html:["<p>",gettext("Do you really want to split this group in two? This will move the selected student from this project group, into a copy of this group. Copies everything except the other students (deadlines, deliveries, feedback, tags and examiners)."),"</p>"].join("")}]}]}),this.callParent(arguments)}})},/*!***********************************************************!*\
  !*** ./app/view/managestudents/ManageStudentsOverview.js ***!
  \***********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.ManageStudentsOverview",{extend:"Ext.container.Container",alias:"widget.managestudentsoverview",cls:"devilry_subjectadmin_managestudentsoverview",requires:["devilry_subjectadmin.view.managestudents.HelpPanel","devilry_subjectadmin.view.managestudents.ListOfGroups","devilry_subjectadmin.view.managestudents.NoGroupSelectedView","devilry_subjectadmin.view.managestudents.SingleGroupSelectedView","devilry_subjectadmin.view.managestudents.MultipleGroupsSelectedView"],initComponent:function(){Ext.apply(this,{layout:"border",border:!1,frame:!1,style:"background-color: transparent !important;",items:[{xtype:"listofgroups",region:"west",border:!0,frame:!1,width:390,minWidth:260,resizable:!0,resizeHandles:"e"},{xtype:"container",region:"center",itemId:"body",layout:"card",items:[{xtype:"nogroupselectedview",itemId:"nogroupsSelected"},{xtype:"singlegroupview",itemId:"singlegroupSelected"},{xtype:"multiplegroupsview",itemId:"multiplegroupsSelected"}]},{xtype:"managestudents_help",autoScroll:!0,title:gettext("Help"),bodyPadding:10,region:"east",width:400,collapsible:!0,collapsed:!0}]}),this.callParent(arguments)}})},/*!*********************************************************!*\
  !*** ./app/view/managestudents/ManageTagsOnMultiple.js ***!
  \*********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.ManageTagsOnMultiple",{extend:"Ext.container.Container",alias:"widget.managetagsonmultiple",cls:"devilry_subjectadmin_managetagsonmultiple",requires:["devilry_extjsextras.MoreInfoBox","devilry_subjectadmin.view.managestudents.ChooseTagsPanel","devilry_extjsextras.OkCancelPanel","devilry_subjectadmin.view.managestudents.TagsHelp"],initComponent:function(){Ext.apply(this,{cls:"bootstrap",layout:"anchor",items:[{xtype:"box",anchor:"100%",tpl:["<h3>","{heading}","</h3>"],data:{heading:gettext("Tags")}},{xtype:"container",itemId:"manageTagsCardBody",layout:"card",anchor:"100%",items:[{xtype:"panel",itemId:"tagsHelpAndButtonsContainer",id:"multi_tags_help_and_buttons_container",border:!1,frame:!1,layout:"fit",dockedItems:[{xtype:"toolbar",dock:"bottom",ui:"footer",padding:0,defaults:{xtype:"button",scale:"medium",minWidth:100},items:[{text:gettext("Set tag(s)"),itemId:"setTagsButton",id:"multi_set_tags_button",tooltip:gettext("Replace the tags on the selected groups with one or more new tag(s).")},{text:gettext("Add tag(s)"),itemId:"addTagsButton",id:"multi_add_tags_button",tooltip:gettext("Add one or more tag(s) to the selected groups.")},{text:gettext("Clear tags"),itemId:"clearTagsButton",ui:"danger",id:"multi_clear_tags_button",tooltip:gettext("Remove/clear all tags from the selected groups.")}]}],items:{xtype:"moreinfobox",introtext:devilry_subjectadmin.view.managestudents.TagsHelp.getIntroText(),moreWidget:{xtype:"box",html:[devilry_subjectadmin.view.managestudents.TagsHelp.getDetailsUl(),'<p><small class="muted">',devilry_subjectadmin.view.managestudents.TagsHelp.getPeriodNote(),"</small></p>"].join("")}}},{xtype:"choosetagspanel",itemId:"setTagsPanel",id:"multi_set_tags_panel",initialValue:"",buttonText:gettext("Set tags")},{xtype:"choosetagspanel",itemId:"addTagsPanel",id:"multi_add_tags_panel",initialValue:"",buttonText:gettext("Add tags")},{xtype:"okcancelpanel",itemId:"clearTagsPanel",id:"multi_clear_tags_panel",oktext:gettext("Clear tags"),okbutton_ui:"danger",bodyPadding:10,html:["<p>",gettext("Do you really want to clear all tags on the selected groups?"),"</p>"].join("")}]}]}),this.callParent(arguments)}})},/*!*******************************************************!*\
  !*** ./app/view/managestudents/ManageTagsOnSingle.js ***!
  \*******************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.ManageTagsOnSingle",{extend:"Ext.container.Container",alias:"widget.managetagsonsingle",cls:"devilry_subjectadmin_managetagsonsingle",requires:["devilry_extjsextras.MoreInfoBox","devilry_extjsextras.OkCancelPanel","devilry_subjectadmin.view.managestudents.ChooseTagsPanel","devilry_subjectadmin.view.managestudents.TagsInGroupGrid","devilry_subjectadmin.view.managestudents.TagsHelp","devilry_extjsextras.ContainerWithEditTitle"],constructor:function(e){this.mixins.observable.constructor.call(this,e),this.addEvents("edit_tags"),this.callParent([e])},initComponent:function(){Ext.apply(this,{cls:"bootstrap",layout:"anchor",items:[{xtype:"containerwithedittitle",anchor:"100%",title:gettext("Tags"),listeners:{scope:this,edit:function(){this.fireEvent("edit_tags",this)}}},{xtype:"container",itemId:"cardBody",layout:"card",deferredRender:!0,anchor:"100%",items:[{xtype:"panel",itemId:"helpAndButtonsContainer",id:"single_tags_help_and_buttons_container",border:!1,frame:!1,layout:"anchor",items:[{xtype:"tagsingroupgrid",anchor:"100%"},{xtype:"moreinfobox",anchor:"100%",moretext:gettext("Tags help ..."),lesstext:gettext("Hide help"),small_morelink:!0,moreWidget:{xtype:"box",html:["<p>",devilry_subjectadmin.view.managestudents.TagsHelp.getIntroText(),"</p>",devilry_subjectadmin.view.managestudents.TagsHelp.getDetailsUl(),'<p><small class="muted">',devilry_subjectadmin.view.managestudents.TagsHelp.getPeriodNote(),"</small></p>"].join("")}}]},{xtype:"choosetagspanel",itemId:"setTagsPanel",allowNoTags:!0,id:"single_set_tags_panel",buttonText:gettext("Save tags")}]}]}),this.callParent(arguments)}})},/*!************************************************!*\
  !*** ./app/view/managestudents/MergeGroups.js ***!
  \************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.MergeGroups",{extend:"Ext.container.Container",alias:"widget.mergegroups",cls:"devilry_subjectadmin_mergegroups",requires:["devilry_extjsextras.MoreInfoBox"],merge_introtext:gettext("Multiple students on a single group is used when students cooperate on an assignment. Such project groups have the following properties:"),merge_groups_explained:[gettext("Any student in the group will be able to make deliveries on behalf of the group. Information about the student that made the delivery is available for each delivery."),gettext("Feedback will be given to the group as a whole, not to individual students in the group."),gettext("If any of the selected groups already have any deadlines, deliveries or feedback, they will be moved into the new group."),gettext("You can split up a group later, however any deliveries and feedback will follow all students on the group, even if they where made before you merged the groups into a single group in the first place."),gettext("The name of the group and status will be copied from the first group you selected.")],_createMergeHelp:function(){return Ext.create("Ext.XTemplate","<ul>",'<tpl for="notes">',"<li>{.}</li>","</tpl>","</ul>").apply({notes:this.merge_groups_explained})},initComponent:function(){this.mergehelp=this._createMergeHelp(),Ext.apply(this,{cls:"bootstrap",layout:"anchor",items:[{xtype:"box",anchor:"100%",tpl:["<h3>","{heading}"," <small>- {subheading}</small>","</h3>"],data:{heading:gettext("Create project group"),subheading:gettext("Merge selected groups into a single group")}},{xtype:"moreinfobox",itemId:"mergeGroupsHelp",anchor:"100%",introtext:this.merge_introtext,cls:"merge_groups_helpbox",moreWidget:{xtype:"box",html:this.mergehelp}},{xtype:"button",scale:"medium",cls:"merge_groups_button",text:gettext("Create project group"),itemId:"mergeGroupsButton"},{xtype:"panel",anchor:"100%",cls:"bootstrap merge_groups_confirmcontainer",itemId:"confirmMergeGroupsContainer",layout:"fit",hidden:!0,bodyPadding:10,items:{xtype:"box",cls:"bootstrap",tpl:[gettext("Merge selected groups into a single group?"),"{mergehelp}"],data:{mergehelp:this.mergehelp}},fbar:[{xtype:"button",itemId:"mergeGroupsCancelButton",cls:"merge_groups_cancel_button",text:gettext("Cancel"),margin:"0 10 0 0"},{xtype:"primarybutton",itemId:"mergeGroupsConfirmButton",cls:"merge_groups_confirm_button",minWidth:200,text:gettext("Create project group")}]}]}),this.callParent(arguments)}})},/*!**********************************************************!*\
  !*** ./app/view/managestudents/MultiDangerousActions.js ***!
  \**********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.MultiDangerousActions",{extend:"devilry_subjectadmin.view.DangerousActions",alias:"widget.multigroupdangerous",cls:"devilry_subjectadmin_dangerousactions devilry_subjectadmin_multigroupdangerous",requires:["devilry_extjsextras.SingleActionBox"],initComponent:function(){Ext.apply(this,{titleTpl:"<h3>{heading}</h3>",items:[{xtype:"singleactionbox",itemId:"multiDeleteButton",margin:0,id:"multi_group_delete_button",titleText:gettext("Delete"),bodyHtml:gettext("Once you delete a group, there is no going back. Only superusers can delete a group with deliveries."),buttonText:gettext("Delete")+" ...",buttonUi:"danger"}]}),this.callParent(arguments)}})},/*!***************************************************************!*\
  !*** ./app/view/managestudents/MultipleGroupsSelectedView.js ***!
  \***************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.MultipleGroupsSelectedView",{extend:"Ext.panel.Panel",alias:"widget.multiplegroupsview",cls:"devilry_subjectadmin_multiplegroupsview",requires:["devilry_subjectadmin.view.managestudents.ManageExaminersOnMultiple","devilry_subjectadmin.view.managestudents.ManageTagsOnMultiple","devilry_subjectadmin.view.managestudents.MergeGroups","devilry_subjectadmin.view.managestudents.MultiDangerousActions"],initComponent:function(){var e="15 0 0 0";Ext.apply(this,{layout:"border",border:!1,frame:!1,items:[{region:"center",xtype:"container",padding:20,layout:"anchor",itemId:"scrollableBodyContainer",autoScroll:!0,items:[{xtype:"manageexaminersonmultiple",period_id:this.period_id},{xtype:"mergegroups",margin:e},{xtype:"managetagsonmultiple",margin:e},{xtype:"multigroupdangerous",margin:"40 0 0 0",padding:"0 0 20 0"}]},{xtype:"selectedgroupssummarygrid",scroll:"vertical",region:"south",height:300,minHeight:100,collapsible:!0,collapsed:!0,titleCollapse:!0,collapseMode:"header",title:gettext("Summary of selected groups (click to show/hide)"),frame:!1,border:"1 0 0 0",resizable:!0,resizeHandles:"n"}]}),this.callParent(arguments)}})},/*!********************************************************!*\
  !*** ./app/view/managestudents/NoGroupSelectedView.js ***!
  \********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.NoGroupSelectedView",{extend:"Ext.container.Container",alias:"widget.nogroupselectedview",cls:"nogroupselectedview",initComponent:function(){Ext.apply(this,{layout:"anchor",padding:20,autoScroll:!0,defaults:{anchor:"100%"},items:[{xtype:"box",cls:"bootstrap",padding:"60 20 0 20",tpl:["<div>",'<div class="pull-left">','<i class="icon-arrow-left"></i>',"</div>",'<p style="margin-left:20px;">','<strong style="font-size:160%;">',gettext("Select GROUPS from the list to your left"),"</strong>","<br/>",'<span class="muted">',gettext("Students are always in a (project) group even when they work alone."),"</span>","</p>","</div>",'<div style="margin-top: 60px;">','<div class="pull-right">','<i class="icon-arrow-right"></i>',"</div>",'<p style="text-align:right; margin-right:20px;">','<strong style="font-size:160%;">',gettext("Click the help-column to your right if you need help"),"</strong>","<br/>",'<span class="muted">',gettext("First time visitors should read the help to avoid common misconceptions."),"</span>","</p>","</div>"],data:{}}]}),this.callParent(arguments)}})},/*!********************************************************!*\
  !*** ./app/view/managestudents/SelectExaminersGrid.js ***!
  \********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.SelectExaminersGrid",{extend:"Ext.grid.Panel",alias:"widget.selectexaminersgrid",cls:"devilry_subjectadmin_selectexaminersgrid bootstrap",requires:["Ext.XTemplate","devilry_usersearch.ManageUsersGridModel","devilry_subjectadmin.view.managestudents.SelectGroupsBySearchWidget","devilry_extjsextras.GridBigButtonCheckboxModel"],store:"RelatedExaminersRo",border:1,frame:!1,hideHeaders:!0,col1Tpl:['<div class="examinercell examinerid_{record.id} examiner_username_{record.user.username}">','<div class="full_name">','<tpl if="record.user.full_name">',"<strong>{record.user.full_name}</strong>","<tpl else>",'<em class="nofullname">',gettext("Full name missing"),"</em>","</tpl>","</div>",'<div class="username">',"<small>{record.user.username}</small>","</div>","</div>"],initComponent:function(){this.col1TplCompiled=Ext.create("Ext.XTemplate",this.col1Tpl),Ext.apply(this,{selModel:Ext.create("devilry_extjsextras.GridBigButtonCheckboxModel"),columns:[{dataIndex:"id",flex:1,menuDisabled:!0,renderer:this.renderCol1,sortable:!1}]}),this.callParent(arguments)},renderCol1:function(e,t,i){return this.col1TplCompiled.apply({record:i.data})},getSelectedAsUserStore:function(){var e=this.getSelectionModel().getSelection(),t=[];return Ext.Array.each(e,function(e){var i=e.get("user");t.push(i)},this),Ext.create("Ext.data.Store",{model:"devilry_usersearch.ManageUsersGridModel",data:t})},selectUsersById:function(e){var t=this.getStore(),i=[];Ext.Array.each(e,function(e){var n=t.findBy(function(t){return t.get("user").id==e},this);if(n>-1){var r=t.getAt(n);i.push(r)}},this);var n=this.getSelectionModel();n.select(i)}})},/*!***************************************************************!*\
  !*** ./app/view/managestudents/SelectGroupsBySearchWidget.js ***!
  \***************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.SelectGroupsBySearchWidget",{extend:"devilry_subjectadmin.view.managestudents.AutocompleteGroupWidget",alias:"widget.selectgroupsbysearch",hideLabel:!0,emptyText:gettext("Search (adds to selection)")+" ...",initComponent:function(){this.callParent(arguments),this.on({userSelected:this._onUserSelectedBySearch})},_onUserSelectedBySearch:function(e,t){this.clearValue(),this.focus();var i=t.get("id"),n=this._getGroupRecordById(i);n?this._groupRecordIsSelected(n)?this._showSelectSearchErrorMessage({title:gettext("Already selected"),msg:gettext("The group is already selected")}):this._selectGroupRecords([n],!0):this._showSelectSearchErrorMessage({title:gettext("Selected group not loaded"),msg:gettext("The group you selected is not loaded. This is probably because someone else added a group after you loaded this page. Try reloading the page.")})},_getGroupRecordById:function(e){var t=this.grid.getStore(),i=t.findExact("id",e);if(i!=-1)return t.getAt(i)},_selectGroupRecords:function(e,t){var i=this.grid.getSelectionModel();i.select(e,t)},_groupRecordIsSelected:function(e){return this.grid.getSelectionModel().isSelected(e)},_showSelectSearchErrorMessage:function(e){var t=this;Ext.MessageBox.show({title:e.title,msg:e.msg,buttons:Ext.MessageBox.OK,icon:Ext.MessageBox.ERROR,fn:function(){Ext.defer(function(){t.focus()},200)}})}})},/*!*********************************************************!*\
  !*** ./app/view/managestudents/SelectedGroupsButton.js ***!
  \*********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.SelectedGroupsButton",{extend:"Ext.button.Button",alias:"widget.selectedgroupsbutton",cls:"devilry_subjectadmin_selectedgroupsbutton",requires:["devilry_subjectadmin.view.managestudents.SelectedGroupsMenu","Ext.XTemplate"],textTpl:[gettext("{selected}/{total} selected")],menuAlign:"tr-br?",initComponent:function(){Ext.apply(this,{disabled:!0,text:gettext("Loading")+" ...",menu:{xtype:"selectedgroupsmenu",grid:this.grid}}),this.textTplCompiled=Ext.create("Ext.XTemplate",this.textTpl),this.mon(this.grid,{scope:this,selectionchange:this._onGridSelectionChange}),this.callParent(arguments);var e=this.grid.getStore();this.mon(e,{scope:this,load:this._onStoreLoad}),e.isLoading()||this._updateText(this.grid.getSelectionModel().getSelection())},_onStoreLoad:function(){this._updateText(this.grid.getSelectionModel().getSelection())},_onGridSelectionChange:function(e,t){0===t.length?this.disable():this.enable(),this._updateText(t)},_updateText:function(e){var t=this.grid.getStore(),i=t.getCount();this.setText(this.textTplCompiled.apply({selected:e.length,total:i}))}})},/*!*******************************************************!*\
  !*** ./app/view/managestudents/SelectedGroupsMenu.js ***!
  \*******************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.SelectedGroupsMenu",{extend:"Ext.menu.Menu",alias:"widget.selectedgroupsmenu",cls:"devilry_subjectadmin_selectedgroupsmenu",listingTpl:['<tpl if="selectedGroupRecords">',"<p>",gettext("Selected groups"),": ",'<tpl for="selectedGroupRecords">','<a href="#" class="selected_group" data-groupid="{data.id}">',"{[this.getGroupIdentString(values)]}","</a>",'<tpl if="xindex != xcount">',", ","</tpl>","</tpl>",".","</p>",'<p class="muted"><small>(',gettext("click group to deselect it"),")</small></p>","</tpl>",{getGroupIdentString:function(e){return Ext.String.ellipsis(e.getIdentString(),20)}}],initComponent:function(){Ext.apply(this,{plain:!0,layout:"fit",items:{xtype:"box",cls:"bootstrap",padding:10,itemId:"listingBox",tpl:this.listingTpl,style:"white-space: normal !important;",data:{selectedGroupRecords:null},listeners:{scope:this,element:"el",delegate:"a.selected_group",click:function(e){e.preventDefault(),this._onClickGroup(e)}}}}),this.on({scope:this,beforeshow:this._onBeforeShow}),this.callParent(arguments)},_onBeforeShow:function(){this._refreshListingBox()},_refreshListingBox:function(){var e=this.grid.getSelectionModel().getSelection();this.setWidth(this.grid.getWidth()-10),this.down("#listingBox").update({selectedGroupRecords:e})},_onClickGroup:function(e){var t=Ext.get(e.target),i=parseInt(t.getAttribute("data-groupid"),10),n=this._getGroupRecordById(i),r=this.grid.getSelectionModel();r.deselect([n]),0===r.getSelection().length?this.hide():this._refreshListingBox()},_getGroupRecordById:function(e){var t=this.grid.getStore(),i=t.findExact("id",e);if(i!=-1)return t.getAt(i)}})},/*!**************************************************************!*\
  !*** ./app/view/managestudents/SelectedGroupsSummaryGrid.js ***!
  \**************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.SelectedGroupsSummaryGrid",{extend:"devilry_subjectadmin.view.managestudents.GridOfGroupsBase",alias:"widget.selectedgroupssummarygrid",cls:"devilry_subjectadmin_selectedgroupssummarygrid",store:"SelectedGroups",disableSelection:!0,getColumns:function(){return[this.getGroupInfoColConfig(),this.getMetadataColConfig(),this.getExaminersColConfig(),this.getTagsColConfig()]}})},/*!************************************************************!*\
  !*** ./app/view/managestudents/SingleGroupSelectedView.js ***!
  \************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.SingleGroupSelectedView",{extend:"Ext.panel.Panel",alias:"widget.singlegroupview",cls:"devilry_subjectadmin_singlegroupview",autoScroll:!0,border:0,bodyPadding:20,requires:["devilry_subjectadmin.view.managestudents.ManageStudentsOnSingle","devilry_subjectadmin.view.managestudents.ManageExaminersOnSingle","devilry_subjectadmin.view.managestudents.ManageTagsOnSingle","devilry_subjectadmin.view.managestudents.SingleMetaInfo","devilry_subjectadmin.view.DangerousActions","devilry_subjectadmin.view.managestudents.ExaminersHelp","devilry_extjsextras.SingleActionBox","devilry_extjsextras.AlertMessageList"],initComponent:function(){Ext.apply(this,{layout:"anchor",items:[{xtype:"alertmessage",type:"role-examiner",cls:"examinerRoleBox",extracls:"flat compact",itemId:"examinerRoleBox",margin:"-20 -20 20 -20",messagetpl:['<tpl if="loading">',"<p><small>",gettext("Loading")," ...","</small></p>","<tpl else>",'<div style="padding-left: 13px">','<tpl if="is_published">','<div class="pull-left" style="margin-right: 10px;">','<tpl if="isExaminer">',' <a href="{examinerui_url}" target="_blank" class="btn btn-mini btn-inverse">',gettext("Create/edit feedback"),' <i class="icon-share-alt icon-white"></i>',"</a>","<tpl else>",' <a href="{make_examiner}" class="btn btn-mini btn-inverse make_me_examiner">',gettext("Make me examiner"),"</a>","</tpl>","</div>",'<div class="text" style="display:block; padding-top: 2px;">',"<small>",'<tpl if="isExaminer">',gettext("You are examiner for this group."),"<tpl else>",gettext("You need to be examiner for this group if you want to provide feedback."),"</tpl>"," {MORE_BUTTON}","</small>","</div>",'<div class="clearfix"></div>',"<div {MORE_ATTRS}>",'<p style="margin-top:10px;">',gettext("See the help to your right for information about setting examiners."),"</p>","<h4>",gettext("About examiners"),"</h4>","<p>",devilry_subjectadmin.view.managestudents.ExaminersHelp.getIntroText(),"</p>",devilry_subjectadmin.view.managestudents.ExaminersHelp.getDetailsUl(),"</div>","<tpl else>","<small>",gettext("This assignment will be published {pubtimeOffset}. Examiners and students can not see the assignment before it is published."),"</small>","</tpl>","</div>","</tpl>"],messagedata:{loading:!0},listeners:{scope:this,element:"el",delegate:".make_me_examiner",click:function(e){e.preventDefault(),this.fireEvent("make_me_examiner")}}},{xtype:"singlegroupmetainfo"},{xtype:"container",padding:"0 0 0 0",margin:"10 0 0 0",layout:"column",items:[{xtype:"managestudentsonsingle",columnWidth:.3,margin:"0 10 0 0"},{xtype:"managetagsonsingle",columnWidth:.3,margin:"0 5 0 5"},{xtype:"manageexaminersonsingle",margin:"0 0 0 10",columnWidth:.4}]},{margin:"20 0 0 0",xtype:"admingroupinfo_deadlinescontainer"},{xtype:"dangerousactions",margin:"20 0 0 0",titleTpl:"<h3>{heading}</h3>",items:[{xtype:"singleactionbox",itemId:"deleteButton",margin:0,id:"single_group_delete_button",titleText:gettext("Delete"),bodyHtml:gettext("Once you delete a group, there is no going back. Only superusers can delete a group with deliveries."),buttonText:gettext("Delete")+" ...",buttonUi:"danger"}]}]}),this.callParent(arguments)}})},/*!***************************************************!*\
  !*** ./app/view/managestudents/SingleMetaInfo.js ***!
  \***************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.SingleMetaInfo",{extend:"Ext.Component",alias:"widget.singlegroupmetainfo",cls:"devilry_subjectadmin_singlegroupmetainfo bootstrap",requires:["devilry_subjectadmin.utils.UrlLookup"],tpl:['<tpl if="!loading">','<div class="status-{status}">',"<tpl if=\"status === 'corrected'\">",'<div class="alert alert-{[this.getFeedbackCls(values.group.feedback)]}">',"<strong>",gettext("Grade"),":</strong> ",'<tpl if="group.feedback.is_passing_grade">','<span class="passing_grade">',gettext("Passed"),"</span>","<tpl else>",'<span class="failing_grade">',gettext("Failed"),"</span>","</tpl>",' <span class="grade">({group.feedback.grade})</span>',' <small class="points">(',gettext("Points"),": {group.feedback.points}",")</small>",' - <a class="active_feedback_link" href="{delivery_link_prefix}{group.feedback.delivery_id}"><small>',gettext("Details"),"</small></a>","<br/><small>","<strong>",gettext("Note"),":</strong> ",gettext("Students can not see their points, only the grade, and if it is failed or passed."),"</small>","</div>","<tpl else>",'<div class="well well-small muted"><p style="margin: 0; padding: 0;">',"<tpl if=\"status === 'waiting-for-deliveries'\">",'<em><small class="muted">',gettext("Waiting for deliveries"),"</small></em>","<tpl elseif=\"status === 'waiting-for-feedback'\">",'<em><small class="muted">',gettext("Waiting for feedback"),"</small></em>","<tpl else>",'<span class="label label-important">{status}</span>',"</tpl>","</p></div>","</tpl>","</div>","</tpl>",{getFeedbackCls:function(e){return e.is_passing_grade?"success":"warning"}}],data:{loading:!0},initComponent:function(){this.callParent(arguments),this.on({element:"el",delegate:"a.active_feedback_link",scope:this,click:function(e){e.preventDefault(),this.fireEvent("active_feedback_link_clicked")}})},setGroupRecord:function(e){this.update({loading:!1,group:e.data,status:e.get("status"),delivery_link_prefix:devilry_subjectadmin.utils.UrlLookup.manageGroupAndShowDeliveryPrefix(e.get("id"))})}})},/*!*************************************************!*\
  !*** ./app/view/managestudents/SortByButton.js ***!
  \*************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.SortByButton",{extend:"Ext.button.Button",alias:"widget.sortgroupsbybutton",cls:"devilry_subjectadmin_sortgroupsbybutton",text:gettext("Sort"),initComponent:function(){Ext.apply(this,{menu:[{itemId:"sortByFullname",text:gettext("Full name"),listeners:{scope:this,click:this._onSortByFullname}},{itemId:"sortByLastname",text:gettext("Last name"),listeners:{scope:this,click:this._onSortByLastname}},{itemId:"sortByUsername",text:gettext("Username"),listeners:{scope:this,click:this._onSortByUsername}}]}),this.callParent(arguments)},_onSortByFullname:function(){this._sortBy("fullname")},_onSortByLastname:function(){this._sortBy("lastname")},_onSortByUsername:function(){this._sortBy("username")},_sortBy:function(e){this.grid.getStore().sortBySpecialSorter(e),this.fireEvent("afterSortBy",e)}})},/*!********************************************************!*\
  !*** ./app/view/managestudents/StudentsInGroupGrid.js ***!
  \********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.StudentsInGroupGrid",{extend:"Ext.grid.Panel",alias:"widget.studentsingroupgrid",cls:"devilry_subjectadmin_studentsingroupgrid",hideHeaders:!0,disableSelection:!0,border:!1,requires:["Ext.XTemplate","devilry_theme.Icons"],store:"SingleGroupCandidates",rowTpl:['<div class="studentsingroupgrid_meta studentsingroupgrid_meta_{user.username}">','<div class="fullname">','<tpl if="user.full_name">',"<div>{user.full_name}</div>","<tpl else>",'<em class="nofullname">',gettext("Full name missing"),"</em>","</tpl>","</div>",'<div class="username"><small class="muted">{user.username}</small></div>',"</div>"],initComponent:function(){var e=this;this.columns=[{header:"Name",flex:1,dataIndex:"id",renderer:function(e,t,i){return Ext.create("Ext.XTemplate",this.rowTpl).apply(i.data)}}],this.columns.push({xtype:"actioncolumn",itemId:"deleteColumn",width:20,hidden:!0,items:[{icon:devilry_theme.Icons.DELETE_SMALL,tooltip:gettext("Move the student from this project group into a copy of this group. Copies deadlines, deliveries, feedback, tags and examiners."),handler:function(t,i,n){e._onRemove(i,n)},getClass:function(e,t,i){return Ext.String.format("devilry_clickable_icon studentsingroupgrid_pop studentsingroupgrid_pop_{0}",i.get("user").username)}}]}),this.callParent(arguments)},hideDeleteColumn:function(){this.down("#deleteColumn").hide()},showDeleteColumn:function(){this.down("#deleteColumn").show()},_onRemove:function(e,t){var i=this.getStore().getAt(e);this.fireEvent("popStudent",i)}})},/*!*********************************************!*\
  !*** ./app/view/managestudents/TagsHelp.js ***!
  \*********************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.TagsHelp",{singleton:!0,_introText:gettext("Tags is a flexible method of organizing groups. Only administrators and examiners can see tags. You can search and select groups by their tags. Common use-cases are:"),getIntroText:function(){return this._introText},_periodNote:gettext("<strong>NOTE:</strong> Tags on groups must not be confused with tags on students and examiners on a term. Those tags are used to automate assigning examiners to students. Tags from the term may have been included when you added groups to this assignment, however you can safely edit tags on groups without affecting the tags on the term."),getPeriodNote:function(){return this._periodNote},_detailList:[gettext("Mark groups with special needs."),gettext("Organize groups attending the same classroom sessions."),gettext("Mark suspected cheaters.")],getDetailsUl:function(){return Ext.isEmpty(this.ul)&&(this._detailsUl=Ext.create("Ext.XTemplate","<ul>",'<tpl for="points">',"<li>{.}</li>","</tpl>","</ul>").apply({points:this._detailList})),this._detailsUl}})},/*!****************************************************!*\
  !*** ./app/view/managestudents/TagsInGroupGrid.js ***!
  \****************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.managestudents.TagsInGroupGrid",{extend:"Ext.grid.Panel",alias:"widget.tagsingroupgrid",cls:"tagsingroupgrid",hideHeaders:!0,disableSelection:!0,border:!1,requires:["Ext.XTemplate"],store:"SingleGroupTags",rowTpl:['<div class="tagsingroupgrid_tag tagsingroupgrid_tag_{tag}">',"{tag}","</div>"],initComponent:function(){var e=Ext.create("Ext.XTemplate",this.rowTpl);Ext.apply(this,{columns:[{header:"Tag",flex:1,dataIndex:"tag",renderer:function(t,i,n){return e.apply(n.data)}}]}),this.callParent(arguments)}})},/*!************************************************************!*\
  !*** ./app/view/passedpreviousperiod/ConfirmGroupsGrid.js ***!
  \************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.passedpreviousperiod.ConfirmGroupsGrid",{extend:"devilry_subjectadmin.view.passedpreviousperiod.GridBase",alias:"widget.confirmpassedpreviousgroupsgrid",cls:"devilry_subjectadmin_editpassedpreviousgroupssgrid bootstrap",requires:["Ext.grid.plugin.CellEditing"],hideHeaders:!1,extraInit:function(){this.selType="cellmodel",this.cellEditor=Ext.create("Ext.grid.plugin.CellEditing",{clicksToEdit:1,listeners:{scope:this,beforeedit:this._onBeforeEdit}}),this.plugins=[this.cellEditor],this.columns.push({dataIndex:"newfeedback_points",text:gettext("Grade"),flex:4,menuDisabled:!0,renderer:this._renderGradeColumn,sortable:!1,editor:this._getEditor()})},_getEditor:function(e){return{allowBlank:!1,xtype:"textfield"}},_renderGradeColumn:function(e,t,i){var n=i.get("oldgroup"),r=gettext("Passed");null!==n&&(r=n.grade);var o=Ext.String.format('<span class="text-success">{0}</span>',r);if(null===n)return o;var a=gettext("Autodetected");return Ext.String.format('{0} <div class="autodetected"><small class="muted">{1}</small></div>',o,a)},_onBeforeEdit:function(e,t){if("bool"===this.gradeeditor.shortformat.widget)return!1}})},/*!***************************************************!*\
  !*** ./app/view/passedpreviousperiod/GridBase.js ***!
  \***************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.passedpreviousperiod.GridBase",{extend:"Ext.grid.Panel",requires:["Ext.XTemplate"],store:"PassedPreviousPeriodItems",border:1,frame:!1,hideHeaders:!0,groupInfoColTpl:['<div class="groupinfo groupinfo_{id}" style="white-space:normal !important;">','<div class="names"><strong>',"{displaynames}","</strong></div>",'<tpl if="name">','<div class="groupname">{name}</div>',"</tpl>",'<div class="usernames"><small class="muted">{usernames}</small></div>',"</div>"],oldOrIgnoredColTpl:['<div class="oldgroup_or_ignoredinfo oldgroup_or_ignoredinfo_{id}" style="white-space:normal !important;">','<tpl if="oldgroup">','<span class="oldgroupinfo text-success">',gettext("Passed {oldperiodname}."),"</span>","<tpl else>",'<span class="whyignored whyignored_{whyignored} text-warning">','<tpl switch="whyignored">','<tpl case="has_alias_feedback">',gettext("Is already marked as previously passed."),'<tpl case="only_failing_grade_in_previous">',gettext("The student has delivered this assignment previously, but never achieved a passing grade."),'<tpl case="has_feedback">',gettext("Group has feedback for this assignment."),"</tpl>","</span>","</tpl>","</div>"],initComponent:function(){this.groupInfoColTplCompiled=Ext.create("Ext.XTemplate",this.groupInfoColTpl),this.oldOrIgnoredColTplCompiled=Ext.create("Ext.XTemplate",this.oldOrIgnoredColTpl),Ext.apply(this,{viewConfig:{markDirty:!1},columns:[{dataIndex:"id",text:gettext("Group"),flex:7,menuDisabled:!0,renderer:this.rendergroupInfoCol,sortable:!1}]}),this.extraInit(),this.callParent(arguments)},extraInit:function(){},rendergroupInfoCol:function(e,t,i){for(var n=i.get("group"),r=[],o=[],a=!0,s=0;s<n.candidates.length;s++){var l=n.candidates[s];Ext.isEmpty(l.full_name)||(a=!1),r.push(l.user.displayname),o.push(l.user.username)}return this.groupInfoColTplCompiled.apply({id:n.id,name:n.name,displaynames:r.join(", "),usernames:o.join(", "),no_fullnames:a})},renderOldOrIgnoredCol:function(e,t,i){var n=i.get("oldgroup"),r=i.get("whyignored");return this.oldOrIgnoredColTplCompiled.apply({id:i.get("group").id,oldgroup:n,oldperiodname:n?n.period.long_name:null,whyignored:r})}})},/*!***********************************************************************!*\
  !*** ./app/view/passedpreviousperiod/PassedPreviousPeriodOverview.js ***!
  \***********************************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.passedpreviousperiod.PassedPreviousPeriodOverview",{extend:"Ext.container.Container",alias:"widget.passedpreviousperiodoverview",cls:"devilry_subjectadmin_passedpreviousperiodoverview",requires:["devilry_subjectadmin.view.passedpreviousperiod.SelectGroupsGrid","devilry_subjectadmin.view.passedpreviousperiod.ConfirmGroupsGrid","devilry_extjsextras.PrimaryButton","devilry_extjsextras.AlertMessage","devilry_extjsextras.MarkupMoreInfoBox"],sideBarWidth:300,initComponent:function(){Ext.apply(this,{padding:"20 40 20 40",layout:"border",style:"background: transparent !important;",items:[{xtype:"box",region:"north",height:55,cls:"bootstrap",html:['<h1 style="margin: 0; padding: 0;">',gettext("Passed previously"),"</h1>"].join("")},{xtype:"container",region:"center",layout:"card",itemId:"cardContainer",items:[{xtype:"container",itemId:"pageOne",layout:"border",style:"background: transparent !important;",items:[{xtype:"container",region:"center",layout:{type:"vbox",align:"stretch",pack:"start"},items:[{xtype:"selectpassedpreviousgroupsgrid",flex:1},{xtype:"checkbox",boxLabel:gettext("Show groups that Devilry believes should not be marked as previously passed?"),itemId:"showUnRecommendedCheckbox",cls:"showUnRecommendedCheckbox",height:60},{xtype:"container",layout:"column",height:46,items:[{xtype:"box",html:"&nbsp;",columnWidth:1},{xtype:"button",scale:"large",text:gettext("Next"),cls:"nextButton",disabled:!0,itemId:"nextButton",width:170,height:46}]}]},{xtype:"markupmoreinfobox",region:"west",autoScroll:!0,width:this.sideBarWidth,cls:"bootstrap",padding:"0 30 0 0",moretext:gettext("More help"),lesstext:gettext("Less help"),tpl:["<p>",gettext("Select one or more groups. Groups that we belive have passed this assignment before has been selected automatically, and they are marked with the name of the old term."),"</p>","<p>{MORE_BUTTON}</p>","<div {MORE_ATTRS}>","<p>",gettext('The search for previously passed students match the short name of old assignments against the short name of this assignment. Only groups with exactly one student in both the old and the current assignment is matched. You can find the short name of an assignment by looking at the breadcrumb in the header, or in the title of the Rename-section of "Dangerous actions" when visiting the assignment.'),"</p>","</div>"],data:{}}]},{xtype:"container",itemId:"pageTwo",style:"background: transparent !important;",layout:"border",items:[{xtype:"markupmoreinfobox",region:"west",width:this.sideBarWidth,cls:"bootstrap pageTwoSidebar",padding:"0 30 0 0",autoScroll:!0,itemId:"pageTwoSidebar",moretext:gettext("More help"),lesstext:gettext("Less help"),tpl:["<p>",gettext("Make sure you really want to mark these groups as previously passed before saving."),"</p>",'<tpl if="needsGradeFormatExplained">','<div class="gradeformat-help">',"<h4>",gettext("Grade format"),"</h4>","<p>",gettext("The current grading system, {gradingsystem}, specifies the following help:"),' <blockquote class="text-info shorthelp">{shorthelp}</blockquote>',"</p>","<p>",'<span class="text-warning">',gettext("Warning"),":</span>","<small> ",gettext("You must specify passing grades. Many users find it confusing when the autodetected grade is not a passing grade, but that is simply because the grading system has been configured differently this term."),"</small>","</p>","</div>","</tpl>","<p>{MORE_BUTTON}</p>","<div {MORE_ATTRS}>",'<tpl if="needsGradeFormatExplained">',"<h4>",gettext("Grade"),"</h4>",'<tpl if="!loading">',"<p>",gettext("You have to specify a grade for each group. You do so by clicking the cells in the Grade-column and specifying a grade. If Devilry autodetected that the group has passed this assignment previously, the grade will already be specified, but you can still override the detected value if you grade students differently this term."),"</p>","</tpl>","</tpl>","<h4>",gettext("How it works"),"</h4>","<p>",gettext("When you click save, we will create a new delivery for each of the groups, mark the delivery as a placeholder for a previously approved delivery, and create a feedback on the delivery. The grade of the feedback will be the one specified in the Grade-column."),"</p>","</div>"],data:{loading:!0}},{xtype:"panel",itemId:"confirmGridWrapper",layout:"fit",items:[],region:"center",fbar:[{xtype:"button",text:gettext("Back"),scale:"large",itemId:"backButton"},"->",{xtype:"primarybutton",text:gettext("Save"),itemId:"saveButton",cls:"saveButton"}]}]},{itemId:"unsupportedGradeEditor",xtype:"alertmessage",type:"error",title:"Unsupported grading system",messagetpl:gettext("The passed previously functionality is not supported by the grading system configured on this assignment ({gradingsystem})."),messagedata:{gradingsystem:gettext("Loading")+" ..."}}]}]}),this.callParent(arguments)}})},/*!***********************************************************!*\
  !*** ./app/view/passedpreviousperiod/SelectGroupsGrid.js ***!
  \***********************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.passedpreviousperiod.SelectGroupsGrid",{extend:"devilry_subjectadmin.view.passedpreviousperiod.GridBase",alias:"widget.selectpassedpreviousgroupsgrid",cls:"devilry_subjectadmin_selectpassedpreviousgroupssgrid bootstrap",requires:["devilry_extjsextras.GridBigButtonCheckboxModel"],initComponent:function(){Ext.apply(this,{selModel:Ext.create("devilry_extjsextras.GridBigButtonCheckboxModel"),tbar:[{text:gettext("Select"),menu:[{text:gettext("Select all"),listeners:{scope:this,click:this._onSelectAll}},{text:gettext("Deselect all"),listeners:{scope:this,click:this._onDeSelectAll}},"-",{text:gettext("Autodetected as previously passed"),listeners:{scope:this,click:this._onSelectPassingGradeInPreviousPeriod}}]}]}),this.callParent(arguments)},extraInit:function(){this.columns.push({dataIndex:"id",flex:3,menuDisabled:!0,renderer:this.renderOldOrIgnoredCol,sortable:!1})},_onSelectAll:function(){this.getSelectionModel().selectAll()},_onDeSelectAll:function(){this.getSelectionModel().deselectAll()},_onSelectPassingGradeInPreviousPeriod:function(){this.selectWithPassingGradeInPrevious()},selectWithPassingGradeInPrevious:function(){var e=[];this.getStore().each(function(t){null!==t.get("oldgroup")&&e.push(t)}),this.getSelectionModel().select(e)}})},/*!**********************************************!*\
  !*** ./app/view/period/EditDurationPanel.js ***!
  \**********************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.period.EditDurationPanel",{extend:"devilry_extjsextras.OkCancelPanel",alias:"widget.editperiod_duration",cls:"devilry_subjectadmin_editdurationpanel bootstrap",requires:["devilry_extjsextras.form.DateTimeField"],initComponent:function(){Ext.apply(this,{layout:"fit",oktext:gettext("Save"),items:{xtype:"form",bodyPadding:10,border:!1,layout:"anchor",defaults:{anchor:"100%",labelAlign:"top",labelStyle:"font-weight: bold"},items:[{xtype:"alertmessagelist"},{xtype:"devilry_extjsextras-datetimefield",fieldLabel:gettext("Start time"),cls:"start_time_field",name:"start_time"},{xtype:"devilry_extjsextras-datetimefield",fieldLabel:gettext("End time"),cls:"end_time_field",name:"end_time"}]}}),this.callParent(arguments)}})},/*!***********************************************!*\
  !*** ./app/view/period/EditDurationWidget.js ***!
  \***********************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.period.EditDurationWidget",{extend:"Ext.container.Container",alias:"widget.editperiod_duration-widget",cls:"devilry_subjectadmin_editperiod_duration_widget",requires:["devilry_extjsextras.ContainerWithEditTitle","devilry_extjsextras.MarkupMoreInfoBox","devilry_subjectadmin.view.period.EditDurationPanel"],initComponent:function(){Ext.apply(this,{layout:"card",deferredRender:!0,items:[{xtype:"containerwithedittitle",itemId:"readDuration",disabled:!0,title:gettext("Duration"),body:{xtype:"markupmoreinfobox",tpl:['<tpl if="text">','<p class="muted">{text}</p>',"<tpl else>",'<p class="muted">','<small class="muted durationdisplay">{start_time} &mdash; {end_time}</small>',"</p>","</tpl>"]}},{xtype:"editperiod_duration",itemId:"editDuration"}]}),this.callParent(arguments)}})},/*!**********************************************!*\
  !*** ./app/view/period/ListOfAssignments.js ***!
  \**********************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.period.ListOfAssignments",{extend:"Ext.view.View",alias:"widget.listofassignments",cls:"devilry_listofassignments bootstrap",store:"Assignments",requires:["devilry_extjsextras.DatetimeHelpers"],tpl:['<ul class="unstyled">','<tpl for=".">','<li class="devilry_assignment"><p>','<div class="name">','<a href="#/assignment/{id}/">{long_name}</a> ',"</div>",'<div class="assignmentmeta">','<small class="muted">',"<em>",gettext("Publishing time"),": </em>",'<span class="{[this.getRelativeTimeCls(values.is_published)]}">',"{[this.formatRelativeDatetime(values.publishing_time_offset_from_now, values.is_published)]} ","</span>","({[this.formatDatetime(values.publishing_time)]})","</small>","<div>","</p></li>","</tpl>","<ul>",{formatDatetime:function(e){return devilry_extjsextras.DatetimeHelpers.formatDateTimeLong(e)},formatRelativeDatetime:function(e,t){return devilry_extjsextras.DatetimeHelpers.formatTimedeltaRelative(e,!t)},getRelativeTimeCls:function(e){return e?"text-success":"text-warning"}}],itemSelector:"li.devilry_assignment"})},/*!*******************************************!*\
  !*** ./app/view/period/PeriodOverview.js ***!
  \*******************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.period.PeriodOverview",{extend:"Ext.container.Container",alias:"widget.periodoverview",cls:"devilry_subjectadmin_periodoverview",requires:["Ext.layout.container.Column","devilry_extjsextras.AlertMessage","devilry_extjsextras.AlertMessageList","devilry_subjectadmin.view.AdminsBox","devilry_subjectadmin.utils.UrlLookup","devilry_subjectadmin.view.DangerousActions","devilry_subjectadmin.view.period.EditDurationWidget","devilry_extjsextras.SingleActionBox","devilry_subjectadmin.view.EditSidebarContainer"],initComponent:function(){Ext.apply(this,{padding:"20 20 20 20",autoScroll:!0,layout:"column",items:[{xtype:"editsidebarcontainer",layout:"anchor",width:250,margin:"0 0 0 0",padding:"0 10 0 10",defaults:{margin:"10 0 0 0",anchor:"100%"},items:[{xtype:"editperiod_duration-widget"},{xtype:"adminsbox"}]},{xtype:"container",columnWidth:1,cls:"devilry_focuscontainer",padding:"20",items:[{xtype:"box",cls:"bootstrap",margin:"0 0 20 0",itemId:"header",tpl:['<tpl if="loading">',gettext("Loading")," ...","<tpl else>",'<h1 style="margin-top: 0;">',"{period}",' <small class="muted"> &mdash; {subject}</small>',"</h1>","</tpl>"],data:{loading:!0}},{xtype:"box",cls:"bootstrap devilry_subjectadmin_navigation",itemId:"createNewAssignmentBox",tpl:['<p><strong><a href="{url}">{text}</a></strong></p>'],data:{url:devilry_subjectadmin.utils.UrlLookup.createNewAssignment(this.period_id),text:gettext("Create new assignment")}},{xtype:"alertmessage",itemId:"noRelatedStudentsMessage",hidden:!0,type:"error",title:gettext("No students"),message:interpolate(gettext('This term has no students. Go to the <a href="%(relatedstudents_url)s">students</a> page and add some students. You will not be able to add any assignments until you have at least one student.'),{relatedstudents_url:devilry_subjectadmin.utils.UrlLookup.manageRelatedStudents(this.period_id)},!0)},{xtype:"alertmessage",itemId:"noRelatedExaminersMessage",hidden:!0,type:"warning",title:gettext("No examiners"),message:interpolate(gettext('This term has no examiners. Go to the <a href="%(relatedexaminers_url)s">examiners</a> page and add some examiners.'),{relatedexaminers_url:devilry_subjectadmin.utils.UrlLookup.manageRelatedExaminers(this.period_id)},!0)},{xtype:"listofassignments"},{xtype:"box",cls:"bootstrap",margin:"30 0 0 0",tpl:["<h3>",gettext("Edit and view related information"),"</h3>",'<ul class="unstyled">',"<li><p>",'<a href="{manageRelatedStudentsUrl}">',gettext("Students"),"</a>","</p></li>","<li><p>",'<a href="{manageRelatedExaminersUrl}">',gettext("Examiners"),"</a>","</p></li>","<li><p>",'<a href="{detailedOverviewUlr}">',gettext("Overview of all results"),"</a>","</p></li>","<li><p>",'<a href="{qualifiedForFinalExamsUrl}" class="qualifiedforfinalexams">',gettext("Qualified for final exams"),"</a>","</p></li>","</ul>"],data:{manageRelatedExaminersUrl:devilry_subjectadmin.utils.UrlLookup.manageRelatedExaminers(this.period_id),manageRelatedStudentsUrl:devilry_subjectadmin.utils.UrlLookup.manageRelatedStudents(this.period_id),detailedOverviewUlr:devilry_subjectadmin.utils.UrlLookup.detailedPeriodOverview(this.period_id),qualifiedForFinalExamsUrl:Ext.String.format("{0}/devilry_qualifiesforexam/#/{1}/showstatus",window.DevilrySettings.DEVILRY_URLPATH_PREFIX,this.period_id)}},{xtype:"dangerousactions",margin:"45 0 0 0",items:[{xtype:"singleactionbox",margin:"0 0 0 0",itemId:"renameButton",id:"periodRenameButton",titleText:gettext("Loading")+" ...",bodyTpl:['<p class="muted"><small>',gettext("Renaming a term should not be done without a certain amount of consideration. The name of a term, especially the short name, is often used as an identifier when integrating other systems with Devilry."),"</small></p>"],bodyData:{},buttonText:gettext("Rename")+" ..."},{xtype:"singleactionbox",itemId:"deleteButton",id:"periodDeleteButton",hidden:!0,titleText:gettext("Loading")+" ...",buttonUi:"danger",bodyTpl:['<p class="muted"><small>',gettext("Once you delete a term, there is no going back. Only superusers can delete a non-empty term."),"</small></p>"],bodyData:{},buttonText:gettext("Delete")+" ..."}]}]}]}),this.callParent(arguments)}})},/*!*******************************************!*\
  !*** ./app/view/relatedexaminers/Grid.js ***!
  \*******************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.relatedexaminers.Grid",{extend:"Ext.grid.Panel",alias:"widget.relatedexaminersgrid",cls:"devilry_subjectadmin_relatedusergrid devilry_subjectadmin_relatedexaminersgrid bootstrap",requires:["Ext.XTemplate","devilry_extjsextras.GridBigButtonCheckboxModel","Ext.selection.CheckboxModel"],store:"RelatedExaminers",border:1,frame:!1,hideHeaders:!1,multiSelect:!0,col1Tpl:['<div class="meta_cell relateduserid_{record.id} relateduser_username_{record.user.username}">','<div class="full_name">','<tpl if="record.user.full_name">',"<strong>{record.user.full_name}</strong>","<tpl else>",'<em class="nofullname">',gettext("Full name missing"),"</em>","</tpl>","</div>",'<div class="username">','<small class="muted">{record.user.username}</small>',"</div>","</div>"],col2Tpl:['<div class="tags_cell" style="white-space:normal !important;">',"{record.tags}","</div>"],initComponent:function(){this.col1TplCompiled=Ext.create("Ext.XTemplate",this.col1Tpl),this.col2TplCompiled=Ext.create("Ext.XTemplate",this.col2Tpl),Ext.apply(this,{selModel:Ext.create("devilry_extjsextras.GridBigButtonCheckboxModel"),columns:[{dataIndex:"id",flex:5,header:gettext("Student"),menuDisabled:!0,renderer:this.renderCol1,sortable:!1},{dataIndex:"tags",flex:5,header:gettext("Tags"),menuDisabled:!0,sortable:!1,renderer:this.renderCol2}]}),this.initExtra(),this.callParent(arguments)},initExtra:function(){},renderCol1:function(e,t,i){return this.col1TplCompiled.apply({record:i.data})},renderCol2:function(e,t,i){return this.col2TplCompiled.apply({record:i.data})}})},/*!***********************************************!*\
  !*** ./app/view/relatedexaminers/Overview.js ***!
  \***********************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.relatedexaminers.Overview",{extend:"Ext.panel.Panel",alias:"widget.relatedexaminers",cls:"devilry_subjectadmin_relatedusers devilry_subjectadmin_relatedexaminers",requires:["Ext.layout.container.Column","devilry_subjectadmin.view.relatedexaminers.Grid","devilry_extjsextras.PrimaryButton","devilry_extjsextras.OkCancelPanel","devilry_subjectadmin.view.managestudents.ChooseTagsPanel","devilry_subjectadmin.view.relatedstudents.SelectUserPanel"],frame:!1,border:!1,bodyPadding:"20 40 20 40",introhelp:gettext("These are the examiners that can be added to any assignments within the term."),morehelptpl:["<h3>",gettext("Removing examiners"),"</h3>","<p>",gettext("Removing an examiner from a term does not affect any groups, deliveries or feedback already registered on an assignment."),"</p>","<h3>",gettext("Accociate examiners with students using tags"),"</h3>","<p>",gettext("If you tag your students and examiners with the same tags, you can automatically assign examiners to students when creating a new assignment. E.g.: If you tag two examiners and 20 students with <em>group1</em>, those two examiners will be set up to correct those 20 students when you create a new assignment if you choose to use tags to set up examiners."),"</p>"],initComponent:function(){Ext.apply(this,{layout:"border",bodyStyle:"background: transparent;",items:[{xtype:"box",columnWidth:1,cls:"bootstrap",region:"north",height:50,itemId:"heading",tpl:['<h1 style="margin-top: 0; padding-top: 0;">',gettext("Examiners"),'<small class="muted"> - ','<tpl if="periodpath">',"{periodpath}","<tpl else>",gettext("Loading")," ...","</tpl>","</small></p>","</h1>"],data:{periodpath:null}},{xtype:"panel",border:!1,layout:"border",region:"center",bodyStyle:"background: transparent;",items:[{xtype:"relatedexaminersgrid",region:"center",dockedItems:[{xtype:"toolbar",dock:"bottom",ui:"footer",items:[{xtype:"button",ui:"danger",scale:"large",itemId:"removeButton",cls:"remove_related_user_button remove_related_examiner_button",disabled:!0,text:gettext("Remove selected")},"->",{xtype:"button",scale:"large",itemId:"tagsButton",disabled:!0,cls:"related_users_tags_button related_examiners_tags_button",text:gettext("Tags"),menu:[{text:gettext("Clear tags"),cls:"clear_tags_button",itemId:"clearTagsButton"},{text:gettext("Set tag(s)"),cls:"set_tags_button",itemId:"setTagsButton"},{text:gettext("Add tag(s)"),cls:"add_tags_button",itemId:"addTagsButton"}]},{xtype:"primarybutton",itemId:"addButton",tabIndex:1,cls:"add_related_user_button add_related_examiner_button",text:gettext("Add examiner")}]}],tbar:[{xtype:"textfield",itemId:"filterfield",width:330,emptyText:gettext("Filter (name, username, tags, candidate ID)")+" ..."},"->",{xtype:"box",itemId:"gridSummaryBox",margin:"0 5 0 0"}]},{xtype:"container",layout:"anchor",width:390,region:"east",padding:"0 10 0 30",items:[{xtype:"panel",bodyStyle:"background: transparent;",border:!1,layout:"card",itemId:"sidebarDeck",items:[{xtype:"moreinfobox",bodyStyle:"background: transparent;",cls:"related_user_helpbox related_examiner_helpbox",introtext:this.introhelp,itemId:"helpBox",moretext:gettext("More help ..."),lesstext:gettext("Less help"),moreWidget:{xtype:"box",tpl:this.morehelptpl,data:{}}},{xtype:"selectrelateduserpanel",itemId:"selectRelatedUserPanel"},{xtype:"okcancelpanel",itemId:"confirmRemovePanel",cls:"removeconfirmpanel bootstrap",oktext:gettext("Remove selected"),okbutton_ui:"danger",bodyPadding:10,html:["<p>",gettext("Do you really want to remove all the selected examiners?"),gettext("They will not be removed from any existing assignments. You will not be able to add them on any new assignments, and they will not be available in statistics for the entire term."),"</p>"].join("")},{xtype:"choosetagspanel",itemId:"setTagsPanel",initialValue:"",cls:"set_tags_panel",buttonText:gettext("Set tags")},{xtype:"choosetagspanel",initialValue:"",itemId:"addTagsPanel",cls:"add_tags_panel",buttonText:gettext("Add tags")},{xtype:"okcancelpanel",itemId:"clearTagsPanel",cls:"clear_tags_panel",oktext:gettext("Clear tags"),okbutton_ui:"danger",bodyPadding:10,html:["<p>",gettext("Do you really want to clear all tags on the selected examiners?"),"</p>"].join("")}]}]}]}]}),this.callParent(arguments)}})},/*!******************************************!*\
  !*** ./app/view/relatedstudents/Grid.js ***!
  \******************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.relatedstudents.Grid",{extend:"devilry_subjectadmin.view.relatedexaminers.Grid",alias:"widget.relatedstudentsgrid",cls:"devilry_subjectadmin_relatedusergrid devilry_subjectadmin_relatedstudentsgrid bootstrap",requires:["Ext.grid.plugin.CellEditing"],store:"RelatedStudents",initExtra:function(){var e=Ext.create("Ext.grid.plugin.CellEditing",{clicksToEdit:2});this.columns.push({dataIndex:"candidate_id",itemId:"candidateColumn",flex:2,header:gettext("Candidate ID"),editor:{xtype:"textfield"}}),this.plugins=[e],this.callParent(arguments)}})},/*!**********************************************!*\
  !*** ./app/view/relatedstudents/Overview.js ***!
  \**********************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.relatedstudents.Overview",{extend:"Ext.panel.Panel",alias:"widget.relatedstudents",cls:"devilry_subjectadmin_relatedusers devilry_subjectadmin_relatedstudents",requires:["Ext.layout.container.Column","devilry_extjsextras.MoreInfoBox","devilry_subjectadmin.view.relatedstudents.Grid","devilry_extjsextras.PrimaryButton","devilry_extjsextras.OkCancelPanel","devilry_subjectadmin.view.managestudents.ChooseTagsPanel","devilry_subjectadmin.view.relatedstudents.SelectUserPanel"],frame:!1,border:!1,bodyPadding:"20 40 20 40",introhelp:gettext("These are the students that can be added to any assignments within this term."),morehelptpl:["<h3>",gettext("Removing students"),"</h3>","<p>",gettext("When you remove a student from this list, Devilry assumes that the student is not planning on completing the term. This means that they will disappear from any term summaries, including calculation of final grade on the term."),"</p>","<p>",gettext("Removing a student from a term does not affect any groups, deliveries or feedback already registered on an assignment."),"</p>","<h3>",gettext("Tags"),"</h3>","<p>",gettext("Tags is a flexible way of organizing students and examiners. Since both examiners and administrators can see tags, they are a great way of marking students that needs special attention, such as students with special needs."),"</p>","<h4>",gettext("Accociate examiners with students using tags"),"</h4>","<p>",gettext("If you tag your students and examiners with the same tags, you can automatically assign examiners to students when creating a new assignment. E.g.: If you tag two examiners and 20 students with <em>group1</em>, those two examiners will be set up to correct those 20 students when you create a new assignment."),"</p>"],initComponent:function(){Ext.apply(this,{layout:"border",bodyStyle:"background: transparent;",items:[{xtype:"box",columnWidth:1,cls:"bootstrap",region:"north",height:50,itemId:"heading",tpl:['<h1 style="margin-top: 0; padding-top: 0;">',gettext("Students"),'<small class="muted"> - ','<tpl if="periodpath">',"{periodpath}","<tpl else>",gettext("Loading")," ...","</tpl>","</small></p>","</h1>"],data:{periodpath:null}},{xtype:"panel",bodyStyle:"background: transparent;",border:!1,layout:"border",region:"center",items:[{xtype:"relatedstudentsgrid",region:"center",dockedItems:[{xtype:"toolbar",dock:"bottom",ui:"footer",items:[{xtype:"button",ui:"danger",scale:"large",itemId:"removeButton",cls:"remove_related_user_button remove_related_student_button",disabled:!0,text:gettext("Remove selected")},"->",{xtype:"button",scale:"large",itemId:"tagsButton",disabled:!0,cls:"related_users_tags_button related_students_tags_button",text:gettext("Tags"),menu:[{text:gettext("Clear tags"),cls:"clear_tags_button",itemId:"clearTagsButton"},{text:gettext("Set tag(s)"),cls:"set_tags_button",itemId:"setTagsButton"},{text:gettext("Add tag(s)"),cls:"add_tags_button",itemId:"addTagsButton"}]},{xtype:"primarybutton",itemId:"addButton",tabIndex:1,cls:"add_related_user_button add_related_student_button",text:gettext("Add student")}]}],tbar:[{xtype:"textfield",itemId:"filterfield",width:330,emptyText:gettext("Filter (name, username, tags, candidate ID)")+" ..."},"->",{xtype:"box",itemId:"gridSummaryBox",margin:"0 5 0 0"}]},{xtype:"container",layout:"anchor",width:390,region:"east",padding:"0 10 0 30",autoScroll:!0,items:[{xtype:"panel",border:!1,bodyStyle:"background: transparent;",layout:"card",itemId:"sidebarDeck",items:[{xtype:"moreinfobox",bodyStyle:"background: transparent;",cls:"related_user_helpbox related_student_helpbox",itemId:"helpBox",introtext:this.introhelp,moretext:gettext("More help ..."),lesstext:gettext("Less help"),moreWidget:{xtype:"box",tpl:this.morehelptpl,data:{}}},{xtype:"selectrelateduserpanel",itemId:"selectRelatedUserPanel"},{xtype:"okcancelpanel",itemId:"confirmRemovePanel",cls:"removeconfirmpanel bootstrap",oktext:gettext("Remove selected"),okbutton_ui:"danger",bodyPadding:10,html:["<p>",gettext("Do you really want to remove all the selected students?"),gettext("They will not be removed from any existing assignments. You will not be able to add them on any new assignments, and they will not be available in statistics for the entire term."),"</p>"].join("")},{xtype:"choosetagspanel",initialValue:"",itemId:"setTagsPanel",cls:"set_tags_panel",buttonText:gettext("Set tags")},{xtype:"choosetagspanel",initialValue:"",itemId:"addTagsPanel",cls:"add_tags_panel",buttonText:gettext("Add tags")},{xtype:"okcancelpanel",itemId:"clearTagsPanel",cls:"clear_tags_panel",oktext:gettext("Clear tags"),okbutton_ui:"danger",bodyPadding:10,html:["<p>",gettext("Do you really want to clear all tags on the selected students?"),"</p>"].join("")}]}]}]}]}),this.callParent(arguments)}})},/*!*****************************************************!*\
  !*** ./app/view/relatedstudents/SelectUserPanel.js ***!
  \*****************************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.relatedstudents.SelectUserPanel",{extend:"Ext.panel.Panel",alias:"widget.selectrelateduserpanel",cls:"devilry_subjectadmin_selectrelateduserpanel",requires:["devilry_usersearch.AutocompleteUserWidget"],bodyPadding:10,constructor:function(e){this.callParent([e]),this.addEvents("cancel")},initComponent:function(){Ext.apply(this,{dockedItems:[{xtype:"toolbar",dock:"bottom",ui:"footer",items:[{xtype:"button",itemId:"cancelbutton",cls:"cancelbutton",text:gettext("Cancel"),listeners:{scope:this,click:this._onCancelButtonClick}}]}],layout:"anchor",items:[{anchor:"100%",xtype:"autocompleteuserwidget",emptyText:gettext("Search by username, name or email ..."),hideLabel:!0}]}),this.callParent(arguments)},_onCancelButtonClick:function(){this.fireEvent("cancel",this)}})},/*!*************************************!*\
  !*** ./app/view/subject/ListAll.js ***!
  \*************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.subject.ListAll",{extend:"Ext.panel.Panel",alias:"widget.subjectlistall",cls:"devilry_subjectlistall bootstrap",requires:["devilry_extjsextras.AlertMessageList"],bodyPadding:40,autoScroll:!0,store:"Subjects",listTpl:["<ul>",'<tpl for=".">','<li class="devilry_subject devilry_subject_{short_name}">','<a href="#/subject/{id}/">{long_name}</a>',"</li>","</tpl>","<ul>"],initComponent:function(){Ext.apply(this,{items:{xtype:"panel",title:gettext("All my courses"),layout:"fit",items:[{xtype:"alertmessagelist"},{xtype:"dataview",itemId:"subjectList",cls:"devilry_allSubjectsList",tpl:this.listTpl,itemSelector:"li.devilry_subject",store:this.store}]}}),this.callParent(arguments)}})},/*!*******************************************!*\
  !*** ./app/view/subject/ListOfPeriods.js ***!
  \*******************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.subject.ListOfPeriods",{extend:"Ext.view.View",alias:"widget.listofperiods",cls:"devilry_listofperiods bootstrap",store:"Periods",tpl:['<ul class="unstyled">','<tpl for=".">','<li class="devilry_period">','<div class="name"><a href="#/period/{id}/">{long_name}</a></div> ','<div class="startendtime">','<small class="muted">',"{[this.formatDatetime(values.start_time)]}"," &mdash; ","{[this.formatDatetime(values.end_time)]}","</small>","<div>","</li>","</tpl>","<ul>",{formatDatetime:function(e){return devilry_extjsextras.DatetimeHelpers.formatDateTimeShort(e)}}],itemSelector:"li.period"})},/*!*********************************************!*\
  !*** ./app/view/subject/SubjectOverview.js ***!
  \*********************************************/
function(e,t){Ext.define("devilry_subjectadmin.view.subject.SubjectOverview",{extend:"Ext.container.Container",alias:"widget.subjectoverview",cls:"devilry_subjectoverview",requires:["Ext.layout.container.Column","devilry_extjsextras.AlertMessageList","devilry_subjectadmin.view.AdminsBox","devilry_extjsextras.SingleActionBox","devilry_subjectadmin.view.EditSidebarContainer"],initComponent:function(){Ext.apply(this,{padding:"20 20 20 20",autoScroll:!0,layout:"column",items:[{xtype:"editsidebarcontainer",layout:"anchor",width:250,margin:"0 0 0 0",padding:"0 10 0 10",items:[{xtype:"adminsbox",anchor:"100%",margin:"0 0 0 0"}]},{xtype:"container",columnWidth:1,cls:"devilry_focuscontainer",padding:"20",layout:"anchor",defaults:{anchor:"100%"},items:[{xtype:"box",cls:"bootstrap",margin:"0 0 20 0",itemId:"header",tpl:'<h1 style="margin-top: 0;">{heading}</h1>',data:{heading:gettext("Loading")+" ..."}},{xtype:"box",cls:"bootstrap devilry_subjectadmin_navigation",tpl:['<p><strong><a href="{url}">{text}</a></strong></p>'],data:{url:devilry_subjectadmin.utils.UrlLookup.createNewPeriod(this.subject_id),text:gettext("Create new term")}},{xtype:"listofperiods"},{xtype:"dangerousactions",margin:"45 0 0 0",items:[{xtype:"singleactionbox",margin:"0 0 0 0",itemId:"renameButton",id:"subjectRenameButton",titleText:gettext("Loading")+" ...",bodyHtml:gettext("Renaming a course should not be done without a certain amount of consideration. The name of a course, especially the short name, is often used as an identifier when integrating other systems with Devilry."),buttonText:gettext("Rename")+" ..."},{xtype:"singleactionbox",itemId:"deleteButton",hidden:!0,id:"subjectDeleteButton",titleText:gettext("Loading")+" ...",bodyHtml:gettext("Once you delete a course, there is no going back. Only superusers can delete a non-empty course."),buttonText:gettext("Delete")+" ...",buttonUi:"danger"}]}]}]}),this.callParent(arguments)}})},/*!*************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_theme/static/devilry_theme/Icons.js ***!
  \*************************************************************************************************/
function(e,t){Ext.define("devilry_theme.Icons",{singleton:!0,small:["delete","add","help"],constructor:function(e){this.initConfig(e),this.callParent([e]),this._addIcons(this.small,"16x16","_SMALL")},_addIcons:function(e,t,i){Ext.Array.each(e,function(e){var n=e.toUpperCase()+i;this[n]=this._getIconUrl(t,e)},this)},_getIconUrl:function(e,t){return DevilrySettings.DEVILRY_STATIC_URL+Ext.String.format("/devilry_theme/resources/icons/{0}/{1}.png",e,t)}})},/*!******************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_usersearch/static/devilry_usersearch/AbstractManageUsersPanel.js ***!
  \******************************************************************************************************************************/
function(e,t){Ext.define("devilry_usersearch.AbstractManageUsersPanel",{extend:"Ext.panel.Panel",alias:"widget.manageuserspanel",requires:["devilry_usersearch.AutocompleteUserWidget"],frame:!1,border:!1,prettyFormatUserTpl:['<div class="prettyformattedusercell prettyformattedusercell_{username}">','   <div class="full_name"><strong>{full_name}</strong></div>','   <tpl if="!full_name">','       <strong class="username">{username}</strong>',"       <small>(",gettext("Full name missing"),")</small>","   </tpl>",'   <div class="username_and_email">','       <tpl if="full_name">','           <small class="username">{username}</small>',"       </tpl>",'       <tpl if="email">','          <small class="email">&lt;{email}&gt;</small>',"       </tpl>","   </div>","</div>"],confirmBeforeRemove:!0,hideHeaders:!0,constructor:function(e){e.cls=e.cls||this.cls||"",e.cls+=" devilry_usersearch_manageuserspanel",this.addEvents({usersAdded:!0,usersRemoved:!0}),this.listeners=e.listeners,this.callParent(arguments)},initComponent:function(){this.prettyFormatUserTplCompiled=Ext.create("Ext.XTemplate",this.prettyFormatUserTpl);var e=[{header:"Userinfo",dataIndex:"id",flex:1,renderer:Ext.bind(this.renderPrettyformattedUserGridCell,this)}],t=this.columns||e;Ext.apply(this,{layout:"fit",items:[{xtype:"grid",hideHeaders:this.hideHeaders,multiSelect:!0,store:this.store,columns:t,listeners:{scope:this,selectionchange:this._onGridSelectionChange}}],fbar:this.getBbarItems(),tbar:[{xtype:"button",cls:"selectAllButton",text:gettext("Select all"),listeners:{scope:this,click:this._onSelectAll}},{xtype:"button",text:gettext("Remove"),itemId:"removeButton",cls:"removeButton",disabled:!0,listeners:{scope:this,click:this._onRemoveUsers}},"->",{xtype:"textfield",cls:"searchfield",emptyText:gettext("Search ..."),listeners:{scope:this,change:this._onSearchChange}}]}),this.callParent(arguments)},_clearAndfocusAddUserField:function(){var e=this.down("autocompleteuserwidget");e.clearValue(),e.focus()},saveMask:function(){this.setLoading(gettext("Saving ..."))},removeSaveMask:function(){this.setLoading(!1)},_onAddUser:function(e,t){var i=t.get("username");this.store.findExact("username",i)==-1?(this.saveMask(),this.addUser(t)):Ext.MessageBox.show({title:gettext("Already in list"),msg:gettext("The selected user is already in the list"),buttons:Ext.MessageBox.OK,icon:Ext.MessageBox.ERROR,fn:function(){Ext.defer(function(){this._clearAndfocusAddUserField()},100,this)},scope:this})},_getSelectedUsers:function(){return this.down("grid").getSelectionModel().getSelection()},_onRemoveUsers:function(){var e=this._getSelectedUsers();this.confirmBeforeRemove?this._confirmRemove(e):this._removeUsers(e)},_removeUsers:function(e){this.saveMask(),this.removeUsers(e)},_confirmRemove:function(e){var t=gettext("Do you really want to remove the {numselected} selected users from the list?");Ext.MessageBox.show({title:gettext("Confirm remove"),msg:Ext.create("Ext.XTemplate",t).apply({numselected:e.length}),buttons:Ext.MessageBox.YESNO,icon:Ext.MessageBox.QUESTION,fn:function(t){"yes"==t&&this._removeUsers(e)},scope:this})},_onSelectAll:function(){this.down("grid").getSelectionModel().selectAll()},_onGridSelectionChange:function(e){0==e.getSelection().length?this.down("#removeButton").disable():this.down("#removeButton").enable()},_onSearchChange:function(e,t,i){""===t?this._clearSearchFilter():this._search(t)},_hightlightUser:function(e){var t=this.getUserDataFromRecord(e).username,i=this.store.findBy(function(e){return this.getUserDataFromRecord(e).username===t},this);this.down("grid").getSelectionModel().select(i)},_search:function(e){this.store.filterBy(function(t){return this.searchMatchesRecord(e,t)},this)},_clearSearchFilter:function(){this.store.clearFilter()},renderPrettyformattedUserGridCell:function(e,t,i){return this.prettyFormatUserTplCompiled.apply(this.getUserDataFromRecord(i))},getUserDataFromRecord:function(e){return e.data},_onSaveComplete:function(){Ext.defer(function(){this.removeSaveMask(),this._clearAndfocusAddUserField()},200,this)},onUserAdded:function(e){this._hightlightUser(e),this._onSaveComplete(),this.fireEvent("usersAdded",[e])},onUsersRemoved:function(e){this._onSaveComplete(),this.fireEvent("usersRemoved",[e])},addUser:function(e){throw"addUser not implemented"},removeUsers:function(e){throw"removeUsers not implemented"},caseIgnoreContains:function(e,t){return!!e&&e.toLocaleLowerCase().indexOf(t)>-1},searchMatchesRecord:function(e,t){var i=this.getUserDataFromRecord(t),n=i.username,r=i.full_name,o=i.email;return this.caseIgnoreContains(n,e)||this.caseIgnoreContains(r,e)||this.caseIgnoreContains(o,e)},getBbarItems:function(){return[{xtype:"autocompleteuserwidget",flex:1,listeners:{scope:this,userSelected:this._onAddUser}}]}})},/*!****************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_usersearch/static/devilry_usersearch/AutocompleteUserWidget.js ***!
  \****************************************************************************************************************************/
function(e,t){Ext.define("devilry_usersearch.AutocompleteUserWidget",{extend:"Ext.form.field.ComboBox",alias:"widget.autocompleteuserwidget",cls:"devilry_usersearch_autocompleteuserwidget",requires:["devilry_usersearch.UserSearchStore"],emptyText:gettext("Start typing name, username or email, and select the user from the popup list ..."),fieldLabel:gettext("Add user"),queryMode:"remote",hideTrigger:!0,typeAhead:!1,displayField:"full_name",minChars:3,selectOnTab:!1,listEmptyText:gettext("No matching users found."),createStore:function(){return Ext.create("devilry_usersearch.UserSearchStore")},listGetInnerTpl:function(){return['<div class="matchlistitem matchlistitem_{username}">',"<h3>{full_name}</h3>",'<small class="username">{username}</small>','<tpl if="email">',' <small class="email">&lt;{email}&gt;</small>',"</tpl>","</div>"].join("")},constructor:function(e){this.addEvents({userSelected:!0}),this.listeners=e.listeners,this.callParent(arguments)},initComponent:function(){this.store=this.store||this.createStore();var e=this.listGetInnerTpl();Ext.apply(this,{listConfig:{loadingText:gettext("Searching..."),emptyText:this.listEmptyText,cls:"autocompleteuserwidget_matchlist",getInnerTpl:function(){return e}}}),this.on("render",this._onRender,this),this.on("select",this._onSelectUser,this),this.callParent(arguments)},_onRender:function(e){Ext.defer(function(){e.focus()},200)},_onSelectUser:function(e,t){this.fireEvent("userSelected",e,t[0])}})},/*!**************************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_usersearch/static/devilry_usersearch/ManageUsersGridModel.js ***!
  \**************************************************************************************************************************/
function(e,t){Ext.define("devilry_usersearch.ManageUsersGridModel",{extend:"Ext.data.Model",idProperty:"id",fields:[{name:"id",type:"int"},{name:"username",type:"string"},{name:"full_name",type:"string"},{name:"email",type:"string"}],getDisplayName:function(){return Ext.isEmpty(this.get("full_name"))?this.get("username"):this.get("full_name")},statics:{gridCellXTemplate:function(){return Ext.create("Ext.XTemplate",'<div class="prettyformattedusercell prettyformattedusercell_{username}">','   <div class="full_name"><strong>{full_name}</strong></div>','   <tpl if="!full_name">','       <strong class="username">{username}</strong>',"       <small>(",gettext("Full name missing"),")</small>","   </tpl>",'   <div class="username_and_email">','       <tpl if="full_name">','           <small class="username">{username}</small>',"       </tpl>",'       <tpl if="email">','          <small class="email">&lt;{email}&gt;</small>',"       </tpl>","   </div>","</div>")}}})},/*!*********************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_usersearch/static/devilry_usersearch/UserSearchModel.js ***!
  \*********************************************************************************************************************/
function(e,t){Ext.define("devilry_usersearch.UserSearchModel",{extend:"Ext.data.Model",idProperty:"id",fields:[{name:"id",type:"int"},{name:"username",type:"string"},{name:"full_name",type:"string"},{name:"email",type:"string"},{name:"languagecode",type:"string"}],proxy:{type:"rest",url:DevilrySettings.DEVILRY_URLPATH_PREFIX+"/devilry_usersearch/search",extraParams:{format:"json"},reader:{type:"json"}}})},/*!*********************************************************************************************************************!*\
  !*** /Users/espenak/code/v2-devilry-django/devilry/devilry_usersearch/static/devilry_usersearch/UserSearchStore.js ***!
  \*********************************************************************************************************************/
function(e,t){Ext.define("devilry_usersearch.UserSearchStore",{extend:"Ext.data.Store",model:"devilry_usersearch.UserSearchModel"})}]);
//# sourceMappingURL=production.js.map